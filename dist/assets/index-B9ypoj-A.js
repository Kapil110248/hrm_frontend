(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var BM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rm={exports:{}},uf={};var a2;function Z3(){if(a2)return uf;a2=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:o}}return uf.Fragment=r,uf.jsx=a,uf.jsxs=a,uf}var s2;function Q3(){return s2||(s2=1,Rm.exports=Z3()),Rm.exports}var e=Q3(),Fm={exports:{}},pr={};var n2;function eS(){if(n2)return pr;n2=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function A(q,L,G){this.props=q,this.context=L,this.refs=w,this.updater=G||v}A.prototype.isReactComponent={},A.prototype.setState=function(q,L){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,L,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=A.prototype;function T(q,L,G){this.props=q,this.context=L,this.refs=w,this.updater=G||v}var _=T.prototype=new E;_.constructor=T,N(_,A.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function W(){}var F={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function z(q,L,G){var V=G.ref;return{$$typeof:t,type:q,key:L,ref:V!==void 0?V:null,props:G}}function M(q,L){return z(q.type,L,q.props)}function C(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var L={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(G){return L[G]})}var B=/\/+/g;function X(q,L){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):L.toString(36)}function ue(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(W,W):(q.status="pending",q.then(function(L){q.status==="pending"&&(q.status="fulfilled",q.value=L)},function(L){q.status==="pending"&&(q.status="rejected",q.reason=L)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,L,G,V,K){var ne=typeof q;(ne==="undefined"||ne==="boolean")&&(q=null);var ye=!1;if(q===null)ye=!0;else switch(ne){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(q.$$typeof){case t:case r:ye=!0;break;case p:return ye=q._init,J(ye(q._payload),L,G,V,K)}}if(ye)return K=K(q),ye=V===""?"."+X(q,0):V,O(K)?(G="",ye!=null&&(G=ye.replace(B,"$&/")+"/"),J(K,L,G,"",function(_e){return _e})):K!=null&&(C(K)&&(K=M(K,G+(K.key==null||q&&q.key===K.key?"":(""+K.key).replace(B,"$&/")+"/")+ye)),L.push(K)),1;ye=0;var ke=V===""?".":V+":";if(O(q))for(var Se=0;Se<q.length;Se++)V=q[Se],ne=ke+X(V,Se),ye+=J(V,L,G,ne,K);else if(Se=m(q),typeof Se=="function")for(q=Se.call(q),Se=0;!(V=q.next()).done;)V=V.value,ne=ke+X(V,Se++),ye+=J(V,L,G,ne,K);else if(ne==="object"){if(typeof q.then=="function")return J(ue(q),L,G,V,K);throw L=String(q),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ye}function re(q,L,G){if(q==null)return q;var V=[],K=0;return J(q,V,"","",function(ne){return L.call(G,ne,K++)}),V}function oe(q){if(q._status===-1){var L=q._result;L=L(),L.then(function(G){(q._status===0||q._status===-1)&&(q._status=1,q._result=G)},function(G){(q._status===0||q._status===-1)&&(q._status=2,q._result=G)}),q._status===-1&&(q._status=0,q._result=L)}if(q._status===1)return q._result.default;throw q._result}var ve=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ne={map:re,forEach:function(q,L,G){re(q,function(){L.apply(this,arguments)},G)},count:function(q){var L=0;return re(q,function(){L++}),L},toArray:function(q){return re(q,function(L){return L})||[]},only:function(q){if(!C(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return pr.Activity=g,pr.Children=Ne,pr.Component=A,pr.Fragment=a,pr.Profiler=i,pr.PureComponent=T,pr.StrictMode=s,pr.Suspense=h,pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,pr.__COMPILER_RUNTIME={__proto__:null,c:function(q){return F.H.useMemoCache(q)}},pr.cache=function(q){return function(){return q.apply(null,arguments)}},pr.cacheSignal=function(){return null},pr.cloneElement=function(q,L,G){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var V=N({},q.props),K=q.key;if(L!=null)for(ne in L.key!==void 0&&(K=""+L.key),L)!P.call(L,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&L.ref===void 0||(V[ne]=L[ne]);var ne=arguments.length-2;if(ne===1)V.children=G;else if(1<ne){for(var ye=Array(ne),ke=0;ke<ne;ke++)ye[ke]=arguments[ke+2];V.children=ye}return z(q.type,K,V)},pr.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},pr.createElement=function(q,L,G){var V,K={},ne=null;if(L!=null)for(V in L.key!==void 0&&(ne=""+L.key),L)P.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(K[V]=L[V]);var ye=arguments.length-2;if(ye===1)K.children=G;else if(1<ye){for(var ke=Array(ye),Se=0;Se<ye;Se++)ke[Se]=arguments[Se+2];K.children=ke}if(q&&q.defaultProps)for(V in ye=q.defaultProps,ye)K[V]===void 0&&(K[V]=ye[V]);return z(q,ne,K)},pr.createRef=function(){return{current:null}},pr.forwardRef=function(q){return{$$typeof:d,render:q}},pr.isValidElement=C,pr.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:oe}},pr.memo=function(q,L){return{$$typeof:f,type:q,compare:L===void 0?null:L}},pr.startTransition=function(q){var L=F.T,G={};F.T=G;try{var V=q(),K=F.S;K!==null&&K(G,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(W,ve)}catch(ne){ve(ne)}finally{L!==null&&G.types!==null&&(L.types=G.types),F.T=L}},pr.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},pr.use=function(q){return F.H.use(q)},pr.useActionState=function(q,L,G){return F.H.useActionState(q,L,G)},pr.useCallback=function(q,L){return F.H.useCallback(q,L)},pr.useContext=function(q){return F.H.useContext(q)},pr.useDebugValue=function(){},pr.useDeferredValue=function(q,L){return F.H.useDeferredValue(q,L)},pr.useEffect=function(q,L){return F.H.useEffect(q,L)},pr.useEffectEvent=function(q){return F.H.useEffectEvent(q)},pr.useId=function(){return F.H.useId()},pr.useImperativeHandle=function(q,L,G){return F.H.useImperativeHandle(q,L,G)},pr.useInsertionEffect=function(q,L){return F.H.useInsertionEffect(q,L)},pr.useLayoutEffect=function(q,L){return F.H.useLayoutEffect(q,L)},pr.useMemo=function(q,L){return F.H.useMemo(q,L)},pr.useOptimistic=function(q,L){return F.H.useOptimistic(q,L)},pr.useReducer=function(q,L,G){return F.H.useReducer(q,L,G)},pr.useRef=function(q){return F.H.useRef(q)},pr.useState=function(q){return F.H.useState(q)},pr.useSyncExternalStore=function(q,L,G){return F.H.useSyncExternalStore(q,L,G)},pr.useTransition=function(){return F.H.useTransition()},pr.version="19.2.3",pr}var i2;function Qg(){return i2||(i2=1,Fm.exports=eS()),Fm.exports}var R=Qg();const qa=K3(R);var Om={exports:{}},ff={},Pm={exports:{}},Im={};var l2;function tS(){return l2||(l2=1,(function(t){function r(J,re){var oe=J.length;J.push(re);e:for(;0<oe;){var ve=oe-1>>>1,Ne=J[ve];if(0<i(Ne,re))J[ve]=re,J[oe]=Ne,oe=ve;else break e}}function a(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var re=J[0],oe=J.pop();if(oe!==re){J[0]=oe;e:for(var ve=0,Ne=J.length,q=Ne>>>1;ve<q;){var L=2*(ve+1)-1,G=J[L],V=L+1,K=J[V];if(0>i(G,oe))V<Ne&&0>i(K,G)?(J[ve]=K,J[V]=oe,ve=V):(J[ve]=G,J[L]=oe,ve=L);else if(V<Ne&&0>i(K,oe))J[ve]=K,J[V]=oe,ve=V;else break e}}return re}function i(J,re){var oe=J.sortIndex-re.sortIndex;return oe!==0?oe:J.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,g=null,b=3,m=!1,v=!1,N=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _(J){for(var re=a(f);re!==null;){if(re.callback===null)s(f);else if(re.startTime<=J)s(f),re.sortIndex=re.expirationTime,r(h,re);else break;re=a(f)}}function O(J){if(N=!1,_(J),!v)if(a(h)!==null)v=!0,W||(W=!0,U());else{var re=a(f);re!==null&&ue(O,re.startTime-J)}}var W=!1,F=-1,P=5,z=-1;function M(){return w?!0:!(t.unstable_now()-z<P)}function C(){if(w=!1,W){var J=t.unstable_now();z=J;var re=!0;try{e:{v=!1,N&&(N=!1,E(F),F=-1),m=!0;var oe=b;try{t:{for(_(J),g=a(h);g!==null&&!(g.expirationTime>J&&M());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,b=g.priorityLevel;var Ne=ve(g.expirationTime<=J);if(J=t.unstable_now(),typeof Ne=="function"){g.callback=Ne,_(J),re=!0;break t}g===a(h)&&s(h),_(J)}else s(h);g=a(h)}if(g!==null)re=!0;else{var q=a(f);q!==null&&ue(O,q.startTime-J),re=!1}}break e}finally{g=null,b=oe,m=!1}re=void 0}}finally{re?U():W=!1}}}var U;if(typeof T=="function")U=function(){T(C)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=C,U=function(){X.postMessage(null)}}else U=function(){A(C,0)};function ue(J,re){F=A(function(){J(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var oe=b;b=re;try{return J()}finally{b=oe}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=b;b=J;try{return re()}finally{b=oe}},t.unstable_scheduleCallback=function(J,re,oe){var ve=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ve+oe:ve):oe=ve,J){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=oe+Ne,J={id:p++,callback:re,priorityLevel:J,startTime:oe,expirationTime:Ne,sortIndex:-1},oe>ve?(J.sortIndex=oe,r(f,J),a(h)===null&&J===a(f)&&(N?(E(F),F=-1):N=!0,ue(O,oe-ve))):(J.sortIndex=Ne,r(h,J),v||m||(v=!0,W||(W=!0,U()))),J},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(J){var re=b;return function(){var oe=b;b=re;try{return J.apply(this,arguments)}finally{b=oe}}}})(Im)),Im}var o2;function rS(){return o2||(o2=1,Pm.exports=tS()),Pm.exports}var Mm={exports:{}},hn={};var c2;function aS(){if(c2)return hn;c2=1;var t=Qg();function r(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return o(h,f,null,p)},hn.flushSync=function(h){var f=c.T,p=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=p,s.d.f()}},hn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},hn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},hn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:m}):p==="script"&&s.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},hn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},hn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin);s.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},hn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},hn.requestFormReset=function(h){s.d.r(h)},hn.unstable_batchedUpdates=function(h,f){return h(f)},hn.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var d2;function sS(){if(d2)return Mm.exports;d2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Mm.exports=aS(),Mm.exports}var u2;function nS(){if(u2)return ff;u2=1;var t=rS(),r=Qg(),a=sS();function s(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var l=n,u=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(u=l.return),n=l.return;while(n)}return l.tag===3?u:null}function c(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function d(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(s(188))}function f(n){var l=n.alternate;if(!l){if(l=o(n),l===null)throw Error(s(188));return l!==n?null:n}for(var u=n,x=l;;){var j=u.return;if(j===null)break;var k=j.alternate;if(k===null){if(x=j.return,x!==null){u=x;continue}break}if(j.child===k.child){for(k=j.child;k;){if(k===u)return h(j),n;if(k===x)return h(j),l;k=k.sibling}throw Error(s(188))}if(u.return!==x.return)u=j,x=k;else{for(var Y=!1,se=j.child;se;){if(se===u){Y=!0,u=j,x=k;break}if(se===x){Y=!0,x=j,u=k;break}se=se.sibling}if(!Y){for(se=k.child;se;){if(se===u){Y=!0,u=k,x=j;break}if(se===x){Y=!0,x=k,u=j;break}se=se.sibling}if(!Y)throw Error(s(189))}}if(u.alternate!==x)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?n:l}function p(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=p(n),l!==null)return l;n=n.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=C&&n[C]||n["@@iterator"],typeof n=="function"?n:null)}var B=Symbol.for("react.client.reference");function X(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===B?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case W:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case T:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case _:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return l=n.displayName||null,l!==null?l:X(n.type)||"Memo";case P:l=n._payload,n=n._init;try{return X(n(l))}catch{}}return null}var ue=Array.isArray,J=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ve=[],Ne=-1;function q(n){return{current:n}}function L(n){0>Ne||(n.current=ve[Ne],ve[Ne]=null,Ne--)}function G(n,l){Ne++,ve[Ne]=n.current,n.current=l}var V=q(null),K=q(null),ne=q(null),ye=q(null);function ke(n,l){switch(G(ne,l),G(K,n),G(V,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?ky(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=ky(l),n=Ay(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(V),G(V,n)}function Se(){L(V),L(K),L(ne)}function _e(n){n.memoizedState!==null&&G(ye,n);var l=V.current,u=Ay(l,n.type);l!==u&&(G(K,n),G(V,u))}function Je(n){K.current===n&&(L(V),L(K)),ye.current===n&&(L(ye),lf._currentValue=oe)}var nt,mt;function ht(n){if(nt===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);nt=l&&l[1]||"",mt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+n+mt}var fe=!1;function dt(n,l){if(!n||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Ge){var He=Ge}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(Ge){He=Ge}n.call(tt.prototype)}}else{try{throw Error()}catch(Ge){He=Ge}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Ge){if(Ge&&He&&typeof Ge.stack=="string")return[Ge.stack,He.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=x.DetermineComponentFrameRoot(),Y=k[0],se=k[1];if(Y&&se){var we=Y.split(`
`),Ue=se.split(`
`);for(j=x=0;x<we.length&&!we[x].includes("DetermineComponentFrameRoot");)x++;for(;j<Ue.length&&!Ue[j].includes("DetermineComponentFrameRoot");)j++;if(x===we.length||j===Ue.length)for(x=we.length-1,j=Ue.length-1;1<=x&&0<=j&&we[x]!==Ue[j];)j--;for(;1<=x&&0<=j;x--,j--)if(we[x]!==Ue[j]){if(x!==1||j!==1)do if(x--,j--,0>j||we[x]!==Ue[j]){var Xe=`
`+we[x].replace(" at new "," at ");return n.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",n.displayName)),Xe}while(1<=x&&0<=j);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(u=n?n.displayName||n.name:"")?ht(u):""}function ot(n,l){switch(n.tag){case 26:case 27:case 5:return ht(n.type);case 16:return ht("Lazy");case 13:return n.child!==l&&l!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return dt(n.type,!1);case 11:return dt(n.type.render,!1);case 1:return dt(n.type,!0);case 31:return ht("Activity");default:return""}}function kt(n){try{var l="",u=null;do l+=ot(n,u),u=n,n=n.return;while(n);return l}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var rt=Object.prototype.hasOwnProperty,Rt=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,qt=t.unstable_shouldYield,Bt=t.unstable_requestPaint,Vt=t.unstable_now,mr=t.unstable_getCurrentPriorityLevel,sr=t.unstable_ImmediatePriority,br=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,lr=t.unstable_IdlePriority,Pt=t.log,wa=t.unstable_setDisableYieldValue,yr=null,$t=null;function Qt(n){if(typeof Pt=="function"&&wa(n),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(yr,n)}catch{}}var Nr=Math.clz32?Math.clz32:Jt,Gt=Math.log,Vr=Math.LN2;function Jt(n){return n>>>=0,n===0?32:31-(Gt(n)/Vr|0)|0}var er=256,Wr=262144,ur=4194304;function Ot(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Cr(n,l,u){var x=n.pendingLanes;if(x===0)return 0;var j=0,k=n.suspendedLanes,Y=n.pingedLanes;n=n.warmLanes;var se=x&134217727;return se!==0?(x=se&~k,x!==0?j=Ot(x):(Y&=se,Y!==0?j=Ot(Y):u||(u=se&~n,u!==0&&(j=Ot(u))))):(se=x&~k,se!==0?j=Ot(se):Y!==0?j=Ot(Y):u||(u=x&~n,u!==0&&(j=Ot(u)))),j===0?0:l!==0&&l!==j&&(l&k)===0&&(k=j&-j,u=l&-l,k>=u||k===32&&(u&4194048)!==0)?l:j}function wn(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function fs(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var n=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),n}function cn(n){for(var l=[],u=0;31>u;u++)l.push(n);return l}function Ht(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function di(n,l,u,x,j,k){var Y=n.pendingLanes;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=u,n.entangledLanes&=u,n.errorRecoveryDisabledLanes&=u,n.shellSuspendCounter=0;var se=n.entanglements,we=n.expirationTimes,Ue=n.hiddenUpdates;for(u=Y&~u;0<u;){var Xe=31-Nr(u),tt=1<<Xe;se[Xe]=0,we[Xe]=-1;var He=Ue[Xe];if(He!==null)for(Ue[Xe]=null,Xe=0;Xe<He.length;Xe++){var Ge=He[Xe];Ge!==null&&(Ge.lane&=-536870913)}u&=~tt}x!==0&&Mn(n,x,0),k!==0&&j===0&&n.tag!==0&&(n.suspendedLanes|=k&~(Y&~l))}function Mn(n,l,u){n.pendingLanes|=l,n.suspendedLanes&=~l;var x=31-Nr(l);n.entangledLanes|=l,n.entanglements[x]=n.entanglements[x]|1073741824|u&261930}function Ns(n,l){var u=n.entangledLanes|=l;for(n=n.entanglements;u;){var x=31-Nr(u),j=1<<x;j&l|n[x]&l&&(n[x]|=l),u&=~j}}function Gs(n,l){var u=l&-l;return u=(u&42)!==0?1:da(u),(u&(n.suspendedLanes|l))!==0?0:u}function da(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Da(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ee(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:Jy(n.type))}function me(n,l){var u=re.p;try{return re.p=n,l()}finally{re.p=u}}var le=Math.random().toString(36).slice(2),ce="__reactFiber$"+le,he="__reactProps$"+le,be="__reactContainer$"+le,Fe="__reactEvents$"+le,$e="__reactListeners$"+le,Pe="__reactHandles$"+le,Ie="__reactResources$"+le,Be="__reactMarker$"+le;function ct(n){delete n[ce],delete n[he],delete n[Fe],delete n[$e],delete n[Pe]}function xt(n){var l=n[ce];if(l)return l;for(var u=n.parentNode;u;){if(l=u[be]||u[ce]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(n=Fy(n);n!==null;){if(u=n[ce])return u;n=Fy(n)}return l}n=u,u=n.parentNode}return null}function Nt(n){if(n=n[ce]||n[be]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function ft(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(s(33))}function bt(n){var l=n[Ie];return l||(l=n[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function At(n){n[Be]=!0}var Xr=new Set,Sr={};function ta(n,l){$s(n,l),$s(n+"Capture",l)}function $s(n,l){for(Sr[n]=l,n=0;n<l.length;n++)Xr.add(l[n])}var ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fi={},jn={};function Hl(n){return rt.call(jn,n)?!0:rt.call(fi,n)?!1:ui.test(n)?jn[n]=!0:(fi[n]=!0,!1)}function ja(n,l,u){if(Hl(l))if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+u)}}function al(n,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+u)}}function hi(n,l,u,x){if(x===null)n.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(u);return}n.setAttributeNS(l,u,""+x)}}function Ur(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function td(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ri(n,l,u){var x=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var j=x.get,k=x.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return j.call(this)},set:function(Y){u=""+Y,k.call(this,Y)}}),Object.defineProperty(n,l,{enumerable:x.enumerable}),{getValue:function(){return u},setValue:function(Y){u=""+Y},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function ql(n){if(!n._valueTracker){var l=td(n)?"checked":"value";n._valueTracker=Ri(n,l,""+n[l])}}function rd(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var u=l.getValue(),x="";return n&&(x=td(n)?n.checked?"true":"false":n.value),n=x,n!==u?(l.setValue(n),!0):!1}function Ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ns=/[\n"\\]/g;function Ya(n){return n.replace(ns,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function oc(n,l,u,x,j,k,Y,se){n.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?n.type=Y:n.removeAttribute("type"),l!=null?Y==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+Ur(l)):n.value!==""+Ur(l)&&(n.value=""+Ur(l)):Y!=="submit"&&Y!=="reset"||n.removeAttribute("value"),l!=null?ad(n,Y,Ur(l)):u!=null?ad(n,Y,Ur(u)):x!=null&&n.removeAttribute("value"),j==null&&k!=null&&(n.defaultChecked=!!k),j!=null&&(n.checked=j&&typeof j!="function"&&typeof j!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?n.name=""+Ur(se):n.removeAttribute("name")}function e0(n,l,u,x,j,k,Y,se){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(n.type=k),l!=null||u!=null){if(!(k!=="submit"&&k!=="reset"||l!=null)){ql(n);return}u=u!=null?""+Ur(u):"",l=l!=null?""+Ur(l):u,se||l===n.value||(n.value=l),n.defaultValue=l}x=x??j,x=typeof x!="function"&&typeof x!="symbol"&&!!x,n.checked=se?n.checked:!!x,n.defaultChecked=!!x,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(n.name=Y),ql(n)}function ad(n,l,u){l==="number"&&Ys(n.ownerDocument)===n||n.defaultValue===""+u||(n.defaultValue=""+u)}function Vs(n,l,u,x){if(n=n.options,l){l={};for(var j=0;j<u.length;j++)l["$"+u[j]]=!0;for(u=0;u<n.length;u++)j=l.hasOwnProperty("$"+n[u].value),n[u].selected!==j&&(n[u].selected=j),j&&x&&(n[u].defaultSelected=!0)}else{for(u=""+Ur(u),l=null,j=0;j<n.length;j++){if(n[j].value===u){n[j].selected=!0,x&&(n[j].defaultSelected=!0);return}l!==null||n[j].disabled||(l=n[j])}l!==null&&(l.selected=!0)}}function sd(n,l,u){if(l!=null&&(l=""+Ur(l),l!==n.value&&(n.value=l),u==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=u!=null?""+Ur(u):""}function nd(n,l,u,x){if(l==null){if(x!=null){if(u!=null)throw Error(s(92));if(ue(x)){if(1<x.length)throw Error(s(93));x=x[0]}u=x}u==null&&(u=""),l=u}u=Ur(l),n.defaultValue=u,x=n.textContent,x===u&&x!==""&&x!==null&&(n.value=x),ql(n)}function pi(n,l){if(l){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=l;return}}n.textContent=l}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function t0(n,l,u){var x=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":x?n.setProperty(l,u):typeof u!="number"||u===0||bo.has(l)?l==="float"?n.cssFloat=u:n[l]=(""+u).trim():n[l]=u+"px"}function r0(n,l,u){if(l!=null&&typeof l!="object")throw Error(s(62));if(n=n.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?n.setProperty(x,""):x==="float"?n.cssFloat="":n[x]="");for(var j in l)x=l[j],l.hasOwnProperty(j)&&u[j]!==x&&t0(n,j,x)}else for(var k in l)l.hasOwnProperty(k)&&t0(n,k,l[k])}function id(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dn(n){return a0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function xi(){}var sl=null;function yo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gl=null,Kt=null;function s0(n){var l=Nt(n);if(l&&(n=l.stateNode)){var u=n[he]||null;e:switch(n=l.stateNode,l.type){case"input":if(oc(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ya(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var x=u[l];if(x!==n&&x.form===n.form){var j=x[he]||null;if(!j)throw Error(s(90));oc(x,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(l=0;l<u.length;l++)x=u[l],x.form===n.form&&rd(x)}break e;case"textarea":sd(n,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Vs(n,!!u.multiple,l,!1)}}}var od=!1;function n0(n,l,u){if(od)return n(l,u);od=!0;try{var x=n(l);return x}finally{if(od=!1,(Gl!==null||Kt!==null)&&(Ah(),Gl&&(l=Gl,n=Kt,Kt=Gl=null,s0(l),n)))for(l=0;l<n.length;l++)s0(n[l])}}function Sn(n,l){var u=n.stateNode;if(u===null)return null;var x=u[he]||null;if(x===null)return null;u=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(n=n.type,x=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!x;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=!1;if(ws)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){cd=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{cd=!1}var En=null,No=null,Fi=null;function i0(){if(Fi)return Fi;var n,l=No,u=l.length,x,j="value"in En?En.value:En.textContent,k=j.length;for(n=0;n<u&&l[n]===j[n];n++);var Y=u-n;for(x=1;x<=Y&&l[u-x]===j[k-x];x++);return Fi=j.slice(n,1<x?1-x:void 0)}function Bn(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function cc(){return!0}function dc(){return!1}function hs(n){function l(u,x,j,k,Y){this._reactName=u,this._targetInst=j,this.type=x,this.nativeEvent=k,this.target=Y,this.currentTarget=null;for(var se in n)n.hasOwnProperty(se)&&(u=n[se],this[se]=u?u(k):k[se]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?cc:dc,this.isPropagationStopped=dc,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),l}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zn=hs(Oi),nl=g({},Oi,{view:0,detail:0}),uc=hs(nl),wo,il,ll,jo=g({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ll&&(ll&&n.type==="mousemove"?(wo=n.screenX-ll.screenX,il=n.screenY-ll.screenY):il=wo=0,ll=n),wo)},movementY:function(n){return"movementY"in n?n.movementY:il}}),dd=hs(jo),ol=g({},jo,{dataTransfer:0}),cl=hs(ol),l0=g({},nl,{relatedTarget:0}),dl=hs(l0),o0=g({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),D=hs(o0),Z=g({},Oi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ge=hs(Z),je=g({},Oi,{data:0}),De=hs(je),Ke={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},it={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function It(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=Ct[n])?!!l[n]:!1}function nr(){return It}var fr=g({},nl,{key:function(n){if(n.key){var l=Ke[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=Bn(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?it[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(n){return n.type==="keypress"?Bn(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bn(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Or=hs(fr),Sa=g({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=hs(Sa),ua=g({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),is=hs(ua),Va=g({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),js=hs(Va),ul=g({},jo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mi=hs(ul),fl=g({},Oi,{newState:0,oldState:0}),ud=hs(fl),fc=[9,13,27,32],Pi=ws&&"CompositionEvent"in window,gi=null;ws&&"documentMode"in document&&(gi=document.documentMode);var So=ws&&"TextEvent"in window&&!gi,hl=ws&&(!Pi||gi&&8<gi&&11>=gi),ps=" ",$l=!1;function Yl(n,l){switch(n){case"keyup":return fc.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ii=!1;function Ws(n,l){switch(n){case"compositionend":return hc(l);case"keypress":return l.which!==32?null:($l=!0,ps);case"textInput":return n=l.data,n===ps&&$l?null:n;default:return null}}function pl(n,l){if(Ii)return n==="compositionend"||!Pi&&Yl(n,l)?(n=i0(),Fi=No=En=null,Ii=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return hl&&l.locale!=="ko"?null:l.data;default:return null}}var pc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!pc[n.type]:l==="textarea"}function kn(n,l,u,x){Gl?Kt?Kt.push(x):Kt=[x]:Gl=x,l=Fh(l,"onChange"),0<l.length&&(u=new zn("onChange","change",null,u,x),n.push({event:u,listeners:l}))}var bi=null,xl=null;function hd(n){vy(n,0)}function yi(n){var l=ft(n);if(rd(l))return n}function Vl(n,l){if(n==="change")return l}var un=!1;if(ws){var Xs;if(ws){var Mi="oninput"in document;if(!Mi){var Bi=document.createElement("div");Bi.setAttribute("oninput","return;"),Mi=typeof Bi.oninput=="function"}Xs=Mi}else Xs=!1;un=Xs&&(!document.documentMode||9<document.documentMode)}function ml(){bi&&(bi.detachEvent("onpropertychange",xc),xl=bi=null)}function xc(n){if(n.propertyName==="value"&&yi(xl)){var l=[];kn(l,xl,n,yo(n)),n0(hd,l)}}function mc(n,l,u){n==="focusin"?(ml(),bi=l,xl=u,bi.attachEvent("onpropertychange",xc)):n==="focusout"&&ml()}function Ba(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yi(xl)}function c0(n,l){if(n==="click")return yi(l)}function zi(n,l){if(n==="input"||n==="change")return yi(l)}function Ui(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var Ss=typeof Object.is=="function"?Object.is:Ui;function gl(n,l){if(Ss(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var u=Object.keys(n),x=Object.keys(l);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var j=u[x];if(!rt.call(l,j)||!Ss(n[j],l[j]))return!1}return!0}function gc(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bc(n,l){var u=gc(n);n=0;for(var x;u;){if(u.nodeType===3){if(x=n+u.textContent.length,n<=l&&x>=l)return{node:u,offset:l-n};n=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gc(u)}}function bl(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?bl(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function yl(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=Ys(n.document);l instanceof n.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)n=l.contentWindow;else break;l=Ys(n.document)}return l}function Hi(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var Eo=ws&&"documentMode"in document&&11>=document.documentMode,An=null,vl=null,Ls=null,Un=!1;function Hr(n,l,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Un||An==null||An!==Ys(x)||(x=An,"selectionStart"in x&&Hi(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ls&&gl(Ls,x)||(Ls=x,x=Fh(vl,"onSelect"),0<x.length&&(l=new zn("onSelect","select",null,l,u),n.push({event:l,listeners:x}),l.target=An)))}function Pr(n,l){var u={};return u[n.toLowerCase()]=l.toLowerCase(),u["Webkit"+n]="webkit"+l,u["Moz"+n]="moz"+l,u}var fa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},za={},qi={};ws&&(qi=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function vi(n){if(za[n])return za[n];if(!fa[n])return n;var l=fa[n],u;for(u in l)if(l.hasOwnProperty(u)&&u in qi)return za[n]=l[u];return n}var ko=vi("animationend"),pd=vi("animationiteration"),Cu=vi("animationstart"),ah=vi("transitionrun"),sh=vi("transitionstart"),nh=vi("transitioncancel"),Tu=vi("transitionend"),Du=new Map,Ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ao.push("scrollEnd");function Hn(n,l){Du.set(n,l),ta(l,[n])}var xd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},_n=[],_o=0,d0=0;function md(){for(var n=_o,l=d0=_o=0;l<n;){var u=_n[l];_n[l++]=null;var x=_n[l];_n[l++]=null;var j=_n[l];_n[l++]=null;var k=_n[l];if(_n[l++]=null,x!==null&&j!==null){var Y=x.pending;Y===null?j.next=j:(j.next=Y.next,Y.next=j),x.pending=j}k!==0&&bd(u,j,k)}}function gd(n,l,u,x){_n[_o++]=n,_n[_o++]=l,_n[_o++]=u,_n[_o++]=x,d0|=x,n.lanes|=x,n=n.alternate,n!==null&&(n.lanes|=x)}function u0(n,l,u,x){return gd(n,l,u,x),Rs(n)}function Nl(n,l){return gd(n,null,null,l),Rs(n)}function bd(n,l,u){n.lanes|=u;var x=n.alternate;x!==null&&(x.lanes|=u);for(var j=!1,k=n.return;k!==null;)k.childLanes|=u,x=k.alternate,x!==null&&(x.childLanes|=u),k.tag===22&&(n=k.stateNode,n===null||n._visibility&1||(j=!0)),n=k,k=k.return;return n.tag===3?(k=n.stateNode,j&&l!==null&&(j=31-Nr(u),n=k.hiddenUpdates,x=n[j],x===null?n[j]=[l]:x.push(l),l.lane=u|536870912),k):null}function Rs(n){if(50<Qu)throw Qu=0,am=null,Error(s(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var Es={};function f0(n,l,u,x){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(n,l,u,x){return new f0(n,l,u,x)}function h0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qn(n,l){var u=n.alternate;return u===null?(u=Fs(n.tag,l,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=l,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&65011712,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,l=n.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.refCleanup=n.refCleanup,u}function yd(n,l){n.flags&=65011714;var u=n.alternate;return u===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type,l=u.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function yc(n,l,u,x,j,k){var Y=0;if(x=n,typeof n=="function")h0(n)&&(Y=1);else if(typeof n=="string")Y=B3(n,u,V.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case z:return n=Fs(31,u,l,j),n.elementType=z,n.lanes=k,n;case N:return Wl(u.children,j,k,l);case w:Y=8,j|=24;break;case A:return n=Fs(12,u,l,j|2),n.elementType=A,n.lanes=k,n;case O:return n=Fs(13,u,l,j),n.elementType=O,n.lanes=k,n;case W:return n=Fs(19,u,l,j),n.elementType=W,n.lanes=k,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:Y=10;break e;case E:Y=9;break e;case _:Y=11;break e;case F:Y=14;break e;case P:Y=16,x=null;break e}Y=29,u=Error(s(130,n===null?"null":typeof n,"")),x=null}return l=Fs(Y,u,l,j),l.elementType=n,l.type=x,l.lanes=k,l}function Wl(n,l,u,x){return n=Fs(7,n,x,l),n.lanes=u,n}function vd(n,l,u){return n=Fs(6,n,null,l),n.lanes=u,n}function p0(n){var l=Fs(18,null,null,0);return l.stateNode=n,l}function vc(n,l,u){return l=Fs(4,n.children!==null?n.children:[],n.key,l),l.lanes=u,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var x0=new WeakMap;function Gn(n,l){if(typeof n=="object"&&n!==null){var u=x0.get(n);return u!==void 0?u:(l={value:n,source:l,stack:kt(l)},x0.set(n,l),l)}return{value:n,source:l,stack:kt(l)}}var Nc=[],Co=0,m0=null,Nd=0,$n=[],Yn=0,Xl=null,Vn=1,Wn="";function Cn(n,l){Nc[Co++]=Nd,Nc[Co++]=m0,m0=n,Nd=l}function ih(n,l,u){$n[Yn++]=Vn,$n[Yn++]=Wn,$n[Yn++]=Xl,Xl=n;var x=Vn;n=Wn;var j=32-Nr(x)-1;x&=~(1<<j),u+=1;var k=32-Nr(l)+j;if(30<k){var Y=j-j%5;k=(x&(1<<Y)-1).toString(32),x>>=Y,j-=Y,Vn=1<<32-Nr(l)+j|u<<j|x,Wn=k+n}else Vn=1<<k|u<<j|x,Wn=n}function Lu(n){n.return!==null&&(Cn(n,1),ih(n,1,0))}function g0(n){for(;n===m0;)m0=Nc[--Co],Nc[Co]=null,Nd=Nc[--Co],Nc[Co]=null;for(;n===Xl;)Xl=$n[--Yn],$n[Yn]=null,Wn=$n[--Yn],$n[Yn]=null,Vn=$n[--Yn],$n[Yn]=null}function lh(n,l){$n[Yn++]=Vn,$n[Yn++]=Wn,$n[Yn++]=Xl,Vn=l.id,Wn=l.overflow,Xl=n}var ks=null,ba=null,Tr=!1,Js=null,La=!1,Ni=Error(s(519));function Jl(n){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wc(Gn(l,n)),Ni}function Ru(n){var l=n.stateNode,u=n.type,x=n.memoizedProps;switch(l[ce]=n,l[he]=x,u){case"dialog":Lr("cancel",l),Lr("close",l);break;case"iframe":case"object":case"embed":Lr("load",l);break;case"video":case"audio":for(u=0;u<tf.length;u++)Lr(tf[u],l);break;case"source":Lr("error",l);break;case"img":case"image":case"link":Lr("error",l),Lr("load",l);break;case"details":Lr("toggle",l);break;case"input":Lr("invalid",l),e0(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Lr("invalid",l);break;case"textarea":Lr("invalid",l),nd(l,x.value,x.defaultValue,x.children)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||x.suppressHydrationWarning===!0||Sy(l.textContent,u)?(x.popover!=null&&(Lr("beforetoggle",l),Lr("toggle",l)),x.onScroll!=null&&Lr("scroll",l),x.onScrollEnd!=null&&Lr("scrollend",l),x.onClick!=null&&(l.onclick=xi),l=!0):l=!1,l||Jl(n,!0)}function wl(n){for(ks=n.return;ks;)switch(ks.tag){case 5:case 31:case 13:La=!1;return;case 27:case 3:La=!0;return;default:ks=ks.return}}function As(n){if(n!==ks)return!1;if(!Tr)return wl(n),Tr=!0,!1;var l=n.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=n.type,u=!(u!=="form"&&u!=="button")||bm(n.type,n.memoizedProps)),u=!u),u&&ba&&Jl(n),wl(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ba=Ry(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ba=Ry(n)}else l===27?(l=ba,Pc(n.type)?(n=jm,jm=null,ba=n):ba=l):ba=ks?Vi(n.stateNode.nextSibling):null;return!0}function To(){ba=ks=null,Tr=!1}function Fu(){var n=Js;return n!==null&&(ei===null?ei=n:ei.push.apply(ei,n),Js=null),n}function wc(n){Js===null?Js=[n]:Js.push(n)}var b0=q(null),Kl=null,Gi=null;function Zl(n,l,u){G(b0,l._currentValue),l._currentValue=u}function Xn(n){n._currentValue=b0.current,L(b0)}function jc(n,l,u){for(;n!==null;){var x=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),n===u)break;n=n.return}}function Do(n,l,u,x){var j=n.child;for(j!==null&&(j.return=n);j!==null;){var k=j.dependencies;if(k!==null){var Y=j.child;k=k.firstContext;e:for(;k!==null;){var se=k;k=j;for(var we=0;we<l.length;we++)if(se.context===l[we]){k.lanes|=u,se=k.alternate,se!==null&&(se.lanes|=u),jc(k.return,u,n),x||(Y=null);break e}k=se.next}}else if(j.tag===18){if(Y=j.return,Y===null)throw Error(s(341));Y.lanes|=u,k=Y.alternate,k!==null&&(k.lanes|=u),jc(Y,u,n),Y=null}else Y=j.child;if(Y!==null)Y.return=j;else for(Y=j;Y!==null;){if(Y===n){Y=null;break}if(j=Y.sibling,j!==null){j.return=Y.return,Y=j;break}Y=Y.return}j=Y}}function Ql(n,l,u,x){n=null;for(var j=l,k=!1;j!==null;){if(!k){if((j.flags&524288)!==0)k=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var Y=j.alternate;if(Y===null)throw Error(s(387));if(Y=Y.memoizedProps,Y!==null){var se=j.type;Ss(j.pendingProps.value,Y.value)||(n!==null?n.push(se):n=[se])}}else if(j===ye.current){if(Y=j.alternate,Y===null)throw Error(s(387));Y.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(n!==null?n.push(lf):n=[lf])}j=j.return}n!==null&&Do(l,n,u,x),l.flags|=262144}function y0(n){for(n=n.firstContext;n!==null;){if(!Ss(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function eo(n){Kl=n,Gi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _s(n){return oh(Kl,n)}function v0(n,l){return Kl===null&&eo(n),oh(n,l)}function oh(n,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Gi===null){if(n===null)throw Error(s(308));Gi=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else Gi=Gi.next=l;return u}var wx=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(u,x){n.push(x)}};this.abort=function(){l.aborted=!0,n.forEach(function(u){return u()})}},jx=t.unstable_scheduleCallback,Sx=t.unstable_NormalPriority,Ua={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new wx,data:new Map,refCount:0}}function wd(n){n.refCount--,n.refCount===0&&jx(Sx,function(){n.controller.abort()})}var jd=null,N0=0,y=0,S=null;function I(n,l){if(jd===null){var u=jd=[];N0=0,y=cm(),S={status:"pending",value:void 0,then:function(x){u.push(x)}}}return N0++,l.then(H,H),l}function H(){if(--N0===0&&jd!==null){S!==null&&(S.status="fulfilled");var n=jd;jd=null,y=0,S=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function Q(n,l){var u=[],x={status:"pending",value:null,reason:null,then:function(j){u.push(j)}};return n.then(function(){x.status="fulfilled",x.value=l;for(var j=0;j<u.length;j++)(0,u[j])(l)},function(j){for(x.status="rejected",x.reason=j,j=0;j<u.length;j++)(0,u[j])(void 0)}),x}var te=J.S;J.S=function(n,l){Wb=Vt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&I(n,l),te!==null&&te(n,l)};var ae=q(null);function ie(){var n=ae.current;return n!==null?n:va.pooledCache}function de(n,l){l===null?G(ae,ae.current):G(ae,l.pool)}function xe(){var n=ie();return n===null?null:{parent:Ua._currentValue,pool:n}}var Ee=Error(s(460)),Me=Error(s(474)),pe=Error(s(542)),Ce={then:function(){}};function Re(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ve(n,l,u){switch(u=n[u],u===void 0?n.push(l):u!==l&&(l.then(xi,xi),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,ut(n),n;default:if(typeof l.status=="string")l.then(xi,xi);else{if(n=va,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=l,n.status="pending",n.then(function(x){if(l.status==="pending"){var j=l;j.status="fulfilled",j.value=x}},function(x){if(l.status==="pending"){var j=l;j.status="rejected",j.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,ut(n),n}throw Ye=l,Ee}}function Oe(n){try{var l=n._init;return l(n._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ye=u,Ee):u}}var Ye=null;function Ze(){if(Ye===null)throw Error(s(459));var n=Ye;return Ye=null,n}function ut(n){if(n===Ee||n===pe)throw Error(s(483))}var at=null,Dt=0;function St(n){var l=Dt;return Dt+=1,at===null&&(at=[]),Ve(at,n,l)}function cr(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function _t(n,l){throw l.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(l),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function kr(n){function l(Le,Ae){if(n){var ze=Le.deletions;ze===null?(Le.deletions=[Ae],Le.flags|=16):ze.push(Ae)}}function u(Le,Ae){if(!n)return null;for(;Ae!==null;)l(Le,Ae),Ae=Ae.sibling;return null}function x(Le){for(var Ae=new Map;Le!==null;)Le.key!==null?Ae.set(Le.key,Le):Ae.set(Le.index,Le),Le=Le.sibling;return Ae}function j(Le,Ae){return Le=qn(Le,Ae),Le.index=0,Le.sibling=null,Le}function k(Le,Ae,ze){return Le.index=ze,n?(ze=Le.alternate,ze!==null?(ze=ze.index,ze<Ae?(Le.flags|=67108866,Ae):ze):(Le.flags|=67108866,Ae)):(Le.flags|=1048576,Ae)}function Y(Le){return n&&Le.alternate===null&&(Le.flags|=67108866),Le}function se(Le,Ae,ze,et){return Ae===null||Ae.tag!==6?(Ae=vd(ze,Le.mode,et),Ae.return=Le,Ae):(Ae=j(Ae,ze),Ae.return=Le,Ae)}function we(Le,Ae,ze,et){var Xt=ze.type;return Xt===N?Xe(Le,Ae,ze.props.children,et,ze.key):Ae!==null&&(Ae.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===P&&Oe(Xt)===Ae.type)?(Ae=j(Ae,ze.props),cr(Ae,ze),Ae.return=Le,Ae):(Ae=yc(ze.type,ze.key,ze.props,null,Le.mode,et),cr(Ae,ze),Ae.return=Le,Ae)}function Ue(Le,Ae,ze,et){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==ze.containerInfo||Ae.stateNode.implementation!==ze.implementation?(Ae=vc(ze,Le.mode,et),Ae.return=Le,Ae):(Ae=j(Ae,ze.children||[]),Ae.return=Le,Ae)}function Xe(Le,Ae,ze,et,Xt){return Ae===null||Ae.tag!==7?(Ae=Wl(ze,Le.mode,et,Xt),Ae.return=Le,Ae):(Ae=j(Ae,ze),Ae.return=Le,Ae)}function tt(Le,Ae,ze){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=vd(""+Ae,Le.mode,ze),Ae.return=Le,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case m:return ze=yc(Ae.type,Ae.key,Ae.props,null,Le.mode,ze),cr(ze,Ae),ze.return=Le,ze;case v:return Ae=vc(Ae,Le.mode,ze),Ae.return=Le,Ae;case P:return Ae=Oe(Ae),tt(Le,Ae,ze)}if(ue(Ae)||U(Ae))return Ae=Wl(Ae,Le.mode,ze,null),Ae.return=Le,Ae;if(typeof Ae.then=="function")return tt(Le,St(Ae),ze);if(Ae.$$typeof===T)return tt(Le,v0(Le,Ae),ze);_t(Le,Ae)}return null}function He(Le,Ae,ze,et){var Xt=Ae!==null?Ae.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Xt!==null?null:se(Le,Ae,""+ze,et);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case m:return ze.key===Xt?we(Le,Ae,ze,et):null;case v:return ze.key===Xt?Ue(Le,Ae,ze,et):null;case P:return ze=Oe(ze),He(Le,Ae,ze,et)}if(ue(ze)||U(ze))return Xt!==null?null:Xe(Le,Ae,ze,et,null);if(typeof ze.then=="function")return He(Le,Ae,St(ze),et);if(ze.$$typeof===T)return He(Le,Ae,v0(Le,ze),et);_t(Le,ze)}return null}function Ge(Le,Ae,ze,et,Xt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Le=Le.get(ze)||null,se(Ae,Le,""+et,Xt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case m:return Le=Le.get(et.key===null?ze:et.key)||null,we(Ae,Le,et,Xt);case v:return Le=Le.get(et.key===null?ze:et.key)||null,Ue(Ae,Le,et,Xt);case P:return et=Oe(et),Ge(Le,Ae,ze,et,Xt)}if(ue(et)||U(et))return Le=Le.get(ze)||null,Xe(Ae,Le,et,Xt,null);if(typeof et.then=="function")return Ge(Le,Ae,ze,St(et),Xt);if(et.$$typeof===T)return Ge(Le,Ae,ze,v0(Ae,et),Xt);_t(Ae,et)}return null}function Tt(Le,Ae,ze,et){for(var Xt=null,Gr=null,Mt=Ae,vr=Ae=0,Fr=null;Mt!==null&&vr<ze.length;vr++){Mt.index>vr?(Fr=Mt,Mt=null):Fr=Mt.sibling;var $r=He(Le,Mt,ze[vr],et);if($r===null){Mt===null&&(Mt=Fr);break}n&&Mt&&$r.alternate===null&&l(Le,Mt),Ae=k($r,Ae,vr),Gr===null?Xt=$r:Gr.sibling=$r,Gr=$r,Mt=Fr}if(vr===ze.length)return u(Le,Mt),Tr&&Cn(Le,vr),Xt;if(Mt===null){for(;vr<ze.length;vr++)Mt=tt(Le,ze[vr],et),Mt!==null&&(Ae=k(Mt,Ae,vr),Gr===null?Xt=Mt:Gr.sibling=Mt,Gr=Mt);return Tr&&Cn(Le,vr),Xt}for(Mt=x(Mt);vr<ze.length;vr++)Fr=Ge(Mt,Le,vr,ze[vr],et),Fr!==null&&(n&&Fr.alternate!==null&&Mt.delete(Fr.key===null?vr:Fr.key),Ae=k(Fr,Ae,vr),Gr===null?Xt=Fr:Gr.sibling=Fr,Gr=Fr);return n&&Mt.forEach(function(Uc){return l(Le,Uc)}),Tr&&Cn(Le,vr),Xt}function tr(Le,Ae,ze,et){if(ze==null)throw Error(s(151));for(var Xt=null,Gr=null,Mt=Ae,vr=Ae=0,Fr=null,$r=ze.next();Mt!==null&&!$r.done;vr++,$r=ze.next()){Mt.index>vr?(Fr=Mt,Mt=null):Fr=Mt.sibling;var Uc=He(Le,Mt,$r.value,et);if(Uc===null){Mt===null&&(Mt=Fr);break}n&&Mt&&Uc.alternate===null&&l(Le,Mt),Ae=k(Uc,Ae,vr),Gr===null?Xt=Uc:Gr.sibling=Uc,Gr=Uc,Mt=Fr}if($r.done)return u(Le,Mt),Tr&&Cn(Le,vr),Xt;if(Mt===null){for(;!$r.done;vr++,$r=ze.next())$r=tt(Le,$r.value,et),$r!==null&&(Ae=k($r,Ae,vr),Gr===null?Xt=$r:Gr.sibling=$r,Gr=$r);return Tr&&Cn(Le,vr),Xt}for(Mt=x(Mt);!$r.done;vr++,$r=ze.next())$r=Ge(Mt,Le,vr,$r.value,et),$r!==null&&(n&&$r.alternate!==null&&Mt.delete($r.key===null?vr:$r.key),Ae=k($r,Ae,vr),Gr===null?Xt=$r:Gr.sibling=$r,Gr=$r);return n&&Mt.forEach(function(J3){return l(Le,J3)}),Tr&&Cn(Le,vr),Xt}function ma(Le,Ae,ze,et){if(typeof ze=="object"&&ze!==null&&ze.type===N&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case m:e:{for(var Xt=ze.key;Ae!==null;){if(Ae.key===Xt){if(Xt=ze.type,Xt===N){if(Ae.tag===7){u(Le,Ae.sibling),et=j(Ae,ze.props.children),et.return=Le,Le=et;break e}}else if(Ae.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===P&&Oe(Xt)===Ae.type){u(Le,Ae.sibling),et=j(Ae,ze.props),cr(et,ze),et.return=Le,Le=et;break e}u(Le,Ae);break}else l(Le,Ae);Ae=Ae.sibling}ze.type===N?(et=Wl(ze.props.children,Le.mode,et,ze.key),et.return=Le,Le=et):(et=yc(ze.type,ze.key,ze.props,null,Le.mode,et),cr(et,ze),et.return=Le,Le=et)}return Y(Le);case v:e:{for(Xt=ze.key;Ae!==null;){if(Ae.key===Xt)if(Ae.tag===4&&Ae.stateNode.containerInfo===ze.containerInfo&&Ae.stateNode.implementation===ze.implementation){u(Le,Ae.sibling),et=j(Ae,ze.children||[]),et.return=Le,Le=et;break e}else{u(Le,Ae);break}else l(Le,Ae);Ae=Ae.sibling}et=vc(ze,Le.mode,et),et.return=Le,Le=et}return Y(Le);case P:return ze=Oe(ze),ma(Le,Ae,ze,et)}if(ue(ze))return Tt(Le,Ae,ze,et);if(U(ze)){if(Xt=U(ze),typeof Xt!="function")throw Error(s(150));return ze=Xt.call(ze),tr(Le,Ae,ze,et)}if(typeof ze.then=="function")return ma(Le,Ae,St(ze),et);if(ze.$$typeof===T)return ma(Le,Ae,v0(Le,ze),et);_t(Le,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Ae!==null&&Ae.tag===6?(u(Le,Ae.sibling),et=j(Ae,ze),et.return=Le,Le=et):(u(Le,Ae),et=vd(ze,Le.mode,et),et.return=Le,Le=et),Y(Le)):u(Le,Ae)}return function(Le,Ae,ze,et){try{Dt=0;var Xt=ma(Le,Ae,ze,et);return at=null,Xt}catch(Mt){if(Mt===Ee||Mt===pe)throw Mt;var Gr=Fs(29,Mt,null,Le.mode);return Gr.lanes=et,Gr.return=Le,Gr}}}var ya=kr(!0),hr=kr(!1),Et=!1;function vt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ea(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Zt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gr(n,l,u){var x=n.updateQueue;if(x===null)return null;if(x=x.shared,(Zr&2)!==0){var j=x.pending;return j===null?l.next=l:(l.next=j.next,j.next=l),x.pending=l,l=Rs(n),bd(n,null,u),l}return gd(n,x,l,u),Rs(n)}function Jr(n,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var x=l.lanes;x&=n.pendingLanes,u|=x,l.lanes=u,Ns(n,u)}}function ls(n,l){var u=n.updateQueue,x=n.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var j=null,k=null;if(u=u.firstBaseUpdate,u!==null){do{var Y={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};k===null?j=k=Y:k=k.next=Y,u=u.next}while(u!==null);k===null?j=k=l:k=k.next=l}else j=k=l;u={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:k,shared:x.shared,callbacks:x.callbacks},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=l:n.next=l,u.lastBaseUpdate=l}var Cs=!1;function ha(){if(Cs){var n=S;if(n!==null)throw n}}function Wa(n,l,u,x){Cs=!1;var j=n.updateQueue;Et=!1;var k=j.firstBaseUpdate,Y=j.lastBaseUpdate,se=j.shared.pending;if(se!==null){j.shared.pending=null;var we=se,Ue=we.next;we.next=null,Y===null?k=Ue:Y.next=Ue,Y=we;var Xe=n.alternate;Xe!==null&&(Xe=Xe.updateQueue,se=Xe.lastBaseUpdate,se!==Y&&(se===null?Xe.firstBaseUpdate=Ue:se.next=Ue,Xe.lastBaseUpdate=we))}if(k!==null){var tt=j.baseState;Y=0,Xe=Ue=we=null,se=k;do{var He=se.lane&-536870913,Ge=He!==se.lane;if(Ge?(Rr&He)===He:(x&He)===He){He!==0&&He===y&&(Cs=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Tt=n,tr=se;He=l;var ma=u;switch(tr.tag){case 1:if(Tt=tr.payload,typeof Tt=="function"){tt=Tt.call(ma,tt,He);break e}tt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=tr.payload,He=typeof Tt=="function"?Tt.call(ma,tt,He):Tt,He==null)break e;tt=g({},tt,He);break e;case 2:Et=!0}}He=se.callback,He!==null&&(n.flags|=64,Ge&&(n.flags|=8192),Ge=j.callbacks,Ge===null?j.callbacks=[He]:Ge.push(He))}else Ge={lane:He,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Xe===null?(Ue=Xe=Ge,we=tt):Xe=Xe.next=Ge,Y|=He;if(se=se.next,se===null){if(se=j.shared.pending,se===null)break;Ge=se,se=Ge.next,Ge.next=null,j.lastBaseUpdate=Ge,j.shared.pending=null}}while(!0);Xe===null&&(we=tt),j.baseState=we,j.firstBaseUpdate=Ue,j.lastBaseUpdate=Xe,k===null&&(j.shared.lanes=0),Dc|=Y,n.lanes=Y,n.memoizedState=tt}}function Os(n,l){if(typeof n!="function")throw Error(s(191,n));n.call(l)}function Xa(n,l){var u=n.callbacks;if(u!==null)for(n.callbacks=null,n=0;n<u.length;n++)Os(u[n],l)}var wr=q(null),Mr=q(0);function ka(n,l){n=Uo,G(Mr,n),G(wr,l),Uo=n|l.baseLanes}function qr(){G(Mr,Uo),G(wr,wr.current)}function os(){Uo=Mr.current,L(wr),L(Mr)}var Aa=q(null),Br=null;function Ha(n){var l=n.alternate;G(Ir,Ir.current&1),G(Aa,n),Br===null&&(l===null||wr.current!==null||l.memoizedState!==null)&&(Br=n)}function Kr(n){G(Ir,Ir.current),G(Aa,n),Br===null&&(Br=n)}function Ja(n){n.tag===22?(G(Ir,Ir.current),G(Aa,n),Br===null&&(Br=n)):Ka()}function Ka(){G(Ir,Ir.current),G(Aa,Aa.current)}function ra(n){L(Aa),Br===n&&(Br=null),L(Ir)}var Ir=q(0);function Ps(n){for(var l=n;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Nm(u)||wm(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ra=0,Yt=null,Wt=null,zr=null,fn=!1,Jn=!1,Ks=!1,Za=0,to=0,ro=null,w0=0;function pa(){throw Error(s(321))}function Ou(n,l){if(l===null)return!1;for(var u=0;u<l.length&&u<n.length;u++)if(!Ss(n[u],l[u]))return!1;return!0}function Pu(n,l,u,x,j,k){return Ra=k,Yt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=n===null||n.memoizedState===null?nb:Lx,Ks=!1,k=u(x,j),Ks=!1,Jn&&(k=jl(l,u,x,j)),j0(n),k}function j0(n){J.H=Gu;var l=Wt!==null&&Wt.next!==null;if(Ra=0,zr=Wt=Yt=null,fn=!1,to=0,ro=null,l)throw Error(s(300));n===null||ms||(n=n.dependencies,n!==null&&y0(n)&&(ms=!0))}function jl(n,l,u,x){Yt=n;var j=0;do{if(Jn&&(ro=null),to=0,Jn=!1,25<=j)throw Error(s(301));if(j+=1,zr=Wt=null,n.updateQueue!=null){var k=n.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=ib,k=l(u,x)}while(Jn);return k}function Ex(){var n=J.H,l=n.useState()[0];return l=typeof l.then=="function"?ao(l):l,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(Yt.flags|=1024),l}function Iu(){var n=Za!==0;return Za=0,n}function Mu(n,l,u){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~u}function S0(n){if(fn){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}fn=!1}Ra=0,zr=Wt=Yt=null,Jn=!1,to=Za=0,ro=null}function xs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?Yt.memoizedState=zr=n:zr=zr.next=n,zr}function Fa(){if(Wt===null){var n=Yt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var l=zr===null?Yt.memoizedState:zr.next;if(l!==null)zr=l,Wt=n;else{if(n===null)throw Yt.alternate===null?Error(s(467)):Error(s(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},zr===null?Yt.memoizedState=zr=n:zr=zr.next=n}return zr}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(n){var l=to;return to+=1,ro===null&&(ro=[]),n=Ve(ro,n,l),l=Yt,(zr===null?l.memoizedState:zr.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?nb:Lx),n}function Ec(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ao(n);if(n.$$typeof===T)return _s(n)}throw Error(s(438,String(n)))}function Lo(n){var l=null,u=Yt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var x=Yt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(j){return j.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Sd(),Yt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(n),x=0;x<n;x++)u[x]=M;return l.index++,u}function $i(n,l){return typeof l=="function"?l(n):l}function E0(n){var l=Fa();return kc(l,Wt,n)}function kc(n,l,u){var x=n.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=u;var j=n.baseQueue,k=x.pending;if(k!==null){if(j!==null){var Y=j.next;j.next=k.next,k.next=Y}l.baseQueue=j=k,x.pending=null}if(k=n.baseState,j===null)n.memoizedState=k;else{l=j.next;var se=Y=null,we=null,Ue=l,Xe=!1;do{var tt=Ue.lane&-536870913;if(tt!==Ue.lane?(Rr&tt)===tt:(Ra&tt)===tt){var He=Ue.revertLane;if(He===0)we!==null&&(we=we.next={lane:0,revertLane:0,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),tt===y&&(Xe=!0);else if((Ra&He)===He){Ue=Ue.next,He===y&&(Xe=!0);continue}else tt={lane:0,revertLane:Ue.revertLane,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},we===null?(se=we=tt,Y=k):we=we.next=tt,Yt.lanes|=He,Dc|=He;tt=Ue.action,Ks&&u(k,tt),k=Ue.hasEagerState?Ue.eagerState:u(k,tt)}else He={lane:tt,revertLane:Ue.revertLane,gesture:Ue.gesture,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},we===null?(se=we=He,Y=k):we=we.next=He,Yt.lanes|=tt,Dc|=tt;Ue=Ue.next}while(Ue!==null&&Ue!==l);if(we===null?Y=k:we.next=se,!Ss(k,n.memoizedState)&&(ms=!0,Xe&&(u=S,u!==null)))throw u;n.memoizedState=k,n.baseState=Y,n.baseQueue=we,x.lastRenderedState=k}return j===null&&(x.lanes=0),[n.memoizedState,x.dispatch]}function k0(n){var l=Fa(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=n;var x=u.dispatch,j=u.pending,k=l.memoizedState;if(j!==null){u.pending=null;var Y=j=j.next;do k=n(k,Y.action),Y=Y.next;while(Y!==j);Ss(k,l.memoizedState)||(ms=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),u.lastRenderedState=k}return[k,x]}function A0(n,l,u){var x=Yt,j=Fa(),k=Tr;if(k){if(u===void 0)throw Error(s(407));u=u()}else u=l();var Y=!Ss((Wt||j).memoizedState,u);if(Y&&(j.memoizedState=u,ms=!0),j=j.queue,kx(zu.bind(null,x,j,n),[n]),j.getSnapshot!==l||Y||zr!==null&&zr.memoizedState.tag&1){if(x.flags|=2048,Fo(9,{destroy:void 0},Bu.bind(null,x,j,u,l),null),va===null)throw Error(s(349));k||(Ra&127)!==0||Sl(x,l,u)}return u}function Sl(n,l,u){n.flags|=16384,n={getSnapshot:l,value:u},l=Yt.updateQueue,l===null?(l=Sd(),Yt.updateQueue=l,l.stores=[n]):(u=l.stores,u===null?l.stores=[n]:u.push(n))}function Bu(n,l,u,x){l.value=u,l.getSnapshot=x,ch(l)&&Uu(n)}function zu(n,l,u){return u(function(){ch(l)&&Uu(n)})}function ch(n){var l=n.getSnapshot;n=n.value;try{var u=l();return!Ss(n,u)}catch{return!0}}function Uu(n){var l=Nl(n,2);l!==null&&ti(l,n,2)}function so(n){var l=xs();if(typeof n=="function"){var u=n;if(n=u(),Ks){Qt(!0);try{u()}finally{Qt(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},l}function dh(n,l,u,x){return n.baseState=u,kc(n,Wt,typeof x=="function"?x:$i)}function uh(n,l,u,x,j){if(xh(n))throw Error(s(485));if(n=l.action,n!==null){var k={payload:j,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){k.listeners.push(Y)}};J.T!==null?u(!0):k.isTransition=!1,x(k),u=l.pending,u===null?(k.next=l.pending=k,fh(l,k)):(k.next=u.next,l.pending=u.next=k)}}function fh(n,l){var u=l.action,x=l.payload,j=n.state;if(l.isTransition){var k=J.T,Y={};J.T=Y;try{var se=u(j,x),we=J.S;we!==null&&we(Y,se),Hu(n,l,se)}catch(Ue){Ro(n,l,Ue)}finally{k!==null&&Y.types!==null&&(k.types=Y.types),J.T=k}}else try{k=u(j,x),Hu(n,l,k)}catch(Ue){Ro(n,l,Ue)}}function Hu(n,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){hh(n,l,x)},function(x){return Ro(n,l,x)}):hh(n,l,u)}function hh(n,l,u){l.status="fulfilled",l.value=u,_0(l),n.state=u,l=n.pending,l!==null&&(u=l.next,u===l?n.pending=null:(u=u.next,l.next=u,fh(n,u)))}function Ro(n,l,u){var x=n.pending;if(n.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=u,_0(l),l=l.next;while(l!==x)}n.action=null}function _0(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function Ed(n,l){return l}function Yi(n,l){if(Tr){var u=va.formState;if(u!==null){e:{var x=Yt;if(Tr){if(ba){t:{for(var j=ba,k=La;j.nodeType!==8;){if(!k){j=null;break t}if(j=Vi(j.nextSibling),j===null){j=null;break t}}k=j.data,j=k==="F!"||k==="F"?j:null}if(j){ba=Vi(j.nextSibling),x=j.data==="F!";break e}}Jl(x)}x=!1}x&&(l=u[0])}}return u=xs(),u.memoizedState=u.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:l},u.queue=x,u=rb.bind(null,Yt,x),x.dispatch=u,x=so(!1),k=Dx.bind(null,Yt,!1,x.queue),x=xs(),j={state:l,dispatch:null,action:n,pending:null},x.queue=j,u=uh.bind(null,Yt,j,k,u),j.dispatch=u,x.memoizedState=n,[l,u,!1]}function El(n){var l=Fa();return kl(l,Wt,n)}function kl(n,l,u){if(l=kc(n,l,Ed)[0],n=E0($i)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=ao(l)}catch(Y){throw Y===Ee?pe:Y}else x=l;l=Fa();var j=l.queue,k=j.dispatch;return u!==l.memoizedState&&(Yt.flags|=2048,Fo(9,{destroy:void 0},C0.bind(null,j,u),null)),[x,k,n]}function C0(n,l){n.action=l}function T0(n){var l=Fa(),u=Wt;if(u!==null)return kl(l,u,n);Fa(),l=l.memoizedState,u=Fa();var x=u.queue.dispatch;return u.memoizedState=n,[l,x,!1]}function Fo(n,l,u,x){return n={tag:n,create:u,deps:x,inst:l,next:null},l=Yt.updateQueue,l===null&&(l=Sd(),Yt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=n.next=n:(x=u.next,u.next=n,n.next=x,l.lastEffect=n),n}function ph(){return Fa().memoizedState}function Ac(n,l,u,x){var j=xs();Yt.flags|=n,j.memoizedState=Fo(1|l,{destroy:void 0},u,x===void 0?null:x)}function _c(n,l,u,x){var j=Fa();x=x===void 0?null:x;var k=j.memoizedState.inst;Wt!==null&&x!==null&&Ou(x,Wt.memoizedState.deps)?j.memoizedState=Fo(l,k,u,x):(Yt.flags|=n,j.memoizedState=Fo(1|l,k,u,x))}function H1(n,l){Ac(8390656,8,n,l)}function kx(n,l){_c(2048,8,n,l)}function Gj(n){Yt.flags|=4;var l=Yt.updateQueue;if(l===null)l=Sd(),Yt.updateQueue=l,l.events=[n];else{var u=l.events;u===null?l.events=[n]:u.push(n)}}function q1(n){var l=Fa().memoizedState;return Gj({ref:l,nextImpl:n}),function(){if((Zr&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function G1(n,l){return _c(4,2,n,l)}function $1(n,l){return _c(4,4,n,l)}function Y1(n,l){if(typeof l=="function"){n=n();var u=l(n);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function V1(n,l,u){u=u!=null?u.concat([n]):null,_c(4,4,Y1.bind(null,l,n),u)}function Ax(){}function W1(n,l){var u=Fa();l=l===void 0?null:l;var x=u.memoizedState;return l!==null&&Ou(l,x[1])?x[0]:(u.memoizedState=[n,l],n)}function X1(n,l){var u=Fa();l=l===void 0?null:l;var x=u.memoizedState;if(l!==null&&Ou(l,x[1]))return x[0];if(x=n(),Ks){Qt(!0);try{n()}finally{Qt(!1)}}return u.memoizedState=[x,l],x}function _x(n,l,u){return u===void 0||(Ra&1073741824)!==0&&(Rr&261930)===0?n.memoizedState=l:(n.memoizedState=u,n=Jb(),Yt.lanes|=n,Dc|=n,u)}function J1(n,l,u,x){return Ss(u,l)?u:wr.current!==null?(n=_x(n,u,x),Ss(n,l)||(ms=!0),n):(Ra&42)===0||(Ra&1073741824)!==0&&(Rr&261930)===0?(ms=!0,n.memoizedState=u):(n=Jb(),Yt.lanes|=n,Dc|=n,l)}function K1(n,l,u,x,j){var k=re.p;re.p=k!==0&&8>k?k:8;var Y=J.T,se={};J.T=se,Dx(n,!1,l,u);try{var we=j(),Ue=J.S;if(Ue!==null&&Ue(se,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var Xe=Q(we,x);qu(n,l,Xe,Si(n))}else qu(n,l,x,Si(n))}catch(tt){qu(n,l,{then:function(){},status:"rejected",reason:tt},Si())}finally{re.p=k,Y!==null&&se.types!==null&&(Y.types=se.types),J.T=Y}}function $j(){}function Cx(n,l,u,x){if(n.tag!==5)throw Error(s(476));var j=Z1(n).queue;K1(n,j,l,oe,u===null?$j:function(){return Q1(n),u(x)})}function Z1(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:oe},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:u},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function Q1(n){var l=Z1(n);l.next===null&&(l=n.alternate.memoizedState),qu(n,l.next.queue,{},Si())}function Tx(){return _s(lf)}function eb(){return Fa().memoizedState}function tb(){return Fa().memoizedState}function Yj(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var u=Si();n=Zt(u);var x=gr(l,n,u);x!==null&&(ti(x,l,u),Jr(x,l,u)),l={cache:Sc()},n.payload=l;return}l=l.return}}function Vj(n,l,u){var x=Si();u={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xh(n)?ab(l,u):(u=u0(n,l,u,x),u!==null&&(ti(u,n,x),sb(u,l,x)))}function rb(n,l,u){var x=Si();qu(n,l,u,x)}function qu(n,l,u,x){var j={lane:x,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(xh(n))ab(l,j);else{var k=n.alternate;if(n.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var Y=l.lastRenderedState,se=k(Y,u);if(j.hasEagerState=!0,j.eagerState=se,Ss(se,Y))return gd(n,l,j,0),va===null&&md(),!1}catch{}if(u=u0(n,l,j,x),u!==null)return ti(u,n,x),sb(u,l,x),!0}return!1}function Dx(n,l,u,x){if(x={lane:2,revertLane:cm(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},xh(n)){if(l)throw Error(s(479))}else l=u0(n,u,x,2),l!==null&&ti(l,n,2)}function xh(n){var l=n.alternate;return n===Yt||l!==null&&l===Yt}function ab(n,l){Jn=fn=!0;var u=n.pending;u===null?l.next=l:(l.next=u.next,u.next=l),n.pending=l}function sb(n,l,u){if((u&4194048)!==0){var x=l.lanes;x&=n.pendingLanes,u|=x,l.lanes=u,Ns(n,u)}}var Gu={readContext:_s,use:Ec,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useLayoutEffect:pa,useInsertionEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useSyncExternalStore:pa,useId:pa,useHostTransitionStatus:pa,useFormState:pa,useActionState:pa,useOptimistic:pa,useMemoCache:pa,useCacheRefresh:pa};Gu.useEffectEvent=pa;var nb={readContext:_s,use:Ec,useCallback:function(n,l){return xs().memoizedState=[n,l===void 0?null:l],n},useContext:_s,useEffect:H1,useImperativeHandle:function(n,l,u){u=u!=null?u.concat([n]):null,Ac(4194308,4,Y1.bind(null,l,n),u)},useLayoutEffect:function(n,l){return Ac(4194308,4,n,l)},useInsertionEffect:function(n,l){Ac(4,2,n,l)},useMemo:function(n,l){var u=xs();l=l===void 0?null:l;var x=n();if(Ks){Qt(!0);try{n()}finally{Qt(!1)}}return u.memoizedState=[x,l],x},useReducer:function(n,l,u){var x=xs();if(u!==void 0){var j=u(l);if(Ks){Qt(!0);try{u(l)}finally{Qt(!1)}}}else j=l;return x.memoizedState=x.baseState=j,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:j},x.queue=n,n=n.dispatch=Vj.bind(null,Yt,n),[x.memoizedState,n]},useRef:function(n){var l=xs();return n={current:n},l.memoizedState=n},useState:function(n){n=so(n);var l=n.queue,u=rb.bind(null,Yt,l);return l.dispatch=u,[n.memoizedState,u]},useDebugValue:Ax,useDeferredValue:function(n,l){var u=xs();return _x(u,n,l)},useTransition:function(){var n=so(!1);return n=K1.bind(null,Yt,n.queue,!0,!1),xs().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,u){var x=Yt,j=xs();if(Tr){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),va===null)throw Error(s(349));(Rr&127)!==0||Sl(x,l,u)}j.memoizedState=u;var k={value:u,getSnapshot:l};return j.queue=k,H1(zu.bind(null,x,k,n),[n]),x.flags|=2048,Fo(9,{destroy:void 0},Bu.bind(null,x,k,u,l),null),u},useId:function(){var n=xs(),l=va.identifierPrefix;if(Tr){var u=Wn,x=Vn;u=(x&~(1<<32-Nr(x)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Za++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=w0++,l="_"+l+"r_"+u.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:Tx,useFormState:Yi,useActionState:Yi,useOptimistic:function(n){var l=xs();l.memoizedState=l.baseState=n;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Dx.bind(null,Yt,!0,u),u.dispatch=l,[n,l]},useMemoCache:Lo,useCacheRefresh:function(){return xs().memoizedState=Yj.bind(null,Yt)},useEffectEvent:function(n){var l=xs(),u={impl:n};return l.memoizedState=u,function(){if((Zr&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},Lx={readContext:_s,use:Ec,useCallback:W1,useContext:_s,useEffect:kx,useImperativeHandle:V1,useInsertionEffect:G1,useLayoutEffect:$1,useMemo:X1,useReducer:E0,useRef:ph,useState:function(){return E0($i)},useDebugValue:Ax,useDeferredValue:function(n,l){var u=Fa();return J1(u,Wt.memoizedState,n,l)},useTransition:function(){var n=E0($i)[0],l=Fa().memoizedState;return[typeof n=="boolean"?n:ao(n),l]},useSyncExternalStore:A0,useId:eb,useHostTransitionStatus:Tx,useFormState:El,useActionState:El,useOptimistic:function(n,l){var u=Fa();return dh(u,Wt,n,l)},useMemoCache:Lo,useCacheRefresh:tb};Lx.useEffectEvent=q1;var ib={readContext:_s,use:Ec,useCallback:W1,useContext:_s,useEffect:kx,useImperativeHandle:V1,useInsertionEffect:G1,useLayoutEffect:$1,useMemo:X1,useReducer:k0,useRef:ph,useState:function(){return k0($i)},useDebugValue:Ax,useDeferredValue:function(n,l){var u=Fa();return Wt===null?_x(u,n,l):J1(u,Wt.memoizedState,n,l)},useTransition:function(){var n=k0($i)[0],l=Fa().memoizedState;return[typeof n=="boolean"?n:ao(n),l]},useSyncExternalStore:A0,useId:eb,useHostTransitionStatus:Tx,useFormState:T0,useActionState:T0,useOptimistic:function(n,l){var u=Fa();return Wt!==null?dh(u,Wt,n,l):(u.baseState=n,[n,u.queue.dispatch])},useMemoCache:Lo,useCacheRefresh:tb};ib.useEffectEvent=q1;function Rx(n,l,u,x){l=n.memoizedState,u=u(x,l),u=u==null?l:g({},l,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var Fx={enqueueSetState:function(n,l,u){n=n._reactInternals;var x=Si(),j=Zt(x);j.payload=l,u!=null&&(j.callback=u),l=gr(n,j,x),l!==null&&(ti(l,n,x),Jr(l,n,x))},enqueueReplaceState:function(n,l,u){n=n._reactInternals;var x=Si(),j=Zt(x);j.tag=1,j.payload=l,u!=null&&(j.callback=u),l=gr(n,j,x),l!==null&&(ti(l,n,x),Jr(l,n,x))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var u=Si(),x=Zt(u);x.tag=2,l!=null&&(x.callback=l),l=gr(n,x,u),l!==null&&(ti(l,n,u),Jr(l,n,u))}};function lb(n,l,u,x,j,k,Y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(x,k,Y):l.prototype&&l.prototype.isPureReactComponent?!gl(u,x)||!gl(j,k):!0}function ob(n,l,u,x){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,x),l.state!==n&&Fx.enqueueReplaceState(l,l.state,null)}function kd(n,l){var u=l;if("ref"in l){u={};for(var x in l)x!=="ref"&&(u[x]=l[x])}if(n=n.defaultProps){u===l&&(u=g({},u));for(var j in n)u[j]===void 0&&(u[j]=n[j])}return u}function cb(n){xd(n)}function db(n){console.error(n)}function ub(n){xd(n)}function mh(n,l){try{var u=n.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function fb(n,l,u){try{var x=n.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function Ox(n,l,u){return u=Zt(u),u.tag=3,u.payload={element:null},u.callback=function(){mh(n,l)},u}function hb(n){return n=Zt(n),n.tag=3,n}function pb(n,l,u,x){var j=u.type.getDerivedStateFromError;if(typeof j=="function"){var k=x.value;n.payload=function(){return j(k)},n.callback=function(){fb(l,u,x)}}var Y=u.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(n.callback=function(){fb(l,u,x),typeof j!="function"&&(Lc===null?Lc=new Set([this]):Lc.add(this));var se=x.stack;this.componentDidCatch(x.value,{componentStack:se!==null?se:""})})}function Wj(n,l,u,x,j){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=u.alternate,l!==null&&Ql(l,u,j,!0),u=Aa.current,u!==null){switch(u.tag){case 31:case 13:return Br===null?_h():u.alternate===null&&Qa===0&&(Qa=3),u.flags&=-257,u.flags|=65536,u.lanes=j,x===Ce?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([x]):l.add(x),im(n,x,j)),!1;case 22:return u.flags|=65536,x===Ce?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([x]):u.add(x)),im(n,x,j)),!1}throw Error(s(435,u.tag))}return im(n,x,j),_h(),!1}if(Tr)return l=Aa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=j,x!==Ni&&(n=Error(s(422),{cause:x}),wc(Gn(n,u)))):(x!==Ni&&(l=Error(s(423),{cause:x}),wc(Gn(l,u))),n=n.current.alternate,n.flags|=65536,j&=-j,n.lanes|=j,x=Gn(x,u),j=Ox(n.stateNode,x,j),ls(n,j),Qa!==4&&(Qa=2)),!1;var k=Error(s(520),{cause:x});if(k=Gn(k,u),Zu===null?Zu=[k]:Zu.push(k),Qa!==4&&(Qa=2),l===null)return!0;x=Gn(x,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,n=j&-j,u.lanes|=n,n=Ox(u.stateNode,x,n),ls(u,n),!1;case 1:if(l=u.type,k=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Lc===null||!Lc.has(k))))return u.flags|=65536,j&=-j,u.lanes|=j,j=hb(j),pb(j,n,u,x),ls(u,j),!1}u=u.return}while(u!==null);return!1}var Px=Error(s(461)),ms=!1;function Zs(n,l,u,x){l.child=n===null?hr(l,null,u,x):ya(l,n.child,u,x)}function xb(n,l,u,x,j){u=u.render;var k=l.ref;if("ref"in x){var Y={};for(var se in x)se!=="ref"&&(Y[se]=x[se])}else Y=x;return eo(l),x=Pu(n,l,u,Y,k,j),se=Iu(),n!==null&&!ms?(Mu(n,l,j),Oo(n,l,j)):(Tr&&se&&Lu(l),l.flags|=1,Zs(n,l,x,j),l.child)}function mb(n,l,u,x,j){if(n===null){var k=u.type;return typeof k=="function"&&!h0(k)&&k.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=k,gb(n,l,k,x,j)):(n=yc(u.type,null,x,l,l.mode,j),n.ref=l.ref,n.return=l,l.child=n)}if(k=n.child,!Gx(n,j)){var Y=k.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(Y,x)&&n.ref===l.ref)return Oo(n,l,j)}return l.flags|=1,n=qn(k,x),n.ref=l.ref,n.return=l,l.child=n}function gb(n,l,u,x,j){if(n!==null){var k=n.memoizedProps;if(gl(k,x)&&n.ref===l.ref)if(ms=!1,l.pendingProps=x=k,Gx(n,j))(n.flags&131072)!==0&&(ms=!0);else return l.lanes=n.lanes,Oo(n,l,j)}return Ix(n,l,u,x,j)}function bb(n,l,u,x){var j=x.children,k=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((l.flags&128)!==0){if(k=k!==null?k.baseLanes|u:u,n!==null){for(x=l.child=n.child,j=0;x!==null;)j=j|x.lanes|x.childLanes,x=x.sibling;x=j&~k}else x=0,l.child=null;return yb(n,l,k,u,x)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&de(l,k!==null?k.cachePool:null),k!==null?ka(l,k):qr(),Ja(l);else return x=l.lanes=536870912,yb(n,l,k!==null?k.baseLanes|u:u,u,x)}else k!==null?(de(l,k.cachePool),ka(l,k),Ka(),l.memoizedState=null):(n!==null&&de(l,null),qr(),Ka());return Zs(n,l,j,u),l.child}function $u(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function yb(n,l,u,x,j){var k=ie();return k=k===null?null:{parent:Ua._currentValue,pool:k},l.memoizedState={baseLanes:u,cachePool:k},n!==null&&de(l,null),qr(),Ja(l),n!==null&&Ql(n,l,x,!0),l.childLanes=j,null}function gh(n,l){return l=yh({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function vb(n,l,u){return ya(l,n.child,null,u),n=gh(l,l.pendingProps),n.flags|=2,ra(l),l.memoizedState=null,n}function Xj(n,l,u){var x=l.pendingProps,j=(l.flags&128)!==0;if(l.flags&=-129,n===null){if(Tr){if(x.mode==="hidden")return n=gh(l,x),l.lanes=536870912,$u(null,n);if(Kr(l),(n=ba)?(n=Ly(n,La),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Xl!==null?{id:Vn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},u=p0(n),u.return=l,l.child=u,ks=l,ba=null)):n=null,n===null)throw Jl(l);return l.lanes=536870912,null}return gh(l,x)}var k=n.memoizedState;if(k!==null){var Y=k.dehydrated;if(Kr(l),j)if(l.flags&256)l.flags&=-257,l=vb(n,l,u);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(s(558));else if(ms||Ql(n,l,u,!1),j=(u&n.childLanes)!==0,ms||j){if(x=va,x!==null&&(Y=Gs(x,u),Y!==0&&Y!==k.retryLane))throw k.retryLane=Y,Nl(n,Y),ti(x,n,Y),Px;_h(),l=vb(n,l,u)}else n=k.treeContext,ba=Vi(Y.nextSibling),ks=l,Tr=!0,Js=null,La=!1,n!==null&&lh(l,n),l=gh(l,x),l.flags|=4096;return l}return n=qn(n.child,{mode:x.mode,children:x.children}),n.ref=l.ref,l.child=n,n.return=l,n}function bh(n,l){var u=l.ref;if(u===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(n===null||n.ref!==u)&&(l.flags|=4194816)}}function Ix(n,l,u,x,j){return eo(l),u=Pu(n,l,u,x,void 0,j),x=Iu(),n!==null&&!ms?(Mu(n,l,j),Oo(n,l,j)):(Tr&&x&&Lu(l),l.flags|=1,Zs(n,l,u,j),l.child)}function Nb(n,l,u,x,j,k){return eo(l),l.updateQueue=null,u=jl(l,x,u,j),j0(n),x=Iu(),n!==null&&!ms?(Mu(n,l,k),Oo(n,l,k)):(Tr&&x&&Lu(l),l.flags|=1,Zs(n,l,u,k),l.child)}function wb(n,l,u,x,j){if(eo(l),l.stateNode===null){var k=Es,Y=u.contextType;typeof Y=="object"&&Y!==null&&(k=_s(Y)),k=new u(x,k),l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Fx,l.stateNode=k,k._reactInternals=l,k=l.stateNode,k.props=x,k.state=l.memoizedState,k.refs={},vt(l),Y=u.contextType,k.context=typeof Y=="object"&&Y!==null?_s(Y):Es,k.state=l.memoizedState,Y=u.getDerivedStateFromProps,typeof Y=="function"&&(Rx(l,u,Y,x),k.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(Y=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),Y!==k.state&&Fx.enqueueReplaceState(k,k.state,null),Wa(l,x,k,j),ha(),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(n===null){k=l.stateNode;var se=l.memoizedProps,we=kd(u,se);k.props=we;var Ue=k.context,Xe=u.contextType;Y=Es,typeof Xe=="object"&&Xe!==null&&(Y=_s(Xe));var tt=u.getDerivedStateFromProps;Xe=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",se=l.pendingProps!==se,Xe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(se||Ue!==Y)&&ob(l,k,x,Y),Et=!1;var He=l.memoizedState;k.state=He,Wa(l,x,k,j),ha(),Ue=l.memoizedState,se||He!==Ue||Et?(typeof tt=="function"&&(Rx(l,u,tt,x),Ue=l.memoizedState),(we=Et||lb(l,u,we,x,He,Ue,Y))?(Xe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=Ue),k.props=x,k.state=Ue,k.context=Y,x=we):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{k=l.stateNode,Ea(n,l),Y=l.memoizedProps,Xe=kd(u,Y),k.props=Xe,tt=l.pendingProps,He=k.context,Ue=u.contextType,we=Es,typeof Ue=="object"&&Ue!==null&&(we=_s(Ue)),se=u.getDerivedStateFromProps,(Ue=typeof se=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Y!==tt||He!==we)&&ob(l,k,x,we),Et=!1,He=l.memoizedState,k.state=He,Wa(l,x,k,j),ha();var Ge=l.memoizedState;Y!==tt||He!==Ge||Et||n!==null&&n.dependencies!==null&&y0(n.dependencies)?(typeof se=="function"&&(Rx(l,u,se,x),Ge=l.memoizedState),(Xe=Et||lb(l,u,Xe,x,He,Ge,we)||n!==null&&n.dependencies!==null&&y0(n.dependencies))?(Ue||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,Ge,we),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,Ge,we)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||Y===n.memoizedProps&&He===n.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===n.memoizedProps&&He===n.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Ge),k.props=x,k.state=Ge,k.context=we,x=Xe):(typeof k.componentDidUpdate!="function"||Y===n.memoizedProps&&He===n.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===n.memoizedProps&&He===n.memoizedState||(l.flags|=1024),x=!1)}return k=x,bh(n,l),x=(l.flags&128)!==0,k||x?(k=l.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:k.render(),l.flags|=1,n!==null&&x?(l.child=ya(l,n.child,null,j),l.child=ya(l,null,u,j)):Zs(n,l,u,j),l.memoizedState=k.state,n=l.child):n=Oo(n,l,j),n}function jb(n,l,u,x){return To(),l.flags|=256,Zs(n,l,u,x),l.child}var Mx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bx(n){return{baseLanes:n,cachePool:xe()}}function zx(n,l,u){return n=n!==null?n.childLanes&~u:0,l&&(n|=ji),n}function Sb(n,l,u){var x=l.pendingProps,j=!1,k=(l.flags&128)!==0,Y;if((Y=k)||(Y=n!==null&&n.memoizedState===null?!1:(Ir.current&2)!==0),Y&&(j=!0,l.flags&=-129),Y=(l.flags&32)!==0,l.flags&=-33,n===null){if(Tr){if(j?Ha(l):Ka(),(n=ba)?(n=Ly(n,La),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Xl!==null?{id:Vn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},u=p0(n),u.return=l,l.child=u,ks=l,ba=null)):n=null,n===null)throw Jl(l);return wm(n)?l.lanes=32:l.lanes=536870912,null}var se=x.children;return x=x.fallback,j?(Ka(),j=l.mode,se=yh({mode:"hidden",children:se},j),x=Wl(x,j,u,null),se.return=l,x.return=l,se.sibling=x,l.child=se,x=l.child,x.memoizedState=Bx(u),x.childLanes=zx(n,Y,u),l.memoizedState=Mx,$u(null,x)):(Ha(l),Ux(l,se))}var we=n.memoizedState;if(we!==null&&(se=we.dehydrated,se!==null)){if(k)l.flags&256?(Ha(l),l.flags&=-257,l=Hx(n,l,u)):l.memoizedState!==null?(Ka(),l.child=n.child,l.flags|=128,l=null):(Ka(),se=x.fallback,j=l.mode,x=yh({mode:"visible",children:x.children},j),se=Wl(se,j,u,null),se.flags|=2,x.return=l,se.return=l,x.sibling=se,l.child=x,ya(l,n.child,null,u),x=l.child,x.memoizedState=Bx(u),x.childLanes=zx(n,Y,u),l.memoizedState=Mx,l=$u(null,x));else if(Ha(l),wm(se)){if(Y=se.nextSibling&&se.nextSibling.dataset,Y)var Ue=Y.dgst;Y=Ue,x=Error(s(419)),x.stack="",x.digest=Y,wc({value:x,source:null,stack:null}),l=Hx(n,l,u)}else if(ms||Ql(n,l,u,!1),Y=(u&n.childLanes)!==0,ms||Y){if(Y=va,Y!==null&&(x=Gs(Y,u),x!==0&&x!==we.retryLane))throw we.retryLane=x,Nl(n,x),ti(Y,n,x),Px;Nm(se)||_h(),l=Hx(n,l,u)}else Nm(se)?(l.flags|=192,l.child=n.child,l=null):(n=we.treeContext,ba=Vi(se.nextSibling),ks=l,Tr=!0,Js=null,La=!1,n!==null&&lh(l,n),l=Ux(l,x.children),l.flags|=4096);return l}return j?(Ka(),se=x.fallback,j=l.mode,we=n.child,Ue=we.sibling,x=qn(we,{mode:"hidden",children:x.children}),x.subtreeFlags=we.subtreeFlags&65011712,Ue!==null?se=qn(Ue,se):(se=Wl(se,j,u,null),se.flags|=2),se.return=l,x.return=l,x.sibling=se,l.child=x,$u(null,x),x=l.child,se=n.child.memoizedState,se===null?se=Bx(u):(j=se.cachePool,j!==null?(we=Ua._currentValue,j=j.parent!==we?{parent:we,pool:we}:j):j=xe(),se={baseLanes:se.baseLanes|u,cachePool:j}),x.memoizedState=se,x.childLanes=zx(n,Y,u),l.memoizedState=Mx,$u(n.child,x)):(Ha(l),u=n.child,n=u.sibling,u=qn(u,{mode:"visible",children:x.children}),u.return=l,u.sibling=null,n!==null&&(Y=l.deletions,Y===null?(l.deletions=[n],l.flags|=16):Y.push(n)),l.child=u,l.memoizedState=null,u)}function Ux(n,l){return l=yh({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function yh(n,l){return n=Fs(22,n,null,l),n.lanes=0,n}function Hx(n,l,u){return ya(l,n.child,null,u),n=Ux(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function Eb(n,l,u){n.lanes|=l;var x=n.alternate;x!==null&&(x.lanes|=l),jc(n.return,l,u)}function qx(n,l,u,x,j,k){var Y=n.memoizedState;Y===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:j,treeForkCount:k}:(Y.isBackwards=l,Y.rendering=null,Y.renderingStartTime=0,Y.last=x,Y.tail=u,Y.tailMode=j,Y.treeForkCount=k)}function kb(n,l,u){var x=l.pendingProps,j=x.revealOrder,k=x.tail;x=x.children;var Y=Ir.current,se=(Y&2)!==0;if(se?(Y=Y&1|2,l.flags|=128):Y&=1,G(Ir,Y),Zs(n,l,x,u),x=Tr?Nd:0,!se&&n!==null&&(n.flags&128)!==0)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Eb(n,u,l);else if(n.tag===19)Eb(n,u,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(j){case"forwards":for(u=l.child,j=null;u!==null;)n=u.alternate,n!==null&&Ps(n)===null&&(j=u),u=u.sibling;u=j,u===null?(j=l.child,l.child=null):(j=u.sibling,u.sibling=null),qx(l,!1,j,u,k,x);break;case"backwards":case"unstable_legacy-backwards":for(u=null,j=l.child,l.child=null;j!==null;){if(n=j.alternate,n!==null&&Ps(n)===null){l.child=j;break}n=j.sibling,j.sibling=u,u=j,j=n}qx(l,!0,u,null,k,x);break;case"together":qx(l,!1,null,null,void 0,x);break;default:l.memoizedState=null}return l.child}function Oo(n,l,u){if(n!==null&&(l.dependencies=n.dependencies),Dc|=l.lanes,(u&l.childLanes)===0)if(n!==null){if(Ql(n,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(s(153));if(l.child!==null){for(n=l.child,u=qn(n,n.pendingProps),l.child=u,u.return=l;n.sibling!==null;)n=n.sibling,u=u.sibling=qn(n,n.pendingProps),u.return=l;u.sibling=null}return l.child}function Gx(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&y0(n)))}function Jj(n,l,u){switch(l.tag){case 3:ke(l,l.stateNode.containerInfo),Zl(l,Ua,n.memoizedState.cache),To();break;case 27:case 5:_e(l);break;case 4:ke(l,l.stateNode.containerInfo);break;case 10:Zl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Kr(l),null;break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(Ha(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Sb(n,l,u):(Ha(l),n=Oo(n,l,u),n!==null?n.sibling:null);Ha(l);break;case 19:var j=(n.flags&128)!==0;if(x=(u&l.childLanes)!==0,x||(Ql(n,l,u,!1),x=(u&l.childLanes)!==0),j){if(x)return kb(n,l,u);l.flags|=128}if(j=l.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G(Ir,Ir.current),x)break;return null;case 22:return l.lanes=0,bb(n,l,u,l.pendingProps);case 24:Zl(l,Ua,n.memoizedState.cache)}return Oo(n,l,u)}function Ab(n,l,u){if(n!==null)if(n.memoizedProps!==l.pendingProps)ms=!0;else{if(!Gx(n,u)&&(l.flags&128)===0)return ms=!1,Jj(n,l,u);ms=(n.flags&131072)!==0}else ms=!1,Tr&&(l.flags&1048576)!==0&&ih(l,Nd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var x=l.pendingProps;if(n=Oe(l.elementType),l.type=n,typeof n=="function")h0(n)?(x=kd(n,x),l.tag=1,l=wb(null,l,n,x,u)):(l.tag=0,l=Ix(null,l,n,x,u));else{if(n!=null){var j=n.$$typeof;if(j===_){l.tag=11,l=xb(null,l,n,x,u);break e}else if(j===F){l.tag=14,l=mb(null,l,n,x,u);break e}}throw l=X(n)||n,Error(s(306,l,""))}}return l;case 0:return Ix(n,l,l.type,l.pendingProps,u);case 1:return x=l.type,j=kd(x,l.pendingProps),wb(n,l,x,j,u);case 3:e:{if(ke(l,l.stateNode.containerInfo),n===null)throw Error(s(387));x=l.pendingProps;var k=l.memoizedState;j=k.element,Ea(n,l),Wa(l,x,null,u);var Y=l.memoizedState;if(x=Y.cache,Zl(l,Ua,x),x!==k.cache&&Do(l,[Ua],u,!0),ha(),x=Y.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:Y.cache},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){l=jb(n,l,x,u);break e}else if(x!==j){j=Gn(Error(s(424)),l),wc(j),l=jb(n,l,x,u);break e}else for(n=l.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,ba=Vi(n.firstChild),ks=l,Tr=!0,Js=null,La=!0,u=hr(l,null,x,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(To(),x===j){l=Oo(n,l,u);break e}Zs(n,l,x,u)}l=l.child}return l;case 26:return bh(n,l),n===null?(u=My(l.type,null,l.pendingProps,null))?l.memoizedState=u:Tr||(u=l.type,n=l.pendingProps,x=Oh(ne.current).createElement(u),x[ce]=l,x[he]=n,Qs(x,u,n),At(x),l.stateNode=x):l.memoizedState=My(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return _e(l),n===null&&Tr&&(x=l.stateNode=Oy(l.type,l.pendingProps,ne.current),ks=l,La=!0,j=ba,Pc(l.type)?(jm=j,ba=Vi(x.firstChild)):ba=j),Zs(n,l,l.pendingProps.children,u),bh(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&Tr&&((j=x=ba)&&(x=k3(x,l.type,l.pendingProps,La),x!==null?(l.stateNode=x,ks=l,ba=Vi(x.firstChild),La=!1,j=!0):j=!1),j||Jl(l)),_e(l),j=l.type,k=l.pendingProps,Y=n!==null?n.memoizedProps:null,x=k.children,bm(j,k)?x=null:Y!==null&&bm(j,Y)&&(l.flags|=32),l.memoizedState!==null&&(j=Pu(n,l,Ex,null,null,u),lf._currentValue=j),bh(n,l),Zs(n,l,x,u),l.child;case 6:return n===null&&Tr&&((n=u=ba)&&(u=A3(u,l.pendingProps,La),u!==null?(l.stateNode=u,ks=l,ba=null,n=!0):n=!1),n||Jl(l)),null;case 13:return Sb(n,l,u);case 4:return ke(l,l.stateNode.containerInfo),x=l.pendingProps,n===null?l.child=ya(l,null,x,u):Zs(n,l,x,u),l.child;case 11:return xb(n,l,l.type,l.pendingProps,u);case 7:return Zs(n,l,l.pendingProps,u),l.child;case 8:return Zs(n,l,l.pendingProps.children,u),l.child;case 12:return Zs(n,l,l.pendingProps.children,u),l.child;case 10:return x=l.pendingProps,Zl(l,l.type,x.value),Zs(n,l,x.children,u),l.child;case 9:return j=l.type._context,x=l.pendingProps.children,eo(l),j=_s(j),x=x(j),l.flags|=1,Zs(n,l,x,u),l.child;case 14:return mb(n,l,l.type,l.pendingProps,u);case 15:return gb(n,l,l.type,l.pendingProps,u);case 19:return kb(n,l,u);case 31:return Xj(n,l,u);case 22:return bb(n,l,u,l.pendingProps);case 24:return eo(l),x=_s(Ua),n===null?(j=ie(),j===null&&(j=va,k=Sc(),j.pooledCache=k,k.refCount++,k!==null&&(j.pooledCacheLanes|=u),j=k),l.memoizedState={parent:x,cache:j},vt(l),Zl(l,Ua,j)):((n.lanes&u)!==0&&(Ea(n,l),Wa(l,null,null,u),ha()),j=n.memoizedState,k=l.memoizedState,j.parent!==x?(j={parent:x,cache:x},l.memoizedState=j,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=j),Zl(l,Ua,x)):(x=k.cache,Zl(l,Ua,x),x!==j.cache&&Do(l,[Ua],u,!0))),Zs(n,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Po(n){n.flags|=4}function $x(n,l,u,x,j){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(j&335544128)===j)if(n.stateNode.complete)n.flags|=8192;else if(ey())n.flags|=8192;else throw Ye=Ce,Me}else n.flags&=-16777217}function _b(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!qy(l))if(ey())n.flags|=8192;else throw Ye=Ce,Me}function vh(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?In():536870912,n.lanes|=l,F0|=l)}function Yu(n,l){if(!Tr)switch(n.tailMode){case"hidden":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:x.sibling=null}}function _a(n){var l=n.alternate!==null&&n.alternate.child===n.child,u=0,x=0;if(l)for(var j=n.child;j!==null;)u|=j.lanes|j.childLanes,x|=j.subtreeFlags&65011712,x|=j.flags&65011712,j.return=n,j=j.sibling;else for(j=n.child;j!==null;)u|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=n,j=j.sibling;return n.subtreeFlags|=x,n.childLanes=u,l}function Kj(n,l,u){var x=l.pendingProps;switch(g0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(l),null;case 1:return _a(l),null;case 3:return u=l.stateNode,x=null,n!==null&&(x=n.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),Xn(Ua),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(As(l)?Po(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Fu())),_a(l),null;case 26:var j=l.type,k=l.memoizedState;return n===null?(Po(l),k!==null?(_a(l),_b(l,k)):(_a(l),$x(l,j,null,x,u))):k?k!==n.memoizedState?(Po(l),_a(l),_b(l,k)):(_a(l),l.flags&=-16777217):(n=n.memoizedProps,n!==x&&Po(l),_a(l),$x(l,j,n,x,u)),null;case 27:if(Je(l),u=ne.current,j=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==x&&Po(l);else{if(!x){if(l.stateNode===null)throw Error(s(166));return _a(l),null}n=V.current,As(l)?Ru(l):(n=Oy(j,x,u),l.stateNode=n,Po(l))}return _a(l),null;case 5:if(Je(l),j=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==x&&Po(l);else{if(!x){if(l.stateNode===null)throw Error(s(166));return _a(l),null}if(k=V.current,As(l))Ru(l);else{var Y=Oh(ne.current);switch(k){case 1:k=Y.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:k=Y.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":k=Y.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":k=Y.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":k=Y.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof x.is=="string"?Y.createElement("select",{is:x.is}):Y.createElement("select"),x.multiple?k.multiple=!0:x.size&&(k.size=x.size);break;default:k=typeof x.is=="string"?Y.createElement(j,{is:x.is}):Y.createElement(j)}}k[ce]=l,k[he]=x;e:for(Y=l.child;Y!==null;){if(Y.tag===5||Y.tag===6)k.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===l)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===l)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}l.stateNode=k;e:switch(Qs(k,j,x),j){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Po(l)}}return _a(l),$x(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,u),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==x&&Po(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(s(166));if(n=ne.current,As(l)){if(n=l.stateNode,u=l.memoizedProps,x=null,j=ks,j!==null)switch(j.tag){case 27:case 5:x=j.memoizedProps}n[ce]=l,n=!!(n.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||Sy(n.nodeValue,u)),n||Jl(l,!0)}else n=Oh(n).createTextNode(x),n[ce]=l,l.stateNode=n}return _a(l),null;case 31:if(u=l.memoizedState,n===null||n.memoizedState!==null){if(x=As(l),u!==null){if(n===null){if(!x)throw Error(s(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[ce]=l}else To(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_a(l),n=!1}else u=Fu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=u),n=!0;if(!n)return l.flags&256?(ra(l),l):(ra(l),null);if((l.flags&128)!==0)throw Error(s(558))}return _a(l),null;case 13:if(x=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(j=As(l),x!==null&&x.dehydrated!==null){if(n===null){if(!j)throw Error(s(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(s(317));j[ce]=l}else To(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_a(l),j=!1}else j=Fu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=j),j=!0;if(!j)return l.flags&256?(ra(l),l):(ra(l),null)}return ra(l),(l.flags&128)!==0?(l.lanes=u,l):(u=x!==null,n=n!==null&&n.memoizedState!==null,u&&(x=l.child,j=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(j=x.alternate.memoizedState.cachePool.pool),k=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(k=x.memoizedState.cachePool.pool),k!==j&&(x.flags|=2048)),u!==n&&u&&(l.child.flags|=8192),vh(l,l.updateQueue),_a(l),null);case 4:return Se(),n===null&&hm(l.stateNode.containerInfo),_a(l),null;case 10:return Xn(l.type),_a(l),null;case 19:if(L(Ir),x=l.memoizedState,x===null)return _a(l),null;if(j=(l.flags&128)!==0,k=x.rendering,k===null)if(j)Yu(x,!1);else{if(Qa!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(k=Ps(n),k!==null){for(l.flags|=128,Yu(x,!1),n=k.updateQueue,l.updateQueue=n,vh(l,n),l.subtreeFlags=0,n=u,u=l.child;u!==null;)yd(u,n),u=u.sibling;return G(Ir,Ir.current&1|2),Tr&&Cn(l,x.treeForkCount),l.child}n=n.sibling}x.tail!==null&&Vt()>Eh&&(l.flags|=128,j=!0,Yu(x,!1),l.lanes=4194304)}else{if(!j)if(n=Ps(k),n!==null){if(l.flags|=128,j=!0,n=n.updateQueue,l.updateQueue=n,vh(l,n),Yu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!Tr)return _a(l),null}else 2*Vt()-x.renderingStartTime>Eh&&u!==536870912&&(l.flags|=128,j=!0,Yu(x,!1),l.lanes=4194304);x.isBackwards?(k.sibling=l.child,l.child=k):(n=x.last,n!==null?n.sibling=k:l.child=k,x.last=k)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=Vt(),n.sibling=null,u=Ir.current,G(Ir,j?u&1|2:u&1),Tr&&Cn(l,x.treeForkCount),n):(_a(l),null);case 22:case 23:return ra(l),os(),x=l.memoizedState!==null,n!==null?n.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(u&536870912)!==0&&(l.flags&128)===0&&(_a(l),l.subtreeFlags&6&&(l.flags|=8192)):_a(l),u=l.updateQueue,u!==null&&vh(l,u.retryQueue),u=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048),n!==null&&L(ae),null;case 24:return u=null,n!==null&&(u=n.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Xn(Ua),_a(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function Zj(n,l){switch(g0(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return Xn(Ua),Se(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return Je(l),null;case 31:if(l.memoizedState!==null){if(ra(l),l.alternate===null)throw Error(s(340));To()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(ra(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(s(340));To()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return L(Ir),null;case 4:return Se(),null;case 10:return Xn(l.type),null;case 22:case 23:return ra(l),os(),n!==null&&L(ae),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return Xn(Ua),null;case 25:return null;default:return null}}function Cb(n,l){switch(g0(l),l.tag){case 3:Xn(Ua),Se();break;case 26:case 27:case 5:Je(l);break;case 4:Se();break;case 31:l.memoizedState!==null&&ra(l);break;case 13:ra(l);break;case 19:L(Ir);break;case 10:Xn(l.type);break;case 22:case 23:ra(l),os(),n!==null&&L(ae);break;case 24:Xn(Ua)}}function Vu(n,l){try{var u=l.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var j=x.next;u=j;do{if((u.tag&n)===n){x=void 0;var k=u.create,Y=u.inst;x=k(),Y.destroy=x}u=u.next}while(u!==j)}}catch(se){sa(l,l.return,se)}}function Cc(n,l,u){try{var x=l.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var k=j.next;x=k;do{if((x.tag&n)===n){var Y=x.inst,se=Y.destroy;if(se!==void 0){Y.destroy=void 0,j=l;var we=u,Ue=se;try{Ue()}catch(Xe){sa(j,we,Xe)}}}x=x.next}while(x!==k)}}catch(Xe){sa(l,l.return,Xe)}}function Tb(n){var l=n.updateQueue;if(l!==null){var u=n.stateNode;try{Xa(l,u)}catch(x){sa(n,n.return,x)}}}function Db(n,l,u){u.props=kd(n.type,n.memoizedProps),u.state=n.memoizedState;try{u.componentWillUnmount()}catch(x){sa(n,l,x)}}function Wu(n,l){try{var u=n.ref;if(u!==null){switch(n.tag){case 26:case 27:case 5:var x=n.stateNode;break;case 30:x=n.stateNode;break;default:x=n.stateNode}typeof u=="function"?n.refCleanup=u(x):u.current=x}}catch(j){sa(n,l,j)}}function no(n,l){var u=n.ref,x=n.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(j){sa(n,l,j)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(j){sa(n,l,j)}else u.current=null}function Lb(n){var l=n.type,u=n.memoizedProps,x=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(j){sa(n,n.return,j)}}function Yx(n,l,u){try{var x=n.stateNode;v3(x,n.type,u,l),x[he]=l}catch(j){sa(n,n.return,j)}}function Rb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Pc(n.type)||n.tag===4}function Vx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Rb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Pc(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wx(n,l,u){var x=n.tag;if(x===5||x===6)n=n.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(n,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(n),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=xi));else if(x!==4&&(x===27&&Pc(n.type)&&(u=n.stateNode,l=null),n=n.child,n!==null))for(Wx(n,l,u),n=n.sibling;n!==null;)Wx(n,l,u),n=n.sibling}function Nh(n,l,u){var x=n.tag;if(x===5||x===6)n=n.stateNode,l?u.insertBefore(n,l):u.appendChild(n);else if(x!==4&&(x===27&&Pc(n.type)&&(u=n.stateNode),n=n.child,n!==null))for(Nh(n,l,u),n=n.sibling;n!==null;)Nh(n,l,u),n=n.sibling}function Fb(n){var l=n.stateNode,u=n.memoizedProps;try{for(var x=n.type,j=l.attributes;j.length;)l.removeAttributeNode(j[0]);Qs(l,x,u),l[ce]=n,l[he]=u}catch(k){sa(n,n.return,k)}}var Io=!1,gs=!1,Xx=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,Is=null;function Qj(n,l){if(n=n.containerInfo,mm=Hh,n=yl(n),Hi(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var j=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{u.nodeType,k.nodeType}catch{u=null;break e}var Y=0,se=-1,we=-1,Ue=0,Xe=0,tt=n,He=null;t:for(;;){for(var Ge;tt!==u||j!==0&&tt.nodeType!==3||(se=Y+j),tt!==k||x!==0&&tt.nodeType!==3||(we=Y+x),tt.nodeType===3&&(Y+=tt.nodeValue.length),(Ge=tt.firstChild)!==null;)He=tt,tt=Ge;for(;;){if(tt===n)break t;if(He===u&&++Ue===j&&(se=Y),He===k&&++Xe===x&&(we=Y),(Ge=tt.nextSibling)!==null)break;tt=He,He=tt.parentNode}tt=Ge}u=se===-1||we===-1?null:{start:se,end:we}}else u=null}u=u||{start:0,end:0}}else u=null;for(gm={focusedElem:n,selectionRange:u},Hh=!1,Is=l;Is!==null;)if(l=Is,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,Is=n;else for(;Is!==null;){switch(l=Is,k=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(u=0;u<n.length;u++)j=n[u],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&k!==null){n=void 0,u=l,j=k.memoizedProps,k=k.memoizedState,x=u.stateNode;try{var Tt=kd(u.type,j);n=x.getSnapshotBeforeUpdate(Tt,k),x.__reactInternalSnapshotBeforeUpdate=n}catch(tr){sa(u,u.return,tr)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,u=n.nodeType,u===9)vm(n);else if(u===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=l.sibling,n!==null){n.return=l.return,Is=n;break}Is=l.return}}function Pb(n,l,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:Bo(n,u),x&4&&Vu(5,u);break;case 1:if(Bo(n,u),x&4)if(n=u.stateNode,l===null)try{n.componentDidMount()}catch(Y){sa(u,u.return,Y)}else{var j=kd(u.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(j,l,n.__reactInternalSnapshotBeforeUpdate)}catch(Y){sa(u,u.return,Y)}}x&64&&Tb(u),x&512&&Wu(u,u.return);break;case 3:if(Bo(n,u),x&64&&(n=u.updateQueue,n!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Xa(n,l)}catch(Y){sa(u,u.return,Y)}}break;case 27:l===null&&x&4&&Fb(u);case 26:case 5:Bo(n,u),l===null&&x&4&&Lb(u),x&512&&Wu(u,u.return);break;case 12:Bo(n,u);break;case 31:Bo(n,u),x&4&&Bb(n,u);break;case 13:Bo(n,u),x&4&&zb(n,u),x&64&&(n=u.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(u=o3.bind(null,u),_3(n,u))));break;case 22:if(x=u.memoizedState!==null||Io,!x){l=l!==null&&l.memoizedState!==null||gs,j=Io;var k=gs;Io=x,(gs=l)&&!k?zo(n,u,(u.subtreeFlags&8772)!==0):Bo(n,u),Io=j,gs=k}break;case 30:break;default:Bo(n,u)}}function Ib(n){var l=n.alternate;l!==null&&(n.alternate=null,Ib(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&ct(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Oa=null,Kn=!1;function Mo(n,l,u){for(u=u.child;u!==null;)Mb(n,l,u),u=u.sibling}function Mb(n,l,u){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(yr,u)}catch{}switch(u.tag){case 26:gs||no(u,l),Mo(n,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:gs||no(u,l);var x=Oa,j=Kn;Pc(u.type)&&(Oa=u.stateNode,Kn=!1),Mo(n,l,u),af(u.stateNode),Oa=x,Kn=j;break;case 5:gs||no(u,l);case 6:if(x=Oa,j=Kn,Oa=null,Mo(n,l,u),Oa=x,Kn=j,Oa!==null)if(Kn)try{(Oa.nodeType===9?Oa.body:Oa.nodeName==="HTML"?Oa.ownerDocument.body:Oa).removeChild(u.stateNode)}catch(k){sa(u,l,k)}else try{Oa.removeChild(u.stateNode)}catch(k){sa(u,l,k)}break;case 18:Oa!==null&&(Kn?(n=Oa,Ty(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,u.stateNode),H0(n)):Ty(Oa,u.stateNode));break;case 4:x=Oa,j=Kn,Oa=u.stateNode.containerInfo,Kn=!0,Mo(n,l,u),Oa=x,Kn=j;break;case 0:case 11:case 14:case 15:Cc(2,u,l),gs||Cc(4,u,l),Mo(n,l,u);break;case 1:gs||(no(u,l),x=u.stateNode,typeof x.componentWillUnmount=="function"&&Db(u,l,x)),Mo(n,l,u);break;case 21:Mo(n,l,u);break;case 22:gs=(x=gs)||u.memoizedState!==null,Mo(n,l,u),gs=x;break;default:Mo(n,l,u)}}function Bb(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{H0(n)}catch(u){sa(l,l.return,u)}}}function zb(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{H0(n)}catch(u){sa(l,l.return,u)}}function e3(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new Ob),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new Ob),l;default:throw Error(s(435,n.tag))}}function wh(n,l){var u=e3(n);l.forEach(function(x){if(!u.has(x)){u.add(x);var j=c3.bind(null,n,x);x.then(j,j)}})}function Zn(n,l){var u=l.deletions;if(u!==null)for(var x=0;x<u.length;x++){var j=u[x],k=n,Y=l,se=Y;e:for(;se!==null;){switch(se.tag){case 27:if(Pc(se.type)){Oa=se.stateNode,Kn=!1;break e}break;case 5:Oa=se.stateNode,Kn=!1;break e;case 3:case 4:Oa=se.stateNode.containerInfo,Kn=!0;break e}se=se.return}if(Oa===null)throw Error(s(160));Mb(k,Y,j),Oa=null,Kn=!1,k=j.alternate,k!==null&&(k.return=null),j.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ub(l,n),l=l.sibling}var Al=null;function Ub(n,l){var u=n.alternate,x=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zn(l,n),Qn(n),x&4&&(Cc(3,n,n.return),Vu(3,n),Cc(5,n,n.return));break;case 1:Zn(l,n),Qn(n),x&512&&(gs||u===null||no(u,u.return)),x&64&&Io&&(n=n.updateQueue,n!==null&&(x=n.callbacks,x!==null&&(u=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var j=Al;if(Zn(l,n),Qn(n),x&512&&(gs||u===null||no(u,u.return)),x&4){var k=u!==null?u.memoizedState:null;if(x=n.memoizedState,u===null)if(x===null)if(n.stateNode===null){e:{x=n.type,u=n.memoizedProps,j=j.ownerDocument||j;t:switch(x){case"title":k=j.getElementsByTagName("title")[0],(!k||k[Be]||k[ce]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=j.createElement(x),j.head.insertBefore(k,j.querySelector("head > title"))),Qs(k,x,u),k[ce]=n,At(k),x=k;break e;case"link":var Y=Uy("link","href",j).get(x+(u.href||""));if(Y){for(var se=0;se<Y.length;se++)if(k=Y[se],k.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&k.getAttribute("rel")===(u.rel==null?null:u.rel)&&k.getAttribute("title")===(u.title==null?null:u.title)&&k.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){Y.splice(se,1);break t}}k=j.createElement(x),Qs(k,x,u),j.head.appendChild(k);break;case"meta":if(Y=Uy("meta","content",j).get(x+(u.content||""))){for(se=0;se<Y.length;se++)if(k=Y[se],k.getAttribute("content")===(u.content==null?null:""+u.content)&&k.getAttribute("name")===(u.name==null?null:u.name)&&k.getAttribute("property")===(u.property==null?null:u.property)&&k.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&k.getAttribute("charset")===(u.charSet==null?null:u.charSet)){Y.splice(se,1);break t}}k=j.createElement(x),Qs(k,x,u),j.head.appendChild(k);break;default:throw Error(s(468,x))}k[ce]=n,At(k),x=k}n.stateNode=x}else Hy(j,n.type,n.stateNode);else n.stateNode=zy(j,x,n.memoizedProps);else k!==x?(k===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):k.count--,x===null?Hy(j,n.type,n.stateNode):zy(j,x,n.memoizedProps)):x===null&&n.stateNode!==null&&Yx(n,n.memoizedProps,u.memoizedProps)}break;case 27:Zn(l,n),Qn(n),x&512&&(gs||u===null||no(u,u.return)),u!==null&&x&4&&Yx(n,n.memoizedProps,u.memoizedProps);break;case 5:if(Zn(l,n),Qn(n),x&512&&(gs||u===null||no(u,u.return)),n.flags&32){j=n.stateNode;try{pi(j,"")}catch(Tt){sa(n,n.return,Tt)}}x&4&&n.stateNode!=null&&(j=n.memoizedProps,Yx(n,j,u!==null?u.memoizedProps:j)),x&1024&&(Xx=!0);break;case 6:if(Zn(l,n),Qn(n),x&4){if(n.stateNode===null)throw Error(s(162));x=n.memoizedProps,u=n.stateNode;try{u.nodeValue=x}catch(Tt){sa(n,n.return,Tt)}}break;case 3:if(Mh=null,j=Al,Al=Ph(l.containerInfo),Zn(l,n),Al=j,Qn(n),x&4&&u!==null&&u.memoizedState.isDehydrated)try{H0(l.containerInfo)}catch(Tt){sa(n,n.return,Tt)}Xx&&(Xx=!1,Hb(n));break;case 4:x=Al,Al=Ph(n.stateNode.containerInfo),Zn(l,n),Qn(n),Al=x;break;case 12:Zn(l,n),Qn(n);break;case 31:Zn(l,n),Qn(n),x&4&&(x=n.updateQueue,x!==null&&(n.updateQueue=null,wh(n,x)));break;case 13:Zn(l,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Sh=Vt()),x&4&&(x=n.updateQueue,x!==null&&(n.updateQueue=null,wh(n,x)));break;case 22:j=n.memoizedState!==null;var we=u!==null&&u.memoizedState!==null,Ue=Io,Xe=gs;if(Io=Ue||j,gs=Xe||we,Zn(l,n),gs=Xe,Io=Ue,Qn(n),x&8192)e:for(l=n.stateNode,l._visibility=j?l._visibility&-2:l._visibility|1,j&&(u===null||we||Io||gs||Ad(n)),u=null,l=n;;){if(l.tag===5||l.tag===26){if(u===null){we=u=l;try{if(k=we.stateNode,j)Y=k.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{se=we.stateNode;var tt=we.memoizedProps.style,He=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;se.style.display=He==null||typeof He=="boolean"?"":(""+He).trim()}}catch(Tt){sa(we,we.return,Tt)}}}else if(l.tag===6){if(u===null){we=l;try{we.stateNode.nodeValue=j?"":we.memoizedProps}catch(Tt){sa(we,we.return,Tt)}}}else if(l.tag===18){if(u===null){we=l;try{var Ge=we.stateNode;j?Dy(Ge,!0):Dy(we.stateNode,!1)}catch(Tt){sa(we,we.return,Tt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=n.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,wh(n,u))));break;case 19:Zn(l,n),Qn(n),x&4&&(x=n.updateQueue,x!==null&&(n.updateQueue=null,wh(n,x)));break;case 30:break;case 21:break;default:Zn(l,n),Qn(n)}}function Qn(n){var l=n.flags;if(l&2){try{for(var u,x=n.return;x!==null;){if(Rb(x)){u=x;break}x=x.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var j=u.stateNode,k=Vx(n);Nh(n,k,j);break;case 5:var Y=u.stateNode;u.flags&32&&(pi(Y,""),u.flags&=-33);var se=Vx(n);Nh(n,se,Y);break;case 3:case 4:var we=u.stateNode.containerInfo,Ue=Vx(n);Wx(n,Ue,we);break;default:throw Error(s(161))}}catch(Xe){sa(n,n.return,Xe)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function Hb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;Hb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function Bo(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Pb(n,l.alternate,l),l=l.sibling}function Ad(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:Cc(4,l,l.return),Ad(l);break;case 1:no(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Db(l,l.return,u),Ad(l);break;case 27:af(l.stateNode);case 26:case 5:no(l,l.return),Ad(l);break;case 22:l.memoizedState===null&&Ad(l);break;case 30:Ad(l);break;default:Ad(l)}n=n.sibling}}function zo(n,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,j=n,k=l,Y=k.flags;switch(k.tag){case 0:case 11:case 15:zo(j,k,u),Vu(4,k);break;case 1:if(zo(j,k,u),x=k,j=x.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Ue){sa(x,x.return,Ue)}if(x=k,j=x.updateQueue,j!==null){var se=x.stateNode;try{var we=j.shared.hiddenCallbacks;if(we!==null)for(j.shared.hiddenCallbacks=null,j=0;j<we.length;j++)Os(we[j],se)}catch(Ue){sa(x,x.return,Ue)}}u&&Y&64&&Tb(k),Wu(k,k.return);break;case 27:Fb(k);case 26:case 5:zo(j,k,u),u&&x===null&&Y&4&&Lb(k),Wu(k,k.return);break;case 12:zo(j,k,u);break;case 31:zo(j,k,u),u&&Y&4&&Bb(j,k);break;case 13:zo(j,k,u),u&&Y&4&&zb(j,k);break;case 22:k.memoizedState===null&&zo(j,k,u),Wu(k,k.return);break;case 30:break;default:zo(j,k,u)}l=l.sibling}}function Jx(n,l){var u=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==u&&(n!=null&&n.refCount++,u!=null&&wd(u))}function Kx(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&wd(n))}function _l(n,l,u,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)qb(n,l,u,x),l=l.sibling}function qb(n,l,u,x){var j=l.flags;switch(l.tag){case 0:case 11:case 15:_l(n,l,u,x),j&2048&&Vu(9,l);break;case 1:_l(n,l,u,x);break;case 3:_l(n,l,u,x),j&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&wd(n)));break;case 12:if(j&2048){_l(n,l,u,x),n=l.stateNode;try{var k=l.memoizedProps,Y=k.id,se=k.onPostCommit;typeof se=="function"&&se(Y,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(we){sa(l,l.return,we)}}else _l(n,l,u,x);break;case 31:_l(n,l,u,x);break;case 13:_l(n,l,u,x);break;case 23:break;case 22:k=l.stateNode,Y=l.alternate,l.memoizedState!==null?k._visibility&2?_l(n,l,u,x):Xu(n,l):k._visibility&2?_l(n,l,u,x):(k._visibility|=2,D0(n,l,u,x,(l.subtreeFlags&10256)!==0||!1)),j&2048&&Jx(Y,l);break;case 24:_l(n,l,u,x),j&2048&&Kx(l.alternate,l);break;default:_l(n,l,u,x)}}function D0(n,l,u,x,j){for(j=j&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var k=n,Y=l,se=u,we=x,Ue=Y.flags;switch(Y.tag){case 0:case 11:case 15:D0(k,Y,se,we,j),Vu(8,Y);break;case 23:break;case 22:var Xe=Y.stateNode;Y.memoizedState!==null?Xe._visibility&2?D0(k,Y,se,we,j):Xu(k,Y):(Xe._visibility|=2,D0(k,Y,se,we,j)),j&&Ue&2048&&Jx(Y.alternate,Y);break;case 24:D0(k,Y,se,we,j),j&&Ue&2048&&Kx(Y.alternate,Y);break;default:D0(k,Y,se,we,j)}l=l.sibling}}function Xu(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=n,x=l,j=x.flags;switch(x.tag){case 22:Xu(u,x),j&2048&&Jx(x.alternate,x);break;case 24:Xu(u,x),j&2048&&Kx(x.alternate,x);break;default:Xu(u,x)}l=l.sibling}}var Ju=8192;function L0(n,l,u){if(n.subtreeFlags&Ju)for(n=n.child;n!==null;)Gb(n,l,u),n=n.sibling}function Gb(n,l,u){switch(n.tag){case 26:L0(n,l,u),n.flags&Ju&&n.memoizedState!==null&&z3(u,Al,n.memoizedState,n.memoizedProps);break;case 5:L0(n,l,u);break;case 3:case 4:var x=Al;Al=Ph(n.stateNode.containerInfo),L0(n,l,u),Al=x;break;case 22:n.memoizedState===null&&(x=n.alternate,x!==null&&x.memoizedState!==null?(x=Ju,Ju=16777216,L0(n,l,u),Ju=x):L0(n,l,u));break;default:L0(n,l,u)}}function $b(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function Ku(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var x=l[u];Is=x,Vb(x,n)}$b(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yb(n),n=n.sibling}function Yb(n){switch(n.tag){case 0:case 11:case 15:Ku(n),n.flags&2048&&Cc(9,n,n.return);break;case 3:Ku(n);break;case 12:Ku(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,jh(n)):Ku(n);break;default:Ku(n)}}function jh(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var x=l[u];Is=x,Vb(x,n)}$b(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:Cc(8,l,l.return),jh(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,jh(l));break;default:jh(l)}n=n.sibling}}function Vb(n,l){for(;Is!==null;){var u=Is;switch(u.tag){case 0:case 11:case 15:Cc(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:wd(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,Is=x;else e:for(u=n;Is!==null;){x=Is;var j=x.sibling,k=x.return;if(Ib(x),x===u){Is=null;break e}if(j!==null){j.return=k,Is=j;break e}Is=k}}}var t3={getCacheForType:function(n){var l=_s(Ua),u=l.data.get(n);return u===void 0&&(u=n(),l.data.set(n,u)),u},cacheSignal:function(){return _s(Ua).controller.signal}},r3=typeof WeakMap=="function"?WeakMap:Map,Zr=0,va=null,Dr=null,Rr=0,aa=0,wi=null,Tc=!1,R0=!1,Zx=!1,Uo=0,Qa=0,Dc=0,_d=0,Qx=0,ji=0,F0=0,Zu=null,ei=null,em=!1,Sh=0,Wb=0,Eh=1/0,kh=null,Lc=null,Ts=0,Rc=null,O0=null,Ho=0,tm=0,rm=null,Xb=null,Qu=0,am=null;function Si(){return(Zr&2)!==0&&Rr!==0?Rr&-Rr:J.T!==null?cm():ee()}function Jb(){if(ji===0)if((Rr&536870912)===0||Tr){var n=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),ji=n}else ji=536870912;return n=Aa.current,n!==null&&(n.flags|=32),ji}function ti(n,l,u){(n===va&&(aa===2||aa===9)||n.cancelPendingCommit!==null)&&(P0(n,0),Fc(n,Rr,ji,!1)),Ht(n,u),((Zr&2)===0||n!==va)&&(n===va&&((Zr&2)===0&&(_d|=u),Qa===4&&Fc(n,Rr,ji,!1)),io(n))}function Kb(n,l,u){if((Zr&6)!==0)throw Error(s(327));var x=!u&&(l&127)===0&&(l&n.expiredLanes)===0||wn(n,l),j=x?n3(n,l):nm(n,l,!0),k=x;do{if(j===0){R0&&!x&&Fc(n,l,0,!1);break}else{if(u=n.current.alternate,k&&!a3(u)){j=nm(n,l,!1),k=!1;continue}if(j===2){if(k=l,n.errorRecoveryDisabledLanes&k)var Y=0;else Y=n.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){l=Y;e:{var se=n;j=Zu;var we=se.current.memoizedState.isDehydrated;if(we&&(P0(se,Y).flags|=256),Y=nm(se,Y,!1),Y!==2){if(Zx&&!we){se.errorRecoveryDisabledLanes|=k,_d|=k,j=4;break e}k=ei,ei=j,k!==null&&(ei===null?ei=k:ei.push.apply(ei,k))}j=Y}if(k=!1,j!==2)continue}}if(j===1){P0(n,0),Fc(n,l,0,!0);break}e:{switch(x=n,k=j,k){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:Fc(x,l,ji,!Tc);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(j=Sh+300-Vt(),10<j)){if(Fc(x,l,ji,!Tc),Cr(x,0,!0)!==0)break e;Ho=l,x.timeoutHandle=_y(Zb.bind(null,x,u,ei,kh,em,l,ji,_d,F0,Tc,k,"Throttled",-0,0),j);break e}Zb(x,u,ei,kh,em,l,ji,_d,F0,Tc,k,null,-0,0)}}break}while(!0);io(n)}function Zb(n,l,u,x,j,k,Y,se,we,Ue,Xe,tt,He,Ge){if(n.timeoutHandle=-1,tt=l.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},Gb(l,k,tt);var Tt=(k&62914560)===k?Sh-Vt():(k&4194048)===k?Wb-Vt():0;if(Tt=U3(tt,Tt),Tt!==null){Ho=k,n.cancelPendingCommit=Tt(iy.bind(null,n,l,k,u,x,j,Y,se,we,Xe,tt,null,He,Ge)),Fc(n,k,Y,!Ue);return}}iy(n,l,k,u,x,j,Y,se,we)}function a3(n){for(var l=n;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var j=u[x],k=j.getSnapshot;j=j.value;try{if(!Ss(k(),j))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Fc(n,l,u,x){l&=~Qx,l&=~_d,n.suspendedLanes|=l,n.pingedLanes&=~l,x&&(n.warmLanes|=l),x=n.expirationTimes;for(var j=l;0<j;){var k=31-Nr(j),Y=1<<k;x[k]=-1,j&=~Y}u!==0&&Mn(n,u,l)}function Ah(){return(Zr&6)===0?(ef(0),!1):!0}function sm(){if(Dr!==null){if(aa===0)var n=Dr.return;else n=Dr,Gi=Kl=null,S0(n),at=null,Dt=0,n=Dr;for(;n!==null;)Cb(n.alternate,n),n=n.return;Dr=null}}function P0(n,l){var u=n.timeoutHandle;u!==-1&&(n.timeoutHandle=-1,j3(u)),u=n.cancelPendingCommit,u!==null&&(n.cancelPendingCommit=null,u()),Ho=0,sm(),va=n,Dr=u=qn(n.current,null),Rr=l,aa=0,wi=null,Tc=!1,R0=wn(n,l),Zx=!1,F0=ji=Qx=_d=Dc=Qa=0,ei=Zu=null,em=!1,(l&8)!==0&&(l|=l&32);var x=n.entangledLanes;if(x!==0)for(n=n.entanglements,x&=l;0<x;){var j=31-Nr(x),k=1<<j;l|=n[j],x&=~k}return Uo=l,md(),u}function Qb(n,l){Yt=null,J.H=Gu,l===Ee||l===pe?(l=Ze(),aa=3):l===Me?(l=Ze(),aa=4):aa=l===Px?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wi=l,Dr===null&&(Qa=1,mh(n,Gn(l,n.current)))}function ey(){var n=Aa.current;return n===null?!0:(Rr&4194048)===Rr?Br===null:(Rr&62914560)===Rr||(Rr&536870912)!==0?n===Br:!1}function ty(){var n=J.H;return J.H=Gu,n===null?Gu:n}function ry(){var n=J.A;return J.A=t3,n}function _h(){Qa=4,Tc||(Rr&4194048)!==Rr&&Aa.current!==null||(R0=!0),(Dc&134217727)===0&&(_d&134217727)===0||va===null||Fc(va,Rr,ji,!1)}function nm(n,l,u){var x=Zr;Zr|=2;var j=ty(),k=ry();(va!==n||Rr!==l)&&(kh=null,P0(n,l)),l=!1;var Y=Qa;e:do try{if(aa!==0&&Dr!==null){var se=Dr,we=wi;switch(aa){case 8:sm(),Y=6;break e;case 3:case 2:case 9:case 6:Aa.current===null&&(l=!0);var Ue=aa;if(aa=0,wi=null,I0(n,se,we,Ue),u&&R0){Y=0;break e}break;default:Ue=aa,aa=0,wi=null,I0(n,se,we,Ue)}}s3(),Y=Qa;break}catch(Xe){Qb(n,Xe)}while(!0);return l&&n.shellSuspendCounter++,Gi=Kl=null,Zr=x,J.H=j,J.A=k,Dr===null&&(va=null,Rr=0,md()),Y}function s3(){for(;Dr!==null;)ay(Dr)}function n3(n,l){var u=Zr;Zr|=2;var x=ty(),j=ry();va!==n||Rr!==l?(kh=null,Eh=Vt()+500,P0(n,l)):R0=wn(n,l);e:do try{if(aa!==0&&Dr!==null){l=Dr;var k=wi;t:switch(aa){case 1:aa=0,wi=null,I0(n,l,k,1);break;case 2:case 9:if(Re(k)){aa=0,wi=null,sy(l);break}l=function(){aa!==2&&aa!==9||va!==n||(aa=7),io(n)},k.then(l,l);break e;case 3:aa=7;break e;case 4:aa=5;break e;case 7:Re(k)?(aa=0,wi=null,sy(l)):(aa=0,wi=null,I0(n,l,k,7));break;case 5:var Y=null;switch(Dr.tag){case 26:Y=Dr.memoizedState;case 5:case 27:var se=Dr;if(Y?qy(Y):se.stateNode.complete){aa=0,wi=null;var we=se.sibling;if(we!==null)Dr=we;else{var Ue=se.return;Ue!==null?(Dr=Ue,Ch(Ue)):Dr=null}break t}}aa=0,wi=null,I0(n,l,k,5);break;case 6:aa=0,wi=null,I0(n,l,k,6);break;case 8:sm(),Qa=6;break e;default:throw Error(s(462))}}i3();break}catch(Xe){Qb(n,Xe)}while(!0);return Gi=Kl=null,J.H=x,J.A=j,Zr=u,Dr!==null?0:(va=null,Rr=0,md(),Qa)}function i3(){for(;Dr!==null&&!qt();)ay(Dr)}function ay(n){var l=Ab(n.alternate,n,Uo);n.memoizedProps=n.pendingProps,l===null?Ch(n):Dr=l}function sy(n){var l=n,u=l.alternate;switch(l.tag){case 15:case 0:l=Nb(u,l,l.pendingProps,l.type,void 0,Rr);break;case 11:l=Nb(u,l,l.pendingProps,l.type.render,l.ref,Rr);break;case 5:S0(l);default:Cb(u,l),l=Dr=yd(l,Uo),l=Ab(u,l,Uo)}n.memoizedProps=n.pendingProps,l===null?Ch(n):Dr=l}function I0(n,l,u,x){Gi=Kl=null,S0(l),at=null,Dt=0;var j=l.return;try{if(Wj(n,j,l,u,Rr)){Qa=1,mh(n,Gn(u,n.current)),Dr=null;return}}catch(k){if(j!==null)throw Dr=j,k;Qa=1,mh(n,Gn(u,n.current)),Dr=null;return}l.flags&32768?(Tr||x===1?n=!0:R0||(Rr&536870912)!==0?n=!1:(Tc=n=!0,(x===2||x===9||x===3||x===6)&&(x=Aa.current,x!==null&&x.tag===13&&(x.flags|=16384))),ny(l,n)):Ch(l)}function Ch(n){var l=n;do{if((l.flags&32768)!==0){ny(l,Tc);return}n=l.return;var u=Kj(l.alternate,l,Uo);if(u!==null){Dr=u;return}if(l=l.sibling,l!==null){Dr=l;return}Dr=l=n}while(l!==null);Qa===0&&(Qa=5)}function ny(n,l){do{var u=Zj(n.alternate,n);if(u!==null){u.flags&=32767,Dr=u;return}if(u=n.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(n=n.sibling,n!==null)){Dr=n;return}Dr=n=u}while(n!==null);Qa=6,Dr=null}function iy(n,l,u,x,j,k,Y,se,we){n.cancelPendingCommit=null;do Th();while(Ts!==0);if((Zr&6)!==0)throw Error(s(327));if(l!==null){if(l===n.current)throw Error(s(177));if(k=l.lanes|l.childLanes,k|=d0,di(n,u,k,Y,se,we),n===va&&(Dr=va=null,Rr=0),O0=l,Rc=n,Ho=u,tm=k,rm=j,Xb=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,d3(ir,function(){return uy(),null})):(n.callbackNode=null,n.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=J.T,J.T=null,j=re.p,re.p=2,Y=Zr,Zr|=4;try{Qj(n,l,u)}finally{Zr=Y,re.p=j,J.T=x}}Ts=1,ly(),oy(),cy()}}function ly(){if(Ts===1){Ts=0;var n=Rc,l=O0,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=J.T,J.T=null;var x=re.p;re.p=2;var j=Zr;Zr|=4;try{Ub(l,n);var k=gm,Y=yl(n.containerInfo),se=k.focusedElem,we=k.selectionRange;if(Y!==se&&se&&se.ownerDocument&&bl(se.ownerDocument.documentElement,se)){if(we!==null&&Hi(se)){var Ue=we.start,Xe=we.end;if(Xe===void 0&&(Xe=Ue),"selectionStart"in se)se.selectionStart=Ue,se.selectionEnd=Math.min(Xe,se.value.length);else{var tt=se.ownerDocument||document,He=tt&&tt.defaultView||window;if(He.getSelection){var Ge=He.getSelection(),Tt=se.textContent.length,tr=Math.min(we.start,Tt),ma=we.end===void 0?tr:Math.min(we.end,Tt);!Ge.extend&&tr>ma&&(Y=ma,ma=tr,tr=Y);var Le=bc(se,tr),Ae=bc(se,ma);if(Le&&Ae&&(Ge.rangeCount!==1||Ge.anchorNode!==Le.node||Ge.anchorOffset!==Le.offset||Ge.focusNode!==Ae.node||Ge.focusOffset!==Ae.offset)){var ze=tt.createRange();ze.setStart(Le.node,Le.offset),Ge.removeAllRanges(),tr>ma?(Ge.addRange(ze),Ge.extend(Ae.node,Ae.offset)):(ze.setEnd(Ae.node,Ae.offset),Ge.addRange(ze))}}}}for(tt=[],Ge=se;Ge=Ge.parentNode;)Ge.nodeType===1&&tt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<tt.length;se++){var et=tt[se];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Hh=!!mm,gm=mm=null}finally{Zr=j,re.p=x,J.T=u}}n.current=l,Ts=2}}function oy(){if(Ts===2){Ts=0;var n=Rc,l=O0,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=J.T,J.T=null;var x=re.p;re.p=2;var j=Zr;Zr|=4;try{Pb(n,l.alternate,l)}finally{Zr=j,re.p=x,J.T=u}}Ts=3}}function cy(){if(Ts===4||Ts===3){Ts=0,Bt();var n=Rc,l=O0,u=Ho,x=Xb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ts=5:(Ts=0,O0=Rc=null,dy(n,n.pendingLanes));var j=n.pendingLanes;if(j===0&&(Lc=null),Da(u),l=l.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(yr,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=J.T,j=re.p,re.p=2,J.T=null;try{for(var k=n.onRecoverableError,Y=0;Y<x.length;Y++){var se=x[Y];k(se.value,{componentStack:se.stack})}}finally{J.T=l,re.p=j}}(Ho&3)!==0&&Th(),io(n),j=n.pendingLanes,(u&261930)!==0&&(j&42)!==0?n===am?Qu++:(Qu=0,am=n):Qu=0,ef(0)}}function dy(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,wd(l)))}function Th(){return ly(),oy(),cy(),uy()}function uy(){if(Ts!==5)return!1;var n=Rc,l=tm;tm=0;var u=Da(Ho),x=J.T,j=re.p;try{re.p=32>u?32:u,J.T=null,u=rm,rm=null;var k=Rc,Y=Ho;if(Ts=0,O0=Rc=null,Ho=0,(Zr&6)!==0)throw Error(s(331));var se=Zr;if(Zr|=4,Yb(k.current),qb(k,k.current,Y,u),Zr=se,ef(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(yr,k)}catch{}return!0}finally{re.p=j,J.T=x,dy(n,l)}}function fy(n,l,u){l=Gn(u,l),l=Ox(n.stateNode,l,2),n=gr(n,l,2),n!==null&&(Ht(n,2),io(n))}function sa(n,l,u){if(n.tag===3)fy(n,n,u);else for(;l!==null;){if(l.tag===3){fy(l,n,u);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Lc===null||!Lc.has(x))){n=Gn(u,n),u=hb(2),x=gr(l,u,2),x!==null&&(pb(u,x,l,n),Ht(x,2),io(x));break}}l=l.return}}function im(n,l,u){var x=n.pingCache;if(x===null){x=n.pingCache=new r3;var j=new Set;x.set(l,j)}else j=x.get(l),j===void 0&&(j=new Set,x.set(l,j));j.has(u)||(Zx=!0,j.add(u),n=l3.bind(null,n,l,u),l.then(n,n))}function l3(n,l,u){var x=n.pingCache;x!==null&&x.delete(l),n.pingedLanes|=n.suspendedLanes&u,n.warmLanes&=~u,va===n&&(Rr&u)===u&&(Qa===4||Qa===3&&(Rr&62914560)===Rr&&300>Vt()-Sh?(Zr&2)===0&&P0(n,0):Qx|=u,F0===Rr&&(F0=0)),io(n)}function hy(n,l){l===0&&(l=In()),n=Nl(n,l),n!==null&&(Ht(n,l),io(n))}function o3(n){var l=n.memoizedState,u=0;l!==null&&(u=l.retryLane),hy(n,u)}function c3(n,l){var u=0;switch(n.tag){case 31:case 13:var x=n.stateNode,j=n.memoizedState;j!==null&&(u=j.retryLane);break;case 19:x=n.stateNode;break;case 22:x=n.stateNode._retryCache;break;default:throw Error(s(314))}x!==null&&x.delete(l),hy(n,u)}function d3(n,l){return Rt(n,l)}var Dh=null,M0=null,lm=!1,Lh=!1,om=!1,Oc=0;function io(n){n!==M0&&n.next===null&&(M0===null?Dh=M0=n:M0=M0.next=n),Lh=!0,lm||(lm=!0,f3())}function ef(n,l){if(!om&&Lh){om=!0;do for(var u=!1,x=Dh;x!==null;){if(n!==0){var j=x.pendingLanes;if(j===0)var k=0;else{var Y=x.suspendedLanes,se=x.pingedLanes;k=(1<<31-Nr(42|n)+1)-1,k&=j&~(Y&~se),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(u=!0,gy(x,k))}else k=Rr,k=Cr(x,x===va?k:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(k&3)===0||wn(x,k)||(u=!0,gy(x,k));x=x.next}while(u);om=!1}}function u3(){py()}function py(){Lh=lm=!1;var n=0;Oc!==0&&w3()&&(n=Oc);for(var l=Vt(),u=null,x=Dh;x!==null;){var j=x.next,k=xy(x,l);k===0?(x.next=null,u===null?Dh=j:u.next=j,j===null&&(M0=u)):(u=x,(n!==0||(k&3)!==0)&&(Lh=!0)),x=j}Ts!==0&&Ts!==5||ef(n),Oc!==0&&(Oc=0)}function xy(n,l){for(var u=n.suspendedLanes,x=n.pingedLanes,j=n.expirationTimes,k=n.pendingLanes&-62914561;0<k;){var Y=31-Nr(k),se=1<<Y,we=j[Y];we===-1?((se&u)===0||(se&x)!==0)&&(j[Y]=fs(se,l)):we<=l&&(n.expiredLanes|=se),k&=~se}if(l=va,u=Rr,u=Cr(n,n===l?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),x=n.callbackNode,u===0||n===l&&(aa===2||aa===9)||n.cancelPendingCommit!==null)return x!==null&&x!==null&&wt(x),n.callbackNode=null,n.callbackPriority=0;if((u&3)===0||wn(n,u)){if(l=u&-u,l===n.callbackPriority)return l;switch(x!==null&&wt(x),Da(u)){case 2:case 8:u=br;break;case 32:u=ir;break;case 268435456:u=lr;break;default:u=ir}return x=my.bind(null,n),u=Rt(u,x),n.callbackPriority=l,n.callbackNode=u,l}return x!==null&&x!==null&&wt(x),n.callbackPriority=2,n.callbackNode=null,2}function my(n,l){if(Ts!==0&&Ts!==5)return n.callbackNode=null,n.callbackPriority=0,null;var u=n.callbackNode;if(Th()&&n.callbackNode!==u)return null;var x=Rr;return x=Cr(n,n===va?x:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),x===0?null:(Kb(n,x,l),xy(n,Vt()),n.callbackNode!=null&&n.callbackNode===u?my.bind(null,n):null)}function gy(n,l){if(Th())return null;Kb(n,l,!0)}function f3(){S3(function(){(Zr&6)!==0?Rt(sr,u3):py()})}function cm(){if(Oc===0){var n=y;n===0&&(n=er,er<<=1,(er&261888)===0&&(er=256)),Oc=n}return Oc}function by(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:dn(""+n)}function yy(n,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,n.id&&u.setAttribute("form",n.id),l.parentNode.insertBefore(u,l),n=new FormData(n),u.parentNode.removeChild(u),n}function h3(n,l,u,x,j){if(l==="submit"&&u&&u.stateNode===j){var k=by((j[he]||null).action),Y=x.submitter;Y&&(l=(l=Y[he]||null)?by(l.formAction):Y.getAttribute("formAction"),l!==null&&(k=l,Y=null));var se=new zn("action","action",null,x,j);n.push({event:se,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Oc!==0){var we=Y?yy(j,Y):new FormData(j);Cx(u,{pending:!0,data:we,method:j.method,action:k},null,we)}}else typeof k=="function"&&(se.preventDefault(),we=Y?yy(j,Y):new FormData(j),Cx(u,{pending:!0,data:we,method:j.method,action:k},k,we))},currentTarget:j}]})}}for(var dm=0;dm<Ao.length;dm++){var um=Ao[dm],p3=um.toLowerCase(),x3=um[0].toUpperCase()+um.slice(1);Hn(p3,"on"+x3)}Hn(ko,"onAnimationEnd"),Hn(pd,"onAnimationIteration"),Hn(Cu,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(ah,"onTransitionRun"),Hn(sh,"onTransitionStart"),Hn(nh,"onTransitionCancel"),Hn(Tu,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tf));function vy(n,l){l=(l&4)!==0;for(var u=0;u<n.length;u++){var x=n[u],j=x.event;x=x.listeners;e:{var k=void 0;if(l)for(var Y=x.length-1;0<=Y;Y--){var se=x[Y],we=se.instance,Ue=se.currentTarget;if(se=se.listener,we!==k&&j.isPropagationStopped())break e;k=se,j.currentTarget=Ue;try{k(j)}catch(Xe){xd(Xe)}j.currentTarget=null,k=we}else for(Y=0;Y<x.length;Y++){if(se=x[Y],we=se.instance,Ue=se.currentTarget,se=se.listener,we!==k&&j.isPropagationStopped())break e;k=se,j.currentTarget=Ue;try{k(j)}catch(Xe){xd(Xe)}j.currentTarget=null,k=we}}}}function Lr(n,l){var u=l[Fe];u===void 0&&(u=l[Fe]=new Set);var x=n+"__bubble";u.has(x)||(Ny(l,n,2,!1),u.add(x))}function fm(n,l,u){var x=0;l&&(x|=4),Ny(u,n,x,l)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function hm(n){if(!n[Rh]){n[Rh]=!0,Xr.forEach(function(u){u!=="selectionchange"&&(m3.has(u)||fm(u,!1,n),fm(u,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Rh]||(l[Rh]=!0,fm("selectionchange",!1,l))}}function Ny(n,l,u,x){switch(Jy(l)){case 2:var j=G3;break;case 8:j=$3;break;default:j=_m}u=j.bind(null,l,u,n),j=void 0,!cd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(j=!0),x?j!==void 0?n.addEventListener(l,u,{capture:!0,passive:j}):n.addEventListener(l,u,!0):j!==void 0?n.addEventListener(l,u,{passive:j}):n.addEventListener(l,u,!1)}function pm(n,l,u,x,j){var k=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var Y=x.tag;if(Y===3||Y===4){var se=x.stateNode.containerInfo;if(se===j)break;if(Y===4)for(Y=x.return;Y!==null;){var we=Y.tag;if((we===3||we===4)&&Y.stateNode.containerInfo===j)return;Y=Y.return}for(;se!==null;){if(Y=xt(se),Y===null)return;if(we=Y.tag,we===5||we===6||we===26||we===27){x=k=Y;continue e}se=se.parentNode}}x=x.return}n0(function(){var Ue=k,Xe=yo(u),tt=[];e:{var He=Du.get(n);if(He!==void 0){var Ge=zn,Tt=n;switch(n){case"keypress":if(Bn(u)===0)break e;case"keydown":case"keyup":Ge=Or;break;case"focusin":Tt="focus",Ge=dl;break;case"focusout":Tt="blur",Ge=dl;break;case"beforeblur":case"afterblur":Ge=dl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=is;break;case ko:case pd:case Cu:Ge=D;break;case Tu:Ge=js;break;case"scroll":case"scrollend":Ge=uc;break;case"wheel":Ge=mi;break;case"copy":case"cut":case"paste":Ge=ge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Ma;break;case"toggle":case"beforetoggle":Ge=ud}var tr=(l&4)!==0,ma=!tr&&(n==="scroll"||n==="scrollend"),Le=tr?He!==null?He+"Capture":null:He;tr=[];for(var Ae=Ue,ze;Ae!==null;){var et=Ae;if(ze=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||ze===null||Le===null||(et=Sn(Ae,Le),et!=null&&tr.push(rf(Ae,et,ze))),ma)break;Ae=Ae.return}0<tr.length&&(He=new Ge(He,Tt,null,u,Xe),tt.push({event:He,listeners:tr}))}}if((l&7)===0){e:{if(He=n==="mouseover"||n==="pointerover",Ge=n==="mouseout"||n==="pointerout",He&&u!==sl&&(Tt=u.relatedTarget||u.fromElement)&&(xt(Tt)||Tt[be]))break e;if((Ge||He)&&(He=Xe.window===Xe?Xe:(He=Xe.ownerDocument)?He.defaultView||He.parentWindow:window,Ge?(Tt=u.relatedTarget||u.toElement,Ge=Ue,Tt=Tt?xt(Tt):null,Tt!==null&&(ma=o(Tt),tr=Tt.tag,Tt!==ma||tr!==5&&tr!==27&&tr!==6)&&(Tt=null)):(Ge=null,Tt=Ue),Ge!==Tt)){if(tr=dd,et="onMouseLeave",Le="onMouseEnter",Ae="mouse",(n==="pointerout"||n==="pointerover")&&(tr=Ma,et="onPointerLeave",Le="onPointerEnter",Ae="pointer"),ma=Ge==null?He:ft(Ge),ze=Tt==null?He:ft(Tt),He=new tr(et,Ae+"leave",Ge,u,Xe),He.target=ma,He.relatedTarget=ze,et=null,xt(Xe)===Ue&&(tr=new tr(Le,Ae+"enter",Tt,u,Xe),tr.target=ze,tr.relatedTarget=ma,et=tr),ma=et,Ge&&Tt)t:{for(tr=g3,Le=Ge,Ae=Tt,ze=0,et=Le;et;et=tr(et))ze++;et=0;for(var Xt=Ae;Xt;Xt=tr(Xt))et++;for(;0<ze-et;)Le=tr(Le),ze--;for(;0<et-ze;)Ae=tr(Ae),et--;for(;ze--;){if(Le===Ae||Ae!==null&&Le===Ae.alternate){tr=Le;break t}Le=tr(Le),Ae=tr(Ae)}tr=null}else tr=null;Ge!==null&&wy(tt,He,Ge,tr,!1),Tt!==null&&ma!==null&&wy(tt,ma,Tt,tr,!0)}}e:{if(He=Ue?ft(Ue):window,Ge=He.nodeName&&He.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&He.type==="file")var Gr=Vl;else if(fd(He))if(un)Gr=zi;else{Gr=Ba;var Mt=mc}else Ge=He.nodeName,!Ge||Ge.toLowerCase()!=="input"||He.type!=="checkbox"&&He.type!=="radio"?Ue&&id(Ue.elementType)&&(Gr=Vl):Gr=c0;if(Gr&&(Gr=Gr(n,Ue))){kn(tt,Gr,u,Xe);break e}Mt&&Mt(n,He,Ue),n==="focusout"&&Ue&&He.type==="number"&&Ue.memoizedProps.value!=null&&ad(He,"number",He.value)}switch(Mt=Ue?ft(Ue):window,n){case"focusin":(fd(Mt)||Mt.contentEditable==="true")&&(An=Mt,vl=Ue,Ls=null);break;case"focusout":Ls=vl=An=null;break;case"mousedown":Un=!0;break;case"contextmenu":case"mouseup":case"dragend":Un=!1,Hr(tt,u,Xe);break;case"selectionchange":if(Eo)break;case"keydown":case"keyup":Hr(tt,u,Xe)}var vr;if(Pi)e:{switch(n){case"compositionstart":var Fr="onCompositionStart";break e;case"compositionend":Fr="onCompositionEnd";break e;case"compositionupdate":Fr="onCompositionUpdate";break e}Fr=void 0}else Ii?Yl(n,u)&&(Fr="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Fr="onCompositionStart");Fr&&(hl&&u.locale!=="ko"&&(Ii||Fr!=="onCompositionStart"?Fr==="onCompositionEnd"&&Ii&&(vr=i0()):(En=Xe,No="value"in En?En.value:En.textContent,Ii=!0)),Mt=Fh(Ue,Fr),0<Mt.length&&(Fr=new De(Fr,n,null,u,Xe),tt.push({event:Fr,listeners:Mt}),vr?Fr.data=vr:(vr=hc(u),vr!==null&&(Fr.data=vr)))),(vr=So?Ws(n,u):pl(n,u))&&(Fr=Fh(Ue,"onBeforeInput"),0<Fr.length&&(Mt=new De("onBeforeInput","beforeinput",null,u,Xe),tt.push({event:Mt,listeners:Fr}),Mt.data=vr)),h3(tt,n,Ue,u,Xe)}vy(tt,l)})}function rf(n,l,u){return{instance:n,listener:l,currentTarget:u}}function Fh(n,l){for(var u=l+"Capture",x=[];n!==null;){var j=n,k=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||k===null||(j=Sn(n,u),j!=null&&x.unshift(rf(n,j,k)),j=Sn(n,l),j!=null&&x.push(rf(n,j,k))),n.tag===3)return x;n=n.return}return[]}function g3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function wy(n,l,u,x,j){for(var k=l._reactName,Y=[];u!==null&&u!==x;){var se=u,we=se.alternate,Ue=se.stateNode;if(se=se.tag,we!==null&&we===x)break;se!==5&&se!==26&&se!==27||Ue===null||(we=Ue,j?(Ue=Sn(u,k),Ue!=null&&Y.unshift(rf(u,Ue,we))):j||(Ue=Sn(u,k),Ue!=null&&Y.push(rf(u,Ue,we)))),u=u.return}Y.length!==0&&n.push({event:l,listeners:Y})}var b3=/\r\n?/g,y3=/\u0000|\uFFFD/g;function jy(n){return(typeof n=="string"?n:""+n).replace(b3,`
`).replace(y3,"")}function Sy(n,l){return l=jy(l),jy(n)===l}function xa(n,l,u,x,j,k){switch(u){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||pi(n,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&pi(n,""+x);break;case"className":al(n,"class",x);break;case"tabIndex":al(n,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":al(n,u,x);break;case"style":r0(n,x,k);break;case"data":if(l!=="object"){al(n,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||u!=="href")){n.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){n.removeAttribute(u);break}x=dn(""+x),n.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){n.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(u==="formAction"?(l!=="input"&&xa(n,l,"name",j.name,j,null),xa(n,l,"formEncType",j.formEncType,j,null),xa(n,l,"formMethod",j.formMethod,j,null),xa(n,l,"formTarget",j.formTarget,j,null)):(xa(n,l,"encType",j.encType,j,null),xa(n,l,"method",j.method,j,null),xa(n,l,"target",j.target,j,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){n.removeAttribute(u);break}x=dn(""+x),n.setAttribute(u,x);break;case"onClick":x!=null&&(n.onclick=xi);break;case"onScroll":x!=null&&Lr("scroll",n);break;case"onScrollEnd":x!=null&&Lr("scrollend",n);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(s(61));if(u=x.__html,u!=null){if(j.children!=null)throw Error(s(60));n.innerHTML=u}}break;case"multiple":n.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":n.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){n.removeAttribute("xlink:href");break}u=dn(""+x),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?n.setAttribute(u,""+x):n.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?n.setAttribute(u,""):n.removeAttribute(u);break;case"capture":case"download":x===!0?n.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?n.setAttribute(u,x):n.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?n.setAttribute(u,x):n.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?n.removeAttribute(u):n.setAttribute(u,x);break;case"popover":Lr("beforetoggle",n),Lr("toggle",n),ja(n,"popover",x);break;case"xlinkActuate":hi(n,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":hi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":hi(n,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":hi(n,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":hi(n,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":hi(n,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":hi(n,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":hi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":hi(n,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ja(n,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ld.get(u)||u,ja(n,u,x))}}function xm(n,l,u,x,j,k){switch(u){case"style":r0(n,x,k);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(s(61));if(u=x.__html,u!=null){if(j.children!=null)throw Error(s(60));n.innerHTML=u}}break;case"children":typeof x=="string"?pi(n,x):(typeof x=="number"||typeof x=="bigint")&&pi(n,""+x);break;case"onScroll":x!=null&&Lr("scroll",n);break;case"onScrollEnd":x!=null&&Lr("scrollend",n);break;case"onClick":x!=null&&(n.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(j=u.endsWith("Capture"),l=u.slice(2,j?u.length-7:void 0),k=n[he]||null,k=k!=null?k[u]:null,typeof k=="function"&&n.removeEventListener(l,k,j),typeof x=="function")){typeof k!="function"&&k!==null&&(u in n?n[u]=null:n.hasAttribute(u)&&n.removeAttribute(u)),n.addEventListener(l,x,j);break e}u in n?n[u]=x:x===!0?n.setAttribute(u,""):ja(n,u,x)}}}function Qs(n,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lr("error",n),Lr("load",n);var x=!1,j=!1,k;for(k in u)if(u.hasOwnProperty(k)){var Y=u[k];if(Y!=null)switch(k){case"src":x=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:xa(n,l,k,Y,u,null)}}j&&xa(n,l,"srcSet",u.srcSet,u,null),x&&xa(n,l,"src",u.src,u,null);return;case"input":Lr("invalid",n);var se=k=Y=j=null,we=null,Ue=null;for(x in u)if(u.hasOwnProperty(x)){var Xe=u[x];if(Xe!=null)switch(x){case"name":j=Xe;break;case"type":Y=Xe;break;case"checked":we=Xe;break;case"defaultChecked":Ue=Xe;break;case"value":k=Xe;break;case"defaultValue":se=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(s(137,l));break;default:xa(n,l,x,Xe,u,null)}}e0(n,k,se,we,Ue,Y,j,!1);return;case"select":Lr("invalid",n),x=Y=k=null;for(j in u)if(u.hasOwnProperty(j)&&(se=u[j],se!=null))switch(j){case"value":k=se;break;case"defaultValue":Y=se;break;case"multiple":x=se;default:xa(n,l,j,se,u,null)}l=k,u=Y,n.multiple=!!x,l!=null?Vs(n,!!x,l,!1):u!=null&&Vs(n,!!x,u,!0);return;case"textarea":Lr("invalid",n),k=j=x=null;for(Y in u)if(u.hasOwnProperty(Y)&&(se=u[Y],se!=null))switch(Y){case"value":x=se;break;case"defaultValue":j=se;break;case"children":k=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(91));break;default:xa(n,l,Y,se,u,null)}nd(n,x,j,k);return;case"option":for(we in u)u.hasOwnProperty(we)&&(x=u[we],x!=null)&&(we==="selected"?n.selected=x&&typeof x!="function"&&typeof x!="symbol":xa(n,l,we,x,u,null));return;case"dialog":Lr("beforetoggle",n),Lr("toggle",n),Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":Lr("load",n);break;case"video":case"audio":for(x=0;x<tf.length;x++)Lr(tf[x],n);break;case"image":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"embed":case"source":case"link":Lr("error",n),Lr("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ue in u)if(u.hasOwnProperty(Ue)&&(x=u[Ue],x!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:xa(n,l,Ue,x,u,null)}return;default:if(id(l)){for(Xe in u)u.hasOwnProperty(Xe)&&(x=u[Xe],x!==void 0&&xm(n,l,Xe,x,u,void 0));return}}for(se in u)u.hasOwnProperty(se)&&(x=u[se],x!=null&&xa(n,l,se,x,u,null))}function v3(n,l,u,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,k=null,Y=null,se=null,we=null,Ue=null,Xe=null;for(Ge in u){var tt=u[Ge];if(u.hasOwnProperty(Ge)&&tt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":we=tt;default:x.hasOwnProperty(Ge)||xa(n,l,Ge,null,x,tt)}}for(var He in x){var Ge=x[He];if(tt=u[He],x.hasOwnProperty(He)&&(Ge!=null||tt!=null))switch(He){case"type":k=Ge;break;case"name":j=Ge;break;case"checked":Ue=Ge;break;case"defaultChecked":Xe=Ge;break;case"value":Y=Ge;break;case"defaultValue":se=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(s(137,l));break;default:Ge!==tt&&xa(n,l,He,Ge,x,tt)}}oc(n,Y,se,we,Ue,Xe,k,j);return;case"select":Ge=Y=se=He=null;for(k in u)if(we=u[k],u.hasOwnProperty(k)&&we!=null)switch(k){case"value":break;case"multiple":Ge=we;default:x.hasOwnProperty(k)||xa(n,l,k,null,x,we)}for(j in x)if(k=x[j],we=u[j],x.hasOwnProperty(j)&&(k!=null||we!=null))switch(j){case"value":He=k;break;case"defaultValue":se=k;break;case"multiple":Y=k;default:k!==we&&xa(n,l,j,k,x,we)}l=se,u=Y,x=Ge,He!=null?Vs(n,!!u,He,!1):!!x!=!!u&&(l!=null?Vs(n,!!u,l,!0):Vs(n,!!u,u?[]:"",!1));return;case"textarea":Ge=He=null;for(se in u)if(j=u[se],u.hasOwnProperty(se)&&j!=null&&!x.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:xa(n,l,se,null,x,j)}for(Y in x)if(j=x[Y],k=u[Y],x.hasOwnProperty(Y)&&(j!=null||k!=null))switch(Y){case"value":He=j;break;case"defaultValue":Ge=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:j!==k&&xa(n,l,Y,j,x,k)}sd(n,He,Ge);return;case"option":for(var Tt in u)He=u[Tt],u.hasOwnProperty(Tt)&&He!=null&&!x.hasOwnProperty(Tt)&&(Tt==="selected"?n.selected=!1:xa(n,l,Tt,null,x,He));for(we in x)He=x[we],Ge=u[we],x.hasOwnProperty(we)&&He!==Ge&&(He!=null||Ge!=null)&&(we==="selected"?n.selected=He&&typeof He!="function"&&typeof He!="symbol":xa(n,l,we,He,x,Ge));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tr in u)He=u[tr],u.hasOwnProperty(tr)&&He!=null&&!x.hasOwnProperty(tr)&&xa(n,l,tr,null,x,He);for(Ue in x)if(He=x[Ue],Ge=u[Ue],x.hasOwnProperty(Ue)&&He!==Ge&&(He!=null||Ge!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(s(137,l));break;default:xa(n,l,Ue,He,x,Ge)}return;default:if(id(l)){for(var ma in u)He=u[ma],u.hasOwnProperty(ma)&&He!==void 0&&!x.hasOwnProperty(ma)&&xm(n,l,ma,void 0,x,He);for(Xe in x)He=x[Xe],Ge=u[Xe],!x.hasOwnProperty(Xe)||He===Ge||He===void 0&&Ge===void 0||xm(n,l,Xe,He,x,Ge);return}}for(var Le in u)He=u[Le],u.hasOwnProperty(Le)&&He!=null&&!x.hasOwnProperty(Le)&&xa(n,l,Le,null,x,He);for(tt in x)He=x[tt],Ge=u[tt],!x.hasOwnProperty(tt)||He===Ge||He==null&&Ge==null||xa(n,l,tt,He,x,Ge)}function Ey(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,u=performance.getEntriesByType("resource"),x=0;x<u.length;x++){var j=u[x],k=j.transferSize,Y=j.initiatorType,se=j.duration;if(k&&se&&Ey(Y)){for(Y=0,se=j.responseEnd,x+=1;x<u.length;x++){var we=u[x],Ue=we.startTime;if(Ue>se)break;var Xe=we.transferSize,tt=we.initiatorType;Xe&&Ey(tt)&&(we=we.responseEnd,Y+=Xe*(we<se?1:(se-Ue)/(we-Ue)))}if(--x,l+=8*(k+Y)/(j.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var mm=null,gm=null;function Oh(n){return n.nodeType===9?n:n.ownerDocument}function ky(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function bm(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ym=null;function w3(){var n=window.event;return n&&n.type==="popstate"?n===ym?!1:(ym=n,!0):(ym=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,j3=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(n){return Cy.resolve(null).then(n).catch(E3)}:_y;function E3(n){setTimeout(function(){throw n})}function Pc(n){return n==="head"}function Ty(n,l){var u=l,x=0;do{var j=u.nextSibling;if(n.removeChild(u),j&&j.nodeType===8)if(u=j.data,u==="/$"||u==="/&"){if(x===0){n.removeChild(j),H0(l);return}x--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")x++;else if(u==="html")af(n.ownerDocument.documentElement);else if(u==="head"){u=n.ownerDocument.head,af(u);for(var k=u.firstChild;k;){var Y=k.nextSibling,se=k.nodeName;k[Be]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=Y}}else u==="body"&&af(n.ownerDocument.body);u=j}while(u);H0(l)}function Dy(n,l){var u=n;n=0;do{var x=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(n===0)break;n--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||n++;u=x}while(u)}function vm(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":vm(u),ct(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}n.removeChild(u)}}function k3(n,l,u,x){for(;n.nodeType===1;){var j=u;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(x){if(!n[Be])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(k=n.getAttribute("rel"),k==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(k!==j.rel||n.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||n.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||n.getAttribute("title")!==(j.title==null?null:j.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(k=n.getAttribute("src"),(k!==(j.src==null?null:j.src)||n.getAttribute("type")!==(j.type==null?null:j.type)||n.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&k&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var k=j.name==null?null:""+j.name;if(j.type==="hidden"&&n.getAttribute("name")===k)return n}else return n;if(n=Vi(n.nextSibling),n===null)break}return null}function A3(n,l,u){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!u||(n=Vi(n.nextSibling),n===null))return null;return n}function Ly(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Vi(n.nextSibling),n===null))return null;return n}function Nm(n){return n.data==="$?"||n.data==="$~"}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _3(n,l){var u=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||u.readyState!=="loading")l();else{var x=function(){l(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),n._reactRetry=x}}function Vi(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var jm=null;function Ry(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"||u==="/&"){if(l===0)return Vi(n.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}n=n.nextSibling}return null}function Fy(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return n;l--}else u!=="/$"&&u!=="/&"||l++}n=n.previousSibling}return null}function Oy(n,l,u){switch(l=Oh(u),n){case"html":if(n=l.documentElement,!n)throw Error(s(452));return n;case"head":if(n=l.head,!n)throw Error(s(453));return n;case"body":if(n=l.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function af(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);ct(n)}var Wi=new Map,Py=new Set;function Ph(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qo=re.d;re.d={f:C3,r:T3,D:D3,C:L3,L:R3,m:F3,X:P3,S:O3,M:I3};function C3(){var n=qo.f(),l=Ah();return n||l}function T3(n){var l=Nt(n);l!==null&&l.tag===5&&l.type==="form"?Q1(l):qo.r(n)}var B0=typeof document>"u"?null:document;function Iy(n,l,u){var x=B0;if(x&&typeof l=="string"&&l){var j=Ya(l);j='link[rel="'+n+'"][href="'+j+'"]',typeof u=="string"&&(j+='[crossorigin="'+u+'"]'),Py.has(j)||(Py.add(j),n={rel:n,crossOrigin:u,href:l},x.querySelector(j)===null&&(l=x.createElement("link"),Qs(l,"link",n),At(l),x.head.appendChild(l)))}}function D3(n){qo.D(n),Iy("dns-prefetch",n,null)}function L3(n,l){qo.C(n,l),Iy("preconnect",n,l)}function R3(n,l,u){qo.L(n,l,u);var x=B0;if(x&&n&&l){var j='link[rel="preload"][as="'+Ya(l)+'"]';l==="image"&&u&&u.imageSrcSet?(j+='[imagesrcset="'+Ya(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(j+='[imagesizes="'+Ya(u.imageSizes)+'"]')):j+='[href="'+Ya(n)+'"]';var k=j;switch(l){case"style":k=z0(n);break;case"script":k=U0(n)}Wi.has(k)||(n=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:n,as:l},u),Wi.set(k,n),x.querySelector(j)!==null||l==="style"&&x.querySelector(sf(k))||l==="script"&&x.querySelector(nf(k))||(l=x.createElement("link"),Qs(l,"link",n),At(l),x.head.appendChild(l)))}}function F3(n,l){qo.m(n,l);var u=B0;if(u&&n){var x=l&&typeof l.as=="string"?l.as:"script",j='link[rel="modulepreload"][as="'+Ya(x)+'"][href="'+Ya(n)+'"]',k=j;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=U0(n)}if(!Wi.has(k)&&(n=g({rel:"modulepreload",href:n},l),Wi.set(k,n),u.querySelector(j)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nf(k)))return}x=u.createElement("link"),Qs(x,"link",n),At(x),u.head.appendChild(x)}}}function O3(n,l,u){qo.S(n,l,u);var x=B0;if(x&&n){var j=bt(x).hoistableStyles,k=z0(n);l=l||"default";var Y=j.get(k);if(!Y){var se={loading:0,preload:null};if(Y=x.querySelector(sf(k)))se.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":l},u),(u=Wi.get(k))&&Sm(n,u);var we=Y=x.createElement("link");At(we),Qs(we,"link",n),we._p=new Promise(function(Ue,Xe){we.onload=Ue,we.onerror=Xe}),we.addEventListener("load",function(){se.loading|=1}),we.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Ih(Y,l,x)}Y={type:"stylesheet",instance:Y,count:1,state:se},j.set(k,Y)}}}function P3(n,l){qo.X(n,l);var u=B0;if(u&&n){var x=bt(u).hoistableScripts,j=U0(n),k=x.get(j);k||(k=u.querySelector(nf(j)),k||(n=g({src:n,async:!0},l),(l=Wi.get(j))&&Em(n,l),k=u.createElement("script"),At(k),Qs(k,"link",n),u.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(j,k))}}function I3(n,l){qo.M(n,l);var u=B0;if(u&&n){var x=bt(u).hoistableScripts,j=U0(n),k=x.get(j);k||(k=u.querySelector(nf(j)),k||(n=g({src:n,async:!0,type:"module"},l),(l=Wi.get(j))&&Em(n,l),k=u.createElement("script"),At(k),Qs(k,"link",n),u.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(j,k))}}function My(n,l,u,x){var j=(j=ne.current)?Ph(j):null;if(!j)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=z0(u.href),u=bt(j).hoistableStyles,x=u.get(l),x||(x={type:"style",instance:null,count:0,state:null},u.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){n=z0(u.href);var k=bt(j).hoistableStyles,Y=k.get(n);if(Y||(j=j.ownerDocument||j,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(n,Y),(k=j.querySelector(sf(n)))&&!k._p&&(Y.instance=k,Y.state.loading=5),Wi.has(n)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Wi.set(n,u),k||M3(j,n,u,Y.state))),l&&x===null)throw Error(s(528,""));return Y}if(l&&x!==null)throw Error(s(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=U0(u),u=bt(j).hoistableScripts,x=u.get(l),x||(x={type:"script",instance:null,count:0,state:null},u.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function z0(n){return'href="'+Ya(n)+'"'}function sf(n){return'link[rel="stylesheet"]['+n+"]"}function By(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function M3(n,l,u,x){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=n.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),Qs(l,"link",u),At(l),n.head.appendChild(l))}function U0(n){return'[src="'+Ya(n)+'"]'}function nf(n){return"script[async]"+n}function zy(n,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var x=n.querySelector('style[data-href~="'+Ya(u.href)+'"]');if(x)return l.instance=x,At(x),x;var j=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(n.ownerDocument||n).createElement("style"),At(x),Qs(x,"style",j),Ih(x,u.precedence,n),l.instance=x;case"stylesheet":j=z0(u.href);var k=n.querySelector(sf(j));if(k)return l.state.loading|=4,l.instance=k,At(k),k;x=By(u),(j=Wi.get(j))&&Sm(x,j),k=(n.ownerDocument||n).createElement("link"),At(k);var Y=k;return Y._p=new Promise(function(se,we){Y.onload=se,Y.onerror=we}),Qs(k,"link",x),l.state.loading|=4,Ih(k,u.precedence,n),l.instance=k;case"script":return k=U0(u.src),(j=n.querySelector(nf(k)))?(l.instance=j,At(j),j):(x=u,(j=Wi.get(k))&&(x=g({},u),Em(x,j)),n=n.ownerDocument||n,j=n.createElement("script"),At(j),Qs(j,"link",x),n.head.appendChild(j),l.instance=j);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,Ih(x,u.precedence,n));return l.instance}function Ih(n,l,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=x.length?x[x.length-1]:null,k=j,Y=0;Y<x.length;Y++){var se=x[Y];if(se.dataset.precedence===l)k=se;else if(k!==j)break}k?k.parentNode.insertBefore(n,k.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(n,l.firstChild))}function Sm(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function Em(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var Mh=null;function Uy(n,l,u){if(Mh===null){var x=new Map,j=Mh=new Map;j.set(u,x)}else j=Mh,x=j.get(u),x||(x=new Map,j.set(u,x));if(x.has(n))return x;for(x.set(n,null),u=u.getElementsByTagName(n),j=0;j<u.length;j++){var k=u[j];if(!(k[Be]||k[ce]||n==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=k.getAttribute(l)||"";Y=n+Y;var se=x.get(Y);se?se.push(k):x.set(Y,[k])}}return x}function Hy(n,l,u){n=n.ownerDocument||n,n.head.insertBefore(u,l==="title"?n.querySelector("head > title"):null)}function B3(n,l,u){if(u===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(n=l.disabled,typeof l.precedence=="string"&&n==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function qy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function z3(n,l,u,x){if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var j=z0(x.href),k=l.querySelector(sf(j));if(k){l=k._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=Bh.bind(n),l.then(n,n)),u.state.loading|=4,u.instance=k,At(k);return}k=l.ownerDocument||l,x=By(x),(j=Wi.get(j))&&Sm(x,j),k=k.createElement("link"),At(k);var Y=k;Y._p=new Promise(function(se,we){Y.onload=se,Y.onerror=we}),Qs(k,"link",x),u.instance=k}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(n.count++,u=Bh.bind(n),l.addEventListener("load",u),l.addEventListener("error",u))}}var km=0;function U3(n,l){return n.stylesheets&&n.count===0&&Uh(n,n.stylesheets),0<n.count||0<n.imgCount?function(u){var x=setTimeout(function(){if(n.stylesheets&&Uh(n,n.stylesheets),n.unsuspend){var k=n.unsuspend;n.unsuspend=null,k()}},6e4+l);0<n.imgBytes&&km===0&&(km=62500*N3());var j=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Uh(n,n.stylesheets),n.unsuspend)){var k=n.unsuspend;n.unsuspend=null,k()}},(n.imgBytes>km?50:800)+l);return n.unsuspend=u,function(){n.unsuspend=null,clearTimeout(x),clearTimeout(j)}}:null}function Bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zh=null;function Uh(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zh=new Map,l.forEach(H3,n),zh=null,Bh.call(n))}function H3(n,l){if(!(l.state.loading&4)){var u=zh.get(n);if(u)var x=u.get(null);else{u=new Map,zh.set(n,u);for(var j=n.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<j.length;k++){var Y=j[k];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(u.set(Y.dataset.precedence,Y),x=Y)}x&&u.set(null,x)}j=l.instance,Y=j.getAttribute("data-precedence"),k=u.get(Y)||x,k===x&&u.set(null,j),u.set(Y,j),this.count++,x=Bh.bind(this),j.addEventListener("load",x),j.addEventListener("error",x),k?k.parentNode.insertBefore(j,k.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(j,n.firstChild)),l.state.loading|=4}}var lf={$$typeof:T,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function q3(n,l,u,x,j,k,Y,se,we){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=x,this.onUncaughtError=j,this.onCaughtError=k,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function Gy(n,l,u,x,j,k,Y,se,we,Ue,Xe,tt){return n=new q3(n,l,u,Y,we,Ue,Xe,tt,se),l=1,k===!0&&(l|=24),k=Fs(3,null,null,l),n.current=k,k.stateNode=n,l=Sc(),l.refCount++,n.pooledCache=l,l.refCount++,k.memoizedState={element:x,isDehydrated:u,cache:l},vt(k),n}function $y(n){return n?(n=Es,n):Es}function Yy(n,l,u,x,j,k){j=$y(j),x.context===null?x.context=j:x.pendingContext=j,x=Zt(l),x.payload={element:u},k=k===void 0?null:k,k!==null&&(x.callback=k),u=gr(n,x,l),u!==null&&(ti(u,n,l),Jr(u,n,l))}function Vy(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<l?u:l}}function Am(n,l){Vy(n,l),(n=n.alternate)&&Vy(n,l)}function Wy(n){if(n.tag===13||n.tag===31){var l=Nl(n,67108864);l!==null&&ti(l,n,67108864),Am(n,67108864)}}function Xy(n){if(n.tag===13||n.tag===31){var l=Si();l=da(l);var u=Nl(n,l);u!==null&&ti(u,n,l),Am(n,l)}}var Hh=!0;function G3(n,l,u,x){var j=J.T;J.T=null;var k=re.p;try{re.p=2,_m(n,l,u,x)}finally{re.p=k,J.T=j}}function $3(n,l,u,x){var j=J.T;J.T=null;var k=re.p;try{re.p=8,_m(n,l,u,x)}finally{re.p=k,J.T=j}}function _m(n,l,u,x){if(Hh){var j=Cm(x);if(j===null)pm(n,l,x,qh,u),Ky(n,x);else if(V3(j,n,l,u,x))x.stopPropagation();else if(Ky(n,x),l&4&&-1<Y3.indexOf(n)){for(;j!==null;){var k=Nt(j);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var Y=Ot(k.pendingLanes);if(Y!==0){var se=k;for(se.pendingLanes|=2,se.entangledLanes|=2;Y;){var we=1<<31-Nr(Y);se.entanglements[1]|=we,Y&=~we}io(k),(Zr&6)===0&&(Eh=Vt()+500,ef(0))}}break;case 31:case 13:se=Nl(k,2),se!==null&&ti(se,k,2),Ah(),Am(k,2)}if(k=Cm(x),k===null&&pm(n,l,x,qh,u),k===j)break;j=k}j!==null&&x.stopPropagation()}else pm(n,l,x,null,u)}}function Cm(n){return n=yo(n),Tm(n)}var qh=null;function Tm(n){if(qh=null,n=xt(n),n!==null){var l=o(n);if(l===null)n=null;else{var u=l.tag;if(u===13){if(n=c(l),n!==null)return n;n=null}else if(u===31){if(n=d(l),n!==null)return n;n=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return qh=n,null}function Jy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case sr:return 2;case br:return 8;case ir:case Ft:return 32;case lr:return 268435456;default:return 32}default:return 32}}var Dm=!1,Ic=null,Mc=null,Bc=null,of=new Map,cf=new Map,zc=[],Y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(n,l){switch(n){case"focusin":case"focusout":Ic=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":of.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(l.pointerId)}}function df(n,l,u,x,j,k){return n===null||n.nativeEvent!==k?(n={blockedOn:l,domEventName:u,eventSystemFlags:x,nativeEvent:k,targetContainers:[j]},l!==null&&(l=Nt(l),l!==null&&Wy(l)),n):(n.eventSystemFlags|=x,l=n.targetContainers,j!==null&&l.indexOf(j)===-1&&l.push(j),n)}function V3(n,l,u,x,j){switch(l){case"focusin":return Ic=df(Ic,n,l,u,x,j),!0;case"dragenter":return Mc=df(Mc,n,l,u,x,j),!0;case"mouseover":return Bc=df(Bc,n,l,u,x,j),!0;case"pointerover":var k=j.pointerId;return of.set(k,df(of.get(k)||null,n,l,u,x,j)),!0;case"gotpointercapture":return k=j.pointerId,cf.set(k,df(cf.get(k)||null,n,l,u,x,j)),!0}return!1}function Zy(n){var l=xt(n.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){n.blockedOn=l,me(n.priority,function(){Xy(u)});return}}else if(l===31){if(l=d(u),l!==null){n.blockedOn=l,me(n.priority,function(){Xy(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gh(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var u=Cm(n.nativeEvent);if(u===null){u=n.nativeEvent;var x=new u.constructor(u.type,u);sl=x,u.target.dispatchEvent(x),sl=null}else return l=Nt(u),l!==null&&Wy(l),n.blockedOn=u,!1;l.shift()}return!0}function Qy(n,l,u){Gh(n)&&u.delete(l)}function W3(){Dm=!1,Ic!==null&&Gh(Ic)&&(Ic=null),Mc!==null&&Gh(Mc)&&(Mc=null),Bc!==null&&Gh(Bc)&&(Bc=null),of.forEach(Qy),cf.forEach(Qy)}function $h(n,l){n.blockedOn===l&&(n.blockedOn=null,Dm||(Dm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W3)))}var Yh=null;function e2(n){Yh!==n&&(Yh=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===n&&(Yh=null);for(var l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],j=n[l+2];if(typeof x!="function"){if(Tm(x||u)===null)continue;break}var k=Nt(u);k!==null&&(n.splice(l,3),l-=3,Cx(k,{pending:!0,data:j,method:u.method,action:x},x,j))}}))}function H0(n){function l(we){return $h(we,n)}Ic!==null&&$h(Ic,n),Mc!==null&&$h(Mc,n),Bc!==null&&$h(Bc,n),of.forEach(l),cf.forEach(l);for(var u=0;u<zc.length;u++){var x=zc[u];x.blockedOn===n&&(x.blockedOn=null)}for(;0<zc.length&&(u=zc[0],u.blockedOn===null);)Zy(u),u.blockedOn===null&&zc.shift();if(u=(n.ownerDocument||n).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var j=u[x],k=u[x+1],Y=j[he]||null;if(typeof k=="function")Y||e2(u);else if(Y){var se=null;if(k&&k.hasAttribute("formAction")){if(j=k,Y=k[he]||null)se=Y.formAction;else if(Tm(j)!==null)continue}else se=Y.action;typeof se=="function"?u[x+1]=se:(u.splice(x,3),x-=3),e2(u)}}}function t2(){function n(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(Y){return j=Y})},focusReset:"manual",scroll:"manual"})}function l(){j!==null&&(j(),j=null),x||setTimeout(u,20)}function u(){if(!x&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,j=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){x=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),j!==null&&(j(),j=null)}}}function Lm(n){this._internalRoot=n}Vh.prototype.render=Lm.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(s(409));var u=l.current,x=Si();Yy(u,x,n,l,null,null)},Vh.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;Yy(n.current,2,null,n,null,null),Ah(),l[be]=null}};function Vh(n){this._internalRoot=n}Vh.prototype.unstable_scheduleHydration=function(n){if(n){var l=ee();n={blockedOn:null,target:n,priority:l};for(var u=0;u<zc.length&&l!==0&&l<zc[u].priority;u++);zc.splice(u,0,n),u===0&&Zy(n)}};var r2=r.version;if(r2!=="19.2.3")throw Error(s(527,r2,"19.2.3"));re.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(l),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var X3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{yr=Wh.inject(X3),$t=Wh}catch{}}return ff.createRoot=function(n,l){if(!i(n))throw Error(s(299));var u=!1,x="",j=cb,k=db,Y=ub;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(j=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError)),l=Gy(n,1,!1,null,null,u,x,null,j,k,Y,t2),n[be]=l.current,hm(n),new Lm(l)},ff.hydrateRoot=function(n,l,u){if(!i(n))throw Error(s(299));var x=!1,j="",k=cb,Y=db,se=ub,we=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onUncaughtError!==void 0&&(k=u.onUncaughtError),u.onCaughtError!==void 0&&(Y=u.onCaughtError),u.onRecoverableError!==void 0&&(se=u.onRecoverableError),u.formState!==void 0&&(we=u.formState)),l=Gy(n,1,!0,l,u??null,x,j,we,k,Y,se,t2),l.context=$y(null),u=l.current,x=Si(),x=da(x),j=Zt(x),j.callback=null,gr(u,j,x),u=x,l.current.lanes=u,Ht(l,u),io(l),n[be]=l.current,hm(n),new Vh(l)},ff.version="19.2.3",ff}var f2;function iS(){if(f2)return Om.exports;f2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Om.exports=nS(),Om.exports}var lS=iS();var h2="popstate";function oS(t={}){function r(s,i){let{pathname:o,search:c,hash:d}=s.location;return Eg("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(s,i){return typeof i=="string"?i:Cf(i)}return dS(r,a,null,t)}function Ia(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Qi(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function cS(){return Math.random().toString(36).substring(2,10)}function p2(t,r){return{usr:t.state,key:t.key,idx:r}}function Eg(t,r,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?bu(r):r,state:a,key:r&&r.key||s||cS()}}function Cf({pathname:t="/",search:r="",hash:a=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function bu(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function dS(t,r,a,s={}){let{window:i=document.defaultView,v5Compat:o=!1}=s,c=i.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let w=p(),A=w==null?null:w-f;f=w,h&&h({action:d,location:N.location,delta:A})}function b(w,A){d="PUSH";let E=Eg(N.location,w,A);f=p()+1;let T=p2(E,f),_=N.createHref(E);try{c.pushState(T,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(_)}o&&h&&h({action:d,location:N.location,delta:1})}function m(w,A){d="REPLACE";let E=Eg(N.location,w,A);f=p();let T=p2(E,f),_=N.createHref(E);c.replaceState(T,"",_),o&&h&&h({action:d,location:N.location,delta:0})}function v(w){return uS(w)}let N={get action(){return d},get location(){return t(i,c)},listen(w){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(h2,g),h=w,()=>{i.removeEventListener(h2,g),h=null}},createHref(w){return r(i,w)},createURL:v,encodeLocation(w){let A=v(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:m,go(w){return c.go(w)}};return N}function uS(t,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ia(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Cf(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function e5(t,r,a="/"){return fS(t,r,a,!1)}function fS(t,r,a,s){let i=typeof r=="string"?bu(r):r,o=ec(i.pathname||"/",a);if(o==null)return null;let c=t5(t);hS(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=SS(o);d=wS(c[h],f,s)}return d}function t5(t,r=[],a=[],s="",i=!1){let o=(c,d,h=i,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&h)return;Ia(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let g=Jo([s,p.relativePath]),b=a.concat(p);c.children&&c.children.length>0&&(Ia(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),t5(c.children,r,b,g,h)),!(c.path==null&&!c.index)&&r.push({path:g,score:vS(g,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of r5(c.path))o(c,d,!0,h)}),r}function r5(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,i=a.endsWith("?"),o=a.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let c=r5(s.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function hS(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:NS(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var pS=/^:[\w-]+$/,xS=3,mS=2,gS=1,bS=10,yS=-2,x2=t=>t==="*";function vS(t,r){let a=t.split("/"),s=a.length;return a.some(x2)&&(s+=yS),r&&(s+=mS),a.filter(i=>!x2(i)).reduce((i,o)=>i+(pS.test(o)?xS:o===""?gS:bS),s)}function NS(t,r){return t.length===r.length&&t.slice(0,-1).every((s,i)=>s===r[i])?t[t.length-1]-r[r.length-1]:0}function wS(t,r,a=!1){let{routesMeta:s}=t,i={},o="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,p=o==="/"?r:r.slice(o.length)||"/",g=kp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!g&&f&&a&&!s[s.length-1].route.index&&(g=kp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Jo([o,g.pathname]),pathnameBase:_S(Jo([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Jo([o,g.pathnameBase]))}return c}function kp(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=jS(t.path,t.caseSensitive,t.end),i=r.match(a);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:s.reduce((f,{paramName:p,isOptional:g},b)=>{if(p==="*"){let v=d[b]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=d[b];return g&&!m?f[p]=void 0:f[p]=(m||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function jS(t,r=!1,a=!0){Qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),s]}function SS(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function ec(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}var a5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ES=t=>a5.test(t);function kS(t,r="/"){let{pathname:a,search:s="",hash:i=""}=typeof t=="string"?bu(t):t,o;if(a)if(ES(a))o=a;else{if(a.includes("//")){let c=a;a=a.replace(/\/\/+/g,"/"),Qi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${a}`)}a.startsWith("/")?o=m2(a.substring(1),"/"):o=m2(a,r)}else o=r;return{pathname:o,search:CS(s),hash:TS(i)}}function m2(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Bm(t,r,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AS(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function e1(t){let r=AS(t);return r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase)}function t1(t,r,a,s=!1){let i;typeof t=="string"?i=bu(t):(i={...t},Ia(!i.pathname||!i.pathname.includes("?"),Bm("?","pathname","search",i)),Ia(!i.pathname||!i.pathname.includes("#"),Bm("#","pathname","hash",i)),Ia(!i.search||!i.search.includes("#"),Bm("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=a;else{let g=r.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}d=g>=0?r[g]:"/"}let h=kS(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Jo=t=>t.join("/").replace(/\/\/+/g,"/"),_S=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,DS=class{constructor(t,r,a,s=!1){this.status=t,this.statusText=r||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function LS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function RS(t){return t.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var s5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function n5(t,r){let a=t;if(typeof a!="string"||!a5.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,i=!1;if(s5)try{let o=new URL(window.location.href),c=a.startsWith("//")?new URL(o.protocol+a):new URL(a),d=ec(c.pathname,r);c.origin===o.origin&&d!=null?a=d+c.search+c.hash:i=!0}catch{Qi(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i5=["POST","PUT","PATCH","DELETE"];new Set(i5);var FS=["GET",...i5];new Set(FS);var yu=R.createContext(null);yu.displayName="DataRouter";var ex=R.createContext(null);ex.displayName="DataRouterState";var OS=R.createContext(!1),l5=R.createContext({isTransitioning:!1});l5.displayName="ViewTransition";var PS=R.createContext(new Map);PS.displayName="Fetchers";var IS=R.createContext(null);IS.displayName="Await";var Li=R.createContext(null);Li.displayName="Navigation";var Hf=R.createContext(null);Hf.displayName="Location";var Ml=R.createContext({outlet:null,matches:[],isDataRoute:!1});Ml.displayName="Route";var r1=R.createContext(null);r1.displayName="RouteError";var o5="REACT_ROUTER_ERROR",MS="REDIRECT",BS="ROUTE_ERROR_RESPONSE";function zS(t){if(t.startsWith(`${o5}:${MS}:{`))try{let r=JSON.parse(t.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function US(t){if(t.startsWith(`${o5}:${BS}:{`))try{let r=JSON.parse(t.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new DS(r.status,r.statusText,r.data)}catch{}}function HS(t,{relative:r}={}){Ia(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=R.useContext(Li),{hash:i,pathname:o,search:c}=qf(t,{relative:r}),d=o;return a!=="/"&&(d=o==="/"?a:Jo([a,o])),s.createHref({pathname:d,search:c,hash:i})}function vu(){return R.useContext(Hf)!=null}function oi(){return Ia(vu(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Hf).location}var c5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d5(t){R.useContext(Li).static||R.useLayoutEffect(t)}function jt(){let{isDataRoute:t}=R.useContext(Ml);return t?aE():qS()}function qS(){Ia(vu(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(yu),{basename:r,navigator:a}=R.useContext(Li),{matches:s}=R.useContext(Ml),{pathname:i}=oi(),o=JSON.stringify(e1(s)),c=R.useRef(!1);return d5(()=>{c.current=!0}),R.useCallback((h,f={})=>{if(Qi(c.current,c5),!c.current)return;if(typeof h=="number"){a.go(h);return}let p=t1(h,JSON.parse(o),i,f.relative==="path");t==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:Jo([r,p.pathname])),(f.replace?a.replace:a.push)(p,f.state,f)},[r,a,o,i,t])}var GS=R.createContext(null);function $S(t){let r=R.useContext(Ml).outlet;return R.useMemo(()=>r&&R.createElement(GS.Provider,{value:t},r),[r,t])}function qf(t,{relative:r}={}){let{matches:a}=R.useContext(Ml),{pathname:s}=oi(),i=JSON.stringify(e1(a));return R.useMemo(()=>t1(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function YS(t,r){return u5(t,r)}function u5(t,r,a,s,i){Ia(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Li),{matches:c}=R.useContext(Ml),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let E=g&&g.path||"";h5(f,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=oi(),m;if(r){let E=typeof r=="string"?bu(r):r;Ia(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=b;let v=m.pathname||"/",N=v;if(p!=="/"){let E=p.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=e5(t,{pathname:N});Qi(g||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Qi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=KS(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Jo([p,o.encodeLocation?o.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Jo([p,o.encodeLocation?o.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,a,s,i);return r&&A?R.createElement(Hf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},A):A}function VS(){let t=rE(),r=LS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),a?R.createElement("pre",{style:i},a):null,c)}var WS=R.createElement(VS,null),f5=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.onError?this.props.onError(t,r):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=US(t.digest);a&&(t=a)}let r=t!==void 0?R.createElement(Ml.Provider,{value:this.props.routeContext},R.createElement(r1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(XS,{error:t},r):r}};f5.contextType=OS;var zm=new WeakMap;function XS({children:t,error:r}){let{basename:a}=R.useContext(Li);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=zS(r.digest);if(s){let i=zm.get(r);if(i)throw i;let o=n5(s.location,a);if(s5&&!zm.get(r))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw zm.set(r,c),c}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function JS({routeContext:t,match:r,children:a}){let s=R.useContext(yu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(Ml.Provider,{value:t},a)}function KS(t,r=[],a=null,s=null,i=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let o=t,c=a?.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ia(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,h=-1;if(a)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:b,errors:m}=a,v=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!m||m[g.route.id]===void 0);if(g.route.lazy||v){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=a&&s?(p,g)=>{s(p,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:RS(a.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,b)=>{let m,v=!1,N=null,w=null;a&&(m=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||WS,d&&(h<0&&b===0?(h5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===b&&(v=!0,w=g.route.hydrateFallbackElement||null)));let A=r.concat(o.slice(0,b+1)),E=()=>{let T;return m?T=N:v?T=w:g.route.Component?T=R.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=p,R.createElement(JS,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:a!=null},children:T})};return a&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?R.createElement(f5,{location:a.location,revalidation:a.revalidation,component:N,error:m,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):E()},null)}function a1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(t){let r=R.useContext(yu);return Ia(r,a1(t)),r}function QS(t){let r=R.useContext(ex);return Ia(r,a1(t)),r}function eE(t){let r=R.useContext(Ml);return Ia(r,a1(t)),r}function s1(t){let r=eE(t),a=r.matches[r.matches.length-1];return Ia(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function tE(){return s1("useRouteId")}function rE(){let t=R.useContext(r1),r=QS("useRouteError"),a=s1("useRouteError");return t!==void 0?t:r.errors?.[a]}function aE(){let{router:t}=ZS("useNavigate"),r=s1("useNavigate"),a=R.useRef(!1);return d5(()=>{a.current=!0}),R.useCallback(async(i,o={})=>{Qi(a.current,c5),a.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:r,...o}))},[t,r])}var g2={};function h5(t,r,a){!r&&!g2[t]&&(g2[t]=!0,Qi(!1,a))}R.memo(sE);function sE({routes:t,future:r,state:a,onError:s}){return u5(t,void 0,a,s,r)}function p5({to:t,replace:r,state:a,relative:s}){Ia(vu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Li);Qi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(Ml),{pathname:c}=oi(),d=jt(),h=t1(t,e1(o),c,s==="path"),f=JSON.stringify(h);return R.useEffect(()=>{d(JSON.parse(f),{replace:r,state:a,relative:s})},[d,f,s,r,a]),null}function x5(t){return $S(t.context)}function st(t){Ia(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nE({basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:o=!1,unstable_useTransitions:c}){Ia(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:d,navigator:i,static:o,unstable_useTransitions:c,future:{}}),[d,i,o,c]);typeof a=="string"&&(a=bu(a));let{pathname:f="/",search:p="",hash:g="",state:b=null,key:m="default"}=a,v=R.useMemo(()=>{let N=ec(f,d);return N==null?null:{location:{pathname:N,search:p,hash:g,state:b,key:m},navigationType:s}},[d,f,p,g,b,m,s]);return Qi(v!=null,`<Router basename="${d}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:R.createElement(Li.Provider,{value:h},R.createElement(Hf.Provider,{children:r,value:v}))}function iE({children:t,location:r}){return YS(kg(t),r)}function kg(t,r=[]){let a=[];return R.Children.forEach(t,(s,i)=>{if(!R.isValidElement(s))return;let o=[...r,i];if(s.type===R.Fragment){a.push.apply(a,kg(s.props.children,o));return}Ia(s.type===st,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ia(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kg(s.props.children,o)),a.push(c)}),a}var pp="get",xp="application/x-www-form-urlencoded";function tx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lE(t){return tx(t)&&t.tagName.toLowerCase()==="button"}function oE(t){return tx(t)&&t.tagName.toLowerCase()==="form"}function cE(t){return tx(t)&&t.tagName.toLowerCase()==="input"}function dE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uE(t,r){return t.button===0&&(!r||r==="_self")&&!dE(t)}var Xh=null;function fE(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var hE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(t){return t!=null&&!hE.has(t)?(Qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xp}"`),null):t}function pE(t,r){let a,s,i,o,c;if(oE(t)){let d=t.getAttribute("action");s=d?ec(d,r):null,a=t.getAttribute("method")||pp,i=Um(t.getAttribute("enctype"))||xp,o=new FormData(t)}else if(lE(t)||cE(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?ec(h,r):null,a=t.getAttribute("formmethod")||d.getAttribute("method")||pp,i=Um(t.getAttribute("formenctype"))||Um(d.getAttribute("enctype"))||xp,o=new FormData(d,t),!fE()){let{name:f,type:p,value:g}=t;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,g)}}else{if(tx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=pp,s=null,i=xp,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:s,method:a.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n1(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function xE(t,r,a,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:r&&ec(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function mE(t,r){if(t.id in r)return r[t.id];try{let a=await import(t.module);return r[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bE(t,r,a){let s=await Promise.all(t.map(async i=>{let o=r.routes[i.route.id];if(o){let c=await mE(o,a);return c.links?c.links():[]}return[]}));return wE(s.flat(1).filter(gE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b2(t,r,a,s,i,o){let c=(h,f)=>a[f]?h.route.id!==a[f].route.id:!0,d=(h,f)=>a[f].pathname!==h.pathname||a[f].route.path?.endsWith("*")&&a[f].params["*"]!==h.params["*"];return o==="assets"?r.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?r.filter((h,f)=>{let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function yE(t,r,{includeHydrateFallback:a}={}){return vE(t.map(s=>{let i=r.routes[s.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),a&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function vE(t){return[...new Set(t)]}function NE(t){let r={},a=Object.keys(t).sort();for(let s of a)r[s]=t[s];return r}function wE(t,r){let a=new Set;return new Set(r),t.reduce((s,i)=>{let o=JSON.stringify(NE(i));return a.has(o)||(a.add(o),s.push({key:o,link:i})),s},[])}function m5(){let t=R.useContext(yu);return n1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jE(){let t=R.useContext(ex);return n1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var i1=R.createContext(void 0);i1.displayName="FrameworkContext";function g5(){let t=R.useContext(i1);return n1(t,"You must render this element inside a <HydratedRouter> element"),t}function SE(t,r){let a=R.useContext(i1),[s,i]=R.useState(!1),[o,c]=R.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=r,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=A=>{A.forEach(E=>{c(E.isIntersecting)})},w=new IntersectionObserver(N,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[t]),R.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let m=()=>{i(!0)},v=()=>{i(!1),c(!1)};return a?t!=="intent"?[o,b,{}]:[o,b,{onFocus:hf(d,m),onBlur:hf(h,v),onMouseEnter:hf(f,m),onMouseLeave:hf(p,v),onTouchStart:hf(g,m)}]:[!1,b,{}]}function hf(t,r){return a=>{t&&t(a),a.defaultPrevented||r(a)}}function EE({page:t,...r}){let{router:a}=m5(),s=R.useMemo(()=>e5(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?R.createElement(AE,{page:t,matches:s,...r}):null}function kE(t){let{manifest:r,routeModules:a}=g5(),[s,i]=R.useState([]);return R.useEffect(()=>{let o=!1;return bE(t,r,a).then(c=>{o||i(c)}),()=>{o=!0}},[t,r,a]),s}function AE({page:t,matches:r,...a}){let s=oi(),{future:i,manifest:o,routeModules:c}=g5(),{basename:d}=m5(),{loaderData:h,matches:f}=jE(),p=R.useMemo(()=>b2(t,r,f,o,s,"data"),[t,r,f,o,s]),g=R.useMemo(()=>b2(t,r,f,o,s,"assets"),[t,r,f,o,s]),b=R.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,w=!1;if(r.forEach(E=>{let T=o.routes[E.route.id];!T||!T.hasLoader||(!p.some(_=>_.route.id===E.route.id)&&E.route.id in h&&c[E.route.id]?.shouldRevalidate||T.hasClientLoader?w=!0:N.add(E.route.id))}),N.size===0)return[];let A=xE(t,d,i.unstable_trailingSlashAwareDataRequests,"data");return w&&N.size>0&&A.searchParams.set("_routes",r.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[A.pathname+A.search]},[d,i.unstable_trailingSlashAwareDataRequests,h,s,o,p,r,t,c]),m=R.useMemo(()=>yE(g,o),[g,o]),v=kE(g);return R.createElement(R.Fragment,null,b.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),m.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),v.map(({key:N,link:w})=>R.createElement("link",{key:N,nonce:a.nonce,...w})))}function _E(...t){return r=>{t.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.12.0")}catch{}function TE({basename:t,children:r,unstable_useTransitions:a,window:s}){let i=R.useRef();i.current==null&&(i.current=oS({window:s,v5Compat:!0}));let o=i.current,[c,d]=R.useState({action:o.action,location:o.location}),h=R.useCallback(f=>{a===!1?d(f):R.startTransition(()=>d(f))},[a]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(nE,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:a})}var b5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y5=R.forwardRef(function({onClick:r,discover:a="render",prefetch:s="none",relative:i,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,...m},v){let{basename:N,unstable_useTransitions:w}=R.useContext(Li),A=typeof f=="string"&&b5.test(f),E=n5(f,N);f=E.to;let T=HS(f,{relative:i}),[_,O,W]=SE(s,m),F=FE(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:w});function P(M){r&&r(M),M.defaultPrevented||F(M)}let z=R.createElement("a",{...m,...W,href:E.absoluteURL||T,onClick:E.isExternal||o?r:P,ref:_E(v,O),target:h,"data-discover":!A&&a==="render"?"true":void 0});return _&&!A?R.createElement(R.Fragment,null,z,R.createElement(EE,{page:T})):z});y5.displayName="Link";var DE=R.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:d,children:h,...f},p){let g=qf(c,{relative:f.relative}),b=oi(),m=R.useContext(ex),{navigator:v,basename:N}=R.useContext(Li),w=m!=null&&BE(g)&&d===!0,A=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,E=b.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(E=E.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&N&&(T=ec(T,N)||T);const _=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let O=E===A||!i&&E.startsWith(A)&&E.charAt(_)==="/",W=T!=null&&(T===A||!i&&T.startsWith(A)&&T.charAt(A.length)==="/"),F={isActive:O,isPending:W,isTransitioning:w},P=O?r:void 0,z;typeof s=="function"?z=s(F):z=[s,O?"active":null,W?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(F):o;return R.createElement(y5,{...f,"aria-current":P,className:z,ref:p,style:M,to:c,viewTransition:d},typeof h=="function"?h(F):h)});DE.displayName="NavLink";var LE=R.forwardRef(({discover:t="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:i,state:o,method:c=pp,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,...m},v)=>{let{unstable_useTransitions:N}=R.useContext(Li),w=IE(),A=ME(d,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&b5.test(d),_=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let W=O.nativeEvent.submitter,F=W?.getAttribute("formmethod")||c,P=()=>w(W||O.currentTarget,{fetcherKey:r,method:F,navigate:a,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b});N&&a!==!1?R.startTransition(()=>P()):P()};return R.createElement("form",{ref:v,method:E,action:A,onSubmit:s?h:_,...m,"data-discover":!T&&t==="render"?"true":void 0})});LE.displayName="Form";function RE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v5(t){let r=R.useContext(yu);return Ia(r,RE(t)),r}function FE(t,{target:r,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let f=jt(),p=oi(),g=qf(t,{relative:o});return R.useCallback(b=>{if(uE(b,r)){b.preventDefault();let m=a!==void 0?a:Cf(p)===Cf(g),v=()=>f(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});h?R.startTransition(()=>v()):v()}},[p,f,g,a,s,r,t,i,o,c,d,h])}var OE=0,PE=()=>`__${String(++OE)}__`;function IE(){let{router:t}=v5("useSubmit"),{basename:r}=R.useContext(Li),a=tE(),s=t.fetch,i=t.navigate;return R.useCallback(async(o,c={})=>{let{action:d,method:h,encType:f,formData:p,body:g}=pE(o,r);if(c.navigate===!1){let b=c.fetcherKey||PE();await s(b,a,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||f,flushSync:c.flushSync})}else await i(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,i,r,a])}function ME(t,{relative:r}={}){let{basename:a}=R.useContext(Li),s=R.useContext(Ml);Ia(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o={...qf(t||".",{relative:r})},c=oi();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:Jo([a,o.pathname])),Cf(o)}function BE(t,{relative:r}={}){let a=R.useContext(l5);Ia(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=v5("useViewTransitionState"),i=qf(t,{relative:r});if(!a.isTransitioning)return!1;let o=ec(a.currentLocation.pathname,s)||a.currentLocation.pathname,c=ec(a.nextLocation.pathname,s)||a.nextLocation.pathname;return kp(i.pathname,c)!=null||kp(i.pathname,o)!=null}const zE=()=>e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"relative z-10 w-full h-full overflow-auto",children:e.jsx("div",{className:"p-2 sm:p-4 min-h-full w-full",children:e.jsx(x5,{})})})}),UE=({value:t,onChange:r,onBlur:a,disabled:s=!1,type:i="text",className:o=""})=>{const[c,d]=R.useState(t??"");R.useEffect(()=>{d(t??"")},[t]);const h=p=>{d(p.target.value),r&&r(p.target.value)},f=p=>{a&&a(c)};return e.jsx("input",{type:i,value:c,onChange:h,onBlur:f,disabled:s,className:`w-full px-1 border border-gray-300 focus:outline-none focus:border-blue-500 
                ${s?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-yellow-50"} 
                ${o}`})},l1=({columns:t,data:r=[],rowKey:a="id",actions:s=[],onRowClick:i,onCellChange:o,isLoading:c=!1,minRows:d=0})=>c?e.jsx("div",{className:"p-4 text-center text-gray-500 italic",children:"Loading records..."}):!r||r.length===0?e.jsx("div",{className:"border border-gray-400 p-8 text-center bg-gray-50 text-gray-500 italic",children:"No records found."}):e.jsx("div",{className:"overflow-x-auto border border-gray-400 bg-white shadow-sm",children:e.jsxs("table",{className:"w-full text-left border-collapse text-sm",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 z-10",children:e.jsxs("tr",{children:[t.map((h,f)=>e.jsx("th",{className:`px-2 py-1.5 border border-gray-400 font-bold text-gray-700 select-none ${h.align==="right"?"text-right":h.align==="center"?"text-center":"text-left"}`,style:{width:h.width},children:h.header},h.accessor||f)),s.length>0&&e.jsx("th",{className:"px-2 py-1.5 border border-gray-400 font-bold text-gray-700 text-center w-24",children:"Actions"})]})}),e.jsxs("tbody",{children:[r.map((h,f)=>{const p=h.readonly||h.locked,g=h.locked,b=h.highlighted;let m="hover:bg-blue-50 transition-colors border-b border-gray-200 group";return b&&(m+=" bg-yellow-50"),g&&(m+=" bg-gray-100 text-gray-500"),i&&(m+=" cursor-pointer"),e.jsxs("tr",{className:m,onClick:()=>i&&i(h),children:[t.map((v,N)=>{const w=h[v.accessor],A=`${h[a]||f}-${v.accessor||N}`;return e.jsx("td",{className:`px-2 py-1.5 border-r border-gray-300 last:border-r-0 ${v.align==="right"?"text-right":v.align==="center"?"text-center":"text-left"}`,children:v.render?v.render(w,h):v.editable&&!p?e.jsx(UE,{value:w,onChange:E=>o&&o(h,v.accessor,E),disabled:g}):e.jsx("span",{className:g?"italic text-gray-500":"",children:w})},A)}),s.length>0&&e.jsx("td",{className:"px-2 py-1.5 border-l border-gray-300 text-center whitespace-nowrap",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:s.map((v,N)=>{if(v.show&&!v.show(h))return null;const w=v.disabled?v.disabled(h):!1;return e.jsx("button",{onClick:A=>{A.stopPropagation(),v.onClick(h)},disabled:w,className:`text-xs font-bold px-2 py-0.5 rounded border shadow-sm transition-all
                                                            ${w?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":v.className||"bg-white border-gray-300 text-blue-600 hover:bg-blue-50 hover:border-blue-400"}`,title:v.title,children:v.label},N)})})})]},h[a]||f)}),r.length<d&&[...Array(d-r.length)].map((h,f)=>e.jsxs("tr",{className:"border-b border-gray-100 bg-white h-8",children:[t.map((p,g)=>e.jsx("td",{className:"px-2 py-1.5 border-r border-gray-200 last:border-r-0",children:""},`empty-cell-${g}`)),s.length>0&&e.jsx("td",{className:"border-l border-gray-300"})]},`empty-${f}`))]})]})});function N5(t,r){return function(){return t.apply(r,arguments)}}const{toString:HE}=Object.prototype,{getPrototypeOf:o1}=Object,{iterator:rx,toStringTag:w5}=Symbol,ax=(t=>r=>{const a=HE.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Bl=t=>(t=t.toLowerCase(),r=>ax(r)===t),sx=t=>r=>typeof r===t,{isArray:Nu}=Array,pu=sx("undefined");function Gf(t){return t!==null&&!pu(t)&&t.constructor!==null&&!pu(t.constructor)&&ai(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const j5=Bl("ArrayBuffer");function qE(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&j5(t.buffer),r}const GE=sx("string"),ai=sx("function"),S5=sx("number"),$f=t=>t!==null&&typeof t=="object",$E=t=>t===!0||t===!1,mp=t=>{if(ax(t)!=="object")return!1;const r=o1(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(w5 in t)&&!(rx in t)},YE=t=>{if(!$f(t)||Gf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},VE=Bl("Date"),WE=Bl("File"),XE=Bl("Blob"),JE=Bl("FileList"),KE=t=>$f(t)&&ai(t.pipe),ZE=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||ai(t.append)&&((r=ax(t))==="formdata"||r==="object"&&ai(t.toString)&&t.toString()==="[object FormData]"))},QE=Bl("URLSearchParams"),[e6,t6,r6,a6]=["ReadableStream","Request","Response","Headers"].map(Bl),s6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yf(t,r,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Nu(t))for(s=0,i=t.length;s<i;s++)r.call(null,t[s],s,t);else{if(Gf(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let d;for(s=0;s<c;s++)d=o[s],r.call(null,t[d],d,t)}}function E5(t,r){if(Gf(t))return null;r=r.toLowerCase();const a=Object.keys(t);let s=a.length,i;for(;s-- >0;)if(i=a[s],r===i.toLowerCase())return i;return null}const Rd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k5=t=>!pu(t)&&t!==Rd;function Ag(){const{caseless:t,skipUndefined:r}=k5(this)&&this||{},a={},s=(i,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const c=t&&E5(a,o)||o;mp(a[c])&&mp(i)?a[c]=Ag(a[c],i):mp(i)?a[c]=Ag({},i):Nu(i)?a[c]=i.slice():(!r||!pu(i))&&(a[c]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Yf(arguments[i],s);return a}const n6=(t,r,a,{allOwnKeys:s}={})=>(Yf(r,(i,o)=>{a&&ai(i)?Object.defineProperty(t,o,{value:N5(i,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),t),i6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l6=(t,r,a,s)=>{t.prototype=Object.create(r.prototype,s),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:r.prototype}),a&&Object.assign(t.prototype,a)},o6=(t,r,a,s)=>{let i,o,c;const d={};if(r=r||{},t==null)return r;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)c=i[o],(!s||s(c,t,r))&&!d[c]&&(r[c]=t[c],d[c]=!0);t=a!==!1&&o1(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r},c6=(t,r,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;const s=t.indexOf(r,a);return s!==-1&&s===a},d6=t=>{if(!t)return null;if(Nu(t))return t;let r=t.length;if(!S5(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=t[r];return a},u6=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&o1(Uint8Array)),f6=(t,r)=>{const s=(t&&t[rx]).call(t);let i;for(;(i=s.next())&&!i.done;){const o=i.value;r.call(t,o[0],o[1])}},h6=(t,r)=>{let a;const s=[];for(;(a=t.exec(r))!==null;)s.push(a);return s},p6=Bl("HTMLFormElement"),x6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,i){return s.toUpperCase()+i}),y2=(({hasOwnProperty:t})=>(r,a)=>t.call(r,a))(Object.prototype),m6=Bl("RegExp"),A5=(t,r)=>{const a=Object.getOwnPropertyDescriptors(t),s={};Yf(a,(i,o)=>{let c;(c=r(i,o,t))!==!1&&(s[o]=c||i)}),Object.defineProperties(t,s)},g6=t=>{A5(t,(r,a)=>{if(ai(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=t[a];if(ai(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},b6=(t,r)=>{const a={},s=i=>{i.forEach(o=>{a[o]=!0})};return Nu(t)?s(t):s(String(t).split(r)),a},y6=()=>{},v6=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function N6(t){return!!(t&&ai(t.append)&&t[w5]==="FormData"&&t[rx])}const w6=t=>{const r=new Array(10),a=(s,i)=>{if($f(s)){if(r.indexOf(s)>=0)return;if(Gf(s))return s;if(!("toJSON"in s)){r[i]=s;const o=Nu(s)?[]:{};return Yf(s,(c,d)=>{const h=a(c,i+1);!pu(h)&&(o[d]=h)}),r[i]=void 0,o}}return s};return a(t,0)},j6=Bl("AsyncFunction"),S6=t=>t&&($f(t)||ai(t))&&ai(t.then)&&ai(t.catch),_5=((t,r)=>t?setImmediate:r?((a,s)=>(Rd.addEventListener("message",({source:i,data:o})=>{i===Rd&&o===a&&s.length&&s.shift()()},!1),i=>{s.push(i),Rd.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ai(Rd.postMessage)),E6=typeof queueMicrotask<"u"?queueMicrotask.bind(Rd):typeof process<"u"&&process.nextTick||_5,k6=t=>t!=null&&ai(t[rx]),qe={isArray:Nu,isArrayBuffer:j5,isBuffer:Gf,isFormData:ZE,isArrayBufferView:qE,isString:GE,isNumber:S5,isBoolean:$E,isObject:$f,isPlainObject:mp,isEmptyObject:YE,isReadableStream:e6,isRequest:t6,isResponse:r6,isHeaders:a6,isUndefined:pu,isDate:VE,isFile:WE,isBlob:XE,isRegExp:m6,isFunction:ai,isStream:KE,isURLSearchParams:QE,isTypedArray:u6,isFileList:JE,forEach:Yf,merge:Ag,extend:n6,trim:s6,stripBOM:i6,inherits:l6,toFlatObject:o6,kindOf:ax,kindOfTest:Bl,endsWith:c6,toArray:d6,forEachEntry:f6,matchAll:h6,isHTMLForm:p6,hasOwnProperty:y2,hasOwnProp:y2,reduceDescriptors:A5,freezeMethods:g6,toObjectSet:b6,toCamelCase:x6,noop:y6,toFiniteNumber:v6,findKey:E5,global:Rd,isContextDefined:k5,isSpecCompliantForm:N6,toJSONObject:w6,isAsyncFn:j6,isThenable:S6,setImmediate:_5,asap:E6,isIterable:k6};let or=class C5 extends Error{static from(r,a,s,i,o,c){const d=new C5(r.message,a||r.code,s,i,o);return d.cause=r,d.name=r.name,c&&Object.assign(d,c),d}constructor(r,a,s,i,o){super(r),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),s&&(this.config=s),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}};or.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";or.ERR_BAD_OPTION="ERR_BAD_OPTION";or.ECONNABORTED="ECONNABORTED";or.ETIMEDOUT="ETIMEDOUT";or.ERR_NETWORK="ERR_NETWORK";or.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";or.ERR_DEPRECATED="ERR_DEPRECATED";or.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";or.ERR_BAD_REQUEST="ERR_BAD_REQUEST";or.ERR_CANCELED="ERR_CANCELED";or.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";or.ERR_INVALID_URL="ERR_INVALID_URL";const A6=null;function _g(t){return qe.isPlainObject(t)||qe.isArray(t)}function T5(t){return qe.endsWith(t,"[]")?t.slice(0,-2):t}function v2(t,r,a){return t?t.concat(r).map(function(i,o){return i=T5(i),!a&&o?"["+i+"]":i}).join(a?".":""):r}function _6(t){return qe.isArray(t)&&!t.some(_g)}const C6=qe.toFlatObject(qe,{},null,function(r){return/^is[A-Z]/.test(r)});function nx(t,r,a){if(!qe.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,a=qe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,w){return!qe.isUndefined(w[N])});const s=a.metaTokens,i=a.visitor||p,o=a.dots,c=a.indexes,h=(a.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(r);if(!qe.isFunction(i))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(qe.isDate(v))return v.toISOString();if(qe.isBoolean(v))return v.toString();if(!h&&qe.isBlob(v))throw new or("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(v)||qe.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,N,w){let A=v;if(v&&!w&&typeof v=="object"){if(qe.endsWith(N,"{}"))N=s?N:N.slice(0,-2),v=JSON.stringify(v);else if(qe.isArray(v)&&_6(v)||(qe.isFileList(v)||qe.endsWith(N,"[]"))&&(A=qe.toArray(v)))return N=T5(N),A.forEach(function(T,_){!(qe.isUndefined(T)||T===null)&&r.append(c===!0?v2([N],_,o):c===null?N:N+"[]",f(T))}),!1}return _g(v)?!0:(r.append(v2(w,N,o),f(v)),!1)}const g=[],b=Object.assign(C6,{defaultVisitor:p,convertValue:f,isVisitable:_g});function m(v,N){if(!qe.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));g.push(v),qe.forEach(v,function(A,E){(!(qe.isUndefined(A)||A===null)&&i.call(r,A,qe.isString(E)?E.trim():E,N,b))===!0&&m(A,N?N.concat(E):[E])}),g.pop()}}if(!qe.isObject(t))throw new TypeError("data must be an object");return m(t),r}function N2(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function c1(t,r){this._pairs=[],t&&nx(t,this,r)}const D5=c1.prototype;D5.append=function(r,a){this._pairs.push([r,a])};D5.toString=function(r){const a=r?function(s){return r.call(this,s,N2)}:N2;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function T6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function L5(t,r,a){if(!r)return t;const s=a&&a.encode||T6,i=qe.isFunction(a)?{serialize:a}:a,o=i&&i.serialize;let c;if(o?c=o(r,i):c=qe.isURLSearchParams(r)?r.toString():new c1(r,i).toString(s),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class w2{constructor(){this.handlers=[]}use(r,a,s){return this.handlers.push({fulfilled:r,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){qe.forEach(this.handlers,function(s){s!==null&&r(s)})}}const d1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},D6=typeof URLSearchParams<"u"?URLSearchParams:c1,L6=typeof FormData<"u"?FormData:null,R6=typeof Blob<"u"?Blob:null,F6={isBrowser:!0,classes:{URLSearchParams:D6,FormData:L6,Blob:R6},protocols:["http","https","file","blob","url","data"]},u1=typeof window<"u"&&typeof document<"u",Cg=typeof navigator=="object"&&navigator||void 0,O6=u1&&(!Cg||["ReactNative","NativeScript","NS"].indexOf(Cg.product)<0),P6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",I6=u1&&window.location.href||"http://localhost",M6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u1,hasStandardBrowserEnv:O6,hasStandardBrowserWebWorkerEnv:P6,navigator:Cg,origin:I6},Symbol.toStringTag,{value:"Module"})),bn={...M6,...F6};function B6(t,r){return nx(t,new bn.classes.URLSearchParams,{visitor:function(a,s,i,o){return bn.isNode&&qe.isBuffer(a)?(this.append(s,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function z6(t){return qe.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function U6(t){const r={},a=Object.keys(t);let s;const i=a.length;let o;for(s=0;s<i;s++)o=a[s],r[o]=t[o];return r}function R5(t){function r(a,s,i,o){let c=a[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=o>=a.length;return c=!c&&qe.isArray(i)?i.length:c,h?(qe.hasOwnProp(i,c)?i[c]=[i[c],s]:i[c]=s,!d):((!i[c]||!qe.isObject(i[c]))&&(i[c]=[]),r(a,s,i[c],o)&&qe.isArray(i[c])&&(i[c]=U6(i[c])),!d)}if(qe.isFormData(t)&&qe.isFunction(t.entries)){const a={};return qe.forEachEntry(t,(s,i)=>{r(z6(s),i,a,0)}),a}return null}function H6(t,r,a){if(qe.isString(t))try{return(r||JSON.parse)(t),qe.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(t)}const Vf={transitional:d1,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const s=a.getContentType()||"",i=s.indexOf("application/json")>-1,o=qe.isObject(r);if(o&&qe.isHTMLForm(r)&&(r=new FormData(r)),qe.isFormData(r))return i?JSON.stringify(R5(r)):r;if(qe.isArrayBuffer(r)||qe.isBuffer(r)||qe.isStream(r)||qe.isFile(r)||qe.isBlob(r)||qe.isReadableStream(r))return r;if(qe.isArrayBufferView(r))return r.buffer;if(qe.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return B6(r,this.formSerializer).toString();if((d=qe.isFileList(r))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return nx(d?{"files[]":r}:r,h&&new h,this.formSerializer)}}return o||i?(a.setContentType("application/json",!1),H6(r)):r}],transformResponse:[function(r){const a=this.transitional||Vf.transitional,s=a&&a.forcedJSONParsing,i=this.responseType==="json";if(qe.isResponse(r)||qe.isReadableStream(r))return r;if(r&&qe.isString(r)&&(s&&!this.responseType||i)){const c=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(r,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?or.from(d,or.ERR_BAD_RESPONSE,this,null,this.response):d}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],t=>{Vf.headers[t]={}});const q6=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G6=t=>{const r={};let a,s,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),a=c.substring(0,i).trim().toLowerCase(),s=c.substring(i+1).trim(),!(!a||r[a]&&q6[a])&&(a==="set-cookie"?r[a]?r[a].push(s):r[a]=[s]:r[a]=r[a]?r[a]+", "+s:s)}),r},j2=Symbol("internals");function pf(t){return t&&String(t).trim().toLowerCase()}function gp(t){return t===!1||t==null?t:qe.isArray(t)?t.map(gp):String(t)}function $6(t){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(t);)r[s[1]]=s[2];return r}const Y6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hm(t,r,a,s,i){if(qe.isFunction(s))return s.call(this,r,a);if(i&&(r=a),!!qe.isString(r)){if(qe.isString(s))return r.indexOf(s)!==-1;if(qe.isRegExp(s))return s.test(r)}}function V6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,s)=>a.toUpperCase()+s)}function W6(t,r){const a=qe.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+a,{value:function(i,o,c){return this[s].call(this,r,i,o,c)},configurable:!0})})}let si=class{constructor(r){r&&this.set(r)}set(r,a,s){const i=this;function o(d,h,f){const p=pf(h);if(!p)throw new Error("header name must be a non-empty string");const g=qe.findKey(i,p);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||h]=gp(d))}const c=(d,h)=>qe.forEach(d,(f,p)=>o(f,p,h));if(qe.isPlainObject(r)||r instanceof this.constructor)c(r,a);else if(qe.isString(r)&&(r=r.trim())&&!Y6(r))c(G6(r),a);else if(qe.isObject(r)&&qe.isIterable(r)){let d={},h,f;for(const p of r){if(!qe.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(h=d[f])?qe.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,a)}else r!=null&&o(a,r,s);return this}get(r,a){if(r=pf(r),r){const s=qe.findKey(this,r);if(s){const i=this[s];if(!a)return i;if(a===!0)return $6(i);if(qe.isFunction(a))return a.call(this,i,s);if(qe.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=pf(r),r){const s=qe.findKey(this,r);return!!(s&&this[s]!==void 0&&(!a||Hm(this,this[s],s,a)))}return!1}delete(r,a){const s=this;let i=!1;function o(c){if(c=pf(c),c){const d=qe.findKey(s,c);d&&(!a||Hm(s,s[d],d,a))&&(delete s[d],i=!0)}}return qe.isArray(r)?r.forEach(o):o(r),i}clear(r){const a=Object.keys(this);let s=a.length,i=!1;for(;s--;){const o=a[s];(!r||Hm(this,this[o],o,r,!0))&&(delete this[o],i=!0)}return i}normalize(r){const a=this,s={};return qe.forEach(this,(i,o)=>{const c=qe.findKey(s,o);if(c){a[c]=gp(i),delete a[o];return}const d=r?V6(o):String(o).trim();d!==o&&delete a[o],a[d]=gp(i),s[d]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return qe.forEach(this,(s,i)=>{s!=null&&s!==!1&&(a[i]=r&&qe.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const s=new this(r);return a.forEach(i=>s.set(i)),s}static accessor(r){const s=(this[j2]=this[j2]={accessors:{}}).accessors,i=this.prototype;function o(c){const d=pf(c);s[d]||(W6(i,c),s[d]=!0)}return qe.isArray(r)?r.forEach(o):o(r),this}};si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(si.prototype,({value:t},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(s){this[a]=s}}});qe.freezeMethods(si);function qm(t,r){const a=this||Vf,s=r||a,i=si.from(s.headers);let o=s.data;return qe.forEach(t,function(d){o=d.call(a,o,i.normalize(),r?r.status:void 0)}),i.normalize(),o}function F5(t){return!!(t&&t.__CANCEL__)}let Wf=class extends or{constructor(r,a,s){super(r??"canceled",or.ERR_CANCELED,a,s),this.name="CanceledError",this.__CANCEL__=!0}};function O5(t,r,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?t(a):r(new or("Request failed with status code "+a.status,[or.ERR_BAD_REQUEST,or.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function X6(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function J6(t,r){t=t||10;const a=new Array(t),s=new Array(t);let i=0,o=0,c;return r=r!==void 0?r:1e3,function(h){const f=Date.now(),p=s[o];c||(c=f),a[i]=h,s[i]=f;let g=o,b=0;for(;g!==i;)b+=a[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-c<r)return;const m=p&&f-p;return m?Math.round(b*1e3/m):void 0}}function K6(t,r){let a=0,s=1e3/r,i,o;const c=(f,p=Date.now())=>{a=p,i=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const p=Date.now(),g=p-a;g>=s?c(f,p):(i=f,o||(o=setTimeout(()=>{o=null,c(i)},s-g)))},()=>i&&c(i)]}const Ap=(t,r,a=3)=>{let s=0;const i=J6(50,250);return K6(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,h=c-s,f=i(h),p=c<=d;s=c;const g={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&p?(d-c)/f:void 0,event:o,lengthComputable:d!=null,[r?"download":"upload"]:!0};t(g)},a)},S2=(t,r)=>{const a=t!=null;return[s=>r[0]({lengthComputable:a,total:t,loaded:s}),r[1]]},E2=t=>(...r)=>qe.asap(()=>t(...r)),Z6=bn.hasStandardBrowserEnv?((t,r)=>a=>(a=new URL(a,bn.origin),t.protocol===a.protocol&&t.host===a.host&&(r||t.port===a.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,Q6=bn.hasStandardBrowserEnv?{write(t,r,a,s,i,o,c){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(r)}`];qe.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),qe.isString(s)&&d.push(`path=${s}`),qe.isString(i)&&d.push(`domain=${i}`),o===!0&&d.push("secure"),qe.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ek(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tk(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function P5(t,r,a){let s=!ek(r);return t&&(s||a==!1)?tk(t,r):r}const k2=t=>t instanceof si?{...t}:t;function Bd(t,r){r=r||{};const a={};function s(f,p,g,b){return qe.isPlainObject(f)&&qe.isPlainObject(p)?qe.merge.call({caseless:b},f,p):qe.isPlainObject(p)?qe.merge({},p):qe.isArray(p)?p.slice():p}function i(f,p,g,b){if(qe.isUndefined(p)){if(!qe.isUndefined(f))return s(void 0,f,g,b)}else return s(f,p,g,b)}function o(f,p){if(!qe.isUndefined(p))return s(void 0,p)}function c(f,p){if(qe.isUndefined(p)){if(!qe.isUndefined(f))return s(void 0,f)}else return s(void 0,p)}function d(f,p,g){if(g in r)return s(f,p);if(g in t)return s(void 0,f)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,p,g)=>i(k2(f),k2(p),g,!0)};return qe.forEach(Object.keys({...t,...r}),function(p){if(p==="__proto__"||p==="constructor"||p==="prototype")return;const g=qe.hasOwnProp(h,p)?h[p]:i,b=g(t[p],r[p],p);qe.isUndefined(b)&&g!==d||(a[p]=b)}),a}const I5=t=>{const r=Bd({},t);let{data:a,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:c,auth:d}=r;if(r.headers=c=si.from(c),r.url=L5(P5(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),qe.isFormData(a)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(qe.isFunction(a.getHeaders)){const h=a.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([p,g])=>{f.includes(p.toLowerCase())&&c.set(p,g)})}}if(bn.hasStandardBrowserEnv&&(s&&qe.isFunction(s)&&(s=s(r)),s||s!==!1&&Z6(r.url))){const h=i&&o&&Q6.read(o);h&&c.set(i,h)}return r},rk=typeof XMLHttpRequest<"u",ak=rk&&function(t){return new Promise(function(a,s){const i=I5(t);let o=i.data;const c=si.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=i,p,g,b,m,v;function N(){m&&m(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function A(){if(!w)return;const T=si.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),O={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:T,config:t,request:w};O5(function(F){a(F),N()},function(F){s(F),N()},O),w=null}"onloadend"in w?w.onloadend=A:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(A)},w.onabort=function(){w&&(s(new or("Request aborted",or.ECONNABORTED,t,w)),w=null)},w.onerror=function(_){const O=_&&_.message?_.message:"Network Error",W=new or(O,or.ERR_NETWORK,t,w);W.event=_||null,s(W),w=null},w.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||d1;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),s(new or(_,O.clarifyTimeoutError?or.ETIMEDOUT:or.ECONNABORTED,t,w)),w=null},o===void 0&&c.setContentType(null),"setRequestHeader"in w&&qe.forEach(c.toJSON(),function(_,O){w.setRequestHeader(O,_)}),qe.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),d&&d!=="json"&&(w.responseType=i.responseType),f&&([b,v]=Ap(f,!0),w.addEventListener("progress",b)),h&&w.upload&&([g,m]=Ap(h),w.upload.addEventListener("progress",g),w.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(p=T=>{w&&(s(!T||T.type?new Wf(null,t,w):T),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=X6(i.url);if(E&&bn.protocols.indexOf(E)===-1){s(new or("Unsupported protocol "+E+":",or.ERR_BAD_REQUEST,t));return}w.send(o||null)})},sk=(t,r)=>{const{length:a}=t=t?t.filter(Boolean):[];if(r||a){let s=new AbortController,i;const o=function(f){if(!i){i=!0,d();const p=f instanceof Error?f:this.reason;s.abort(p instanceof or?p:new Wf(p instanceof Error?p.message:p))}};let c=r&&setTimeout(()=>{c=null,o(new or(`timeout of ${r}ms exceeded`,or.ETIMEDOUT))},r);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:h}=s;return h.unsubscribe=()=>qe.asap(d),h}},nk=function*(t,r){let a=t.byteLength;if(a<r){yield t;return}let s=0,i;for(;s<a;)i=s+r,yield t.slice(s,i),s=i},ik=async function*(t,r){for await(const a of lk(t))yield*nk(a,r)},lk=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:a,value:s}=await r.read();if(a)break;yield s}}finally{await r.cancel()}},A2=(t,r,a,s)=>{const i=ik(t,r);let o=0,c,d=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await i.next();if(f){d(),h.close();return}let g=p.byteLength;if(a){let b=o+=g;a(b)}h.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},_2=64*1024,{isFunction:Jh}=qe,ok=(({Request:t,Response:r})=>({Request:t,Response:r}))(qe.global),{ReadableStream:C2,TextEncoder:T2}=qe.global,D2=(t,...r)=>{try{return!!t(...r)}catch{return!1}},ck=t=>{t=qe.merge.call({skipUndefined:!0},ok,t);const{fetch:r,Request:a,Response:s}=t,i=r?Jh(r):typeof fetch=="function",o=Jh(a),c=Jh(s);if(!i)return!1;const d=i&&Jh(C2),h=i&&(typeof T2=="function"?(v=>N=>v.encode(N))(new T2):async v=>new Uint8Array(await new a(v).arrayBuffer())),f=o&&d&&D2(()=>{let v=!1;const N=new a(bn.origin,{body:new C2,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),p=c&&d&&D2(()=>qe.isReadableStream(new s("").body)),g={stream:p&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(N,w)=>{let A=N&&N[v];if(A)return A.call(N);throw new or(`Response type '${v}' is not supported`,or.ERR_NOT_SUPPORT,w)})});const b=async v=>{if(v==null)return 0;if(qe.isBlob(v))return v.size;if(qe.isSpecCompliantForm(v))return(await new a(bn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(v)||qe.isArrayBuffer(v))return v.byteLength;if(qe.isURLSearchParams(v)&&(v=v+""),qe.isString(v))return(await h(v)).byteLength},m=async(v,N)=>{const w=qe.toFiniteNumber(v.getContentLength());return w??b(N)};return async v=>{let{url:N,method:w,data:A,signal:E,cancelToken:T,timeout:_,onDownloadProgress:O,onUploadProgress:W,responseType:F,headers:P,withCredentials:z="same-origin",fetchOptions:M}=I5(v),C=r||fetch;F=F?(F+"").toLowerCase():"text";let U=sk([E,T&&T.toAbortSignal()],_),B=null;const X=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let ue;try{if(W&&f&&w!=="get"&&w!=="head"&&(ue=await m(P,A))!==0){let q=new a(N,{method:"POST",body:A,duplex:"half"}),L;if(qe.isFormData(A)&&(L=q.headers.get("content-type"))&&P.setContentType(L),q.body){const[G,V]=S2(ue,Ap(E2(W)));A=A2(q.body,_2,G,V)}}qe.isString(z)||(z=z?"include":"omit");const J=o&&"credentials"in a.prototype,re={...M,signal:U,method:w.toUpperCase(),headers:P.normalize().toJSON(),body:A,duplex:"half",credentials:J?z:void 0};B=o&&new a(N,re);let oe=await(o?C(B,M):C(N,re));const ve=p&&(F==="stream"||F==="response");if(p&&(O||ve&&X)){const q={};["status","statusText","headers"].forEach(K=>{q[K]=oe[K]});const L=qe.toFiniteNumber(oe.headers.get("content-length")),[G,V]=O&&S2(L,Ap(E2(O),!0))||[];oe=new s(A2(oe.body,_2,G,()=>{V&&V(),X&&X()}),q)}F=F||"text";let Ne=await g[qe.findKey(g,F)||"text"](oe,v);return!ve&&X&&X(),await new Promise((q,L)=>{O5(q,L,{data:Ne,headers:si.from(oe.headers),status:oe.status,statusText:oe.statusText,config:v,request:B})})}catch(J){throw X&&X(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new or("Network Error",or.ERR_NETWORK,v,B,J&&J.response),{cause:J.cause||J}):or.from(J,J&&J.code,v,B,J&&J.response)}}},dk=new Map,M5=t=>{let r=t&&t.env||{};const{fetch:a,Request:s,Response:i}=r,o=[s,i,a];let c=o.length,d=c,h,f,p=dk;for(;d--;)h=o[d],f=p.get(h),f===void 0&&p.set(h,f=d?new Map:ck(r)),p=f;return f};M5();const f1={http:A6,xhr:ak,fetch:{get:M5}};qe.forEach(f1,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const L2=t=>`- ${t}`,uk=t=>qe.isFunction(t)||t===null||t===!1;function fk(t,r){t=qe.isArray(t)?t:[t];const{length:a}=t;let s,i;const o={};for(let c=0;c<a;c++){s=t[c];let d;if(i=s,!uk(s)&&(i=f1[(d=String(s)).toLowerCase()],i===void 0))throw new or(`Unknown adapter '${d}'`);if(i&&(qe.isFunction(i)||(i=i.get(r))))break;o[d||"#"+c]=i}if(!i){const c=Object.entries(o).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let d=a?c.length>1?`since :
`+c.map(L2).join(`
`):" "+L2(c[0]):"as no adapter specified";throw new or("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i}const B5={getAdapter:fk,adapters:f1};function Gm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wf(null,t)}function R2(t){return Gm(t),t.headers=si.from(t.headers),t.data=qm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),B5.getAdapter(t.adapter||Vf.adapter,t)(t).then(function(s){return Gm(t),s.data=qm.call(t,t.transformResponse,s),s.headers=si.from(s.headers),s},function(s){return F5(s)||(Gm(t),s&&s.response&&(s.response.data=qm.call(t,t.transformResponse,s.response),s.response.headers=si.from(s.response.headers))),Promise.reject(s)})}const z5="1.13.5",ix={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{ix[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});const F2={};ix.transitional=function(r,a,s){function i(o,c){return"[Axios v"+z5+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,d)=>{if(r===!1)throw new or(i(c," has been removed"+(a?" in "+a:"")),or.ERR_DEPRECATED);return a&&!F2[c]&&(F2[c]=!0,console.warn(i(c," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(o,c,d):!0}};ix.spelling=function(r){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function hk(t,r,a){if(typeof t!="object")throw new or("options must be an object",or.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const o=s[i],c=r[o];if(c){const d=t[o],h=d===void 0||c(d,o,t);if(h!==!0)throw new or("option "+o+" must be "+h,or.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new or("Unknown option "+o,or.ERR_BAD_OPTION)}}const bp={assertOptions:hk,validators:ix},Xi=bp.validators;let Fd=class{constructor(r){this.defaults=r||{},this.interceptors={request:new w2,response:new w2}}async request(r,a){try{return await this._request(r,a)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Bd(this.defaults,a);const{transitional:s,paramsSerializer:i,headers:o}=a;s!==void 0&&bp.assertOptions(s,{silentJSONParsing:Xi.transitional(Xi.boolean),forcedJSONParsing:Xi.transitional(Xi.boolean),clarifyTimeoutError:Xi.transitional(Xi.boolean),legacyInterceptorReqResOrdering:Xi.transitional(Xi.boolean)},!1),i!=null&&(qe.isFunction(i)?a.paramsSerializer={serialize:i}:bp.assertOptions(i,{encode:Xi.function,serialize:Xi.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),bp.assertOptions(a,{baseUrl:Xi.spelling("baseURL"),withXsrfToken:Xi.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let c=o&&qe.merge(o.common,o[a.method]);o&&qe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),a.headers=si.concat(c,o);const d=[];let h=!0;this.interceptors.request.forEach(function(N){if(typeof N.runWhen=="function"&&N.runWhen(a)===!1)return;h=h&&N.synchronous;const w=a.transitional||d1;w&&w.legacyInterceptorReqResOrdering?d.unshift(N.fulfilled,N.rejected):d.push(N.fulfilled,N.rejected)});const f=[];this.interceptors.response.forEach(function(N){f.push(N.fulfilled,N.rejected)});let p,g=0,b;if(!h){const v=[R2.bind(this),void 0];for(v.unshift(...d),v.push(...f),b=v.length,p=Promise.resolve(a);g<b;)p=p.then(v[g++],v[g++]);return p}b=d.length;let m=a;for(;g<b;){const v=d[g++],N=d[g++];try{m=v(m)}catch(w){N.call(this,w);break}}try{p=R2.call(this,m)}catch(v){return Promise.reject(v)}for(g=0,b=f.length;g<b;)p=p.then(f[g++],f[g++]);return p}getUri(r){r=Bd(this.defaults,r);const a=P5(r.baseURL,r.url,r.allowAbsoluteUrls);return L5(a,r.params,r.paramsSerializer)}};qe.forEach(["delete","get","head","options"],function(r){Fd.prototype[r]=function(a,s){return this.request(Bd(s||{},{method:r,url:a,data:(s||{}).data}))}});qe.forEach(["post","put","patch"],function(r){function a(s){return function(o,c,d){return this.request(Bd(d||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Fd.prototype[r]=a(),Fd.prototype[r+"Form"]=a(!0)});let pk=class U5{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const c=new Promise(d=>{s.subscribe(d),o=d}).then(i);return c.cancel=function(){s.unsubscribe(o)},c},r(function(o,c,d){s.reason||(s.reason=new Wf(o,c,d),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=s=>{r.abort(s)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new U5(function(i){r=i}),cancel:r}}};function xk(t){return function(a){return t.apply(null,a)}}function mk(t){return qe.isObject(t)&&t.isAxiosError===!0}const Tg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tg).forEach(([t,r])=>{Tg[r]=t});function H5(t){const r=new Fd(t),a=N5(Fd.prototype.request,r);return qe.extend(a,Fd.prototype,r,{allOwnKeys:!0}),qe.extend(a,r,null,{allOwnKeys:!0}),a.create=function(i){return H5(Bd(t,i))},a}const ss=H5(Vf);ss.Axios=Fd;ss.CanceledError=Wf;ss.CancelToken=pk;ss.isCancel=F5;ss.VERSION=z5;ss.toFormData=nx;ss.AxiosError=or;ss.Cancel=ss.CanceledError;ss.all=function(r){return Promise.all(r)};ss.spread=xk;ss.isAxiosError=mk;ss.mergeConfig=Bd;ss.AxiosHeaders=si;ss.formToJSON=t=>R5(qe.isHTMLForm(t)?new FormData(t):t);ss.getAdapter=B5.getAdapter;ss.HttpStatusCode=Tg;ss.default=ss;const{Axios:qM,AxiosError:GM,CanceledError:$M,isCancel:YM,CancelToken:VM,VERSION:WM,all:XM,Cancel:JM,isAxiosError:KM,spread:ZM,toFormData:QM,AxiosHeaders:eB,HttpStatusCode:tB,formToJSON:rB,getAdapter:aB,mergeConfig:sB}=ss,q5="https://hrmbackend-production-6b56.up.railway.app/api",Qe=ss.create({baseURL:q5,headers:{"Content-Type":"application/json"}});Qe.interceptors.request.use(t=>{const r=localStorage.getItem("accessToken");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));Qe.interceptors.response.use(t=>t.data,async t=>{const r=t.config;if(t.response?.status===401&&!r._retry&&!r.url.includes("/auth/login")){r._retry=!0;try{const a=localStorage.getItem("refreshToken");if(!a)throw new Error("No refresh token");const s=await ss.post(`${q5}/auth/refresh-token`,{refreshToken:a}),{accessToken:i}=s.data.data;return localStorage.setItem("accessToken",i),r.headers.Authorization=`Bearer ${i}`,Qe(r)}catch(a){return localStorage.clear(),window.location.href="/",Promise.reject(a)}}return Promise.reject(t.response?.data||t)});const Te={login:async(t,r)=>{try{const a=await Qe.post("/auth/login",{email:t,password:r});return a.success&&(localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("refreshToken",a.data.refreshToken),localStorage.setItem("currentUser",JSON.stringify(a.data.user))),a}catch(a){return{success:!1,message:a.message||"Login failed"}}},logout:async()=>{try{const t=localStorage.getItem("refreshToken");await Qe.post("/auth/logout",{refreshToken:t})}catch(t){console.error("Logout failed",t)}finally{localStorage.clear()}},fetchSessions:async()=>Qe.get("/auth/sessions"),terminateSessions:async t=>Qe.post("/auth/terminate-sessions",{currentRefreshToken:t}),fetchCompanies:async()=>Qe.get("/companies"),createCompany:async t=>Qe.post("/companies",t),updateCompany:async(t,r)=>Qe.put(`/companies/${t}`,r),fetchEmployees:async t=>Qe.get(`/employees?companyId=${t}`),createEmployee:async t=>Qe.post("/employees",t),updateEmployee:async(t,r)=>Qe.put(`/employees/${t}`,r),updateSelfProfile:async t=>Qe.put("/employees/profile",t),bulkUpdateEmployees:async t=>Qe.put("/employees/bulk-update",t),deleteEmployee:async t=>Qe.delete(`/employees/${t}`),fetchAdminStats:async t=>{const r=t?`?companyId=${t}`:"";return Qe.get(`/dashboard/admin-stats${r}`)},fetchEmployeeDashboardStats:async()=>Qe.get("/dashboard/employee-stats"),fetchAuditLogs:async(t=10)=>Qe.get(`/audit?limit=${t}`),fetchLiveAttendance:async t=>{const r=t?`?companyId=${t}`:"";return Qe.get(`/attendance/live${r}`)},fetchAttendance:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/attendance?${r}`)},createAttendance:async t=>Qe.post("/attendance",t),updateAttendance:async(t,r)=>Qe.put(`/attendance/${t}`,r),deleteAttendance:async t=>Qe.delete(`/attendance/${t}`),fetchLeaves:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/leaves?${r}`)},createLeave:async t=>Qe.post("/leaves",t),updateLeave:async(t,r)=>Qe.put(`/leaves/${t}`,r),deleteLeave:async t=>Qe.delete(`/leaves/${t}`),fetchLeaveBalances:async t=>Qe.get(`/leaves/balances/${t}`),fetchPayrolls:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/payrolls?${r}`)},createPayroll:async t=>Qe.post("/payrolls",t),updatePayroll:async(t,r)=>Qe.put(`/payrolls/${t}`,r),deletePayroll:async t=>Qe.delete(`/payrolls/${t}`),fetchPayrollBatches:async t=>Qe.get(`/payrolls/batches?companyId=${t}`),generatePayrolls:async t=>Qe.post("/payrolls/generate",t),finalizeBatch:async t=>Qe.post("/payrolls/finalize",t),syncPayrolls:async t=>Qe.post("/payrolls/sync",t),sendPayslipEmail:async t=>Qe.post(`/payrolls/${t}/email`),bulkSendEmails:async t=>Qe.post("/payrolls/bulk-email",t),transmitBankAdvice:async t=>Qe.post("/payrolls/transmit-advice",t),fetchDepartments:async t=>Qe.get(`/departments?companyId=${t}`),fetchUserProfile:async()=>Qe.get("/users/me"),updateWindowPreferences:async t=>Qe.put("/users/preferences",{windowPreferences:t}),fetchTransactions:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/transactions?${r}`)},fetchTransaction:async t=>Qe.get(`/transactions/${t}`),createTransaction:async t=>Qe.post("/transactions",t),updateTransaction:async(t,r)=>Qe.put(`/transactions/${t}`,r),deleteTransaction:async t=>Qe.delete(`/transactions/${t}`),bulkCreateTransactions:async t=>Qe.post("/transactions/bulk",t),postTransactions:async t=>Qe.post("/transactions/post",t),voidTransaction:async(t,r)=>Qe.post(`/transactions/${t}/void`,r),fetchTransactionRegister:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/transactions/register?${r}`)},fetchCheques:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/cheques?${r}`)},fetchCheque:async t=>Qe.get(`/cheques/${t}`),createCheque:async t=>Qe.post("/cheques",t),updateCheque:async(t,r)=>Qe.put(`/cheques/${t}`,r),deleteCheque:async t=>Qe.delete(`/cheques/${t}`),printCheques:async t=>Qe.post("/cheques/print",t),voidCheque:async(t,r)=>Qe.post(`/cheques/${t}/void`,r),fetchChequeHistory:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/cheques/history?${r}`)},fetchBankTransfers:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/bank-transfers?${r}`)},fetchBankTransfer:async t=>Qe.get(`/bank-transfers/${t}`),createBankTransfer:async t=>Qe.post("/bank-transfers",t),updateBankTransfer:async(t,r)=>Qe.put(`/bank-transfers/${t}`,r),deleteBankTransfer:async t=>Qe.delete(`/bank-transfers/${t}`),createBatchTransfer:async t=>Qe.post("/bank-transfers/batch",t),processBankTransfers:async t=>Qe.post("/bank-transfers/process",t),exportBankFile:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/bank-transfers/export?${r}`)},fetchAdvancePayments:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/advance-payments?${r}`)},fetchAdvancePayment:async t=>Qe.get(`/advance-payments/${t}`),createAdvancePayment:async t=>Qe.post("/advance-payments",t),updateAdvancePayment:async(t,r)=>Qe.put(`/advance-payments/${t}`,r),deleteAdvancePayment:async t=>Qe.delete(`/advance-payments/${t}`),approveAdvancePayment:async(t,r)=>Qe.post(`/advance-payments/${t}/approve`,r),rejectAdvancePayment:async(t,r)=>Qe.post(`/advance-payments/${t}/reject`,r),markAdvancePaymentAsPaid:async(t,r)=>Qe.post(`/advance-payments/${t}/paid`,r),fetchAdvancePaymentSummary:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/advance-payments/summary?${r}`)},fetchProcessingStatus:async t=>{const r=t?`?${new URLSearchParams(t).toString()}`:"";return Qe.get(`/processing/status${r}`)},startProcess:async t=>Qe.post("/processing/start",t),updateProcessProgress:async(t,r)=>Qe.put(`/processing/${t}`,r),fetchProcessingLogs:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/processing/logs?${r}`)},fetchProcessingLog:async t=>Qe.get(`/processing/${t}`),cleanupOldLogs:async t=>Qe.delete("/processing/cleanup",t),fetchProcessingStatistics:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/processing/statistics?${r}`)},calculateRedundancy:async t=>Qe.post("/redundancies/calculate",t),fetchRedundancies:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/redundancies?${r}`)},fetchRedundancy:async t=>Qe.get(`/redundancies/${t}`),createRedundancy:async t=>Qe.post("/redundancies",t),updateRedundancyStatus:async(t,r)=>Qe.put(`/redundancies/${t}/status`,r),deleteRedundancy:async t=>Qe.delete(`/redundancies/${t}`),fetchBankAccounts:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/bank-accounts?${r}`)},createBankAccount:async t=>Qe.post("/bank-accounts",t),updateBankAccount:async(t,r)=>Qe.put(`/bank-accounts/${t}`,r),deleteBankAccount:async t=>Qe.delete(`/bank-accounts/${t}`),fetchBeneficiaries:async t=>Qe.get(`/beneficiaries?companyId=${t}`),createBeneficiary:async t=>Qe.post("/beneficiaries",t),updateBeneficiary:async(t,r)=>Qe.put(`/beneficiaries/${t}`,r),deleteBeneficiary:async t=>Qe.delete(`/beneficiaries/${t}`),exportMasterData:async t=>{const r=t?`?companyId=${t}`:"";return Qe.get(`/files/export${r}`)},importMasterData:async t=>{const r=new FormData;return r.append("file",t),Qe.post("/files/import",r,{headers:{"Content-Type":"multipart/form-data"}})},createSystemBackup:async()=>Qe.post("/files/backup"),restoreSystemBackup:async t=>{const r=new FormData;return r.append("file",t),Qe.post("/files/restore",r,{headers:{"Content-Type":"multipart/form-data"}})},fetchBackupLogs:async()=>Qe.get("/files/logs"),downloadBackupFile:t=>`${Qe.defaults.baseURL}/files/download/${t}`,fetchGangs:async t=>Qe.get(`/gang-shift/gangs?companyId=${t}`),fetchGangShiftAssignments:async t=>{const r=new URLSearchParams(t).toString();return Qe.get(`/gang-shift/assignments?${r}`)},saveGangShiftAssignments:async t=>Qe.post("/gang-shift/assignments",t),bulkUpdateEmployees:t=>Qe.put("/employees/bulk-update",t),fetchSalesShares:(t,r)=>Qe.get(`/sales-share?companyId=${t}&period=${r}`),saveSalesShares:t=>Qe.post("/sales-share",t),fetchSystemSettings:async()=>Qe.get("/system-settings"),updateSystemSettings:async t=>Qe.put("/system-settings",{settings:t}),getTransactionCodes:t=>Qe.get(`/transaction-codes${t!==void 0?`?isActive=${t}`:""}`),createTransactionCode:t=>Qe.post("/transaction-codes",t),updateTransactionCode:(t,r)=>Qe.put(`/transaction-codes/${t}`,r),deleteTransactionCode:t=>Qe.delete(`/transaction-codes/${t}`),fetchUsers:()=>Qe.get("/users"),changePassword:t=>Qe.put("/users/security",t),createSystemUser:t=>Qe.post("/users",t),updateSystemUser:(t,r)=>Qe.put(`/users/${t}`,r),deleteSystemUser:t=>Qe.delete(`/users/${t}`)},gk=()=>{const[t,r]=R.useState([]),[a,s]=R.useState(!0),i=[{header:"ID",accessor:"id"},{header:"Party Name",accessor:"name"},{header:"City",accessor:"city"},{header:"Balance",accessor:"balance"}];return R.useEffect(()=>{Te.fetchParties().then(o=>{r(o),s(!1)})},[]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] pr-12 pb-1",children:"Party Master"}),e.jsx("button",{className:"bg-[#0055E5] text-white px-4 py-1.5 font-bold hover:bg-blue-700 shadow-md",children:"Add New Party"})]}),a?e.jsx("div",{className:"p-10 text-center animate-pulse text-blue-800 font-bold",children:"Loading records..."}):e.jsx(l1,{columns:i,data:t,actions:[{label:"Edit",onClick:o=>console.log("Edit party",o)}]})]})},bk=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Item Master"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Item Configuration and Stock Management"})]}),yk=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Ledger Master"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Account Ledgers and Financial Groups"})]}),O2=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Sales Entry"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-4 md:p-20 text-center text-gray-500 font-bold",children:"Invoicing and Billing Module"})]}),vk=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Purchase Entry"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Purchase Orders and Vouchers"})]}),Nk=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Payment Entry"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Cash and Bank Payments"})]});const wk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),P2=t=>{const r=jk(t);return r.charAt(0).toUpperCase()+r.slice(1)},G5=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),Sk=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var Ek={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kk=R.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:c,...d},h)=>R.createElement("svg",{ref:h,...Ek,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:G5("lucide",i),...!o&&!Sk(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>R.createElement(f,p)),...Array.isArray(o)?o:[o]]));const pt=(t,r)=>{const a=R.forwardRef(({className:s,...i},o)=>R.createElement(kk,{ref:o,iconNode:r,className:G5(`lucide-${wk(P2(t))}`,`lucide-${t}`,s),...i}));return a.displayName=P2(t),a};const Ak=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tc=pt("activity",Ak);const _k=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wu=pt("arrow-left",_k);const Ck=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qc=pt("arrow-right",Ck);const Tk=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dk=pt("award",Tk);const Lk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Rk=pt("bell",Lk);const Fk=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ok=pt("book",Fk);const Pk=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$5=pt("briefcase",Pk);const Ik=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Mk=pt("building-2",Ik);const Bk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Dg=pt("building",Bk);const zk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Od=pt("calculator",zk);const Uk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],On=pt("calendar",Uk);const Hk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qk=pt("chart-column",Hk);const Gk=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Y5=pt("chart-pie",Gk);const $k=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V5=pt("check",$k);const Yk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zd=pt("chevron-down",Yk);const Vk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],W5=pt("chevron-left",Vk);const Wk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xo=pt("chevron-right",Wk);const Xk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nc=pt("circle-alert",Xk);const Jk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ln=pt("circle-check-big",Jk);const Kk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nn=pt("circle-check",Kk);const Zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X5=pt("circle-question-mark",Zk);const Qk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lg=pt("circle-x",Qk);const eA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xu=pt("clock",eA);const tA=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],rA=pt("cog",tA);const aA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Rg=pt("cpu",aA);const sA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lx=pt("credit-card",sA);const nA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zi=pt("database",nA);const iA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wo=pt("dollar-sign",iA);const lA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Er=pt("download",lA);const oA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cA=pt("external-link",oA);const dA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ox=pt("eye",dA);const uA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],I2=pt("file-check",uA);const fA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],hA=pt("file-code",fA);const pA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xA=pt("file-exclamation-point",pA);const mA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],_p=pt("file-spreadsheet",mA);const gA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rr=pt("file-text",gA);const bA=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],yf=pt("folder",bA);const yA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ju=pt("funnel",yA);const vA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],h1=pt("globe",vA);const NA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],J5=pt("grid-3x3",NA);const wA=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],jA=pt("hammer",wA);const SA=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],K5=pt("hard-drive",SA);const EA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yp=pt("history",EA);const kA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],p1=pt("info",kA);const AA=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Pl=pt("landmark",AA);const _A=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CA=pt("layers",_A);const TA=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],Z5=pt("list-filter",TA);const DA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ut=pt("loader-circle",DA);const LA=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],RA=pt("loader",LA);const FA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tf=pt("lock",FA);const OA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_r=pt("log-out",OA);const PA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cx=pt("mail",PA);const IA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MA=pt("menu",IA);const BA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],M2=pt("message-square",BA);const zA=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],UA=pt("minimize",zA);const HA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Q5=pt("monitor",HA);const qA=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Xf=pt("octagon-alert",qA);const GA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Cp=pt("panels-top-left",GA);const $A=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],YA=pt("pause",$A);const VA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WA=pt("pen-line",VA);const XA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JA=pt("pen",XA);const KA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ew=pt("phone",KA);const ZA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],x1=pt("play",ZA);const QA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ic=pt("plus",QA);const e8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ea=pt("printer",e8);const t8=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],r8=pt("receipt",t8);const a8=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],s8=pt("refresh-ccw",a8);const n8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sn=pt("refresh-cw",n8);const i8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tp=pt("rotate-ccw",i8);const l8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qs=pt("save",l8);const o8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ga=pt("search",o8);const c8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],po=pt("send",c8);const d8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rn=pt("settings",d8);const u8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Vo=pt("shield-alert",u8);const f8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rs=pt("shield-check",f8);const h8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Df=pt("shield",h8);const p8=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],x8=pt("smartphone",p8);const m8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mu=pt("square-check-big",m8);const g8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],tw=pt("square-pen",g8);const b8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Dp=pt("square",b8);const y8=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],v8=pt("tag",y8);const N8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yd=pt("trash-2",N8);const w8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],el=pt("triangle-alert",w8);const j8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],S8=pt("type",j8);const E8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lf=pt("upload",E8);const k8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rw=pt("user-check",k8);const A8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fg=pt("user-minus",A8);const _8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pn=pt("user",_8);const C8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pd=pt("users",C8);const T8=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],B2=pt("wand-sparkles",T8);const D8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$a=pt("x",D8);const L8=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],R8=pt("zoom-in",L8);const F8=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],O8=pt("zoom-out",F8),P8=()=>{const t=jt(),[r,a]=R.useState([]),[s,i]=R.useState(!1),[o]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[c,d]=R.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],status:"POSTED"}),h=async()=>{if(o?.id){i(!0);try{const p=await Te.fetchTransactions({companyId:o.id,status:c.status});if(p.success){const g=new Date(c.startDate),b=new Date(c.endDate);b.setHours(23,59,59,999);const m=p.data.filter(v=>{const N=new Date(v.transactionDate);return N>=g&&N<=b});a(m)}}catch(p){console.error("Failed to load ledger",p)}finally{i(!1)}}};R.useEffect(()=>{h()},[o.id]);const f=()=>{if(r.length===0)return;let p="data:text/csv;charset=utf-8,";p+=`Date,Transaction ID,Employee ID,Employee Name,Type,Code,Description,Amount,Status,Posted By,Posted At
`,r.forEach(m=>{const v=[new Date(m.transactionDate).toLocaleDateString(),m.id,m.employee?.employeeId||"",`"${m.employee?.firstName||""} ${m.employee?.lastName||""}"`,m.type,m.code,`"${m.description||""}"`,m.amount,m.status,m.postedBy||"",m.postedAt?new Date(m.postedAt).toLocaleDateString():""].join(",");p+=v+`
`});const g=encodeURI(p),b=document.createElement("a");b.setAttribute("href",g),b.setAttribute("download",`GL_Export_${c.startDate}_to_${c.endDate}.csv`),document.body.appendChild(b),b.click(),document.body.removeChild(b)};return e.jsxs("div",{className:"flex flex-col h-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-white p-4 border-b border-gray-300 flex justify-between items-center shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full text-gray-600",children:e.jsx(wu,{size:20})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-black text-gray-800 uppercase tracking-tight flex items-center gap-2",children:[e.jsx(rr,{className:"text-blue-600",size:24}),"General Ledger Interface"]}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:o.name||"No Company Selected"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:f,disabled:r.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-bold uppercase text-xs",children:[e.jsx(Er,{size:16})," Export CSV"]})})]}),e.jsxs("div",{className:"bg-gray-100 p-3 border-b border-gray-300 flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Start Date"}),e.jsx("input",{type:"date",value:c.startDate,onChange:p=>d({...c,startDate:p.target.value}),className:"p-1.5 border border-gray-300 rounded text-xs font-bold"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"End Date"}),e.jsx("input",{type:"date",value:c.endDate,onChange:p=>d({...c,endDate:p.target.value}),className:"p-1.5 border border-gray-300 rounded text-xs font-bold"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Filter Status"}),e.jsxs("select",{value:c.status,onChange:p=>d({...c,status:p.target.value}),className:"p-1.5 border border-gray-300 rounded text-xs font-bold min-w-[120px]",children:[e.jsx("option",{value:"POSTED",children:"POSTED ONLY"}),e.jsx("option",{value:"",children:"ALL TRANSACTIONS"})]})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 font-bold uppercase text-xs mb-0.5",children:[e.jsx(sn,{size:14})," Refresh"]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-inner flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gray-200 border-b border-gray-300 p-2 grid grid-cols-12 gap-2 text-[10px] font-black text-gray-600 uppercase tracking-wider",children:[e.jsx("div",{className:"col-span-1",children:"Date"}),e.jsx("div",{className:"col-span-1",children:"Code"}),e.jsx("div",{className:"col-span-2",children:"Employee"}),e.jsx("div",{className:"col-span-4",children:"Description"}),e.jsx("div",{className:"col-span-1 text-right",children:"Debit"}),e.jsx("div",{className:"col-span-1 text-right",children:"Credit"}),e.jsx("div",{className:"col-span-2 text-center",children:"Status"})]}),e.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1",children:s?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(Ut,{size:32,className:"animate-spin mb-2"}),e.jsx("span",{className:"text-xs font-bold",children:"Loading Ledger..."})]}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(rr,{size:48,className:"mb-2 opacity-20"}),e.jsx("span",{className:"text-xs font-bold",children:"No transactions found for this period."})]}):r.map(p=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 p-2 border-b border-gray-100 items-center text-xs hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"col-span-1 font-mono text-gray-500",children:new Date(p.transactionDate).toLocaleDateString()}),e.jsx("div",{className:"col-span-1 font-bold text-gray-700",children:p.code}),e.jsxs("div",{className:"col-span-2 truncate font-medium",children:[p.employee?.firstName," ",p.employee?.lastName]}),e.jsx("div",{className:"col-span-4 truncate text-gray-500 italic",children:p.description}),e.jsx("div",{className:"col-span-1 text-right font-mono font-bold text-gray-800",children:["EARNING","ALLOWANCE"].includes(p.type)?new Intl.NumberFormat("en-JM",{minimumFractionDigits:2}).format(p.amount):"-"}),e.jsx("div",{className:"col-span-1 text-right font-mono font-bold text-gray-800",children:["DEDUCTION"].includes(p.type)?`(${new Intl.NumberFormat("en-JM",{minimumFractionDigits:2}).format(p.amount)})`:"-"}),e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-black uppercase ${p.status==="POSTED"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:p.status})})]},p.id))}),e.jsxs("div",{className:"bg-gray-100 border-t border-gray-300 p-3 flex justify-between items-center text-xs font-bold",children:[e.jsxs("span",{className:"text-gray-500 uppercase",children:[r.length," Records Found"]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("span",{className:"text-gray-600",children:["TOTAL DEBITS: ",e.jsx("span",{className:"text-black",children:new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(r.filter(p=>["EARNING","ALLOWANCE"].includes(p.type)).reduce((p,g)=>p+Number(g.amount),0))})]}),e.jsxs("span",{className:"text-gray-600",children:["TOTAL CREDITS: ",e.jsx("span",{className:"text-red-600",children:new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(r.filter(p=>["DEDUCTION"].includes(p.type)).reduce((p,g)=>p+Number(g.amount),0))})]})]})]})]})})]})},I8=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Trial Balance"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Summary of All Ledgers"})]}),M8=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Profit & Loss Statement"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Financial Performance Analysis"})]}),B8=()=>{const t=jt(),[r,a]=R.useState("General"),[s,i]=R.useState(!0),[o,c]=R.useState(!1),[d,h]=R.useState(!1),[f,p]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[g,b]=R.useState({companyName:"",description:"",abbrv:"",trn:"",nisNumber:"",payeReference:"",tradeName:"",address:"",addressLine2:"",mailingAddress1:"",mailingAddress2:"",phone:"",website:"",sector:"Private",currency:"JMD",fiscalYearStart:"January",payCycle:"Monthly",payDay:"Wednesday",currentPeriod:"1",noOfPeriods:"12",incomeTaxThreshold:"1500000",nisRateEE:"3.0",nisRateER:"3.0",nisAnnualCeiling:"5000000",nhtRateEE:"2.0",nhtRateER:"3.0",educationTaxEE:"2.25",educationTaxER:"3.5",heartRateER:"3.0",incomeTaxRate:"25.0",highIncomeTaxRate:"30.0",highIncomeThreshold:"6000000",autoEmailSlips:!0,passwordProtectSlips:!0,payslipPasswordType:"TRN",roundNetPay:!0,periodClearingGL:"",periodSuspenseGL:"",probationaryPeriod:"3",probationaryUnit:"Month(s)",pensionPctTaxableCeiling:"20.0",s01ExportPath:"C:\\MICROBRIDGE SOFTWARE\\SMARTPA",glExportType:"Generic CSV",glExportPath:"",useDualTaxFree:!1,primaryTaxFree:"0.00",secondTaxFree:"0.00",graduatedIncomeTax:!0,logo:null,logoPublicId:null,frequencyDesc:"",currentPe:"",payYear:new Date().getFullYear().toString(),annualTaxCr:"0.00",currentNisE:"",taxCreditType:"Annual"});R.useEffect(()=>{(async()=>{if(f.id)try{c(!0);const T=await Te.fetchCompanies();if(T.success){const _=T.data.find(O=>O.id===f.id);if(_){const O=_.settings||{};b({companyName:_.name||"",description:O.description||"",abbrv:_.code||"",trn:_.trn||"",nisNumber:O.nisNumber||"",payeReference:O.payeReference||"",tradeName:O.tradeName||"",address:_.address||"",addressLine2:_.addressLine2||"",mailingAddress1:_.mailingAddress1||"",mailingAddress2:_.mailingAddress2||"",phone:_.phone||"",email:_.email||"",website:O.website||"",sector:O.sector||"Private",currency:O.currency||"JMD",fiscalYearStart:O.fiscalYearStart||"January",payCycle:O.payCycle||"Monthly",payDay:O.payDay||"Wednesday",currentPeriod:O.currentPeriod||"1",noOfPeriods:O.noOfPeriods||"12",frequencyDesc:O.frequencyDesc||"",currentPe:O.currentPe||"",payYear:O.payYear||new Date().getFullYear().toString(),annualTaxCr:O.annualTaxCr||"0.00",currentNisE:O.currentNisE||"",taxCreditType:O.taxCreditType||"Annual",incomeTaxThreshold:O.incomeTaxThreshold||"1500000",nisRateEE:O.nisRateEE||"3.0",nisRateER:O.nisRateER||"3.0",nisAnnualCeiling:O.nisAnnualCeiling||"5000000",nhtRateEE:O.nhtRateEE||"2.0",nhtRateER:O.nhtRateER||"3.0",educationTaxEE:O.educationTaxEE||"2.25",educationTaxER:O.educationTaxER||"3.5",heartRateER:O.heartRateER||"3.0",incomeTaxRate:O.incomeTaxRate||"25.0",highIncomeTaxRate:O.highIncomeTaxRate||"30.0",highIncomeThreshold:O.highIncomeThreshold||"6000000",autoEmailSlips:O.autoEmailSlips??!0,passwordProtectSlips:O.passwordProtectSlips??!0,payslipPasswordType:O.payslipPasswordType||"TRN",roundNetPay:O.roundNetPay??!0,periodClearingGL:O.periodClearingGL||"",periodSuspenseGL:O.periodSuspenseGL||"",probationaryPeriod:O.probationaryPeriod||"3",probationaryUnit:O.probationaryUnit||"Month(s)",pensionPctTaxableCeiling:O.pensionPctTaxableCeiling||"20.0",s01ExportPath:O.s01ExportPath||"C:\\MICROBRIDGE SOFTWARE\\SMARTPA",glExportType:O.glExportType||"Generic CSV",glExportPath:O.glExportPath||"",useDualTaxFree:O.useDualTaxFree??!1,primaryTaxFree:O.primaryTaxFree||"0.00",secondTaxFree:O.secondTaxFree||"0.00",graduatedIncomeTax:O.graduatedIncomeTax??!0,logo:O.logo||null,logoPublicId:O.logoPublicId||null})}}}catch(T){console.error(T)}finally{c(!1)}})()},[f.id]);const m=R.useRef(null),v=(E,T)=>{b(_=>({..._,[E]:T}))},N=R.useCallback(async E=>{const T=E.target.files[0];if(T){h(!0);try{const _=new FileReader;_.onloadend=async()=>{try{const O=_.result,W=await Qe.post("/upload/logo",{data:O});W?.url?b(F=>({...F,logo:W.url,logoPublicId:W.publicId})):(console.error("Upload response missing url:",W),alert("Upload succeeded but no image URL returned."))}catch(O){console.error("Logo upload failed:",O),alert("Failed to upload logo: "+(O?.error||O?.message||"Unknown error"))}finally{h(!1),m.current&&(m.current.value="")}},_.readAsDataURL(T)}catch(_){console.error("Logo upload failed:",_),alert("Failed to upload logo."),h(!1),m.current&&(m.current.value="")}}},[]),w=R.useCallback(async E=>{if(!E){b(T=>({...T,logo:null,logoPublicId:null}));return}try{await Qe.delete("/upload/logo",{data:{publicId:E}})}catch(T){console.error("Delete logo error:",T)}b(T=>({...T,logo:null,logoPublicId:null}))},[]),A=async()=>{try{c(!0);const E={description:g.description,nisNumber:g.nisNumber,payeReference:g.payeReference,tradeName:g.tradeName,website:g.website,sector:g.sector,currency:g.currency,fiscalYearStart:g.fiscalYearStart,payCycle:g.payCycle,payDay:g.payDay,currentPeriod:g.currentPeriod,noOfPeriods:g.noOfPeriods,frequencyDesc:g.frequencyDesc,currentPe:g.currentPe,payYear:g.payYear,annualTaxCr:g.annualTaxCr,currentNisE:g.currentNisE,taxCreditType:g.taxCreditType,incomeTaxThreshold:g.incomeTaxThreshold,nisRateEE:g.nisRateEE,nisRateER:g.nisRateER,nisAnnualCeiling:g.nisAnnualCeiling,nhtRateEE:g.nhtRateEE,nhtRateER:g.nhtRateER,educationTaxEE:g.educationTaxEE,educationTaxER:g.educationTaxER,heartRateER:g.heartRateER,incomeTaxRate:g.incomeTaxRate,highIncomeTaxRate:g.highIncomeTaxRate,highIncomeThreshold:g.highIncomeThreshold,autoEmailSlips:g.autoEmailSlips,passwordProtectSlips:g.passwordProtectSlips,payslipPasswordType:g.payslipPasswordType,roundNetPay:g.roundNetPay,periodClearingGL:g.periodClearingGL,periodSuspenseGL:g.periodSuspenseGL,probationaryPeriod:g.probationaryPeriod,probationaryUnit:g.probationaryUnit,pensionPctTaxableCeiling:g.pensionPctTaxableCeiling,s01ExportPath:g.s01ExportPath,glExportType:g.glExportType,glExportPath:g.glExportPath,useDualTaxFree:g.useDualTaxFree,primaryTaxFree:g.primaryTaxFree,secondTaxFree:g.secondTaxFree,graduatedIncomeTax:g.graduatedIncomeTax,logo:g.logo,logoPublicId:g.logoPublicId},T={name:g.companyName,code:g.abbrv,trn:g.trn,address:g.address,addressLine2:g.addressLine2,mailingAddress1:g.mailingAddress1,mailingAddress2:g.mailingAddress2,phone:g.phone,email:g.email,logo:g.logo,settings:E};if((await Te.updateCompany(f.id,T)).success){alert("Settings saved successfully!");const O={...f,name:g.companyName,code:g.abbrv};localStorage.setItem("selectedCompany",JSON.stringify(O)),p(O)}}catch(E){console.error(E),alert("Failed to save settings.")}finally{c(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Master Configuration"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Jamaica Compliance Engine"})]}),e.jsx("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-1 max-w-7xl mx-auto w-full",children:[e.jsxs("div",{className:"flex flex-row lg:flex-col gap-1 w-full lg:w-48 shrink-0 overflow-x-auto no-scrollbar",children:[e.jsxs("button",{onClick:()=>a("General"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${r==="General"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(p1,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"General Info"})]}),e.jsxs("button",{onClick:()=>a("Tax"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${r==="Tax"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(Vo,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"Compliance"})]}),e.jsxs("button",{onClick:()=>a("Payroll"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${r==="Payroll"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(Rn,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"Payroll Engine"})]}),e.jsxs("button",{onClick:()=>a("System"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${r==="System"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(Zi,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"Integrations"})]})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-300 rounded shadow-sm overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-[11px] font-bold text-gray-800 uppercase tracking-wider",children:[r," Configuration"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[r==="General"&&e.jsxs("div",{className:"max-w-2xl flex flex-col gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Company No."}),e.jsx("input",{value:f.id?.slice(0,4)||"3",readOnly:!0,className:"w-full p-2 border border-gray-300 rounded text-sm font-bold bg-gray-50 text-gray-500"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Corporate Name"}),e.jsx("input",{value:g.companyName,onChange:E=>v("companyName",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-bold text-blue-900 shadow-inner",placeholder:"Legal Entity Name"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Description"}),e.jsx("input",{value:g.description,onChange:E=>v("description",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-bold text-blue-900 shadow-inner",placeholder:"Company description..."})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Trade Name"}),e.jsx("input",{value:g.tradeName,onChange:E=>v("tradeName",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-bold text-blue-900",placeholder:"Trading As..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"NIS Reference"}),e.jsx("input",{value:g.nisNumber,onChange:E=>v("nisNumber",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/30 rounded text-sm font-bold text-gray-800",placeholder:"P-0000000"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"PAYE Reference"}),e.jsx("input",{value:g.payeReference,onChange:E=>v("payeReference",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/30 rounded text-sm font-bold text-gray-800"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"TRN"}),e.jsx("input",{value:g.trn,onChange:E=>v("trn",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/30 rounded text-sm font-bold text-gray-800",placeholder:"000-000-000"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Frequency Desc."}),e.jsx("input",{value:g.frequencyDesc,onChange:E=>v("frequencyDesc",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-medium text-gray-700"})]})]}),e.jsxs("div",{className:"bg-gray-50/50 p-4 border border-gray-200 rounded",children:[e.jsx("h4",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-3 border-b border-gray-200 pb-1",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address Line 1"}),e.jsx("input",{value:g.address,onChange:E=>v("address",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/10 rounded text-sm font-medium text-gray-700",placeholder:"Street Address"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Address Line 2"}),e.jsx("input",{value:g.addressLine2,onChange:E=>v("addressLine2",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/10 rounded text-sm font-medium text-gray-700",placeholder:"City / Parish"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Phone No."}),e.jsx("input",{value:g.phone,onChange:E=>v("phone",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-medium text-gray-700",placeholder:"876-..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Mailing Address 1"}),e.jsx("input",{value:g.mailingAddress1,onChange:E=>v("mailingAddress1",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/10 rounded text-sm font-medium text-gray-700",placeholder:"P.O. Box or Street"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Mailing Address 2"}),e.jsx("input",{value:g.mailingAddress2,onChange:E=>v("mailingAddress2",E.target.value),className:"w-full p-2 border border-blue-200 bg-blue-50/10 rounded text-sm font-medium text-gray-700",placeholder:"City / Parish"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Email Address"}),e.jsx("input",{value:g.email,onChange:E=>v("email",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-medium text-gray-700",placeholder:"corporate@company.com"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50/50 p-4 border border-blue-100 rounded",children:[e.jsx("h4",{className:"text-[9px] font-black text-blue-900 uppercase tracking-widest mb-3",children:"Pay Cycle Parameters"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Pay Cycle"}),e.jsxs("select",{value:g.payCycle,onChange:E=>v("payCycle",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs bg-white",children:[e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Bi-Weekly"}),e.jsx("option",{children:"Monthly"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Pay Day"}),e.jsx("input",{value:g.payDay,onChange:E=>v("payDay",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Current Period"}),e.jsx("input",{type:"number",value:g.currentPeriod,onChange:E=>v("currentPeriod",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs text-center font-bold"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"No. of Periods"}),e.jsx("input",{type:"number",value:g.noOfPeriods,onChange:E=>v("noOfPeriods",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs text-center font-bold bg-gray-50"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Current P/E"}),e.jsx("input",{value:g.currentPe,onChange:E=>v("currentPe",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs",placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Current NIS/E"}),e.jsx("input",{value:g.currentNisE,onChange:E=>v("currentNisE",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs",placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Year"}),e.jsx("input",{type:"number",value:g.payYear,onChange:E=>v("payYear",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs font-bold"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Tax Credit Type"}),e.jsxs("select",{value:g.taxCreditType,onChange:E=>v("taxCreditType",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs bg-white",children:[e.jsx("option",{value:"Annual",children:"Annual"}),e.jsx("option",{value:"Period",children:"Period"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[8px] font-bold text-gray-500 uppercase",children:"Annual Tax Cr."}),e.jsx("input",{value:g.annualTaxCr,onChange:E=>v("annualTaxCr",E.target.value),className:"p-1.5 border border-gray-300 rounded text-xs text-right tabular-nums"})]})]})]})]}),r==="Tax"&&e.jsxs("div",{className:"max-w-3xl flex flex-col gap-6",children:[e.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded mb-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Vo,{className:"text-gray-400",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-700 uppercase tracking-wider",children:"Compliance Advisory"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Define statutory deduction rates for Jamaica (NIS, NHT, Education Tax, PAYE)."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-[10px] text-gray-400 border-b border-gray-100 pb-2 uppercase tracking-widest",children:"Deduction Rates (%)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NIS (EE)"}),e.jsx("input",{type:"number",step:"0.001",value:g.nisRateEE,onChange:E=>v("nisRateEE",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums bg-white shadow-inner"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NIS (ER)"}),e.jsx("input",{type:"number",step:"0.001",value:g.nisRateER,onChange:E=>v("nisRateER",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums bg-white shadow-inner"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NHT (EE)"}),e.jsx("input",{type:"number",step:"0.001",value:g.nhtRateEE,onChange:E=>v("nhtRateEE",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NHT (ER)"}),e.jsx("input",{type:"number",step:"0.001",value:g.nhtRateER,onChange:E=>v("nhtRateER",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase text-blue-800 italic",children:"Education EE"}),e.jsx("input",{type:"number",step:"0.001",value:g.educationTaxEE,onChange:E=>v("educationTaxEE",E.target.value),className:"p-2 border border-blue-100 rounded text-xs font-bold text-right tabular-nums bg-blue-50/20"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase text-blue-800 italic",children:"Education ER"}),e.jsx("input",{type:"number",step:"0.001",value:g.educationTaxER,onChange:E=>v("educationTaxER",E.target.value),className:"p-2 border border-blue-100 rounded text-xs font-bold text-right tabular-nums bg-blue-50/20"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 pt-2",children:[e.jsx("label",{className:"text-[9px] font-black text-rose-800 uppercase tracking-widest",children:"HEART Trust (ER Only)"}),e.jsx("input",{type:"number",step:"0.001",value:g.heartRateER,onChange:E=>v("heartRateER",E.target.value),className:"p-2 border border-rose-200 rounded text-xs font-black text-right tabular-nums bg-rose-50/30"}),e.jsx("p",{className:"text-[8px] text-rose-400 font-bold uppercase mt-1 italic",children:"Note: Employer only statutory contribution"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-[10px] text-gray-400 border-b border-gray-100 pb-2 uppercase tracking-widest",children:"Thresholds & PAYE"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Annual Tax Free Threshold"}),e.jsx("input",{type:"number",value:g.incomeTaxThreshold,onChange:E=>v("incomeTaxThreshold",E.target.value),className:"p-3 border border-gray-300 rounded bg-gray-50 font-bold text-blue-900 text-lg text-right shadow-inner"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase italic",children:"Base PAYE (%)"}),e.jsx("input",{type:"number",step:"0.001",value:g.incomeTaxRate,onChange:E=>v("incomeTaxRate",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase italic",children:"High PAYE (%)"}),e.jsx("input",{type:"number",step:"0.001",value:g.highIncomeTaxRate,onChange:E=>v("highIncomeTaxRate",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NIS Annual Ceiling"}),e.jsx("input",{type:"number",value:g.nisAnnualCeiling,onChange:E=>v("nisAnnualCeiling",E.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right tabular-nums bg-gray-50"})]})]})]})]}),r==="Payroll"&&e.jsx("div",{className:"max-w-2xl flex flex-col gap-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest flex items-center gap-2",children:[e.jsx(Mk,{size:12})," GL Account Mapping"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Period Clearing GL"}),e.jsx("input",{value:g.periodClearingGL,onChange:E=>v("periodClearingGL",E.target.value),className:"p-2 border border-gray-300 rounded text-xs font-mono shadow-inner",placeholder:"XXX-XXX-XXXX"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Period Suspense GL"}),e.jsx("input",{value:g.periodSuspenseGL,onChange:E=>v("periodSuspenseGL",E.target.value),className:"p-2 border border-gray-300 rounded text-xs font-mono shadow-inner",placeholder:"XXX-XXX-XXXX"})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest flex items-center gap-2",children:[e.jsx(rw,{size:12})," Employment Policies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Probation Period"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:g.probationaryPeriod,onChange:E=>v("probationaryPeriod",E.target.value),className:"w-20 p-2 border border-gray-300 rounded text-xs font-bold text-center"}),e.jsxs("select",{value:g.probationaryUnit,onChange:E=>v("probationaryUnit",E.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-xs bg-white",children:[e.jsx("option",{children:"Month(s)"}),e.jsx("option",{children:"Week(s)"}),e.jsx("option",{children:"Day(s)"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Pension Taxable Ceiling (%)"}),e.jsx("input",{type:"number",step:"0.1",value:g.pensionPctTaxableCeiling,onChange:E=>v("pensionPctTaxableCeiling",E.target.value),className:"p-2 border border-gray-300 rounded text-xs font-bold text-right tabular-nums shadow-inner"})]})]})]})]})}),r==="System"&&e.jsx("div",{className:"max-w-4xl flex flex-col gap-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest flex items-center gap-2",children:[e.jsx(Zi,{size:12})," GL Export"]}),e.jsxs("div",{className:"space-y-3 bg-gray-50/50 p-4 rounded border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase",children:"GL Export Type"}),e.jsxs("select",{value:g.glExportType,onChange:E=>v("glExportType",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-[10px] bg-white",children:[e.jsx("option",{children:"Generic CSV"}),e.jsx("option",{children:"QuickBooks"}),e.jsx("option",{children:"Sage 50"}),e.jsx("option",{children:"Microsoft Dynamics"}),e.jsx("option",{children:"ACCPAC"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase",children:"Export Path"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:g.glExportPath,onChange:E=>v("glExportPath",E.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-[10px] font-mono"}),e.jsx("button",{className:"p-2 border border-gray-300 rounded hover:bg-white text-gray-400 hover:text-blue-900 transition-colors",children:e.jsx(yf,{size:14})})]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest flex items-center gap-2",children:[e.jsx(Pl,{size:12})," Tax Preferences"]}),e.jsxs("div",{className:"bg-gray-50/50 p-4 rounded border border-gray-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-gray-100",children:[e.jsx("input",{type:"checkbox",checked:g.useDualTaxFree,onChange:E=>v("useDualTaxFree",E.target.checked),className:"w-3.5 h-3.5 rounded text-blue-900 focus:ring-blue-900"}),e.jsx("label",{className:"text-[10px] font-bold text-gray-700 uppercase",children:"Use dual tax free income"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:`text-[9px] font-bold uppercase ${g.useDualTaxFree?"text-gray-600":"text-gray-400"}`,children:"Primary Tax Free"}),e.jsx("input",{type:"number",disabled:!g.useDualTaxFree,value:g.primaryTaxFree,onChange:E=>v("primaryTaxFree",E.target.value),className:"p-2 border border-gray-300 rounded text-right tabular-nums text-xs font-bold disabled:bg-gray-100"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:`text-[9px] font-bold uppercase ${g.useDualTaxFree?"text-gray-600":"text-gray-400"}`,children:"Second. Tax Free"}),e.jsx("input",{type:"number",disabled:!g.useDualTaxFree,value:g.secondTaxFree,onChange:E=>v("secondTaxFree",E.target.value),className:"p-2 border border-gray-300 rounded text-right tabular-nums text-xs font-bold disabled:bg-gray-100"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("input",{type:"checkbox",checked:g.graduatedIncomeTax,onChange:E=>v("graduatedIncomeTax",E.target.checked),className:"w-3.5 h-3.5 rounded text-blue-900 focus:ring-blue-900"}),e.jsx("label",{className:"text-[10px] font-bold text-gray-700 uppercase",children:"Graduated Income Tax"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest flex items-center gap-2",children:[e.jsx(h1,{size:12})," Branding"]}),e.jsxs("div",{className:"bg-gray-50/50 p-4 rounded border border-gray-200 flex gap-4 items-start",children:[e.jsx("input",{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:N}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>m.current?.click(),disabled:d,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 rounded hover:bg-gray-50 text-[10px] font-bold uppercase text-gray-600 transition-colors shadow-sm disabled:opacity-50",children:[d?e.jsx(Ut,{size:12,className:"animate-spin"}):e.jsx(yf,{size:12}),d?"Uploading...":"Add Picture"]}),e.jsxs("button",{onClick:()=>w(g.logoPublicId),disabled:!g.logo||d,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 rounded hover:bg-rose-50 text-[10px] font-bold uppercase text-rose-600 hover:border-rose-200 transition-colors shadow-sm disabled:opacity-40",children:[e.jsx($a,{size:12})," Delete Picture"]})]}),e.jsx("div",{className:"flex-1 h-32 border-2 border-dashed border-gray-300 rounded bg-white flex items-center justify-center relative overflow-hidden",children:d?e.jsxs("div",{className:"text-center p-4",children:[e.jsx(Ut,{size:24,className:"animate-spin text-blue-400 mx-auto mb-1"}),e.jsx("span",{className:"text-[9px] text-gray-400 uppercase",children:"Uploading..."})]}):g.logo?e.jsx("img",{src:g.logo,alt:"Company Logo",className:"object-contain max-h-full max-w-full p-2"}):e.jsxs("div",{className:"text-center p-4",children:[e.jsx("span",{className:"text-4xl font-black text-gray-100 block mb-1",children:"LOGO"}),e.jsx("span",{className:"text-[9px] text-gray-400 uppercase",children:"No Image Loaded"})]})})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest flex items-center gap-2",children:[e.jsx(Rn,{size:12})," S01 Export"]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-col gap-1 p-3 bg-gray-50/50 border border-gray-200 rounded",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase",children:"S01 Export Root Path"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:g.s01ExportPath,onChange:E=>v("s01ExportPath",E.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-[10px] font-bold tabular-nums"}),e.jsx("button",{className:"p-2 border border-gray-300 rounded hover:bg-white text-gray-400 hover:text-blue-900 transition-colors",children:e.jsx(yf,{size:14})})]})]})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-blue-900 border-b border-blue-100 pb-2 uppercase text-[10px] tracking-widest",children:"Automation & Delivery"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between p-3 bg-blue-50/20 border border-blue-100 rounded",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:g.autoEmailSlips,onChange:E=>v("autoEmailSlips",E.target.checked),className:"w-4 h-4 rounded text-blue-900 focus:ring-blue-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-700 uppercase leading-none",children:"Auto-Email Payslips"}),e.jsx("p",{className:"text-[8px] text-gray-400 font-medium mt-1",children:"Dispatch slips after payroll finalization."})]})]})}),e.jsxs("div",{className:"flex flex-col gap-1 p-3 bg-gray-50/50 border border-gray-200 rounded",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-600 uppercase",children:"Encryption Logic"}),e.jsxs("select",{value:g.payslipPasswordType,onChange:E=>v("payslipPasswordType",E.target.value),className:"w-full p-2 border border-gray-300 rounded text-[10px] font-bold bg-white",children:[e.jsx("option",{value:"TRN",children:"Employee TRN"}),e.jsx("option",{value:"DOB",children:"Date of Birth (YYYYMMDD)"}),e.jsx("option",{value:"EMP_ID",children:"System Employee ID"})]})]})]})]})]})]})})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end gap-3 bg-white",children:[e.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 rounded text-[10px] font-bold uppercase text-gray-500 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:A,disabled:o,className:"bg-gray-800 text-white px-8 py-2 rounded font-bold text-[10px] uppercase tracking-widest hover:bg-gray-900 transition-colors flex items-center gap-2",children:[o&&e.jsx(Ut,{size:14,className:"animate-spin"}),o?"Saving...":"Save Changes"]})]})]})]})})]})},fo=t=>t&&typeof t=="object"?Array.isArray(t)?t.map(fo):{...t,...Object.fromEntries(Object.entries(t).map(([r,a])=>[r,fo(a)]))}:t,aw=R.createContext(null),Ar=({label:t,children:r,className:a=""})=>e.jsxs("div",{className:`flex flex-col sm:grid sm:grid-cols-[140px_1fr] gap-1 sm:gap-2 sm:items-center ${a}`,children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-700 uppercase",children:t}),r]}),Ms=({name:t,list:r="general",type:a="text"})=>{const{general:s,preferences:i,updateGeneral:o,updatePreferences:c,isEditing:d}=R.useContext(aw),h=r==="general"?s[t]:i[t],f=r==="general"?o:c;return e.jsx("input",{type:a,value:h??"",onChange:p=>f(t,p.target.value),readOnly:!d,className:"p-1 border border-gray-400 bg-white text-blue-800 font-bold shadow-inner text-[11px]"})},z8=()=>{const t=jt(),[r,a]=R.useState("general"),[s,i]=R.useState(!1),o=R.useRef(null),[c,d]=R.useState({companyNo:"11",name:"ISLAND HR SOLUTIONS LIMITED",description:"ISLAND HR SOLUTIONS LIMITED",tradeName:"1799376.00",nisReference:"7741929",payeReference:"",trn:"002095220",frequencyDesc:"",addressLine1:"Bioprist Knowledge Park",mailingAddress1:"",addressLine2:"4th Floor, 1A Pomento Way",mailingAddress2:"",phoneNo:"6207645",emailAddress:"",payCycle:"Weekly",payDay:"Friday",currentPeriod:"2",noOfPeriods:"52",currentPE:"09/01/2026",currentNISE:"05/01/2026",year:"2026",taxCreditType:"Annual",annualTaxCr:"1,799,376.00",prorateAnnualCredit:!1}),[h,f]=R.useState({country:"Jamaica",typeOfPayroll:"Employee",periodClearingGL:"",periodSuspenseGL:"",useGLFormatting:!1,deductionsInExcessOfNetPay:"Auto-Loan",defaultRentalTransCode:"FN001",rentalAddonPct:"0.00",defaultWageType:"Hourly",autoCalculateBasicPay:!0,defaultRegularHours:"40.00",defaultPayDisbursementType:"Electronic Transfer",currency:"JMD",nisAnnualCeiling:"5,000,000.00",payAdviceFormat:"0",defaultBackupPath:"",suppressDisplayOfRental:!1,probationaryPeriod:"3",probationaryUnit:"Month(s)",autoUpdateStatusAfterProbation:!1,pensionPctTaxableCeiling:"20.00",integrateHRMForWages:!0}),[p,g]=R.useState("Employee"),[b,m]=R.useState([{taxId:"EDTAX",eeRate:"2.250",erRate:"3.500",femStart:"18",femEnd:"60",maleStart:"18",maleEnd:"65"},{taxId:"HEART",eeRate:"0.000",erRate:"3.000",femStart:"0",femEnd:"0",maleStart:"0",maleEnd:"0"},{taxId:"ITAX",eeRate:"25.000",erRate:"0.000",femStart:"1",femEnd:"200",maleStart:"1",maleEnd:"200"},{taxId:"NHT",eeRate:"2.000",erRate:"3.000",femStart:"18",femEnd:"60",maleStart:"18",maleEnd:"65"},{taxId:"NIS",eeRate:"3.000",erRate:"3.000",femStart:"18",femEnd:"60",maleStart:"18",maleEnd:"65"}]),[v,N]=R.useState({taxableGross:"3,189,390.67",nonTaxableGross:"0.00",regularPay:"1,913,580.01",overtimePay:"0.00",totalDed:"33,979.92",incomeTaxEE:"540,724.78",incomeTaxER:"0.0000",heartEE:"0.0000",heartER:"95,681.74",nisEE:"64,510.11",nisER:"64,510.11",nhtEE:"63,787.80",nhtER:"95,681.74",educationTaxEE:"69,876.43",educationTaxER:"108,696.65",pensionEE:"19,261.20",pensionER:"0.00"}),w=()=>({general:fo(c),preferences:fo(h),taxScheme:p,taxRates:fo(b),ytd:fo(v)});R.useEffect(()=>{const P=()=>{try{const z=localStorage.getItem("company_settings_v1");if(z){const M=JSON.parse(z);o.current=M,d(M.general),f(M.preferences),g(M.taxScheme),m(M.taxRates),N(M.ytd)}else o.current=w()}catch(z){console.error("Failed to load settings",z),o.current=w()}};o.current===null&&P()},[]);const A=(P,z)=>d(M=>({...M,[P]:z})),E=(P,z)=>f(M=>({...M,[P]:z})),T=(P,z)=>N(M=>({...M,[P]:z})),_=()=>{const P=w();o.current=P;try{localStorage.setItem("company_settings_v1",JSON.stringify(P)),alert("Settings saved successfully!")}catch(z){console.error("Save failed",z)}i(!1)},O=()=>{i(!0)},W=()=>{const P=o.current;P&&(d(fo(P.general)),f(fo(P.preferences)),g(P.taxScheme),m(fo(P.taxRates)),N(fo(P.ytd)),alert("Changes reverted to last save.")),i(!1)},F=()=>{t("/")};return e.jsx(aw.Provider,{value:{general:c,preferences:h,updateGeneral:A,updatePreferences:E,isEditing:s},children:e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsx("div",{className:"border-b border-gray-300 px-6 py-4 bg-white",children:e.jsx("span",{className:"font-bold text-gray-800 text-sm uppercase tracking-tight",children:"Company Settings"})}),e.jsx("div",{className:"flex border-b border-gray-200 bg-white px-2",children:[{id:"general",label:"General Info"},{id:"preferences",label:"Configuration"},{id:"tax",label:"Taxation"},{id:"ytd",label:"YTD Totals"}].map(P=>e.jsx("button",{onClick:()=>a(P.id),className:`px-4 py-3 font-bold text-[10px] uppercase tracking-wider transition-colors ${r===P.id?"text-gray-900 border-b-2 border-gray-900":"text-gray-400 hover:text-gray-600"}`,children:P.label},P.id))}),e.jsxs("div",{className:"flex-1 overflow-auto p-6 min-w-0 pb-20 sm:pb-4",children:[r==="general"&&e.jsxs("div",{className:"space-y-8 max-w-4xl",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Registration Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(Ar,{label:"Company No.",children:e.jsx(Ms,{name:"companyNo",list:"general"})}),e.jsx(Ar,{label:"Name",children:e.jsx(Ms,{name:"name",list:"general"})}),e.jsx(Ar,{label:"Description",children:e.jsx(Ms,{name:"description",list:"general"})}),e.jsx(Ar,{label:"Trade Name",children:e.jsx(Ms,{name:"tradeName",list:"general"})}),e.jsx(Ar,{label:"NIS Ref",children:e.jsx(Ms,{name:"nisReference",list:"general"})}),e.jsx(Ar,{label:"PAYE Ref",children:e.jsx(Ms,{name:"payeReference",list:"general"})}),e.jsx(Ar,{label:"TRN",children:e.jsx(Ms,{name:"trn",list:"general"})}),e.jsx(Ar,{label:"Freq Code",children:e.jsx(Ms,{name:"frequencyDesc",list:"general"})})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Communication"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(Ar,{label:"Address 1",children:e.jsx(Ms,{name:"addressLine1",list:"general"})}),e.jsx(Ar,{label:"Mailing 1",children:e.jsx(Ms,{name:"mailingAddress1",list:"general"})}),e.jsx(Ar,{label:"Address 2",children:e.jsx(Ms,{name:"addressLine2",list:"general"})}),e.jsx(Ar,{label:"Mailing 2",children:e.jsx(Ms,{name:"mailingAddress2",list:"general"})}),e.jsx(Ar,{label:"Phone",children:e.jsx(Ms,{name:"phoneNo",list:"general"})}),e.jsx(Ar,{label:"Email",children:e.jsx(Ms,{name:"emailAddress",list:"general"})})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Cycle Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(Ar,{label:"Pay Cycle",children:e.jsxs("select",{value:c.payCycle,onChange:P=>{const z=P.target.value,M=z==="Weekly"?"52":z==="Bi-Weekly"?"26":"12";d(C=>({...C,payCycle:z,noOfPeriods:M}))},disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Bi-Weekly"}),e.jsx("option",{children:"Monthly"})]})}),e.jsx(Ar,{label:"Pay Day",children:e.jsxs("select",{value:c.payDay,onChange:P=>A("payDay",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Friday"}),e.jsx("option",{children:"Monday"}),e.jsx("option",{children:"Last Day"})]})}),e.jsx(Ar,{label:"Period #",children:e.jsx("input",{type:"number",value:c.currentPeriod,onChange:P=>A("currentPeriod",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium w-20"})}),e.jsx(Ar,{label:"Max Periods",children:e.jsx("div",{className:"flex flex-col gap-0.5",children:e.jsx("input",{type:"number",value:c.noOfPeriods,onChange:P=>A("noOfPeriods",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium w-20"})})}),e.jsx(Ar,{label:"Current P/E",children:e.jsx(Ms,{name:"currentPE",list:"general"})}),e.jsx(Ar,{label:"NIS Date",children:e.jsx(Ms,{name:"currentNISE",list:"general"})}),e.jsx(Ar,{label:"Year",children:e.jsx("input",{type:"number",value:c.year,onChange:P=>A("year",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium w-20"})}),e.jsx(Ar,{label:"Credit Type",children:e.jsxs("select",{value:c.taxCreditType,onChange:P=>A("taxCreditType",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Annual"}),e.jsx("option",{children:"Period"})]})}),e.jsx(Ar,{label:"Annual Cr.",children:e.jsx(Ms,{name:"annualTaxCr",list:"general"})}),e.jsx(Ar,{label:"Prorate Credit",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:c.prorateAnnualCredit,onChange:P=>A("prorateAnnualCredit",P.target.checked),disabled:!s,className:"w-4 h-4 border border-gray-300 rounded"}),e.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Prorate for mid-year joiners"})]})})]})]})]}),r==="preferences"&&e.jsx("div",{className:"space-y-6 max-w-4xl",children:e.jsxs("section",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Technical Policy"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4",children:[e.jsx(Ar,{label:"Jurisdiction",children:e.jsxs("select",{value:h.country,onChange:P=>E("country",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Jamaica"}),e.jsx("option",{children:"Other"})]})}),e.jsx(Ar,{label:"Payroll Type",children:e.jsxs("select",{value:h.typeOfPayroll,onChange:P=>E("typeOfPayroll",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Employee"}),e.jsx("option",{children:"Contractor"})]})}),e.jsx(Ar,{label:"Exceed Net Pay",children:e.jsxs("select",{value:h.deductionsInExcessOfNetPay,onChange:P=>E("deductionsInExcessOfNetPay",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Auto-Loan"}),e.jsx("option",{children:"Carry Forward"}),e.jsx("option",{children:"Stop"})]})}),e.jsx(Ar,{label:"Wage Type",children:e.jsxs("select",{value:h.defaultWageType,onChange:P=>E("defaultWageType",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Hourly"}),e.jsx("option",{children:"Salary"})]})}),e.jsx(Ar,{label:"Disbursement",children:e.jsxs("select",{value:h.defaultPayDisbursementType,onChange:P=>E("defaultPayDisbursementType",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Electronic Transfer"}),e.jsx("option",{children:"Cheque"}),e.jsx("option",{children:"Cash"})]})}),e.jsx(Ar,{label:"Currency",children:e.jsxs("select",{value:h.currency,onChange:P=>E("currency",P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"JMD"}),e.jsx("option",{children:"USD"})]})}),e.jsx(Ar,{label:"NIS Ceiling",children:e.jsx(Ms,{name:"nisAnnualCeiling",list:"preferences"})}),e.jsx(Ar,{label:"Auto Calc.",children:e.jsx("input",{type:"checkbox",checked:h.autoCalculateBasicPay,onChange:P=>E("autoCalculateBasicPay",P.target.checked),disabled:!s,className:"w-4 h-4"})}),e.jsx(Ar,{label:"HRM Integr.",children:e.jsx("input",{type:"checkbox",checked:h.integrateHRMForWages,onChange:P=>E("integrateHRMForWages",P.target.checked),disabled:!s,className:"w-4 h-4"})})]})]})}),r==="tax"&&e.jsxs("div",{className:"space-y-6 max-w-5xl",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded border border-gray-200 shadow-sm",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Selected Scheme"}),e.jsxs("select",{value:p,onChange:P=>g(P.target.value),disabled:!s,className:"p-1 border border-gray-300 rounded bg-white font-bold text-[11px] w-32",children:[e.jsx("option",{children:"Employee"}),e.jsx("option",{children:"Employer"})]})]}),e.jsx("div",{className:"bg-white border border-gray-300 rounded shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-[10px]",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-400 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left font-bold uppercase tracking-wider",children:"Tax ID"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"EE %"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"ER %"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"F. Min"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"F. Max"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"M. Min"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"M. Max"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(P=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 font-bold text-gray-700",children:P.taxId}),e.jsx("td",{className:"p-3 text-right font-medium",children:P.eeRate}),e.jsx("td",{className:"p-3 text-right font-medium",children:P.erRate}),e.jsx("td",{className:"p-3 text-right font-medium",children:P.femStart}),e.jsx("td",{className:"p-3 text-right font-medium",children:P.femEnd}),e.jsx("td",{className:"p-3 text-right font-medium",children:P.maleStart}),e.jsx("td",{className:"p-3 text-right font-medium",children:P.maleEnd})]},P.taxId))})]})})]}),r==="ytd"&&e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("section",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Cumulative Pay"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(Ar,{label:"Taxable Gross",children:e.jsx("input",{type:"text",value:v.taxableGross,onChange:P=>T("taxableGross",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(Ar,{label:"Exempt Gross",children:e.jsx("input",{type:"text",value:v.nonTaxableGross,onChange:P=>T("nonTaxableGross",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(Ar,{label:"Regular Pay",children:e.jsx("input",{type:"text",value:v.regularPay,onChange:P=>T("regularPay",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(Ar,{label:"Overtime",children:e.jsx("input",{type:"text",value:v.overtimePay,onChange:P=>T("overtimePay",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(Ar,{label:"Total Deduct.",children:e.jsx("input",{type:"text",value:v.totalDed,onChange:P=>T("totalDed",P.target.value),readOnly:!s,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})})]})]}),e.jsxs("section",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Statutory Totals"}),e.jsx("div",{className:"overflow-x-auto max-w-2xl border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-[10px]",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-400 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left font-bold uppercase tracking-wider"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"Employer"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:["incomeTax","heart","nis","nht","educationTax","pension"].map(P=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 font-bold text-gray-700 capitalize",children:P.replace(/([A-Z])/g," $1")}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",value:v[`${P}EE`],onChange:z=>T(`${P}EE`,z.target.value),readOnly:!s,className:"p-1 border border-gray-200 rounded bg-white text-gray-800 font-medium text-right w-full"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",value:v[`${P}ER`],onChange:z=>T(`${P}ER`,z.target.value),readOnly:!s,className:"p-1 border border-gray-200 rounded bg-white text-gray-800 font-medium text-right w-full"})})]},P))})]})})]})]})]}),e.jsxs("div",{className:"bg-gray-100 border-t border-gray-200 px-6 py-4 flex gap-4 justify-start flex-wrap sticky bottom-0 z-20",children:[e.jsx("button",{onClick:_,className:"px-6 py-2 bg-gray-800 text-white font-bold text-[10px] uppercase tracking-widest rounded hover:bg-gray-900 shadow-sm transition-colors",children:"Save Changes"}),e.jsx("button",{onClick:O,className:"px-6 py-2 bg-white text-gray-600 border border-gray-300 font-bold text-[10px] uppercase tracking-widest rounded hover:bg-gray-50 shadow-sm transition-colors",children:"Modify Fields"}),e.jsx("button",{onClick:W,className:"px-6 py-2 bg-white text-gray-600 border border-gray-300 font-bold text-[10px] uppercase tracking-widest rounded hover:bg-gray-50 shadow-sm transition-colors",children:"Revert"}),e.jsx("button",{onClick:F,className:"px-6 py-2 bg-white text-gray-400 font-bold text-[10px] uppercase tracking-widest rounded hover:text-gray-600 transition-colors",children:"Exit"})]})]})})},U8=()=>{const t=jt(),[r,a]=R.useState("ACCOUNTS"),[s,i]=R.useState(""),[o,c]=R.useState(!1),[d,h]=R.useState(null),[f,p]=R.useState(!1),[g]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[b,m]=R.useState([]),[v,N]=R.useState({bank:"",bankBranch:"",companyACNo:"",identificationNo:"",glAccount:"",exportPath:""}),[w,A]=R.useState([]),[E,T]=R.useState({name:"",description:"",accountNumber:"",bankName:"",currency:"JMD",remitTotal:"0.00",includeInExport:!0}),_=async()=>{if(g.id)try{p(!0);const B=await Te.fetchBankAccounts({companyId:g.id});B.success&&m(B.data.map(X=>({id:X.id,bank:X.bankName,branch:X.bankBranch,accountNo:X.accountNumber,identificationNo:X.identificationNo,glAccount:X.glAccount,exportPath:X.exportPath})))}catch(B){console.error(B)}finally{p(!1)}},O=async()=>{if(g.id)try{p(!0);const B=await Te.fetchBeneficiaries(g.id);B.success&&A(B.data)}catch(B){console.error(B)}finally{p(!1)}};R.useEffect(()=>{r==="ACCOUNTS"?_():O(),h(null),c(!1),i("")},[r,g.id]);const W=(B,X)=>{r==="ACCOUNTS"?N(ue=>({...ue,[B]:X})):T(ue=>({...ue,[B]:X}))},F=()=>{r==="ACCOUNTS"?N({bank:"",bankBranch:"",companyACNo:"",identificationNo:"",glAccount:"",exportPath:""}):T({name:"",description:"",accountNumber:"",bankName:"",currency:"JMD",remitTotal:"0.00",includeInExport:!0}),h(null),c(!0)},P=()=>{if(!d){alert("STATION ALERT: Please select a record from the list to edit.");return}c(!0)},z=async()=>{if(!d){alert("STATION ALERT: Please select a record to delete.");return}if(window.confirm("CRITICAL WARNING: This will permanently DELETE this record. Continue?"))try{p(!0);let B;r==="ACCOUNTS"?B=await Te.deleteBankAccount(d):B=await Te.deleteBeneficiary(d),B.success&&(alert(" RECORD DELETED SUCCESSFULLY"),r==="ACCOUNTS"?_():O(),h(null),F(),c(!1))}catch(B){console.error(B),alert("ERROR: Failed to delete record.")}finally{p(!1)}},M=async()=>{if(r==="ACCOUNTS"){if(!v.bankBranch||!v.companyACNo){alert("STATION ALERT: Bank Branch and Account Number are required.");return}}else if(!E.name||!E.accountNumber){alert("STATION ALERT: Name and Account Number are required.");return}try{p(!0);let B;if(r==="ACCOUNTS"){const X={companyId:g.id,bankName:v.bank,bankBranch:v.bankBranch,accountNumber:v.companyACNo,identificationNo:v.identificationNo,glAccount:v.glAccount,exportPath:v.exportPath};d?B=await Te.updateBankAccount(d,X):B=await Te.createBankAccount(X)}else{const X={companyId:g.id,name:E.name,description:E.description,accountNumber:E.accountNumber,bankName:E.bankName,currency:E.currency,remitTotal:E.remitTotal,includeInExport:E.includeInExport};d?B=await Te.updateBeneficiary(d,X):B=await Te.createBeneficiary(X)}B.success&&(alert(" RECORD SAVED SUCCESSFULLY"),r==="ACCOUNTS"?_():O(),d||F(),c(!1))}catch(B){console.error(B),alert("ERROR: Failed to save record.")}finally{p(!1)}},C=B=>{if(h(B),r==="ACCOUNTS"){const X=b.find(ue=>ue.id===B);X&&N({bank:X.bank,bankBranch:X.branch,companyACNo:X.accountNo,identificationNo:X.identificationNo,glAccount:X.glAccount||"",exportPath:X.exportPath||""})}else{const X=w.find(ue=>ue.id===B);X&&T({name:X.name,description:X.description||"",accountNumber:X.accountNumber,bankName:X.bankName||"",currency:X.currency||"JMD",remitTotal:X.remitTotal||"0.00",includeInExport:X.includeInExport})}},U="flex flex-col items-center justify-center p-1.5 sm:p-2 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:border-0 active:translate-y-0.5 touch-manipulation min-w-[48px] sm:min-w-[5rem]";return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs min-w-0",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-1.5 flex gap-4 items-center",children:[e.jsx("span",{className:"font-bold text-gray-700 text-[11px] sm:text-xs",children:"Bank Configuration Mode:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>a("ACCOUNTS"),className:`px-3 py-1 font-bold text-[10px] uppercase rounded-t border-t border-l border-r border-gray-400 ${r==="ACCOUNTS"?"bg-[#EBE9D8] z-10 -mb-[1px] pb-1.5":"bg-gray-300 text-gray-500"}`,children:"Company Accounts"}),e.jsx("button",{onClick:()=>a("BENEFICIARIES"),className:`px-3 py-1 font-bold text-[10px] uppercase rounded-t border-t border-l border-r border-gray-400 ${r==="BENEFICIARIES"?"bg-[#EBE9D8] z-10 -mb-[1px] pb-1.5":"bg-gray-300 text-gray-500"}`,children:"Beneficiaries"})]})]}),e.jsx("div",{className:"flex-1 p-3 sm:p-4 overflow-auto min-w-0",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[380px_90px_1fr] gap-4 h-full min-h-0",children:[e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsxs("fieldset",{className:"border border-gray-400 p-4 rounded-md bg-[#F0EEE0] shadow-sm relative pt-6 mb-4",children:[e.jsx("legend",{className:"text-white bg-[#316AC5] px-3 py-1 font-bold absolute -top-3 left-4 border border-[#26539a] text-[10px] sm:text-xs shadow-sm uppercase tracking-wider",children:r==="ACCOUNTS"?"Electronic Transfer Information":"Beneficiary Details"}),e.jsx("div",{className:"space-y-3 mt-2",children:r==="ACCOUNTS"?e.jsx(e.Fragment,{children:[{label:"Bank",field:"bank"},{label:"Bank Branch",field:"bankBranch"},{label:"Company A/C No.",field:"companyACNo"},{label:"Identification No.",field:"identificationNo"},{label:"GL Account",field:"glAccount"},{label:"Export Path",field:"exportPath"}].map(B=>e.jsxs("div",{className:"grid grid-cols-[100px_1fr] sm:grid-cols-[120px_1fr] gap-3 items-center",children:[e.jsx("label",{className:"text-gray-700 font-bold text-right text-[10px] sm:text-xs uppercase tracking-tighter",children:B.label}),e.jsx("input",{type:"text",value:v[B.field],onChange:X=>W(B.field,X.target.value),className:`p-1.5 border border-gray-400 bg-white text-blue-900 font-bold shadow-inner w-full text-xs focus:ring-1 focus:ring-blue-500 outline-none transition-all ${o?"bg-white":"opacity-70 bg-gray-50"}`,readOnly:!o})]},B.field))}):e.jsxs(e.Fragment,{children:[[{label:"Beneficiary Name",field:"name"},{label:"Description",field:"description"},{label:"Target Account #",field:"accountNumber"},{label:"Target Bank",field:"bankName"},{label:"Currency",field:"currency"},{label:"Remit Total",field:"remitTotal",type:"number"}].map(B=>e.jsxs("div",{className:"grid grid-cols-[100px_1fr] sm:grid-cols-[120px_1fr] gap-3 items-center",children:[e.jsx("label",{className:"text-gray-700 font-bold text-right text-[10px] sm:text-xs uppercase tracking-tighter",children:B.label}),e.jsx("input",{type:B.type||"text",value:E[B.field],onChange:X=>W(B.field,X.target.value),className:`p-1.5 border border-gray-400 bg-white text-blue-900 font-bold shadow-inner w-full text-xs focus:ring-1 focus:ring-blue-500 outline-none transition-all ${o?"bg-white":"opacity-70 bg-gray-50"}`,readOnly:!o})]},B.field)),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] sm:grid-cols-[120px_1fr] gap-3 items-center mt-2",children:[e.jsx("label",{className:"text-gray-700 font-bold text-right text-[10px] sm:text-xs uppercase tracking-tighter",children:"Include in Export"}),e.jsx("input",{type:"checkbox",checked:E.includeInExport,onChange:B=>W("includeInExport",B.target.checked),className:"w-4 h-4",disabled:!o})]})]})})]}),e.jsxs("div",{className:"mt-auto p-3 bg-blue-50 border border-blue-200 text-[9px] font-bold text-blue-800 uppercase italic",children:["* ",r==="ACCOUNTS"?"Define Source Accounts":"Define Destination Payees"]})]}),e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 shrink-0 overflow-x-auto lg:overflow-x-visible pb-2 lg:pb-0 scrollbar-hide",children:[e.jsxs("button",{onClick:()=>{const B=prompt("Enter search term:");B!==null&&i(B)},className:U,children:[e.jsx(Ga,{className:"text-blue-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"SEARCH"})]}),e.jsxs("button",{onClick:z,className:U,children:[e.jsx($a,{className:"text-red-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"DELETE"})]}),e.jsxs("button",{onClick:M,className:U,children:[d?e.jsx(sn,{className:"text-green-700 mb-1",size:20}):e.jsx(qs,{className:"text-emerald-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:d?"UPDATE":"SAVE"})]}),e.jsxs("button",{onClick:P,className:U,children:[e.jsx(tw,{className:"text-blue-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"EDIT"})]}),e.jsxs("button",{onClick:F,className:U,children:[e.jsx(ic,{className:"text-orange-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"NEW"})]}),e.jsx("div",{className:"hidden lg:block h-px bg-gray-400 my-1 mx-2"}),e.jsxs("button",{onClick:()=>t(-1),className:U,children:[e.jsx(_r,{className:"text-red-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"EXIT"})]})]}),e.jsxs("div",{className:"flex flex-col min-w-0 h-full relative",children:[f&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] flex-1 overflow-hidden flex flex-col rounded-sm",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1.5 flex justify-between items-center shrink-0",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter text-[10px]",children:r==="ACCOUNTS"?"Company Accounts List":"Beneficiary Payment List"}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:[r==="ACCOUNTS"?b.length:w.length," Record(s)"]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse min-w-[500px]",children:[e.jsx("thead",{className:"bg-[#EBE9D8] border-b border-gray-400 text-[10px] text-gray-700 font-bold sticky top-0 z-10",children:e.jsx("tr",{children:r==="ACCOUNTS"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Bank Name"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Branch"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Account #"}),e.jsx("th",{className:"p-2 text-left uppercase tracking-tighter w-1/4",children:"Export Path"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Beneficiary"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Description"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-center uppercase tracking-tighter w-16",children:"Include"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Account #"}),e.jsx("th",{className:"p-2 text-right uppercase tracking-tighter w-1/5",children:"Remit Total"})]})})}),e.jsxs("tbody",{className:"text-[11px] font-bold",children:[(r==="ACCOUNTS"?b:w).filter(B=>{const X=s.toLowerCase();return X?r==="ACCOUNTS"?B.branch?.toLowerCase().includes(X)||B.accountNo?.includes(X)||B.bank?.toLowerCase().includes(X):B.name?.toLowerCase().includes(X)||B.accountNumber?.includes(X):!0}).map(B=>e.jsx("tr",{onClick:()=>C(B.id),className:`cursor-pointer transition-colors ${d===B.id?"bg-[#316AC5] text-white":"odd:bg-[#F2F7FF] even:bg-white hover:bg-yellow-50"}`,children:r==="ACCOUNTS"?e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"border-r border-gray-200 p-2 truncate",children:B.bank||"-"}),e.jsx("td",{className:"border-r border-gray-200 p-2 truncate",children:B.branch}),e.jsx("td",{className:"border-r border-gray-200 p-2 truncate font-mono",children:B.accountNo}),e.jsx("td",{className:"p-2 truncate text-gray-500",children:B.exportPath})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"border-r border-gray-200 p-2 truncate",children:B.name}),e.jsx("td",{className:"border-r border-gray-200 p-2 truncate",children:B.description}),e.jsx("td",{className:"border-r border-gray-200 p-2 text-center",children:e.jsx("input",{type:"checkbox",checked:B.includeInExport,readOnly:!0,className:"w-3.5 h-3.5"})}),e.jsx("td",{className:"border-r border-gray-200 p-2 truncate font-mono",children:B.accountNumber}),e.jsx("td",{className:"p-2 text-right truncate tabular-nums",children:B.remitTotal})]})},B.id)),[...Array(Math.max(0,15-(r==="ACCOUNTS"?b.length:w.length)))].map((B,X)=>e.jsxs("tr",{className:"h-8 border-b border-gray-100 last:border-0",children:[e.jsx("td",{className:"border-r border-gray-100"}),e.jsx("td",{className:"border-r border-gray-100"}),e.jsx("td",{className:"border-r border-gray-100"}),e.jsx("td",{className:"border-r border-gray-100"}),r==="BENEFICIARIES"&&e.jsx("td",{})]},`empty-${X}`))]})]})})]})]})]})})]})},H8=()=>{const t=jt(),[r,a]=R.useState([]),[s,i]=R.useState([]),[o,c]=R.useState(!0),d=async()=>{c(!0);try{const f=await Te.fetchAdminStats();f.success&&a(f.data);const p=await Te.fetchProcessingLogs({companyId:JSON.parse(localStorage.getItem("selectedCompany")||"{}").id});p.success&&i(p.data.logs||[])}catch(f){console.error(f)}finally{c(!1)}};R.useEffect(()=>{d()},[]);const h=[{label:"Process Payroll",icon:e.jsx(tc,{size:18}),path:"/processing/payroll-calculation",desc:"Run Jamaica Tax Engine"},{label:"New Employee",icon:e.jsx(ic,{size:18}),path:"/employees",desc:"Add Staff to Registry"},{label:"Electronic Transfer",icon:e.jsx(Pl,{size:18}),path:"/banking/bns",desc:"Bank Advice Files"},{label:"My Payslips",icon:e.jsx(rr,{size:18}),path:"/employee/payslips",desc:"View History"},{label:"Statutory Returns",icon:e.jsx(rr,{size:18}),path:"/statutory/s01",desc:"P45, NIS, NHT, S01"},{label:"Cheque Printing",icon:e.jsx(lx,{size:18}),path:"/processing/cheque-printing",desc:"Physical Payment Slips"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-transparent font-sans p-4 overflow-y-auto relative",children:[o&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-50 flex items-center justify-center backdrop-blur-[1px]",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(tc,{className:"animate-pulse text-blue-600",size:32}),e.jsx("span",{className:"text-[10px] font-black text-blue-800 uppercase tracking-widest",children:"Hydrating Dashboard..."})]})}),e.jsxs("div",{className:"border-b border-gray-400 pb-2 mb-4 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-blue-900 uppercase tracking-tighter",children:"Human Capital Command Center"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-600 uppercase tracking-widest mt-0.5",children:"Jamaica Region  Enterprise Session"})]}),e.jsxs("div",{className:"bg-[#D4D0C8] px-3 py-1 border border-white border-r-gray-500 border-b-gray-500 shadow-sm flex items-center gap-2",children:[e.jsx(On,{className:"text-gray-600",size:14}),e.jsx("span",{className:"text-[11px] font-bold text-black uppercase",children:new Date().toLocaleDateString("en-JM",{dateStyle:"medium"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 mb-6",children:r.length>0?r.map((f,p)=>e.jsxs("div",{className:"card-classic p-2 flex flex-col justify-between min-h-[80px]",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider leading-none truncate mb-1",children:f.label}),e.jsx("span",{className:"text-lg font-black text-blue-900 tracking-tight",children:f.value}),e.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200",children:e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase italic truncate block",children:f.sub})})]},p)):!o&&e.jsx("div",{className:"col-span-full p-4 text-center text-gray-400 text-[10px] font-bold uppercase",children:"No connection to statistics engine."})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-[11px] font-bold text-blue-900 uppercase tracking-widest border-b border-gray-400 pb-1 mb-1",children:"Operational Controls"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:h.map((f,p)=>e.jsxs("button",{onClick:()=>t(f.path),className:"btn-classic flex items-center gap-3 h-14 px-3 hover:bg-white group text-left justify-start",children:[e.jsx("div",{className:"text-blue-800 group-hover:text-blue-600 transition-none shrink-0",children:f.icon}),e.jsxs("div",{className:"flex flex-col truncate flex-1",children:[e.jsx("span",{className:"text-[11px] font-bold text-black uppercase tracking-tight truncate group-hover:underline",children:f.label}),e.jsx("span",{className:"text-[9px] text-gray-500 font-medium truncate",children:f.desc})]})]},p))}),e.jsxs("div",{className:"mt-4 bg-[#FFFFE0] border border-gray-400 p-2 flex items-center justify-between gap-4 shadow-[inset_2px_2px_0_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-orange-600",children:e.jsx(rs,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-black uppercase",children:"Compliance Exception"}),e.jsx("p",{className:"text-[11px] font-medium text-black leading-tight",children:"Registry sync required for updated TAJ tax thresholds."})]})]}),e.jsx("button",{onClick:()=>t("/employees"),className:"btn-classic text-[10px] h-8",children:"Verify"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"text-[11px] font-bold text-blue-900 uppercase tracking-widest border-b border-gray-400 pb-1 mb-1",children:"Recent Processing Logs"}),e.jsxs("div",{className:"card-classic p-0 flex flex-col h-full bg-white",children:[e.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto max-h-[300px] border border-gray-200 m-2 bg-gray-50",children:s.length>0?s.map((f,p)=>e.jsxs("div",{className:"flex gap-2 items-start border-b border-gray-200 p-2 last:border-0 hover:bg-blue-50",children:[e.jsx("div",{className:"min-w-[40px] text-[9px] font-bold text-gray-400 uppercase pt-0.5",children:new Date(f.startedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"flex items-center justify-between gap-2",children:e.jsx("span",{className:"text-[11px] font-bold text-black truncate",children:f.processType.replace(/_/g," ")})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("span",{className:"text-[9px] font-medium text-gray-600 uppercase",children:["Period: ",f.period]}),e.jsxs("span",{className:`text-[9px] font-bold uppercase ${f.status==="COMPLETED"?"text-green-600":"text-blue-800"}`,children:["[",f.status,"]"]})]})]})]},p)):e.jsx("div",{className:"p-8 text-center text-gray-400 text-[10px] font-bold uppercase italic",children:"No recent activity logs found."})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-gray-100",children:e.jsx("button",{className:"btn-classic w-full text-[10px]",children:"Refresh Monitor"})})]})]})]})]})},q8=()=>{const t=jt(),[r,a]=R.useState(null),[s,i]=R.useState(!1),[o]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[c]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[d,h]=R.useState([]),[f,p]=R.useState([]),[g,b]=R.useState([]),[m,v]=R.useState(!1),[N,w]=R.useState(""),[A,E]=R.useState({employeeNo:"",employeeRecord:null,code:"",type:"EARNING",departmentId:"",branch:"Kingston Head Office",location:"Main Floor",glAC:"7001-00 Salaries",notes:"",transDate:new Date().toISOString().split("T")[0],amount:"0.00",units:"1",rate:"0.000000"}),[T,_]=R.useState([]);R.useEffect(()=>{(async()=>{if(c.id)try{i(!0);const[U,B,X,ue]=await Promise.all([Te.fetchEmployees(c.id),Te.fetchDepartments(c.id),Te.fetchTransactionRegister({companyId:c.id,status:"ENTERED"}),Te.getTransactionCodes(!0)]);if(U.success&&h(U.data||[]),B.success&&p(B.data||[]),ue.success&&b(ue.data||[]),X.success){const J=(X.data.transactions||[]).map(re=>({id:re.id,rate:re.rate||"0.00",quantity:re.units||"1",duty:"",trans:re.code,employee:re.employee?.employeeId||"N/A",employeeName:`${re.employee?.firstName} ${re.employee?.lastName}`.toUpperCase(),department:re.employee?.department?.name||"N/A",branch:"MAIN",locationGL:re.type}));_(J)}}catch(U){console.error(U)}finally{i(!1)}})()},[c.id]);const O=(C,U)=>{E(B=>{const X={...B,[C]:U};if(C==="rate"||C==="units"){const ue=parseFloat(C==="rate"?U:B.rate)||0,J=parseFloat(C==="units"?U:B.units)||0;X.amount=(ue*J).toFixed(2)}return C==="amount"&&parseFloat(B.units)>0&&(X.rate=(parseFloat(U)/parseFloat(B.units)).toFixed(6)),X})},W=C=>{E(U=>({...U,employeeNo:C.employeeId,employeeRecord:C,departmentId:C.departmentId||""})),v(!1)},F=()=>{E({employeeNo:"",employeeRecord:null,code:"",type:"EARNING",departmentId:"",branch:"Kingston Head Office",location:"Main Floor",glAC:"7001-00 Salaries",notes:"",transDate:new Date().toISOString().split("T")[0],amount:"0.00",units:"1",rate:"0.000000"}),a(null)},P=C=>{a(C)},z=async()=>{if(!A.employeeNo||!A.code||!A.amount){alert("Requirements: Employee No., Code and Amount.");return}const C=d.find(U=>U.employeeId===A.employeeNo);if(!C){alert("Invalid Employee Number.");return}try{i(!0);const U={companyId:c.id,employeeId:C.employeeId,transactionDate:A.transDate,type:A.type||"EARNING",code:A.code,description:A.notes||`${A.code} for ${C.firstName}`,amount:parseFloat(A.amount),units:parseFloat(A.units),rate:parseFloat(A.rate),status:"ENTERED",period:"Feb-2026",enteredBy:o.email},B=await Te.createTransaction(U);if(B.success){const X=B.data,ue={id:X.id,rate:X.rate,quantity:X.units||"1",duty:"",trans:X.code,employee:A.employeeNo,employeeName:`${C.firstName} ${C.lastName}`.toUpperCase(),department:f.find(J=>J.id===C.departmentId)?.name||"N/A",branch:A.branch,locationGL:A.type};_(J=>[ue,...J]),F()}else alert(B.message||"Entry failed.")}catch(U){console.error("Transaction Error:",U);const B=U.response?.data?.message||U.message||"Connection error.";alert(`Uplink Error: ${B}`)}finally{i(!1)}},M=async()=>{if(r){if(!window.confirm("CRITICAL: Delete selected financial entry?"))return;try{i(!0),(await Te.deleteTransaction(r)).success&&(_(U=>U.filter(B=>B.id!==r)),a(null))}catch(C){console.error(C)}finally{i(!1)}}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsxs("div",{className:"bg-[#000080] text-white px-3 py-2 flex items-center justify-between border-b-2 border-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white p-1 rounded-sm",children:e.jsx(Pn,{className:"text-[#000080]",size:16})}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[11px]",children:"Island HR System - Transaction Entry Terminal [STATION_042]"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[s&&e.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black animate-pulse",children:[e.jsx(Ut,{size:14,className:"animate-spin"})," UPLINK_ACTIVE"]}),e.jsx("div",{className:"bg-green-600 text-white px-3 py-0.5 rounded text-[9px] font-black border border-green-400",children:"SECURE_CHANNEL"})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto min-w-0 flex flex-col gap-4",children:[e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-4 shadow-xl rounded-sm",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 border border-gray-200 rounded shadow-inner",children:[e.jsx("label",{className:"text-blue-900 font-black uppercase text-[10px] mb-1.5 block italic",children:"Employee Account #"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"text",value:A.employeeNo,onChange:C=>O("employeeNo",C.target.value.toUpperCase()),placeholder:"SEARCH ID...",className:"flex-1 p-2 border-2 border-gray-300 bg-white text-blue-900 font-black outline-none focus:border-blue-700 transition-colors uppercase italic",disabled:s}),e.jsx("button",{onClick:()=>v(!0),className:"px-3 bg-[#D4D0C8] border-2 border-white border-r-gray-600 border-b-gray-600 hover:bg-white active:translate-y-0.5 shadow-sm",disabled:s,children:e.jsx(Ga,{size:16,className:"text-gray-700"})})]}),A.employeeRecord&&e.jsxs("div",{className:"mt-2 text-[10px] font-black text-green-700 italic border-t pt-2 border-green-100 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-ping"}),"IDENTIFIED: ",A.employeeRecord.firstName," ",A.employeeRecord.lastName]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Transaction Code"}),e.jsxs("select",{value:A.code,onChange:C=>O("code",C.target.value),className:"w-full p-2.5 border-2 border-gray-200 bg-gray-50 text-blue-900 font-black outline-none focus:bg-white transition-all cursor-pointer",disabled:s,children:[e.jsx("option",{value:"",children:"-- SELECT PROTOCOL --"}),g.map(C=>e.jsxs("option",{value:C.code,children:[C.code," - ",C.name]},C.code))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Entry Type"}),e.jsx("div",{className:"flex gap-2",children:["EARNING","DEDUCTION","ALLOWANCE"].map(C=>e.jsx("button",{onClick:()=>O("type",C),className:`flex-1 py-2 text-[9px] font-black border-2 transition-all ${A.type===C?"bg-blue-600 text-white border-blue-900 shadow-inner translate-y-0.5":"bg-gray-100 text-gray-400 border-white border-r-gray-400 border-b-gray-400 hover:bg-white"}`,children:C},C))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Assigned Department"}),e.jsxs("select",{value:A.departmentId,onChange:C=>O("departmentId",C.target.value),className:"w-full p-2.5 border-2 border-gray-200 bg-gray-50 text-gray-700 font-black outline-none focus:bg-white transition-all appearance-none italic",disabled:s,children:[e.jsx("option",{value:"",children:"SELECT DEPARTMENT..."}),f.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]})]}),e.jsxs("div",{className:"bg-gray-100 p-4 border-2 border-white border-r-gray-200 border-b-gray-200 shadow-inner rounded-sm space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] italic",children:"Units/Qty"}),e.jsx("input",{type:"number",value:A.units,onChange:C=>O("units",C.target.value),className:"w-full p-2 border-2 border-gray-200 bg-white text-gray-800 font-black text-center outline-none focus:border-blue-400"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] italic",children:"Rate/Price"}),e.jsx("input",{type:"number",step:"0.000001",value:A.rate,onChange:C=>O("rate",C.target.value),className:"w-full p-2 border-2 border-gray-200 bg-white text-gray-800 font-black text-right outline-none focus:border-blue-400"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-blue-900 font-black uppercase text-[10px] italic border-b border-blue-100 pb-1 flex justify-between",children:[e.jsx("span",{children:"Calculated Net Amount"}),e.jsx("span",{className:"text-[8px] opacity-50 underline uppercase tracking-tighter",children:"Manual Override Enabled"})]}),e.jsx("input",{type:"number",step:"0.01",value:A.amount,onChange:C=>O("amount",C.target.value),className:"w-full p-3 border-2 border-blue-600 bg-blue-50 text-2xl font-black italic text-blue-950 text-right outline-none shadow-inner",disabled:s})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:z,disabled:s,className:"flex-1 bg-green-600 text-white border-4 border-white border-r-green-900 border-b-green-900 hover:bg-green-700 active:translate-y-1 active:border-r-0 active:border-b-0 shadow-xl transition-all flex flex-col items-center justify-center p-4 group",children:[e.jsx(qs,{size:24,className:"group-hover:scale-110 transition-transform mb-1"}),e.jsx("span",{className:"font-black uppercase text-[11px] tracking-widest italic",children:"POST_ENTRY"})]}),e.jsxs("div",{className:"flex gap-2 h-14",children:[e.jsxs("button",{onClick:F,className:"flex-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 hover:bg-gray-100 active:translate-y-0.5 shadow-md font-black text-[10px] uppercase italic text-gray-600 flex items-center justify-center gap-2",children:[e.jsx(ic,{size:14})," NEW"]}),e.jsxs("button",{onClick:M,disabled:!r,className:`flex-1 bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 hover:bg-white active:translate-y-0.5 shadow-md font-black text-[10px] uppercase italic text-red-700 flex items-center justify-center gap-2 ${r?"":"opacity-30 grayscale"}`,children:[e.jsx($a,{size:14})," VOID"]})]})]})]})}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex flex-col min-h-0 rounded-sm overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b-2 border-gray-400 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ju,{size:14,className:"text-blue-900"}),e.jsx("span",{className:"font-black text-gray-700 uppercase text-[10px] tracking-[0.2em] italic",children:"Active Transaction Stream :: FEB-2026 Batch"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"text-[10px] font-black text-blue-800 bg-white/50 px-3 py-0.5 border border-white rounded shadow-inner",children:["QUEUE_SIZE: ",T.length," RECS"]})})]}),e.jsx("div",{className:"flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 p-1",children:e.jsx(l1,{columns:[{header:"Serial #",accessor:"id",width:"80px",render:C=>e.jsxs("span",{className:"text-[9px] opacity-40 font-mono",children:["#",C.substring(0,6)]})},{header:"TRANS_ID",accessor:"trans",width:"100px",render:C=>e.jsx("span",{className:"font-black italic text-blue-900",children:C})},{header:"EMPLOYEE_ENTITY",accessor:"employeeName",width:"250px",render:(C,U)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-blue-900 uppercase leading-none",children:C}),e.jsx("span",{className:"text-[9px] text-gray-400 font-black italic",children:U.employee})]})},{header:"DEPARTMENT",accessor:"department",width:"150px"},{header:"RATE (BASE)",accessor:"rate",width:"120px",render:C=>e.jsxs("span",{className:"font-mono text-gray-500",children:["$ ",parseFloat(C).toLocaleString(void 0,{minimumFractionDigits:2})]})},{header:"QTY",accessor:"quantity",width:"80px",render:C=>e.jsx("span",{className:"font-black text-center block italic text-blue-700",children:C})},{header:"TYPE",accessor:"locationGL",width:"120px",render:C=>e.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[9px] font-black italic ${C==="EARNING"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:C})},{header:"SETTLEMENT",accessor:"amount",width:"150px",render:(C,U)=>e.jsxs("span",{className:"font-black italic text-sm text-blue-900 block text-right",children:["$ ",(parseFloat(U.rate)*parseFloat(U.quantity)).toLocaleString(void 0,{minimumFractionDigits:2})]})}],data:T.map(C=>({...C,highlighted:C.id===r})),rowKey:"id",onRowClick:C=>P(C.id),minRows:15})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center px-4 py-2 shrink-0",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>t("/files/import"),className:"bg-[#D4D0C8] border-2 border-white border-r-gray-600 border-b-gray-600 px-6 py-2 shadow-lg hover:bg-white transition-all font-black text-[10px] uppercase italic flex items-center gap-2 group",children:[e.jsx(Lf,{size:16,className:"group-hover:-translate-y-0.5 transition-transform"})," Mass Import Protocol"]}),e.jsxs("button",{onClick:()=>{},className:"bg-[#D4D0C8] border-2 border-white border-r-gray-600 border-b-gray-600 px-6 py-2 shadow-lg hover:bg-white transition-all font-black text-[10px] uppercase italic flex items-center gap-2 group",children:[e.jsx(Er,{size:16,className:"group-hover:translate-y-0.5 transition-transform"})," Archive Local Queue"]})]}),e.jsxs("button",{onClick:()=>t(-1),className:"bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 px-10 py-2 shadow-xl hover:bg-white text-red-700 hover:text-red-900 transition-all font-black text-[11px] uppercase italic flex items-center gap-3 tracking-widest active:translate-y-1 active:border-0",children:[e.jsx(_r,{size:18})," Exit Terminal"]})]})]}),m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#EBE9D8] border-4 border-white shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] w-full max-w-2xl animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-[#000080] text-white p-3 flex justify-between items-center",children:[e.jsxs("span",{className:"font-black uppercase italic tracking-widest text-xs flex items-center gap-2",children:[e.jsx(Pn,{size:14})," Core Employee Registry lookup"]}),e.jsx("button",{onClick:()=>v(!1),className:"hover:bg-red-600 p-1",children:e.jsx($a,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex gap-3 mb-6",children:e.jsxs("div",{className:"flex-1 flex items-center bg-white border-2 border-gray-300 px-4 py-2 shadow-inner group focus-within:border-blue-600",children:[e.jsx(Ga,{size:18,className:"text-gray-400 group-focus-within:text-blue-600"}),e.jsx("input",{type:"text",autoFocus:!0,placeholder:"FILTER BY NAME OR ID...",className:"w-full bg-transparent outline-none font-black text-blue-900 uppercase italic px-4",value:N,onChange:C=>w(C.target.value)})]})}),e.jsx("div",{className:"border-2 border-gray-300 bg-white max-h-[400px] overflow-auto shadow-inner rounded-sm",children:e.jsxs("table",{className:"w-full text-left text-[11px] border-collapse",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] border-b-2 border-gray-400 font-black italic uppercase text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-100",children:"ID#"}),e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Full Name"}),e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Department"}),e.jsx("th",{className:"p-3 text-right",children:"Action"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d.filter(C=>`${C.firstName} ${C.lastName} ${C.employeeId}`.toLowerCase().includes(N.toLowerCase())).map(C=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors group",children:[e.jsx("td",{className:"p-3 font-mono font-black border-r border-gray-50",children:C.employeeId}),e.jsxs("td",{className:"p-3 font-black text-blue-900 uppercase border-r border-gray-50",children:[C.firstName," ",C.lastName]}),e.jsx("td",{className:"p-3 text-gray-400 italic text-[10px] border-r border-gray-50 uppercase",children:C.department?.name||"N/A"}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs("button",{onClick:()=>W(C),className:"bg-blue-600 text-white px-4 py-1.5 font-black text-[10px] uppercase italic rounded-sm hover:bg-blue-800 transition-all flex items-center gap-2 ml-auto",children:["SELECT ",e.jsx(xo,{size:14})]})})]},C.id)),d.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-widest",children:"Master record stream empty"})})]})]})})]}),e.jsx("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-2 text-right text-[9px] font-black text-gray-500 italic uppercase",children:"Secure lookup session active :: ISO_8601_READY"})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white px-4 py-1 flex justify-between items-center text-[10px] font-black italic text-gray-600 shrink-0 shadow-[0_-4px_10px_rgba(0,0,0,0.05)] uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," K_LOCK"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})," N_LOCK"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})," S_LOCK"]})]}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsxs("span",{className:"border-l border-gray-400 pl-4",children:["DOMAIN: ",c.name||o.companyName||"COMMUNITY_CORE"]}),e.jsx("span",{className:"border-l border-gray-400 pl-4 text-blue-800",children:"UPLINK_STATION: 042xAlpha"}),e.jsxs("span",{className:"border-l border-gray-400 pl-4",children:[new Date().toLocaleTimeString()," JST"]})]})]})]})};var Lp={};Lp.version="0.18.5";var sw=1252,G8=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nw=function(t){G8.indexOf(t)!=-1&&(sw=t)};function $8(){nw(1252)}var Rf=function(t){nw(t)};function Y8(){Rf(1200),$8()}var Kh=function(r){return String.fromCharCode(r)},z2=function(r){return String.fromCharCode(r)},Rp,Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ff(t){for(var r="",a=0,s=0,i=0,o=0,c=0,d=0,h=0,f=0;f<t.length;)a=t.charCodeAt(f++),o=a>>2,s=t.charCodeAt(f++),c=(a&3)<<4|s>>4,i=t.charCodeAt(f++),d=(s&15)<<2|i>>6,h=i&63,isNaN(s)?d=h=64:isNaN(i)&&(h=64),r+=Yc.charAt(o)+Yc.charAt(c)+Yc.charAt(d)+Yc.charAt(h);return r}function rc(t){var r="",a=0,s=0,i=0,o=0,c=0,d=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=Yc.indexOf(t.charAt(f++)),c=Yc.indexOf(t.charAt(f++)),a=o<<2|c>>4,r+=String.fromCharCode(a),d=Yc.indexOf(t.charAt(f++)),s=(c&15)<<4|d>>2,d!==64&&(r+=String.fromCharCode(s)),h=Yc.indexOf(t.charAt(f++)),i=(d&3)<<6|h,h!==64&&(r+=String.fromCharCode(i));return r}var Qr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),lc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(r,a){return a?new Buffer(r,a):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}})();function Ud(t){return Qr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function U2(t){return Qr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Rl=function(r){return Qr?lc(r,"binary"):r.split("").map(function(a){return a.charCodeAt(0)&255})};function dx(t){if(typeof ArrayBuffer>"u")return Rl(t);for(var r=new ArrayBuffer(t.length),a=new Uint8Array(r),s=0;s!=t.length;++s)a[s]=t.charCodeAt(s)&255;return r}function Jf(t){if(Array.isArray(t))return t.map(function(s){return String.fromCharCode(s)}).join("");for(var r=[],a=0;a<t.length;++a)r[a]=String.fromCharCode(t[a]);return r.join("")}function V8(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var rn=Qr?function(t){return Buffer.concat(t.map(function(r){return Buffer.isBuffer(r)?r:lc(r)}))}:function(t){if(typeof Uint8Array<"u"){var r=0,a=0;for(r=0;r<t.length;++r)a+=t[r].length;var s=new Uint8Array(a),i=0;for(r=0,a=0;r<t.length;a+=i,++r)if(i=t[r].length,t[r]instanceof Uint8Array)s.set(t[r],a);else{if(typeof t[r]=="string")throw"wtf";s.set(new Uint8Array(t[r]),a)}return s}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function W8(t){for(var r=[],a=0,s=t.length+250,i=Ud(t.length+255),o=0;o<t.length;++o){var c=t.charCodeAt(o);if(c<128)i[a++]=c;else if(c<2048)i[a++]=192|c>>6&31,i[a++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var d=t.charCodeAt(++o)&1023;i[a++]=240|c>>8&7,i[a++]=128|c>>2&63,i[a++]=128|d>>6&15|(c&3)<<4,i[a++]=128|d&63}else i[a++]=224|c>>12&15,i[a++]=128|c>>6&63,i[a++]=128|c&63;a>s&&(r.push(i.slice(0,a)),a=0,i=Ud(65535),s=65530)}return r.push(i.slice(0,a)),rn(r)}var vf=/\u0000/g,Zh=/[\u0001-\u0006]/g;function nu(t){for(var r="",a=t.length-1;a>=0;)r+=t.charAt(a--);return r}function Fl(t,r){var a=""+t;return a.length>=r?a:ts("0",r-a.length)+a}function m1(t,r){var a=""+t;return a.length>=r?a:ts(" ",r-a.length)+a}function Fp(t,r){var a=""+t;return a.length>=r?a:a+ts(" ",r-a.length)}function X8(t,r){var a=""+Math.round(t);return a.length>=r?a:ts("0",r-a.length)+a}function J8(t,r){var a=""+t;return a.length>=r?a:ts("0",r-a.length)+a}var H2=Math.pow(2,32);function q0(t,r){if(t>H2||t<-H2)return X8(t,r);var a=Math.round(t);return J8(a,r)}function Op(t,r){return r=r||0,t.length>=7+r&&(t.charCodeAt(r)|32)===103&&(t.charCodeAt(r+1)|32)===101&&(t.charCodeAt(r+2)|32)===110&&(t.charCodeAt(r+3)|32)===101&&(t.charCodeAt(r+4)|32)===114&&(t.charCodeAt(r+5)|32)===97&&(t.charCodeAt(r+6)|32)===108}var q2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$m=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function K8(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var as={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},G2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Z8={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Pp(t,r,a){for(var s=t<0?-1:1,i=t*s,o=0,c=1,d=0,h=1,f=0,p=0,g=Math.floor(i);f<r&&(g=Math.floor(i),d=g*c+o,p=g*f+h,!(i-g<5e-8));)i=1/(i-g),o=c,c=d,h=f,f=p;if(p>r&&(f>r?(p=h,d=o):(p=f,d=c)),!a)return[0,s*d,p];var b=Math.floor(s*d/p);return[b,s*d-b*p,p]}function Qh(t,r,a){if(t>2958465||t<0)return null;var s=t|0,i=Math.floor(86400*(t-s)),o=0,c=[],d={D:s,T:i,u:86400*(t-s)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),r&&r.date1904&&(s+=1462),d.u>.9999&&(d.u=0,++i==86400&&(d.T=i=0,++s,++d.D)),s===60)c=a?[1317,10,29]:[1900,2,29],o=3;else if(s===0)c=a?[1317,8,29]:[1900,1,0],o=6;else{s>60&&--s;var h=new Date(1900,0,1);h.setDate(h.getDate()+s-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],o=h.getDay(),s<60&&(o=(o+6)%7),a&&(o=n_(h,c))}return d.y=c[0],d.m=c[1],d.d=c[2],d.S=i%60,i=Math.floor(i/60),d.M=i%60,i=Math.floor(i/60),d.H=i,d.q=o,d}var iw=new Date(1899,11,31,0,0,0),Q8=iw.getTime(),e_=new Date(1900,2,1,0,0,0);function lw(t,r){var a=t.getTime();return r?a-=1461*24*60*60*1e3:t>=e_&&(a+=1440*60*1e3),(a-(Q8+(t.getTimezoneOffset()-iw.getTimezoneOffset())*6e4))/(1440*60*1e3)}function g1(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function t_(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function r_(t){var r=t<0?12:11,a=g1(t.toFixed(12));return a.length<=r||(a=t.toPrecision(10),a.length<=r)?a:t.toExponential(5)}function a_(t){var r=g1(t.toFixed(11));return r.length>(t<0?12:11)||r==="0"||r==="-0"?t.toPrecision(6):r}function s_(t){var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a;return r>=-4&&r<=-1?a=t.toPrecision(10+r):Math.abs(r)<=9?a=r_(t):r===10?a=t.toFixed(10).substr(0,12):a=a_(t),g1(t_(a.toUpperCase()))}function Og(t,r){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):s_(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Xc(14,lw(t,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+t)}function n_(t,r){r[0]-=581;var a=t.getDay();return t<60&&(a=(a+6)%7),a}function i_(t,r,a,s){var i="",o=0,c=0,d=a.y,h,f=0;switch(t){case 98:d=a.y+543;case 121:switch(r.length){case 1:case 2:h=d%100,f=2;break;default:h=d%1e4,f=4;break}break;case 109:switch(r.length){case 1:case 2:h=a.m,f=r.length;break;case 3:return $m[a.m-1][1];case 5:return $m[a.m-1][0];default:return $m[a.m-1][2]}break;case 100:switch(r.length){case 1:case 2:h=a.d,f=r.length;break;case 3:return q2[a.q][0];default:return q2[a.q][1]}break;case 104:switch(r.length){case 1:case 2:h=1+(a.H+11)%12,f=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:h=a.H,f=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:h=a.M,f=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return a.u===0&&(r=="s"||r=="ss")?Fl(a.S,r.length):(s>=2?c=s===3?1e3:100:c=s===1?10:1,o=Math.round(c*(a.S+a.u)),o>=60*c&&(o=0),r==="s"?o===0?"0":""+o/c:(i=Fl(o,2+s),r==="ss"?i.substr(0,2):"."+i.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":h=a.D*24+a.H;break;case"[m]":case"[mm]":h=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":h=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+r}f=r.length===3?1:2;break;case 101:h=d,f=1;break}var p=f>0?Fl(h,f):"";return p}function Vc(t){var r=3;if(t.length<=r)return t;for(var a=t.length%r,s=t.substr(0,a);a!=t.length;a+=r)s+=(s.length>0?",":"")+t.substr(a,r);return s}var ow=/%/g;function l_(t,r,a){var s=r.replace(ow,""),i=r.length-s.length;return Ko(t,s,a*Math.pow(10,2*i))+ts("%",i)}function o_(t,r,a){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return Ko(t,r.substr(0,s),a/Math.pow(10,3*(r.length-s)))}function cw(t,r){var a,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+cw(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),a=(r/Math.pow(10,o)).toPrecision(s+1+(i+o)%i),a.indexOf("e")===-1){var c=Math.floor(Math.log(r)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(c-a.length+o):a+="E+"+(c-o);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,i)+"."+a.substr(2+i),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,h,f,p){return h+f+p.substr(0,(i+o)%i)+"."+p.substr(o)+"E"})}else a=r.toExponential(s);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var dw=/# (\?+)( ?)\/( ?)(\d+)/;function c_(t,r,a){var s=parseInt(t[4],10),i=Math.round(r*s),o=Math.floor(i/s),c=i-o*s,d=s;return a+(o===0?"":""+o)+" "+(c===0?ts(" ",t[1].length+1+t[4].length):m1(c,t[1].length)+t[2]+"/"+t[3]+Fl(d,t[4].length))}function d_(t,r,a){return a+(r===0?"":""+r)+ts(" ",t[1].length+2+t[4].length)}var uw=/^#*0*\.([0#]+)/,fw=/\).*[0#]/,hw=/\(###\) ###\\?-####/;function Tn(t){for(var r="",a,s=0;s!=t.length;++s)switch(a=t.charCodeAt(s)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(a)}return r}function $2(t,r){var a=Math.pow(10,r);return""+Math.round(t*a)/a}function Y2(t,r){var a=t-Math.floor(t),s=Math.pow(10,r);return r<(""+Math.round(a*s)).length?0:Math.round(a*s)}function u_(t,r){return r<(""+Math.round((t-Math.floor(t))*Math.pow(10,r))).length?1:0}function f_(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ji(t,r,a){if(t.charCodeAt(0)===40&&!r.match(fw)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Ji("n",s,a):"("+Ji("n",s,-a)+")"}if(r.charCodeAt(r.length-1)===44)return o_(t,r,a);if(r.indexOf("%")!==-1)return l_(t,r,a);if(r.indexOf("E")!==-1)return cw(r,a);if(r.charCodeAt(0)===36)return"$"+Ji(t,r.substr(r.charAt(1)==" "?2:1),a);var i,o,c,d,h=Math.abs(a),f=a<0?"-":"";if(r.match(/^00+$/))return f+q0(h,r.length);if(r.match(/^[#?]+$/))return i=q0(a,0),i==="0"&&(i=""),i.length>r.length?i:Tn(r.substr(0,r.length-i.length))+i;if(o=r.match(dw))return c_(o,h,f);if(r.match(/^#+0+$/))return f+q0(h,r.length-r.indexOf("0"));if(o=r.match(uw))return i=$2(a,o[1].length).replace(/^([^\.]+)$/,"$1."+Tn(o[1])).replace(/\.$/,"."+Tn(o[1])).replace(/\.(\d*)$/,function(v,N){return"."+N+ts("0",Tn(o[1]).length-N.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+$2(h,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+Vc(q0(h,0));if(o=r.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Ji(t,r,-a):Vc(""+(Math.floor(a)+u_(a,o[1].length)))+"."+Fl(Y2(a,o[1].length),o[1].length);if(o=r.match(/^#,#*,#0/))return Ji(t,r.replace(/^#,#*,/,""),a);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nu(Ji(t,r.replace(/[\\-]/g,""),a)),c=0,nu(nu(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return c<i.length?i.charAt(c++):v==="0"?"0":""}));if(r.match(hw))return i=Ji(t,"##########",a),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),d=Pp(h,Math.pow(10,c)-1,!1),i=""+f,p=Ko("n",o[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+o[2]+"/"+o[3],p=Fp(d[2],c),p.length<o[4].length&&(p=Tn(o[4].substr(o[4].length-p.length))+p),i+=p,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),d=Pp(h,Math.pow(10,c)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?m1(d[1],c)+o[2]+"/"+o[3]+Fp(d[2],c):ts(" ",2*c+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=q0(a,0),r.length<=i.length?i:Tn(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0?]+)\.([#0]+)$/)){i=""+a.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var g=r.indexOf(".")-c,b=r.length-i.length-g;return Tn(r.substr(0,g)+i+r.substr(r.length-b))}if(o=r.match(/^00,000\.([#0]*0)$/))return c=Y2(a,o[1].length),a<0?"-"+Ji(t,r,-a):Vc(f_(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Fl(0,3-v.length):"")+v})+"."+Fl(c,o[1].length);switch(r){case"###,##0.00":return Ji(t,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var m=Vc(q0(h,0));return m!=="0"?f+m:"";case"###,###.00":return Ji(t,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return Ji(t,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function h_(t,r,a){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return Ko(t,r.substr(0,s),a/Math.pow(10,3*(r.length-s)))}function p_(t,r,a){var s=r.replace(ow,""),i=r.length-s.length;return Ko(t,s,a*Math.pow(10,2*i))+ts("%",i)}function pw(t,r){var a,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+pw(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),a=(r/Math.pow(10,o)).toPrecision(s+1+(i+o)%i),!a.match(/[Ee]/)){var c=Math.floor(Math.log(r)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(c-a.length+o):a+="E+"+(c-o),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,h,f,p){return h+f+p.substr(0,(i+o)%i)+"."+p.substr(o)+"E"})}else a=r.toExponential(s);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function oo(t,r,a){if(t.charCodeAt(0)===40&&!r.match(fw)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?oo("n",s,a):"("+oo("n",s,-a)+")"}if(r.charCodeAt(r.length-1)===44)return h_(t,r,a);if(r.indexOf("%")!==-1)return p_(t,r,a);if(r.indexOf("E")!==-1)return pw(r,a);if(r.charCodeAt(0)===36)return"$"+oo(t,r.substr(r.charAt(1)==" "?2:1),a);var i,o,c,d,h=Math.abs(a),f=a<0?"-":"";if(r.match(/^00+$/))return f+Fl(h,r.length);if(r.match(/^[#?]+$/))return i=""+a,a===0&&(i=""),i.length>r.length?i:Tn(r.substr(0,r.length-i.length))+i;if(o=r.match(dw))return d_(o,h,f);if(r.match(/^#+0+$/))return f+Fl(h,r.length-r.indexOf("0"));if(o=r.match(uw))return i=(""+a).replace(/^([^\.]+)$/,"$1."+Tn(o[1])).replace(/\.$/,"."+Tn(o[1])),i=i.replace(/\.(\d*)$/,function(v,N){return"."+N+ts("0",Tn(o[1]).length-N.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+Vc(""+h);if(o=r.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+oo(t,r,-a):Vc(""+a)+"."+ts("0",o[1].length);if(o=r.match(/^#,#*,#0/))return oo(t,r.replace(/^#,#*,/,""),a);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nu(oo(t,r.replace(/[\\-]/g,""),a)),c=0,nu(nu(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return c<i.length?i.charAt(c++):v==="0"?"0":""}));if(r.match(hw))return i=oo(t,"##########",a),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),d=Pp(h,Math.pow(10,c)-1,!1),i=""+f,p=Ko("n",o[1],d[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+o[2]+"/"+o[3],p=Fp(d[2],c),p.length<o[4].length&&(p=Tn(o[4].substr(o[4].length-p.length))+p),i+=p,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),d=Pp(h,Math.pow(10,c)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?m1(d[1],c)+o[2]+"/"+o[3]+Fp(d[2],c):ts(" ",2*c+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=""+a,r.length<=i.length?i:Tn(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0]+)\.([#0]+)$/)){i=""+a.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var g=r.indexOf(".")-c,b=r.length-i.length-g;return Tn(r.substr(0,g)+i+r.substr(r.length-b))}if(o=r.match(/^00,000\.([#0]*0)$/))return a<0?"-"+oo(t,r,-a):Vc(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Fl(0,3-v.length):"")+v})+"."+Fl(0,o[1].length);switch(r){case"###,###":case"##,###":case"#,###":var m=Vc(""+h);return m!=="0"?f+m:"";default:if(r.match(/\.[0#?]*$/))return oo(t,r.slice(0,r.lastIndexOf(".")),a)+Tn(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function Ko(t,r,a){return(a|0)===a?oo(t,r,a):Ji(t,r,a)}function x_(t){for(var r=[],a=!1,s=0,i=0;s<t.length;++s)switch(t.charCodeAt(s)){case 34:a=!a;break;case 95:case 42:case 92:++s;break;case 59:r[r.length]=t.substr(i,s-i),i=s+1}if(r[r.length]=t.substr(i),a===!0)throw new Error("Format |"+t+"| unterminated string ");return r}var xw=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mw(t){for(var r=0,a="",s="";r<t.length;)switch(a=t.charAt(r)){case"G":Op(t,r)&&(r+=6),r++;break;case'"':for(;t.charCodeAt(++r)!==34&&r<t.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(t.charAt(r+1)==="1"||t.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(r,3).toUpperCase()==="A/P"||t.substr(r,5).toUpperCase()==="AM/PM"||t.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(s=a;t.charAt(r++)!=="]"&&r<t.length;)s+=t.charAt(r);if(s.match(xw))return!0;break;case".":case"0":case"#":for(;r<t.length&&("0#?.,E+-%".indexOf(a=t.charAt(++r))>-1||a=="\\"&&t.charAt(r+1)=="-"&&"0#".indexOf(t.charAt(r+2))>-1););break;case"?":for(;t.charAt(++r)===a;);break;case"*":++r,(t.charAt(r)==" "||t.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<t.length&&"0123456789".indexOf(t.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function m_(t,r,a,s){for(var i=[],o="",c=0,d="",h="t",f,p,g,b="H";c<t.length;)switch(d=t.charAt(c)){case"G":if(!Op(t,c))throw new Error("unrecognized character "+d+" in "+t);i[i.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(g=t.charCodeAt(++c))!==34&&c<t.length;)o+=String.fromCharCode(g);i[i.length]={t:"t",v:o},++c;break;case"\\":var m=t.charAt(++c),v=m==="("||m===")"?m:"t";i[i.length]={t:v,v:m},++c;break;case"_":i[i.length]={t:"t",v:" "},c+=2;break;case"@":i[i.length]={t:"T",v:r},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(f==null&&(f=Qh(r,a,t.charAt(c+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(c,2)},h=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||f==null&&(f=Qh(r,a),f==null))return"";for(o=d;++c<t.length&&t.charAt(c).toLowerCase()===d;)o+=d;d==="m"&&h.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=b),i[i.length]={t:d,v:o},h=d;break;case"A":case"a":case"":var N={t:d,v:d};if(f==null&&(f=Qh(r,a)),t.substr(c,3).toUpperCase()==="A/P"?(f!=null&&(N.v=f.H>=12?"P":"A"),N.t="T",b="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(f!=null&&(N.v=f.H>=12?"PM":"AM"),N.t="T",c+=5,b="h"):t.substr(c,5).toUpperCase()==="/"?(f!=null&&(N.v=f.H>=12?"":""),N.t="T",c+=5,b="h"):(N.t="t",++c),f==null&&N.t==="T")return"";i[i.length]=N,h=d;break;case"[":for(o=d;t.charAt(c++)!=="]"&&c<t.length;)o+=t.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(xw)){if(f==null&&(f=Qh(r,a),f==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},h=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",mw(t)||(i[i.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=d;++c<t.length&&(d=t.charAt(c))==="0";)o+=d;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=d;++c<t.length&&"0#?.,E+-%".indexOf(d=t.charAt(c))>-1;)o+=d;i[i.length]={t:"n",v:o};break;case"?":for(o=d;t.charAt(++c)===d;)o+=d;i[i.length]={t:d,v:o},h=d;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":i[i.length]={t:s===1?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=d;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)o+=t.charAt(c);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:d,v:d},++c;break;case"$":i[i.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+t);i[i.length]={t:"t",v:d},++c;break}var w=0,A=0,E;for(c=i.length-1,h="t";c>=0;--c)switch(i[c].t){case"h":case"H":i[c].t=b,h="h",w<1&&(w=1);break;case"s":(E=i[c].v.match(/\.0+$/))&&(A=Math.max(A,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":h=i[c].t;break;case"m":h==="s"&&(i[c].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[c].v.match(/[Hh]/)&&(w=1),w<2&&i[c].v.match(/[Mm]/)&&(w=2),w<3&&i[c].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var T="",_;for(c=0;c<i.length;++c)switch(i[c].t){case"t":case"T":case" ":case"D":break;case"X":i[c].v="",i[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[c].v=i_(i[c].t.charCodeAt(0),i[c].v,f,A),i[c].t="t";break;case"n":case"?":for(_=c+1;i[_]!=null&&((d=i[_].t)==="?"||d==="D"||(d===" "||d==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[c].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[c].v+=i[_].v,i[_]={v:"",t:";"},++_;T+=i[c].v,c=_-1;break;case"G":i[c].t="t",i[c].v=Og(r,a);break}var O="",W,F;if(T.length>0){T.charCodeAt(0)==40?(W=r<0&&T.charCodeAt(0)===45?-r:r,F=Ko("n",T,W)):(W=r<0&&s>1?-r:r,F=Ko("n",T,W),W<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),_=F.length-1;var P=i.length;for(c=0;c<i.length;++c)if(i[c]!=null&&i[c].t!="t"&&i[c].v.indexOf(".")>-1){P=c;break}var z=i.length;if(P===i.length&&F.indexOf("E")===-1){for(c=i.length-1;c>=0;--c)i[c]==null||"n?".indexOf(i[c].t)===-1||(_>=i[c].v.length-1?(_-=i[c].v.length,i[c].v=F.substr(_+1,i[c].v.length)):_<0?i[c].v="":(i[c].v=F.substr(0,_+1),_=-1),i[c].t="t",z=c);_>=0&&z<i.length&&(i[z].v=F.substr(0,_+1)+i[z].v)}else if(P!==i.length&&F.indexOf("E")===-1){for(_=F.indexOf(".")-1,c=P;c>=0;--c)if(!(i[c]==null||"n?".indexOf(i[c].t)===-1)){for(p=i[c].v.indexOf(".")>-1&&c===P?i[c].v.indexOf(".")-1:i[c].v.length-1,O=i[c].v.substr(p+1);p>=0;--p)_>=0&&(i[c].v.charAt(p)==="0"||i[c].v.charAt(p)==="#")&&(O=F.charAt(_--)+O);i[c].v=O,i[c].t="t",z=c}for(_>=0&&z<i.length&&(i[z].v=F.substr(0,_+1)+i[z].v),_=F.indexOf(".")+1,c=P;c<i.length;++c)if(!(i[c]==null||"n?(".indexOf(i[c].t)===-1&&c!==P)){for(p=i[c].v.indexOf(".")>-1&&c===P?i[c].v.indexOf(".")+1:0,O=i[c].v.substr(0,p);p<i[c].v.length;++p)_<F.length&&(O+=F.charAt(_++));i[c].v=O,i[c].t="t",z=c}}}for(c=0;c<i.length;++c)i[c]!=null&&"n?".indexOf(i[c].t)>-1&&(W=s>1&&r<0&&c>0&&i[c-1].v==="-"?-r:r,i[c].v=Ko(i[c].t,i[c].v,W),i[c].t="t");var M="";for(c=0;c!==i.length;++c)i[c]!=null&&(M+=i[c].v);return M}var V2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function W2(t,r){if(r==null)return!1;var a=parseFloat(r[2]);switch(r[1]){case"=":if(t==a)return!0;break;case">":if(t>a)return!0;break;case"<":if(t<a)return!0;break;case"<>":if(t!=a)return!0;break;case">=":if(t>=a)return!0;break;case"<=":if(t<=a)return!0;break}return!1}function g_(t,r){var a=x_(t),s=a.length,i=a[s-1].indexOf("@");if(s<4&&i>-1&&--s,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof r!="number")return[4,a.length===4||i>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=i>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=i>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=i>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var o=r>0?a[0]:r<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[s,o];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var c=a[0].match(V2),d=a[1].match(V2);return W2(r,c)?[s,a[0]]:W2(r,d)?[s,a[1]]:[s,a[c!=null&&d!=null?2:1]]}return[s,o]}function Xc(t,r,a){a==null&&(a={});var s="";switch(typeof t){case"string":t=="m/d/yy"&&a.dateNF?s=a.dateNF:s=t;break;case"number":t==14&&a.dateNF?s=a.dateNF:s=(a.table!=null?a.table:as)[t],s==null&&(s=a.table&&a.table[G2[t]]||as[G2[t]]),s==null&&(s=Z8[t]||"General");break}if(Op(s,0))return Og(r,a);r instanceof Date&&(r=lw(r,a.date1904));var i=g_(s,r);if(Op(i[1]))return Og(r,a);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return m_(i[1],r,a,i[0])}function gw(t,r){if(typeof r!="number"){r=+r||-1;for(var a=0;a<392;++a){if(as[a]==null){r<0&&(r=a);continue}if(as[a]==t){r=a;break}}r<0&&(r=391)}return as[r]=t,r}function ux(t){for(var r=0;r!=392;++r)t[r]!==void 0&&gw(t[r],r)}function fx(){as=K8()}var bw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function b_(t){var r=typeof t=="number"?as[t]:t;return r=r.replace(bw,"(\\d+)"),new RegExp("^"+r+"$")}function y_(t,r,a){var s=-1,i=-1,o=-1,c=-1,d=-1,h=-1;(r.match(bw)||[]).forEach(function(g,b){var m=parseInt(a[b+1],10);switch(g.toLowerCase().charAt(0)){case"y":s=m;break;case"d":o=m;break;case"h":c=m;break;case"s":h=m;break;case"m":c>=0?d=m:i=m;break}}),h>=0&&d==-1&&i>=0&&(d=i,i=-1);var f=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&d==-1&&h==-1?f:s==-1&&i==-1&&o==-1?p:f+"T"+p}var v_=(function(){var t={};t.version="1.2.0";function r(){for(var F=0,P=new Array(256),z=0;z!=256;++z)F=z,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,P[z]=F;return typeof Int32Array<"u"?new Int32Array(P):P}var a=r();function s(F){var P=0,z=0,M=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)C[M]=F[M];for(M=0;M!=256;++M)for(z=F[M],P=256+M;P<4096;P+=256)z=C[P]=z>>>8^F[z&255];var U=[];for(M=1;M!=16;++M)U[M-1]=typeof Int32Array<"u"?C.subarray(M*256,M*256+256):C.slice(M*256,M*256+256);return U}var i=s(a),o=i[0],c=i[1],d=i[2],h=i[3],f=i[4],p=i[5],g=i[6],b=i[7],m=i[8],v=i[9],N=i[10],w=i[11],A=i[12],E=i[13],T=i[14];function _(F,P){for(var z=P^-1,M=0,C=F.length;M<C;)z=z>>>8^a[(z^F.charCodeAt(M++))&255];return~z}function O(F,P){for(var z=P^-1,M=F.length-15,C=0;C<M;)z=T[F[C++]^z&255]^E[F[C++]^z>>8&255]^A[F[C++]^z>>16&255]^w[F[C++]^z>>>24]^N[F[C++]]^v[F[C++]]^m[F[C++]]^b[F[C++]]^g[F[C++]]^p[F[C++]]^f[F[C++]]^h[F[C++]]^d[F[C++]]^c[F[C++]]^o[F[C++]]^a[F[C++]];for(M+=15;C<M;)z=z>>>8^a[(z^F[C++])&255];return~z}function W(F,P){for(var z=P^-1,M=0,C=F.length,U=0,B=0;M<C;)U=F.charCodeAt(M++),U<128?z=z>>>8^a[(z^U)&255]:U<2048?(z=z>>>8^a[(z^(192|U>>6&31))&255],z=z>>>8^a[(z^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,B=F.charCodeAt(M++)&1023,z=z>>>8^a[(z^(240|U>>8&7))&255],z=z>>>8^a[(z^(128|U>>2&63))&255],z=z>>>8^a[(z^(128|B>>6&15|(U&3)<<4))&255],z=z>>>8^a[(z^(128|B&63))&255]):(z=z>>>8^a[(z^(224|U>>12&15))&255],z=z>>>8^a[(z^(128|U>>6&63))&255],z=z>>>8^a[(z^(128|U&63))&255]);return~z}return t.table=a,t.bstr=_,t.buf=O,t.str=W,t})(),ga=(function(){var r={};r.version="1.2.1";function a(ee,me){for(var le=ee.split("/"),ce=me.split("/"),he=0,be=0,Fe=Math.min(le.length,ce.length);he<Fe;++he){if(be=le[he].length-ce[he].length)return be;if(le[he]!=ce[he])return le[he]<ce[he]?-1:1}return le.length-ce.length}function s(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:s(ee.slice(0,-1));var me=ee.lastIndexOf("/");return me===-1?ee:ee.slice(0,me+1)}function i(ee){if(ee.charAt(ee.length-1)=="/")return i(ee.slice(0,-1));var me=ee.lastIndexOf("/");return me===-1?ee:ee.slice(me+1)}function o(ee,me){typeof me=="string"&&(me=new Date(me));var le=me.getHours();le=le<<6|me.getMinutes(),le=le<<5|me.getSeconds()>>>1,ee.write_shift(2,le);var ce=me.getFullYear()-1980;ce=ce<<4|me.getMonth()+1,ce=ce<<5|me.getDate(),ee.write_shift(2,ce)}function c(ee){var me=ee.read_shift(2)&65535,le=ee.read_shift(2)&65535,ce=new Date,he=le&31;le>>>=5;var be=le&15;le>>>=4,ce.setMilliseconds(0),ce.setFullYear(le+1980),ce.setMonth(be-1),ce.setDate(he);var Fe=me&31;me>>>=5;var $e=me&63;return me>>>=6,ce.setHours(me),ce.setMinutes($e),ce.setSeconds(Fe<<1),ce}function d(ee){Ai(ee,0);for(var me={},le=0;ee.l<=ee.length-4;){var ce=ee.read_shift(2),he=ee.read_shift(2),be=ee.l+he,Fe={};ce===21589&&(le=ee.read_shift(1),le&1&&(Fe.mtime=ee.read_shift(4)),he>5&&(le&2&&(Fe.atime=ee.read_shift(4)),le&4&&(Fe.ctime=ee.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3))),ee.l=be,me[ce]=Fe}return me}var h;function f(){return h||(h={})}function p(ee,me){if(ee[0]==80&&ee[1]==75)return er(ee,me);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ht(ee,me);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var le=3,ce=512,he=0,be=0,Fe=0,$e=0,Pe=0,Ie=[],Be=ee.slice(0,512);Ai(Be,0);var ct=g(Be);switch(le=ct[0],le){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(ct[1]==0)return er(ee,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ce!==512&&(Be=ee.slice(0,ce),Ai(Be,28));var xt=ee.slice(0,ce);b(Be,le);var Nt=Be.read_shift(4,"i");if(le===3&&Nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Nt);Be.l+=4,Fe=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),$e=Be.read_shift(4,"i"),he=Be.read_shift(4,"i"),Pe=Be.read_shift(4,"i"),be=Be.read_shift(4,"i");for(var ft=-1,bt=0;bt<109&&(ft=Be.read_shift(4,"i"),!(ft<0));++bt)Ie[bt]=ft;var At=m(ee,ce);w(Pe,be,At,ce,Ie);var Xr=E(At,Fe,Ie,ce);Xr[Fe].name="!Directory",he>0&&$e!==B&&(Xr[$e].name="!MiniFAT"),Xr[Ie[0]].name="!FAT",Xr.fat_addrs=Ie,Xr.ssz=ce;var Sr={},ta=[],$s=[],ui=[];T(Fe,Xr,At,ta,he,Sr,$s,$e),v($s,ui,ta),ta.shift();var fi={FileIndex:$s,FullPaths:ui};return me&&me.raw&&(fi.raw={header:xt,sectors:At}),fi}function g(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(X,"Header Signature: "),ee.l+=16;var me=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),me]}function b(ee,me){var le=9;switch(ee.l+=2,le=ee.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function m(ee,me){for(var le=Math.ceil(ee.length/me)-1,ce=[],he=1;he<le;++he)ce[he-1]=ee.slice(he*me,(he+1)*me);return ce[le-1]=ee.slice(le*me),ce}function v(ee,me,le){for(var ce=0,he=0,be=0,Fe=0,$e=0,Pe=le.length,Ie=[],Be=[];ce<Pe;++ce)Ie[ce]=Be[ce]=ce,me[ce]=le[ce];for(;$e<Be.length;++$e)ce=Be[$e],he=ee[ce].L,be=ee[ce].R,Fe=ee[ce].C,Ie[ce]===ce&&(he!==-1&&Ie[he]!==he&&(Ie[ce]=Ie[he]),be!==-1&&Ie[be]!==be&&(Ie[ce]=Ie[be])),Fe!==-1&&(Ie[Fe]=ce),he!==-1&&ce!=Ie[ce]&&(Ie[he]=Ie[ce],Be.lastIndexOf(he)<$e&&Be.push(he)),be!==-1&&ce!=Ie[ce]&&(Ie[be]=Ie[ce],Be.lastIndexOf(be)<$e&&Be.push(be));for(ce=1;ce<Pe;++ce)Ie[ce]===ce&&(be!==-1&&Ie[be]!==be?Ie[ce]=Ie[be]:he!==-1&&Ie[he]!==he&&(Ie[ce]=Ie[he]));for(ce=1;ce<Pe;++ce)if(ee[ce].type!==0){if($e=ce,$e!=Ie[$e])do $e=Ie[$e],me[ce]=me[$e]+"/"+me[ce];while($e!==0&&Ie[$e]!==-1&&$e!=Ie[$e]);Ie[ce]=-1}for(me[0]+="/",ce=1;ce<Pe;++ce)ee[ce].type!==2&&(me[ce]+="/")}function N(ee,me,le){for(var ce=ee.start,he=ee.size,be=[],Fe=ce;le&&he>0&&Fe>=0;)be.push(me.slice(Fe*U,Fe*U+U)),he-=U,Fe=Dd(le,Fe*4);return be.length===0?We(0):rn(be).slice(0,ee.size)}function w(ee,me,le,ce,he){var be=B;if(ee===B){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Fe=le[ee],$e=(ce>>>2)-1;if(!Fe)return;for(var Pe=0;Pe<$e&&(be=Dd(Fe,Pe*4))!==B;++Pe)he.push(be);w(Dd(Fe,ce-4),me-1,le,ce,he)}}function A(ee,me,le,ce,he){var be=[],Fe=[];he||(he=[]);var $e=ce-1,Pe=0,Ie=0;for(Pe=me;Pe>=0;){he[Pe]=!0,be[be.length]=Pe,Fe.push(ee[Pe]);var Be=le[Math.floor(Pe*4/ce)];if(Ie=Pe*4&$e,ce<4+Ie)throw new Error("FAT boundary crossed: "+Pe+" 4 "+ce);if(!ee[Be])break;Pe=Dd(ee[Be],Ie)}return{nodes:be,data:rv([Fe])}}function E(ee,me,le,ce){var he=ee.length,be=[],Fe=[],$e=[],Pe=[],Ie=ce-1,Be=0,ct=0,xt=0,Nt=0;for(Be=0;Be<he;++Be)if($e=[],xt=Be+me,xt>=he&&(xt-=he),!Fe[xt]){Pe=[];var ft=[];for(ct=xt;ct>=0;){ft[ct]=!0,Fe[ct]=!0,$e[$e.length]=ct,Pe.push(ee[ct]);var bt=le[Math.floor(ct*4/ce)];if(Nt=ct*4&Ie,ce<4+Nt)throw new Error("FAT boundary crossed: "+ct+" 4 "+ce);if(!ee[bt]||(ct=Dd(ee[bt],Nt),ft[ct]))break}be[xt]={nodes:$e,data:rv([Pe])}}return be}function T(ee,me,le,ce,he,be,Fe,$e){for(var Pe=0,Ie=ce.length?2:0,Be=me[ee].data,ct=0,xt=0,Nt;ct<Be.length;ct+=128){var ft=Be.slice(ct,ct+128);Ai(ft,64),xt=ft.read_shift(2),Nt=w1(ft,0,xt-Ie),ce.push(Nt);var bt={name:Nt,type:ft.read_shift(1),color:ft.read_shift(1),L:ft.read_shift(4,"i"),R:ft.read_shift(4,"i"),C:ft.read_shift(4,"i"),clsid:ft.read_shift(16),state:ft.read_shift(4,"i"),start:0,size:0},At=ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2);At!==0&&(bt.ct=_(ft,ft.l-8));var Xr=ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2);Xr!==0&&(bt.mt=_(ft,ft.l-8)),bt.start=ft.read_shift(4,"i"),bt.size=ft.read_shift(4,"i"),bt.size<0&&bt.start<0&&(bt.size=bt.type=0,bt.start=B,bt.name=""),bt.type===5?(Pe=bt.start,he>0&&Pe!==B&&(me[Pe].name="!StreamData")):bt.size>=4096?(bt.storage="fat",me[bt.start]===void 0&&(me[bt.start]=A(le,bt.start,me.fat_addrs,me.ssz)),me[bt.start].name=bt.name,bt.content=me[bt.start].data.slice(0,bt.size)):(bt.storage="minifat",bt.size<0?bt.size=0:Pe!==B&&bt.start!==B&&me[Pe]&&(bt.content=N(bt,me[Pe].data,(me[$e]||{}).data))),bt.content&&Ai(bt.content,0),be[Nt]=bt,Fe.push(bt)}}function _(ee,me){return new Date((Ci(ee,me+4)/1e7*Math.pow(2,32)+Ci(ee,me)/1e7-11644473600)*1e3)}function O(ee,me){return f(),p(h.readFileSync(ee),me)}function W(ee,me){var le=me&&me.type;switch(le||Qr&&Buffer.isBuffer(ee)&&(le="buffer"),le||"base64"){case"file":return O(ee,me);case"base64":return p(Rl(rc(ee)),me);case"binary":return p(Rl(ee),me)}return p(ee,me)}function F(ee,me){var le=me||{},ce=le.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=ce+"/",ee.FileIndex[0]={name:ce,type:5}),le.CLSID&&(ee.FileIndex[0].clsid=le.CLSID),P(ee)}function P(ee){var me="Sh33tJ5";if(!ga.find(ee,"/"+me)){var le=We(4);le[0]=55,le[1]=le[3]=50,le[2]=54,ee.FileIndex.push({name:me,type:2,content:le,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+me),z(ee)}}function z(ee,me){F(ee);for(var le=!1,ce=!1,he=ee.FullPaths.length-1;he>=0;--he){var be=ee.FileIndex[he];switch(be.type){case 0:ce?le=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(be.R*be.L*be.C)&&(le=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!me)){var Fe=new Date(1987,1,19),$e=0,Pe=Object.create?Object.create(null):{},Ie=[];for(he=0;he<ee.FullPaths.length;++he)Pe[ee.FullPaths[he]]=!0,ee.FileIndex[he].type!==0&&Ie.push([ee.FullPaths[he],ee.FileIndex[he]]);for(he=0;he<Ie.length;++he){var Be=s(Ie[he][0]);ce=Pe[Be],ce||(Ie.push([Be,{name:i(Be).replace("/",""),type:1,clsid:J,ct:Fe,mt:Fe,content:null}]),Pe[Be]=!0)}for(Ie.sort(function(Nt,ft){return a(Nt[0],ft[0])}),ee.FullPaths=[],ee.FileIndex=[],he=0;he<Ie.length;++he)ee.FullPaths[he]=Ie[he][0],ee.FileIndex[he]=Ie[he][1];for(he=0;he<Ie.length;++he){var ct=ee.FileIndex[he],xt=ee.FullPaths[he];if(ct.name=i(xt).replace("/",""),ct.L=ct.R=ct.C=-(ct.color=1),ct.size=ct.content?ct.content.length:0,ct.start=0,ct.clsid=ct.clsid||J,he===0)ct.C=Ie.length>1?1:-1,ct.size=0,ct.type=5;else if(xt.slice(-1)=="/"){for($e=he+1;$e<Ie.length&&s(ee.FullPaths[$e])!=xt;++$e);for(ct.C=$e>=Ie.length?-1:$e,$e=he+1;$e<Ie.length&&s(ee.FullPaths[$e])!=s(xt);++$e);ct.R=$e>=Ie.length?-1:$e,ct.type=1}else s(ee.FullPaths[he+1]||"")==s(xt)&&(ct.R=he+1),ct.type=2}}}function M(ee,me){var le=me||{};if(le.fileType=="mad")return di(ee,le);if(z(ee),le.fileType==="zip")return ur(ee,le);var ce=(function(Nt){for(var ft=0,bt=0,At=0;At<Nt.FileIndex.length;++At){var Xr=Nt.FileIndex[At];if(Xr.content){var Sr=Xr.content.length;Sr>0&&(Sr<4096?ft+=Sr+63>>6:bt+=Sr+511>>9)}}for(var ta=Nt.FullPaths.length+3>>2,$s=ft+7>>3,ui=ft+127>>7,fi=$s+bt+ta+ui,jn=fi+127>>7,Hl=jn<=109?0:Math.ceil((jn-109)/127);fi+jn+Hl+127>>7>jn;)Hl=++jn<=109?0:Math.ceil((jn-109)/127);var ja=[1,Hl,jn,ui,ta,bt,ft,0];return Nt.FileIndex[0].size=ft<<6,ja[7]=(Nt.FileIndex[0].start=ja[0]+ja[1]+ja[2]+ja[3]+ja[4]+ja[5])+(ja[6]+7>>3),ja})(ee),he=We(ce[7]<<9),be=0,Fe=0;{for(be=0;be<8;++be)he.write_shift(1,ue[be]);for(be=0;be<8;++be)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),be=0;be<3;++be)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ce[2]),he.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:B),he.write_shift(4,ce[3]),he.write_shift(-4,ce[1]?ce[0]-1:B),he.write_shift(4,ce[1]),be=0;be<109;++be)he.write_shift(-4,be<ce[2]?ce[1]+be:-1)}if(ce[1])for(Fe=0;Fe<ce[1];++Fe){for(;be<236+Fe*127;++be)he.write_shift(-4,be<ce[2]?ce[1]+be:-1);he.write_shift(-4,Fe===ce[1]-1?B:Fe+1)}var $e=function(Nt){for(Fe+=Nt;be<Fe-1;++be)he.write_shift(-4,be+1);Nt&&(++be,he.write_shift(-4,B))};for(Fe=be=0,Fe+=ce[1];be<Fe;++be)he.write_shift(-4,re.DIFSECT);for(Fe+=ce[2];be<Fe;++be)he.write_shift(-4,re.FATSECT);$e(ce[3]),$e(ce[4]);for(var Pe=0,Ie=0,Be=ee.FileIndex[0];Pe<ee.FileIndex.length;++Pe)Be=ee.FileIndex[Pe],Be.content&&(Ie=Be.content.length,!(Ie<4096)&&(Be.start=Fe,$e(Ie+511>>9)));for($e(ce[6]+7>>3);he.l&511;)he.write_shift(-4,re.ENDOFCHAIN);for(Fe=be=0,Pe=0;Pe<ee.FileIndex.length;++Pe)Be=ee.FileIndex[Pe],Be.content&&(Ie=Be.content.length,!(!Ie||Ie>=4096)&&(Be.start=Fe,$e(Ie+63>>6)));for(;he.l&511;)he.write_shift(-4,re.ENDOFCHAIN);for(be=0;be<ce[4]<<2;++be){var ct=ee.FullPaths[be];if(!ct||ct.length===0){for(Pe=0;Pe<17;++Pe)he.write_shift(4,0);for(Pe=0;Pe<3;++Pe)he.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)he.write_shift(4,0);continue}Be=ee.FileIndex[be],be===0&&(Be.start=Be.size?Be.start-1:B);var xt=be===0&&le.root||Be.name;if(Ie=2*(xt.length+1),he.write_shift(64,xt,"utf16le"),he.write_shift(2,Ie),he.write_shift(1,Be.type),he.write_shift(1,Be.color),he.write_shift(-4,Be.L),he.write_shift(-4,Be.R),he.write_shift(-4,Be.C),Be.clsid)he.write_shift(16,Be.clsid,"hex");else for(Pe=0;Pe<4;++Pe)he.write_shift(4,0);he.write_shift(4,Be.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Be.start),he.write_shift(4,Be.size),he.write_shift(4,0)}for(be=1;be<ee.FileIndex.length;++be)if(Be=ee.FileIndex[be],Be.size>=4096)if(he.l=Be.start+1<<9,Qr&&Buffer.isBuffer(Be.content))Be.content.copy(he,he.l,0,Be.size),he.l+=Be.size+511&-512;else{for(Pe=0;Pe<Be.size;++Pe)he.write_shift(1,Be.content[Pe]);for(;Pe&511;++Pe)he.write_shift(1,0)}for(be=1;be<ee.FileIndex.length;++be)if(Be=ee.FileIndex[be],Be.size>0&&Be.size<4096)if(Qr&&Buffer.isBuffer(Be.content))Be.content.copy(he,he.l,0,Be.size),he.l+=Be.size+63&-64;else{for(Pe=0;Pe<Be.size;++Pe)he.write_shift(1,Be.content[Pe]);for(;Pe&63;++Pe)he.write_shift(1,0)}if(Qr)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function C(ee,me){var le=ee.FullPaths.map(function(Pe){return Pe.toUpperCase()}),ce=le.map(function(Pe){var Ie=Pe.split("/");return Ie[Ie.length-(Pe.slice(-1)=="/"?2:1)]}),he=!1;me.charCodeAt(0)===47?(he=!0,me=le[0].slice(0,-1)+me):he=me.indexOf("/")!==-1;var be=me.toUpperCase(),Fe=he===!0?le.indexOf(be):ce.indexOf(be);if(Fe!==-1)return ee.FileIndex[Fe];var $e=!be.match(Zh);for(be=be.replace(vf,""),$e&&(be=be.replace(Zh,"!")),Fe=0;Fe<le.length;++Fe)if(($e?le[Fe].replace(Zh,"!"):le[Fe]).replace(vf,"")==be||($e?ce[Fe].replace(Zh,"!"):ce[Fe]).replace(vf,"")==be)return ee.FileIndex[Fe];return null}var U=64,B=-2,X="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(ee,me,le){f();var ce=M(ee,le);h.writeFileSync(me,ce)}function ve(ee){for(var me=new Array(ee.length),le=0;le<ee.length;++le)me[le]=String.fromCharCode(ee[le]);return me.join("")}function Ne(ee,me){var le=M(ee,me);switch(me&&me.type||"buffer"){case"file":return f(),h.writeFileSync(me.filename,le),le;case"binary":return typeof le=="string"?le:ve(le);case"base64":return Ff(typeof le=="string"?le:ve(le));case"buffer":if(Qr)return Buffer.isBuffer(le)?le:lc(le);case"array":return typeof le=="string"?Rl(le):le}return le}var q;function L(ee){try{var me=ee.InflateRaw,le=new me;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)q=ee;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function G(ee,me){if(!q)return Vr(ee,me);var le=q.InflateRaw,ce=new le,he=ce._processChunk(ee.slice(ee.l),ce._finishFlushFlag);return ee.l+=ce.bytesRead,he}function V(ee){return q?q.deflateRawSync(ee):lr(ee)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(ee){var me=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(me>>16|me>>8|me)&255}for(var Se=typeof Uint8Array<"u",_e=Se?new Uint8Array(256):[],Je=0;Je<256;++Je)_e[Je]=ke(Je);function nt(ee,me){var le=_e[ee&255];return me<=8?le>>>8-me:(le=le<<8|_e[ee>>8&255],me<=16?le>>>16-me:(le=le<<8|_e[ee>>16&255],le>>>24-me))}function mt(ee,me){var le=me&7,ce=me>>>3;return(ee[ce]|(le<=6?0:ee[ce+1]<<8))>>>le&3}function ht(ee,me){var le=me&7,ce=me>>>3;return(ee[ce]|(le<=5?0:ee[ce+1]<<8))>>>le&7}function fe(ee,me){var le=me&7,ce=me>>>3;return(ee[ce]|(le<=4?0:ee[ce+1]<<8))>>>le&15}function dt(ee,me){var le=me&7,ce=me>>>3;return(ee[ce]|(le<=3?0:ee[ce+1]<<8))>>>le&31}function ot(ee,me){var le=me&7,ce=me>>>3;return(ee[ce]|(le<=1?0:ee[ce+1]<<8))>>>le&127}function kt(ee,me,le){var ce=me&7,he=me>>>3,be=(1<<le)-1,Fe=ee[he]>>>ce;return le<8-ce||(Fe|=ee[he+1]<<8-ce,le<16-ce)||(Fe|=ee[he+2]<<16-ce,le<24-ce)||(Fe|=ee[he+3]<<24-ce),Fe&be}function rt(ee,me,le){var ce=me&7,he=me>>>3;return ce<=5?ee[he]|=(le&7)<<ce:(ee[he]|=le<<ce&255,ee[he+1]=(le&7)>>8-ce),me+3}function Rt(ee,me,le){var ce=me&7,he=me>>>3;return le=(le&1)<<ce,ee[he]|=le,me+1}function wt(ee,me,le){var ce=me&7,he=me>>>3;return le<<=ce,ee[he]|=le&255,le>>>=8,ee[he+1]=le,me+8}function qt(ee,me,le){var ce=me&7,he=me>>>3;return le<<=ce,ee[he]|=le&255,le>>>=8,ee[he+1]=le&255,ee[he+2]=le>>>8,me+16}function Bt(ee,me){var le=ee.length,ce=2*le>me?2*le:me+5,he=0;if(le>=me)return ee;if(Qr){var be=U2(ce);if(ee.copy)ee.copy(be);else for(;he<ee.length;++he)be[he]=ee[he];return be}else if(Se){var Fe=new Uint8Array(ce);if(Fe.set)Fe.set(ee);else for(;he<le;++he)Fe[he]=ee[he];return Fe}return ee.length=ce,ee}function Vt(ee){for(var me=new Array(ee),le=0;le<ee;++le)me[le]=0;return me}function mr(ee,me,le){var ce=1,he=0,be=0,Fe=0,$e=0,Pe=ee.length,Ie=Se?new Uint16Array(32):Vt(32);for(be=0;be<32;++be)Ie[be]=0;for(be=Pe;be<le;++be)ee[be]=0;Pe=ee.length;var Be=Se?new Uint16Array(Pe):Vt(Pe);for(be=0;be<Pe;++be)Ie[he=ee[be]]++,ce<he&&(ce=he),Be[be]=0;for(Ie[0]=0,be=1;be<=ce;++be)Ie[be+16]=$e=$e+Ie[be-1]<<1;for(be=0;be<Pe;++be)$e=ee[be],$e!=0&&(Be[be]=Ie[$e+16]++);var ct=0;for(be=0;be<Pe;++be)if(ct=ee[be],ct!=0)for($e=nt(Be[be],ce)>>ce-ct,Fe=(1<<ce+4-ct)-1;Fe>=0;--Fe)me[$e|Fe<<ct]=ct&15|be<<4;return ce}var sr=Se?new Uint16Array(512):Vt(512),br=Se?new Uint16Array(32):Vt(32);if(!Se){for(var ir=0;ir<512;++ir)sr[ir]=0;for(ir=0;ir<32;++ir)br[ir]=0}(function(){for(var ee=[],me=0;me<32;me++)ee.push(5);mr(ee,br,32);var le=[];for(me=0;me<=143;me++)le.push(8);for(;me<=255;me++)le.push(9);for(;me<=279;me++)le.push(7);for(;me<=287;me++)le.push(8);mr(le,sr,288)})();var Ft=(function(){for(var me=Se?new Uint8Array(32768):[],le=0,ce=0;le<ye.length-1;++le)for(;ce<ye[le+1];++ce)me[ce]=le;for(;ce<32768;++ce)me[ce]=29;var he=Se?new Uint8Array(259):[];for(le=0,ce=0;le<ne.length-1;++le)for(;ce<ne[le+1];++ce)he[ce]=le;function be($e,Pe){for(var Ie=0;Ie<$e.length;){var Be=Math.min(65535,$e.length-Ie),ct=Ie+Be==$e.length;for(Pe.write_shift(1,+ct),Pe.write_shift(2,Be),Pe.write_shift(2,~Be&65535);Be-- >0;)Pe[Pe.l++]=$e[Ie++]}return Pe.l}function Fe($e,Pe){for(var Ie=0,Be=0,ct=Se?new Uint16Array(32768):[];Be<$e.length;){var xt=Math.min(65535,$e.length-Be);if(xt<10){for(Ie=rt(Pe,Ie,+(Be+xt==$e.length)),Ie&7&&(Ie+=8-(Ie&7)),Pe.l=Ie/8|0,Pe.write_shift(2,xt),Pe.write_shift(2,~xt&65535);xt-- >0;)Pe[Pe.l++]=$e[Be++];Ie=Pe.l*8;continue}Ie=rt(Pe,Ie,+(Be+xt==$e.length)+2);for(var Nt=0;xt-- >0;){var ft=$e[Be];Nt=(Nt<<5^ft)&32767;var bt=-1,At=0;if((bt=ct[Nt])&&(bt|=Be&-32768,bt>Be&&(bt-=32768),bt<Be))for(;$e[bt+At]==$e[Be+At]&&At<250;)++At;if(At>2){ft=he[At],ft<=22?Ie=wt(Pe,Ie,_e[ft+1]>>1)-1:(wt(Pe,Ie,3),Ie+=5,wt(Pe,Ie,_e[ft-23]>>5),Ie+=3);var Xr=ft<8?0:ft-4>>2;Xr>0&&(qt(Pe,Ie,At-ne[ft]),Ie+=Xr),ft=me[Be-bt],Ie=wt(Pe,Ie,_e[ft]>>3),Ie-=3;var Sr=ft<4?0:ft-2>>1;Sr>0&&(qt(Pe,Ie,Be-bt-ye[ft]),Ie+=Sr);for(var ta=0;ta<At;++ta)ct[Nt]=Be&32767,Nt=(Nt<<5^$e[Be])&32767,++Be;xt-=At-1}else ft<=143?ft=ft+48:Ie=Rt(Pe,Ie,1),Ie=wt(Pe,Ie,_e[ft]),ct[Nt]=Be&32767,++Be}Ie=wt(Pe,Ie,0)-1}return Pe.l=(Ie+7)/8|0,Pe.l}return function(Pe,Ie){return Pe.length<8?be(Pe,Ie):Fe(Pe,Ie)}})();function lr(ee){var me=We(50+Math.floor(ee.length*1.1)),le=Ft(ee,me);return me.slice(0,le)}var Pt=Se?new Uint16Array(32768):Vt(32768),wa=Se?new Uint16Array(32768):Vt(32768),yr=Se?new Uint16Array(128):Vt(128),$t=1,Qt=1;function Nr(ee,me){var le=dt(ee,me)+257;me+=5;var ce=dt(ee,me)+1;me+=5;var he=fe(ee,me)+4;me+=4;for(var be=0,Fe=Se?new Uint8Array(19):Vt(19),$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,Ie=Se?new Uint8Array(8):Vt(8),Be=Se?new Uint8Array(8):Vt(8),ct=Fe.length,xt=0;xt<he;++xt)Fe[K[xt]]=be=ht(ee,me),Pe<be&&(Pe=be),Ie[be]++,me+=3;var Nt=0;for(Ie[0]=0,xt=1;xt<=Pe;++xt)Be[xt]=Nt=Nt+Ie[xt-1]<<1;for(xt=0;xt<ct;++xt)(Nt=Fe[xt])!=0&&($e[xt]=Be[Nt]++);var ft=0;for(xt=0;xt<ct;++xt)if(ft=Fe[xt],ft!=0){Nt=_e[$e[xt]]>>8-ft;for(var bt=(1<<7-ft)-1;bt>=0;--bt)yr[Nt|bt<<ft]=ft&7|xt<<3}var At=[];for(Pe=1;At.length<le+ce;)switch(Nt=yr[ot(ee,me)],me+=Nt&7,Nt>>>=3){case 16:for(be=3+mt(ee,me),me+=2,Nt=At[At.length-1];be-- >0;)At.push(Nt);break;case 17:for(be=3+ht(ee,me),me+=3;be-- >0;)At.push(0);break;case 18:for(be=11+ot(ee,me),me+=7;be-- >0;)At.push(0);break;default:At.push(Nt),Pe<Nt&&(Pe=Nt);break}var Xr=At.slice(0,le),Sr=At.slice(le);for(xt=le;xt<286;++xt)Xr[xt]=0;for(xt=ce;xt<30;++xt)Sr[xt]=0;return $t=mr(Xr,Pt,286),Qt=mr(Sr,wa,30),me}function Gt(ee,me){if(ee[0]==3&&!(ee[1]&3))return[Ud(me),2];for(var le=0,ce=0,he=U2(me||1<<18),be=0,Fe=he.length>>>0,$e=0,Pe=0;(ce&1)==0;){if(ce=ht(ee,le),le+=3,ce>>>1)ce>>1==1?($e=9,Pe=5):(le=Nr(ee,le),$e=$t,Pe=Qt);else{le&7&&(le+=8-(le&7));var Ie=ee[le>>>3]|ee[(le>>>3)+1]<<8;if(le+=32,Ie>0)for(!me&&Fe<be+Ie&&(he=Bt(he,be+Ie),Fe=he.length);Ie-- >0;)he[be++]=ee[le>>>3],le+=8;continue}for(;;){!me&&Fe<be+32767&&(he=Bt(he,be+32767),Fe=he.length);var Be=kt(ee,le,$e),ct=ce>>>1==1?sr[Be]:Pt[Be];if(le+=ct&15,ct>>>=4,(ct>>>8&255)===0)he[be++]=ct;else{if(ct==256)break;ct-=257;var xt=ct<8?0:ct-4>>2;xt>5&&(xt=0);var Nt=be+ne[ct];xt>0&&(Nt+=kt(ee,le,xt),le+=xt),Be=kt(ee,le,Pe),ct=ce>>>1==1?br[Be]:wa[Be],le+=ct&15,ct>>>=4;var ft=ct<4?0:ct-2>>1,bt=ye[ct];for(ft>0&&(bt+=kt(ee,le,ft),le+=ft),!me&&Fe<Nt&&(he=Bt(he,Nt+100),Fe=he.length);be<Nt;)he[be]=he[be-bt],++be}}}return me?[he,le+7>>>3]:[he.slice(0,be),le+7>>>3]}function Vr(ee,me){var le=ee.slice(ee.l||0),ce=Gt(le,me);return ee.l+=ce[1],ce[0]}function Jt(ee,me){if(ee)typeof console<"u"&&console.error(me);else throw new Error(me)}function er(ee,me){var le=ee;Ai(le,0);var ce=[],he=[],be={FileIndex:ce,FullPaths:he};F(be,{root:me.root});for(var Fe=le.length-4;(le[Fe]!=80||le[Fe+1]!=75||le[Fe+2]!=5||le[Fe+3]!=6)&&Fe>=0;)--Fe;le.l=Fe+4,le.l+=4;var $e=le.read_shift(2);le.l+=6;var Pe=le.read_shift(4);for(le.l=Pe,Fe=0;Fe<$e;++Fe){le.l+=20;var Ie=le.read_shift(4),Be=le.read_shift(4),ct=le.read_shift(2),xt=le.read_shift(2),Nt=le.read_shift(2);le.l+=8;var ft=le.read_shift(4),bt=d(le.slice(le.l+ct,le.l+ct+xt));le.l+=ct+xt+Nt;var At=le.l;le.l=ft+4,Wr(le,Ie,Be,be,bt),le.l=At}return be}function Wr(ee,me,le,ce,he){ee.l+=2;var be=ee.read_shift(2),Fe=ee.read_shift(2),$e=c(ee);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=ee.read_shift(4),Ie=ee.read_shift(4),Be=ee.read_shift(4),ct=ee.read_shift(2),xt=ee.read_shift(2),Nt="",ft=0;ft<ct;++ft)Nt+=String.fromCharCode(ee[ee.l++]);if(xt){var bt=d(ee.slice(ee.l,ee.l+xt));(bt[21589]||{}).mt&&($e=bt[21589].mt),((he||{})[21589]||{}).mt&&($e=he[21589].mt)}ee.l+=xt;var At=ee.slice(ee.l,ee.l+Ie);switch(Fe){case 8:At=G(ee,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var Xr=!1;be&8&&(Pe=ee.read_shift(4),Pe==134695760&&(Pe=ee.read_shift(4),Xr=!0),Ie=ee.read_shift(4),Be=ee.read_shift(4)),Ie!=me&&Jt(Xr,"Bad compressed size: "+me+" != "+Ie),Be!=le&&Jt(Xr,"Bad uncompressed size: "+le+" != "+Be),Ns(ce,Nt,At,{unsafe:!0,mt:$e})}function ur(ee,me){var le=me||{},ce=[],he=[],be=We(1),Fe=le.compression?8:0,$e=0,Pe=0,Ie=0,Be=0,ct=0,xt=ee.FullPaths[0],Nt=xt,ft=ee.FileIndex[0],bt=[],At=0;for(Pe=1;Pe<ee.FullPaths.length;++Pe)if(Nt=ee.FullPaths[Pe].slice(xt.length),ft=ee.FileIndex[Pe],!(!ft.size||!ft.content||Nt=="Sh33tJ5")){var Xr=Be,Sr=We(Nt.length);for(Ie=0;Ie<Nt.length;++Ie)Sr.write_shift(1,Nt.charCodeAt(Ie)&127);Sr=Sr.slice(0,Sr.l),bt[ct]=v_.buf(ft.content,0);var ta=ft.content;Fe==8&&(ta=V(ta)),be=We(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,$e),be.write_shift(2,Fe),ft.mt?o(be,ft.mt):be.write_shift(4,0),be.write_shift(-4,bt[ct]),be.write_shift(4,ta.length),be.write_shift(4,ft.content.length),be.write_shift(2,Sr.length),be.write_shift(2,0),Be+=be.length,ce.push(be),Be+=Sr.length,ce.push(Sr),Be+=ta.length,ce.push(ta),be=We(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,$e),be.write_shift(2,Fe),be.write_shift(4,0),be.write_shift(-4,bt[ct]),be.write_shift(4,ta.length),be.write_shift(4,ft.content.length),be.write_shift(2,Sr.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,Xr),At+=be.l,he.push(be),At+=Sr.length,he.push(Sr),++ct}return be=We(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,ct),be.write_shift(2,ct),be.write_shift(4,At),be.write_shift(4,Be),be.write_shift(2,0),rn([rn(ce),rn(he),be])}var Ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Cr(ee,me){if(ee.ctype)return ee.ctype;var le=ee.name||"",ce=le.match(/\.([^\.]+)$/);return ce&&Ot[ce[1]]||me&&(ce=(le=me).match(/[\.\\]([^\.\\])+$/),ce&&Ot[ce[1]])?Ot[ce[1]]:"application/octet-stream"}function wn(ee){for(var me=Ff(ee),le=[],ce=0;ce<me.length;ce+=76)le.push(me.slice(ce,ce+76));return le.join(`\r
`)+`\r
`}function fs(ee){var me=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var Be=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ce=me.split(`\r
`),he=0;he<ce.length;++he){var be=ce[he];if(be.length==0){le.push("");continue}for(var Fe=0;Fe<be.length;){var $e=76,Pe=be.slice(Fe,Fe+$e);Pe.charAt($e-1)=="="?$e--:Pe.charAt($e-2)=="="?$e-=2:Pe.charAt($e-3)=="="&&($e-=3),Pe=be.slice(Fe,Fe+$e),Fe+=$e,Fe<be.length&&(Pe+="="),le.push(Pe)}}return le.join(`\r
`)}function In(ee){for(var me=[],le=0;le<ee.length;++le){for(var ce=ee[le];le<=ee.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+ee[++le];me.push(ce)}for(var he=0;he<me.length;++he)me[he]=me[he].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Rl(me.join(`\r
`))}function cn(ee,me,le){for(var ce="",he="",be="",Fe,$e=0;$e<10;++$e){var Pe=me[$e];if(!Pe||Pe.match(/^\s*$/))break;var Ie=Pe.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":ce=Ie[2].trim();break;case"content-type":be=Ie[2].trim();break;case"content-transfer-encoding":he=Ie[2].trim();break}}switch(++$e,he.toLowerCase()){case"base64":Fe=Rl(rc(me.slice($e).join("")));break;case"quoted-printable":Fe=In(me.slice($e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Be=Ns(ee,ce.slice(le.length),Fe,{unsafe:!0});be&&(Be.ctype=be)}function Ht(ee,me){if(ve(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=me&&me.root||"",ce=(Qr&&Buffer.isBuffer(ee)?ee.toString("binary"):ve(ee)).split(`\r
`),he=0,be="";for(he=0;he<ce.length;++he)if(be=ce[he],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),le||(le=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),be.slice(0,le.length)!=le););var Fe=(ce[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var $e="--"+(Fe[1]||""),Pe=[],Ie=[],Be={FileIndex:Pe,FullPaths:Ie};F(Be);var ct,xt=0;for(he=0;he<ce.length;++he){var Nt=ce[he];Nt!==$e&&Nt!==$e+"--"||(xt++&&cn(Be,ce.slice(ct,he),le),ct=he)}return Be}function di(ee,me){var le=me||{},ce=le.boundary||"SheetJS";ce="------="+ce;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],be=ee.FullPaths[0],Fe=be,$e=ee.FileIndex[0],Pe=1;Pe<ee.FullPaths.length;++Pe)if(Fe=ee.FullPaths[Pe].slice(be.length),$e=ee.FileIndex[Pe],!(!$e.size||!$e.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(At){return"_x"+At.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(At){return"_u"+At.charCodeAt(0).toString(16)+"_"});for(var Ie=$e.content,Be=Qr&&Buffer.isBuffer(Ie)?Ie.toString("binary"):ve(Ie),ct=0,xt=Math.min(1024,Be.length),Nt=0,ft=0;ft<=xt;++ft)(Nt=Be.charCodeAt(ft))>=32&&Nt<128&&++ct;var bt=ct>=xt*4/5;he.push(ce),he.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Fe),he.push("Content-Transfer-Encoding: "+(bt?"quoted-printable":"base64")),he.push("Content-Type: "+Cr($e,Fe)),he.push(""),he.push(bt?fs(Be):wn(Be))}return he.push(ce+`--\r
`),he.join(`\r
`)}function Mn(ee){var me={};return F(me,ee),me}function Ns(ee,me,le,ce){var he=ce&&ce.unsafe;he||F(ee);var be=!he&&ga.find(ee,me);if(!be){var Fe=ee.FullPaths[0];me.slice(0,Fe.length)==Fe?Fe=me:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+me).replace("//","/")),be={name:i(me),type:2},ee.FileIndex.push(be),ee.FullPaths.push(Fe),he||ga.utils.cfb_gc(ee)}return be.content=le,be.size=le?le.length:0,ce&&(ce.CLSID&&(be.clsid=ce.CLSID),ce.mt&&(be.mt=ce.mt),ce.ct&&(be.ct=ce.ct)),be}function Gs(ee,me){F(ee);var le=ga.find(ee,me);if(le){for(var ce=0;ce<ee.FileIndex.length;++ce)if(ee.FileIndex[ce]==le)return ee.FileIndex.splice(ce,1),ee.FullPaths.splice(ce,1),!0}return!1}function da(ee,me,le){F(ee);var ce=ga.find(ee,me);if(ce){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==ce)return ee.FileIndex[he].name=i(le),ee.FullPaths[he]=le,!0}return!1}function Da(ee){z(ee,!0)}return r.find=C,r.read=W,r.parse=p,r.write=Ne,r.writeFile=oe,r.utils={cfb_new:Mn,cfb_add:Ns,cfb_del:Gs,cfb_mov:da,cfb_gc:Da,ReadShift:wf,CheckField:Pw,prep_blob:Ai,bconcat:rn,use_zlib:L,_deflateRaw:lr,_inflateRaw:Vr,consts:re},r})();function N_(t){return typeof t=="string"?dx(t):Array.isArray(t)?V8(t):t}function Kf(t,r,a){if(typeof Deno<"u"){if(a&&typeof r=="string")switch(a){case"utf8":r=new TextEncoder(a).encode(r);break;case"binary":r=dx(r);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(t,r)}var s=a=="utf8"?Pf(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,t);if(typeof Blob<"u"){var i=new Blob([N_(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(t);return d.open("w"),d.encoding="binary",Array.isArray(r)&&(r=Jf(r)),d.write(r),d.close(),r}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+t)}function ln(t){for(var r=Object.keys(t),a=[],s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(t,r[s])&&a.push(r[s]);return a}function X2(t,r){for(var a=[],s=ln(t),i=0;i!==s.length;++i)a[t[s[i]][r]]==null&&(a[t[s[i]][r]]=s[i]);return a}function b1(t){for(var r=[],a=ln(t),s=0;s!==a.length;++s)r[t[a[s]]]=a[s];return r}function hx(t){for(var r=[],a=ln(t),s=0;s!==a.length;++s)r[t[a[s]]]=parseInt(a[s],10);return r}function w_(t){for(var r=[],a=ln(t),s=0;s!==a.length;++s)r[t[a[s]]]==null&&(r[t[a[s]]]=[]),r[t[a[s]]].push(a[s]);return r}var Ip=new Date(1899,11,30,0,0,0);function ii(t,r){var a=t.getTime(),s=Ip.getTime()+(t.getTimezoneOffset()-Ip.getTimezoneOffset())*6e4;return(a-s)/(1440*60*1e3)}var yw=new Date,j_=Ip.getTime()+(yw.getTimezoneOffset()-Ip.getTimezoneOffset())*6e4,J2=yw.getTimezoneOffset();function vw(t){var r=new Date;return r.setTime(t*24*60*60*1e3+j_),r.getTimezoneOffset()!==J2&&r.setTime(r.getTime()+(r.getTimezoneOffset()-J2)*6e4),r}var K2=new Date("2017-02-19T19:06:09.000Z"),Nw=isNaN(K2.getFullYear())?new Date("2/19/17"):K2,S_=Nw.getFullYear()==2017;function Fn(t,r){var a=new Date(t);if(S_)return r>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):r<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(t instanceof Date)return t;if(Nw.getFullYear()==1917&&!isNaN(a.getFullYear())){var s=a.getFullYear();return t.indexOf(""+s)>-1||a.setFullYear(a.getFullYear()+100),a}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function px(t,r){if(Qr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return a[o]||o})}catch{}for(var s=[],i=0;i!=t.length;++i)s.push(String.fromCharCode(t[i]));return s.join("")}function li(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=li(t[a]));return r}function ts(t,r){for(var a="";a.length<r;)a+=t;return a}function Zo(t){var r=Number(t);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(t))return r;var a=1,s=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(r=Number(s))||(s=s.replace(/[(](.*)[)]/,function(i,o){return a=-a,o}),!isNaN(r=Number(s)))?r/a:r}var E_=["january","february","march","april","may","june","july","august","september","october","november","december"];function Of(t){var r=new Date(t),a=new Date(NaN),s=r.getYear(),i=r.getMonth(),o=r.getDate();if(isNaN(o))return a;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&E_.indexOf(c)==-1)return a}else if(c.match(/[a-z]/))return a;return s<0||s>8099?a:(i>0||o>1)&&s!=101?r:t.match(/[^-0-9:,\/\\]/)?a:r}function jr(t,r,a){if(t.FullPaths){if(typeof a=="string"){var s;return Qr?s=lc(a):s=W8(a),ga.utils.cfb_add(t,r,s)}ga.utils.cfb_add(t,r,a)}else t.file(r,a)}function y1(){return ga.utils.cfb_new()}var vs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,k_={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},v1=b1(k_),N1=/[&<>'"]/g,A_=/[\u0000-\u0008\u000b-\u001f]/g;function oa(t){var r=t+"";return r.replace(N1,function(a){return v1[a]}).replace(A_,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Z2(t){return oa(t).replace(/ /g,"_x0020_")}var ww=/[\u0000-\u001f]/g;function __(t){var r=t+"";return r.replace(N1,function(a){return v1[a]}).replace(/\n/g,"<br/>").replace(ww,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function C_(t){var r=t+"";return r.replace(N1,function(a){return v1[a]}).replace(ww,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}function T_(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function D_(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ym(t){for(var r="",a=0,s=0,i=0,o=0,c=0,d=0;a<t.length;){if(s=t.charCodeAt(a++),s<128){r+=String.fromCharCode(s);continue}if(i=t.charCodeAt(a++),s>191&&s<224){c=(s&31)<<6,c|=i&63,r+=String.fromCharCode(c);continue}if(o=t.charCodeAt(a++),s<240){r+=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63);continue}c=t.charCodeAt(a++),d=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536,r+=String.fromCharCode(55296+(d>>>10&1023)),r+=String.fromCharCode(56320+(d&1023))}return r}function Q2(t){var r=Ud(2*t.length),a,s,i=1,o=0,c=0,d;for(s=0;s<t.length;s+=i)i=1,(d=t.charCodeAt(s))<128?a=d:d<224?(a=(d&31)*64+(t.charCodeAt(s+1)&63),i=2):d<240?(a=(d&15)*4096+(t.charCodeAt(s+1)&63)*64+(t.charCodeAt(s+2)&63),i=3):(i=4,a=(d&7)*262144+(t.charCodeAt(s+1)&63)*4096+(t.charCodeAt(s+2)&63)*64+(t.charCodeAt(s+3)&63),a-=65536,c=55296+(a>>>10&1023),a=56320+(a&1023)),c!==0&&(r[o++]=c&255,r[o++]=c>>>8,c=0),r[o++]=a%256,r[o++]=a>>>8;return r.slice(0,o).toString("ucs2")}function ev(t){return lc(t,"binary").toString("utf8")}var ep="foo bar baz",Nf=Qr&&(ev(ep)==Ym(ep)&&ev||Q2(ep)==Ym(ep)&&Q2)||Ym,Pf=Qr?function(t){return lc(t,"utf8").toString("binary")}:function(t){for(var r=[],a=0,s=0,i=0;a<t.length;)switch(s=t.charCodeAt(a++),!0){case s<128:r.push(String.fromCharCode(s));break;case s<2048:r.push(String.fromCharCode(192+(s>>6))),r.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,i=t.charCodeAt(a++)-56320+(s<<10),r.push(String.fromCharCode(240+(i>>18&7))),r.push(String.fromCharCode(144+(i>>12&63))),r.push(String.fromCharCode(128+(i>>6&63))),r.push(String.fromCharCode(128+(i&63)));break;default:r.push(String.fromCharCode(224+(s>>12))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)))}return r.join("")},L_=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(a){for(var s=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)s=s.replace(t[i][0],t[i][1]);return s}})(),jw=/(^\s|\s$|\n)/;function an(t,r){return"<"+t+(r.match(jw)?' xml:space="preserve"':"")+">"+r+"</"+t+">"}function If(t){return ln(t).map(function(r){return" "+r+'="'+t[r]+'"'}).join("")}function gt(t,r,a){return"<"+t+(a!=null?If(a):"")+(r!=null?(r.match(jw)?' xml:space="preserve"':"")+">"+r+"</"+t:"/")+">"}function Pg(t,r){try{return t.toISOString().replace(/\.\d*/,"")}catch(a){if(r)throw a}return""}function R_(t,r){switch(typeof t){case"string":var a=gt("vt:lpwstr",oa(t));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return gt((t|0)==t?"vt:i4":"vt:r8",oa(String(t)));case"boolean":return gt("vt:bool",t?"true":"false")}if(t instanceof Date)return gt("vt:filetime",Pg(t));throw new Error("Unable to serialize "+t)}var zs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Su=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],_i={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function F_(t,r){for(var a=1-2*(t[r+7]>>>7),s=((t[r+7]&127)<<4)+(t[r+6]>>>4&15),i=t[r+6]&15,o=5;o>=0;--o)i=i*256+t[r+o];return s==2047?i==0?a*(1/0):NaN:(s==0?s=-1022:(s-=1023,i+=Math.pow(2,52)),a*Math.pow(2,s-52)*i)}function O_(t,r,a){var s=(r<0||1/r==-1/0?1:0)<<7,i=0,o=0,c=s?-r:r;isFinite(c)?c==0?i=o=0:(i=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(r)?26985:0);for(var d=0;d<=5;++d,o/=256)t[a+d]=o&255;t[a+6]=(i&15)<<4|o&15,t[a+7]=i>>4|s}var tv=function(t){for(var r=[],a=10240,s=0;s<t[0].length;++s)if(t[0][s])for(var i=0,o=t[0][s].length;i<o;i+=a)r.push.apply(r,t[0][s].slice(i,i+a));return r},rv=Qr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(r){return Buffer.isBuffer(r)?r:lc(r)})):tv(t)}:tv,av=function(t,r,a){for(var s=[],i=r;i<a;i+=2)s.push(String.fromCharCode(bf(t,i)));return s.join("").replace(vf,"")},w1=Qr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf16le",r,a).replace(vf,""):av(t,r,a)}:av,sv=function(t,r,a){for(var s=[],i=r;i<r+a;++i)s.push(("0"+t[i].toString(16)).slice(-2));return s.join("")},Sw=Qr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("hex",r,r+a):sv(t,r,a)}:sv,nv=function(t,r,a){for(var s=[],i=r;i<a;i++)s.push(String.fromCharCode(eu(t,i)));return s.join("")},Zf=Qr?function(r,a,s){return Buffer.isBuffer(r)?r.toString("utf8",a,s):nv(r,a,s)}:nv,Ew=function(t,r){var a=Ci(t,r);return a>0?Zf(t,r+4,r+4+a-1):""},kw=Ew,Aw=function(t,r){var a=Ci(t,r);return a>0?Zf(t,r+4,r+4+a-1):""},_w=Aw,Cw=function(t,r){var a=2*Ci(t,r);return a>0?Zf(t,r+4,r+4+a-1):""},Tw=Cw,Dw=function(r,a){var s=Ci(r,a);return s>0?w1(r,a+4,a+4+s):""},Lw=Dw,Rw=function(t,r){var a=Ci(t,r);return a>0?Zf(t,r+4,r+4+a):""},Fw=Rw,Ow=function(t,r){return F_(t,r)},Mp=Ow,j1=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};Qr&&(kw=function(r,a){if(!Buffer.isBuffer(r))return Ew(r,a);var s=r.readUInt32LE(a);return s>0?r.toString("utf8",a+4,a+4+s-1):""},_w=function(r,a){if(!Buffer.isBuffer(r))return Aw(r,a);var s=r.readUInt32LE(a);return s>0?r.toString("utf8",a+4,a+4+s-1):""},Tw=function(r,a){if(!Buffer.isBuffer(r))return Cw(r,a);var s=2*r.readUInt32LE(a);return r.toString("utf16le",a+4,a+4+s-1)},Lw=function(r,a){if(!Buffer.isBuffer(r))return Dw(r,a);var s=r.readUInt32LE(a);return r.toString("utf16le",a+4,a+4+s)},Fw=function(r,a){if(!Buffer.isBuffer(r))return Rw(r,a);var s=r.readUInt32LE(a);return r.toString("utf8",a+4,a+4+s)},Mp=function(r,a){return Buffer.isBuffer(r)?r.readDoubleLE(a):Ow(r,a)},j1=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var eu=function(t,r){return t[r]},bf=function(t,r){return t[r+1]*256+t[r]},P_=function(t,r){var a=t[r+1]*256+t[r];return a<32768?a:(65535-a+1)*-1},Ci=function(t,r){return t[r+3]*(1<<24)+(t[r+2]<<16)+(t[r+1]<<8)+t[r]},Dd=function(t,r){return t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]},I_=function(t,r){return t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]};function wf(t,r){var a="",s,i,o=[],c,d,h,f;switch(r){case"dbcs":if(f=this.l,Qr&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)a+=String.fromCharCode(bf(this,f)),f+=2;t*=2;break;case"utf8":a=Zf(this,this.l,this.l+t);break;case"utf16le":t*=2,a=w1(this,this.l,this.l+t);break;case"wstr":return wf.call(this,t,"dbcs");case"lpstr-ansi":a=kw(this,this.l),t=4+Ci(this,this.l);break;case"lpstr-cp":a=_w(this,this.l),t=4+Ci(this,this.l);break;case"lpwstr":a=Tw(this,this.l),t=4+2*Ci(this,this.l);break;case"lpp4":t=4+Ci(this,this.l),a=Lw(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ci(this,this.l),a=Fw(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,a="";(c=eu(this,this.l+t++))!==0;)o.push(Kh(c));a=o.join("");break;case"_wstr":for(t=0,a="";(c=bf(this,this.l+t))!==0;)o.push(Kh(c)),t+=2;t+=2,a=o.join("");break;case"dbcs-cont":for(a="",f=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return c=eu(this,f),this.l=f+1,d=wf.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),o.join("")+d;o.push(Kh(bf(this,f))),f+=2}a=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(a="",f=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return c=eu(this,f),this.l=f+1,d=wf.call(this,t-h,c?"dbcs-cont":"sbcs-cont"),o.join("")+d;o.push(Kh(eu(this,f))),f+=1}a=o.join("");break;default:switch(t){case 1:return s=eu(this,this.l),this.l++,s;case 2:return s=(r==="i"?P_:bf)(this,this.l),this.l+=2,s;case 4:case-4:return r==="i"||(this[this.l+3]&128)===0?(s=(t>0?Dd:I_)(this,this.l),this.l+=4,s):(i=Ci(this,this.l),this.l+=4,i);case 8:case-8:if(r==="f")return t==8?i=Mp(this,this.l):i=Mp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:a=Sw(this,this.l,t);break}}return this.l+=t,a}var M_=function(t,r,a){t[a]=r&255,t[a+1]=r>>>8&255,t[a+2]=r>>>16&255,t[a+3]=r>>>24&255},B_=function(t,r,a){t[a]=r&255,t[a+1]=r>>8&255,t[a+2]=r>>16&255,t[a+3]=r>>24&255},z_=function(t,r,a){t[a]=r&255,t[a+1]=r>>>8&255};function U_(t,r,a){var s=0,i=0;if(a==="dbcs"){for(i=0;i!=r.length;++i)z_(this,r.charCodeAt(i),this.l+2*i);s=2*r.length}else if(a==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=r.length;++i)this[this.l+i]=r.charCodeAt(i)&255;s=r.length}else if(a==="hex"){for(;i<t;++i)this[this.l++]=parseInt(r.slice(2*i,2*i+2),16)||0;return this}else if(a==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(r.length,t);++i){var c=r.charCodeAt(i);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:s=1,this[this.l]=r&255;break;case 2:s=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:s=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:s=4,M_(this,r,this.l);break;case 8:if(s=8,a==="f"){O_(this,r,this.l);break}case 16:break;case-4:s=4,B_(this,r,this.l);break}return this.l+=s,this}function Pw(t,r){var a=Sw(this,this.l,t.length>>1);if(a!==t)throw new Error(r+"Expected "+t+" saw "+a);this.l+=t.length>>1}function Ai(t,r){t.l=r,t.read_shift=wf,t.chk=Pw,t.write_shift=U_}function mo(t,r){t.l+=r}function We(t){var r=Ud(t);return Ai(r,0),r}function ni(){var t=[],r=Qr?256:2048,a=function(f){var p=We(f);return Ai(p,0),p},s=a(r),i=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&t.push(s),s=null)},o=function(f){return s&&f<s.length-s.l?s:(i(),s=a(Math.max(f+1,r)))},c=function(){return i(),rn(t)},d=function(f){i(),s=f,s.l==null&&(s.l=s.length),o(r)};return{next:o,push:d,end:c,_bufs:t}}function lt(t,r,a,s){var i=+r,o;if(!isNaN(i)){s||(s=FR[i].p||(a||[]).length||0),o=1+(i>=128?1:0)+1,s>=128&&++o,s>=16384&&++o,s>=2097152&&++o;var c=t.next(o);i<=127?c.write_shift(1,i):(c.write_shift(1,(i&127)+128),c.write_shift(1,i>>7));for(var d=0;d!=4;++d)if(s>=128)c.write_shift(1,(s&127)+128),s>>=7;else{c.write_shift(1,s);break}s>0&&j1(a)&&t.push(a)}}function jf(t,r,a){var s=li(t);if(r.s?(s.cRel&&(s.c+=r.s.c),s.rRel&&(s.r+=r.s.r)):(s.cRel&&(s.c+=r.c),s.rRel&&(s.r+=r.r)),!a||a.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function iv(t,r,a){var s=li(t);return s.s=jf(s.s,r.s,a),s.e=jf(s.e,r.s,a),s}function Sf(t,r){if(t.cRel&&t.c<0)for(t=li(t);t.c<0;)t.c+=r>8?16384:256;if(t.rRel&&t.r<0)for(t=li(t);t.r<0;)t.r+=r>8?1048576:r>5?65536:16384;var a=ca(t);return!t.cRel&&t.cRel!=null&&(a=G_(a)),!t.rRel&&t.rRel!=null&&(a=H_(a)),a}function Vm(t,r){return t.s.r==0&&!t.s.rRel&&t.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+yn(t.s.c)+":"+(t.e.cRel?"":"$")+yn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(r.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+nn(t.s.r)+":"+(t.e.rRel?"":"$")+nn(t.e.r):Sf(t.s,r.biff)+":"+Sf(t.e,r.biff)}function S1(t){return parseInt(q_(t),10)-1}function nn(t){return""+(t+1)}function H_(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function q_(t){return t.replace(/\$(\d+)$/,"$1")}function E1(t){for(var r=$_(t),a=0,s=0;s!==r.length;++s)a=26*a+r.charCodeAt(s)-64;return a-1}function yn(t){if(t<0)throw new Error("invalid column "+t);var r="";for(++t;t;t=Math.floor((t-1)/26))r=String.fromCharCode((t-1)%26+65)+r;return r}function G_(t){return t.replace(/^([A-Z])/,"$$$1")}function $_(t){return t.replace(/^\$([A-Z])/,"$1")}function Y_(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Us(t){for(var r=0,a=0,s=0;s<t.length;++s){var i=t.charCodeAt(s);i>=48&&i<=57?r=10*r+(i-48):i>=65&&i<=90&&(a=26*a+(i-64))}return{c:a-1,r:r-1}}function ca(t){for(var r=t.c+1,a="";r;r=(r-1)/26|0)a=String.fromCharCode((r-1)%26+65)+a;return a+(t.r+1)}function Di(t){var r=t.indexOf(":");return r==-1?{s:Us(t),e:Us(t)}:{s:Us(t.slice(0,r)),e:Us(t.slice(r+1))}}function ys(t,r){return typeof r>"u"||typeof r=="number"?ys(t.s,t.e):(typeof t!="string"&&(t=ca(t)),typeof r!="string"&&(r=ca(r)),t==r?t:t+":"+r)}function Ta(t){var r={s:{c:0,r:0},e:{c:0,r:0}},a=0,s=0,i=0,o=t.length;for(a=0;s<o&&!((i=t.charCodeAt(s)-64)<1||i>26);++s)a=26*a+i;for(r.s.c=--a,a=0;s<o&&!((i=t.charCodeAt(s)-48)<0||i>9);++s)a=10*a+i;if(r.s.r=--a,s===o||i!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++s,a=0;s!=o&&!((i=t.charCodeAt(s)-64)<1||i>26);++s)a=26*a+i;for(r.e.c=--a,a=0;s!=o&&!((i=t.charCodeAt(s)-48)<0||i>9);++s)a=10*a+i;return r.e.r=--a,r}function lv(t,r){var a=t.t=="d"&&r instanceof Date;if(t.z!=null)try{return t.w=Xc(t.z,a?ii(r):r)}catch{}try{return t.w=Xc((t.XF||{}).numFmtId||(a?14:0),a?ii(r):r)}catch{return""+r}}function ac(t,r,a){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&a&&a.dateNF&&(t.z=a.dateNF),t.t=="e"?Qf[t.v]||t.v:r==null?lv(t,t.v):lv(t,r))}function Vd(t,r){var a=r&&r.sheet?r.sheet:"Sheet1",s={};return s[a]=t,{SheetNames:[a],Sheets:s}}function Iw(t,r,a){var s=a||{},i=t?Array.isArray(t):s.dense,o=t||(i?[]:{}),c=0,d=0;if(o&&s.origin!=null){if(typeof s.origin=="number")c=s.origin;else{var h=typeof s.origin=="string"?Us(s.origin):s.origin;c=h.r,d=h.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var p=Ta(o["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),c==-1&&(f.e.r=c=p.e.r+1)}for(var g=0;g!=r.length;++g)if(r[g]){if(!Array.isArray(r[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=r[g].length;++b)if(!(typeof r[g][b]>"u")){var m={v:r[g][b]},v=c+g,N=d+b;if(f.s.r>v&&(f.s.r=v),f.s.c>N&&(f.s.c=N),f.e.r<v&&(f.e.r=v),f.e.c<N&&(f.e.c=N),r[g][b]&&typeof r[g][b]=="object"&&!Array.isArray(r[g][b])&&!(r[g][b]instanceof Date))m=r[g][b];else if(Array.isArray(m.v)&&(m.f=r[g][b][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(s.nullError)m.t="e",m.v=0;else if(s.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=s.dateNF||as[14],s.cellDates?(m.t="d",m.w=Xc(m.z,ii(m.v))):(m.t="n",m.v=ii(m.v),m.w=Xc(m.z,m.v))):m.t="s";if(i)o[v]||(o[v]=[]),o[v][N]&&o[v][N].z&&(m.z=o[v][N].z),o[v][N]=m;else{var w=ca({c:N,r:v});o[w]&&o[w].z&&(m.z=o[w].z),o[w]=m}}}return f.s.c<1e7&&(o["!ref"]=ys(f)),o}function Eu(t,r){return Iw(null,t,r)}function V_(t){return t.read_shift(4,"i")}function Ol(t,r){return r||(r=We(4)),r.write_shift(4,t),r}function vn(t){var r=t.read_shift(4);return r===0?"":t.read_shift(r,"dbcs")}function Hs(t,r){var a=!1;return r==null&&(a=!0,r=We(4+2*t.length)),r.write_shift(4,t.length),t.length>0&&r.write_shift(0,t,"dbcs"),a?r.slice(0,r.l):r}function W_(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function X_(t,r){return r||(r=We(4)),r.write_shift(2,0),r.write_shift(2,0),r}function k1(t,r){var a=t.l,s=t.read_shift(1),i=vn(t),o=[],c={t:i,h:i};if((s&1)!==0){for(var d=t.read_shift(4),h=0;h!=d;++h)o.push(W_(t));c.r=o}else c.r=[{ich:0,ifnt:0}];return t.l=a+r,c}function J_(t,r){var a=!1;return r==null&&(a=!0,r=We(15+4*t.t.length)),r.write_shift(1,0),Hs(t.t,r),a?r.slice(0,r.l):r}var K_=k1;function Z_(t,r){var a=!1;return r==null&&(a=!0,r=We(23+4*t.t.length)),r.write_shift(1,1),Hs(t.t,r),r.write_shift(4,1),X_({},r),a?r.slice(0,r.l):r}function rl(t){var r=t.read_shift(4),a=t.read_shift(2);return a+=t.read_shift(1)<<16,t.l++,{c:r,iStyleRef:a}}function Wd(t,r){return r==null&&(r=We(8)),r.write_shift(-4,t.c),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}function Xd(t){var r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:r}}function Jd(t,r){return r==null&&(r=We(4)),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}var Q_=vn,Mw=Hs;function A1(t){var r=t.read_shift(4);return r===0||r===4294967295?"":t.read_shift(r,"dbcs")}function Bp(t,r){var a=!1;return r==null&&(a=!0,r=We(127)),r.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&r.write_shift(0,t,"dbcs"),a?r.slice(0,r.l):r}var eC=vn,Ig=A1,_1=Bp;function Bw(t){var r=t.slice(t.l,t.l+4),a=r[0]&1,s=r[0]&2;t.l+=4;var i=s===0?Mp([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Dd(r,0)>>2;return a?i/100:i}function zw(t,r){r==null&&(r=We(4));var a=0,s=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?s=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(s=1,a=1),s)r.write_shift(-4,((a?i:t)<<2)+(a+2));else throw new Error("unsupported RkNumber "+t)}function Uw(t){var r={s:{},e:{}};return r.s.r=t.read_shift(4),r.e.r=t.read_shift(4),r.s.c=t.read_shift(4),r.e.c=t.read_shift(4),r}function tC(t,r){return r||(r=We(16)),r.write_shift(4,t.s.r),r.write_shift(4,t.e.r),r.write_shift(4,t.s.c),r.write_shift(4,t.e.c),r}var Kd=Uw,ku=tC;function Au(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Hd(t,r){return(r||We(8)).write_shift(8,t,"f")}function rC(t){var r={},a=t.read_shift(1),s=a>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),c=t.read_shift(1),d=t.read_shift(1),h=t.read_shift(1);switch(t.l++,s){case 0:r.auto=1;break;case 1:r.index=i;var f=uC[i];f&&(r.rgb=bv(f));break;case 2:r.rgb=bv([c,d,h]);break;case 3:r.theme=i;break}return o!=0&&(r.tint=o>0?o/32767:o/32768),r}function zp(t,r){if(r||(r=We(8)),!t||t.auto)return r.write_shift(4,0),r.write_shift(4,0),r;t.index!=null?(r.write_shift(1,2),r.write_shift(1,t.index)):t.theme!=null?(r.write_shift(1,6),r.write_shift(1,t.theme)):(r.write_shift(1,5),r.write_shift(1,0));var a=t.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),r.write_shift(2,a),!t.rgb||t.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var s=t.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),r.write_shift(1,parseInt(s.slice(0,2),16)),r.write_shift(1,parseInt(s.slice(2,4),16)),r.write_shift(1,parseInt(s.slice(4,6),16)),r.write_shift(1,255)}return r}function aC(t){var r=t.read_shift(1);t.l++;var a={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return a}function sC(t,r){r||(r=We(2));var a=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return r.write_shift(1,a),r.write_shift(1,0),r}var Hw=2,ki=3,tp=11,Up=19,rp=64,nC=65,iC=71,lC=4108,oC=4126,tn=80,ov={1:{n:"CodePage",t:Hw},2:{n:"Category",t:tn},3:{n:"PresentationFormat",t:tn},4:{n:"ByteCount",t:ki},5:{n:"LineCount",t:ki},6:{n:"ParagraphCount",t:ki},7:{n:"SlideCount",t:ki},8:{n:"NoteCount",t:ki},9:{n:"HiddenCount",t:ki},10:{n:"MultimediaClipCount",t:ki},11:{n:"ScaleCrop",t:tp},12:{n:"HeadingPairs",t:lC},13:{n:"TitlesOfParts",t:oC},14:{n:"Manager",t:tn},15:{n:"Company",t:tn},16:{n:"LinksUpToDate",t:tp},17:{n:"CharacterCount",t:ki},19:{n:"SharedDoc",t:tp},22:{n:"HyperlinksChanged",t:tp},23:{n:"AppVersion",t:ki,p:"version"},24:{n:"DigSig",t:nC},26:{n:"ContentType",t:tn},27:{n:"ContentStatus",t:tn},28:{n:"Language",t:tn},29:{n:"Version",t:tn},255:{},2147483648:{n:"Locale",t:Up},2147483651:{n:"Behavior",t:Up},1919054434:{}},cv={1:{n:"CodePage",t:Hw},2:{n:"Title",t:tn},3:{n:"Subject",t:tn},4:{n:"Author",t:tn},5:{n:"Keywords",t:tn},6:{n:"Comments",t:tn},7:{n:"Template",t:tn},8:{n:"LastAuthor",t:tn},9:{n:"RevNumber",t:tn},10:{n:"EditTime",t:rp},11:{n:"LastPrinted",t:rp},12:{n:"CreatedDate",t:rp},13:{n:"ModifiedDate",t:rp},14:{n:"PageCount",t:ki},15:{n:"WordCount",t:ki},16:{n:"CharCount",t:ki},17:{n:"Thumbnail",t:iC},18:{n:"Application",t:tn},19:{n:"DocSecurity",t:ki},255:{},2147483648:{n:"Locale",t:Up},2147483651:{n:"Behavior",t:Up},1919054434:{}};function cC(t){return t.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var dC=cC([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),uC=li(dC),Qf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},fC={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ap={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qw(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Gw(t,r){var a=w_(fC),s=[],i;s[s.length]=vs,s[s.length]=gt("Types",null,{xmlns:zs.CT,"xmlns:xsd":zs.xsd,"xmlns:xsi":zs.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return gt("Default",null,{Extension:h[0],ContentType:h[1]})}));var o=function(h){t[h]&&t[h].length>0&&(i=t[h][0],s[s.length]=gt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:ap[h][r.bookType]||ap[h].xlsx}))},c=function(h){(t[h]||[]).forEach(function(f){s[s.length]=gt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:ap[h][r.bookType]||ap[h].xlsx})})},d=function(h){(t[h]||[]).forEach(function(f){s[s.length]=gt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:a[h][0]})})};return o("workbooks"),c("sheets"),c("charts"),d("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),c("metadata"),d("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Yr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function $w(t){var r=t.lastIndexOf("/");return t.slice(0,r+1)+"_rels/"+t.slice(r+1)+".rels"}function iu(t){var r=[vs,gt("Relationships",null,{xmlns:zs.RELS})];return ln(t["!id"]).forEach(function(a){r[r.length]=gt("Relationship",null,t["!id"][a])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function ia(t,r,a,s,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),r<0)for(r=t["!idx"];t["!id"]["rId"+r];++r);if(t["!idx"]=r+1,i.Id="rId"+r,i.Type=s,i.Target=a,[Yr.HLINK,Yr.XPATH,Yr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+r);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,r}function hC(t){var r=[vs];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<t.length;++a)r.push('  <manifest:file-entry manifest:full-path="'+t[a][0]+'" manifest:media-type="'+t[a][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function dv(t,r,a){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function pC(t,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function xC(t){var r=[vs];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=t.length;++a)r.push(dv(t[a][0],t[a][1])),r.push(pC("",t[a][0]));return r.push(dv("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function Yw(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Lp.version+"</meta:generator></office:meta></office:document-meta>"}var Id=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Wm(t,r,a,s,i){i[t]!=null||r==null||r===""||(i[t]=r,r=oa(r),s[s.length]=a?gt(t,r,a):an(t,r))}function Vw(t,r){var a=r||{},s=[vs,gt("cp:coreProperties",null,{"xmlns:cp":zs.CORE_PROPS,"xmlns:dc":zs.dc,"xmlns:dcterms":zs.dcterms,"xmlns:dcmitype":zs.dcmitype,"xmlns:xsi":zs.xsi})],i={};if(!t&&!a.Props)return s.join("");t&&(t.CreatedDate!=null&&Wm("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Pg(t.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},s,i),t.ModifiedDate!=null&&Wm("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Pg(t.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},s,i));for(var o=0;o!=Id.length;++o){var c=Id[o],d=a.Props&&a.Props[c[1]]!=null?a.Props[c[1]]:t?t[c[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&Wm(c[0],d,null,s,i)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var lu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ww=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Xw(t){var r=[],a=gt;return t||(t={}),t.Application="SheetJS",r[r.length]=vs,r[r.length]=gt("Properties",null,{xmlns:zs.EXT_PROPS,"xmlns:vt":zs.vt}),lu.forEach(function(s){if(t[s[1]]!==void 0){var i;switch(s[2]){case"string":i=oa(String(t[s[1]]));break;case"bool":i=t[s[1]]?"true":"false";break}i!==void 0&&(r[r.length]=a(s[0],i))}}),r[r.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=a("TitlesOfParts",a("vt:vector",t.SheetNames.map(function(s){return"<vt:lpstr>"+oa(s)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function Jw(t){var r=[vs,gt("Properties",null,{xmlns:zs.CUST_PROPS,"xmlns:vt":zs.vt})];if(!t)return r.join("");var a=1;return ln(t).forEach(function(i){++a,r[r.length]=gt("property",R_(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:oa(i)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var uv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function mC(t,r){var a=[];return ln(uv).map(function(s){for(var i=0;i<Id.length;++i)if(Id[i][1]==s)return Id[i];for(i=0;i<lu.length;++i)if(lu[i][1]==s)return lu[i];throw s}).forEach(function(s){if(t[s[1]]!=null){var i=r&&r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t[s[1]];s[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),a.push(an(uv[s[1]]||s[1],i))}}),gt("DocumentProperties",a.join(""),{xmlns:_i.o})}function gC(t,r){var a=["Worksheets","SheetNames"],s="CustomDocumentProperties",i=[];return t&&ln(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var c=0;c<Id.length;++c)if(o==Id[c][1])return;for(c=0;c<lu.length;++c)if(o==lu[c][1])return;for(c=0;c<a.length;++c)if(o==a[c])return;var d=t[o],h="string";typeof d=="number"?(h="float",d=String(d)):d===!0||d===!1?(h="boolean",d=d?"1":"0"):d=String(d),i.push(gt(Z2(o),d,{"dt:dt":h}))}}),r&&ln(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var c=r[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c instanceof Date?(d="dateTime.tz",c=c.toISOString()):c=String(c),i.push(gt(Z2(o),c,{"dt:dt":d}))}}),"<"+s+' xmlns="'+_i.o+'">'+i.join("")+"</"+s+">"}function bC(t){var r=typeof t=="string"?new Date(Date.parse(t)):t,a=r.getTime()/1e3+11644473600,s=a%Math.pow(2,32),i=(a-s)/Math.pow(2,32);s*=1e7,i*=1e7;var o=s/Math.pow(2,32)|0;o>0&&(s=s%Math.pow(2,32),i+=o);var c=We(8);return c.write_shift(4,s),c.write_shift(4,i),c}function fv(t,r){var a=We(4),s=We(4);switch(a.write_shift(4,t==80?31:t),t){case 3:s.write_shift(-4,r);break;case 5:s=We(8),s.write_shift(8,r,"f");break;case 11:s.write_shift(4,r?1:0);break;case 64:s=bC(r);break;case 31:case 80:for(s=We(4+2*(r.length+1)+(r.length%2?0:2)),s.write_shift(4,r.length+1),s.write_shift(0,r,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}return rn([a,s])}var Kw=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function yC(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function hv(t,r,a){var s=We(8),i=[],o=[],c=8,d=0,h=We(8),f=We(8);if(h.write_shift(4,2),h.write_shift(4,1200),f.write_shift(4,1),o.push(h),i.push(f),c+=8+h.length,!r){f=We(8),f.write_shift(4,0),i.unshift(f);var p=[We(4)];for(p[0].write_shift(4,t.length),d=0;d<t.length;++d){var g=t[d][0];for(h=We(8+2*(g.length+1)+(g.length%2?0:2)),h.write_shift(4,d+2),h.write_shift(4,g.length+1),h.write_shift(0,g,"dbcs");h.l!=h.length;)h.write_shift(1,0);p.push(h)}h=rn(p),o.unshift(h),c+=8+h.length}for(d=0;d<t.length;++d)if(!(r&&!r[t[d][0]])&&!(Kw.indexOf(t[d][0])>-1||Ww.indexOf(t[d][0])>-1)&&t[d][1]!=null){var b=t[d][1],m=0;if(r){m=+r[t[d][0]];var v=a[m];if(v.p=="version"&&typeof b=="string"){var N=b.split(".");b=(+N[0]<<16)+(+N[1]||0)}h=fv(v.t,b)}else{var w=yC(b);w==-1&&(w=31,b=String(b)),h=fv(w,b)}o.push(h),f=We(8),f.write_shift(4,r?m:2+d),i.push(f),c+=8+h.length}var A=8*(o.length+1);for(d=0;d<o.length;++d)i[d].write_shift(4,A),A+=o[d].length;return s.write_shift(4,c),s.write_shift(4,o.length),rn([s].concat(i).concat(o))}function pv(t,r,a,s,i,o){var c=We(i?68:48),d=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,ga.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,i?2:1),c.write_shift(16,r,"hex"),c.write_shift(4,i?68:48);var h=hv(t,a,s);if(d.push(h),i){var f=hv(i,null,null);c.write_shift(16,o,"hex"),c.write_shift(4,68+h.length),d.push(f)}return rn(d)}function vC(t,r){r||(r=We(t));for(var a=0;a<t;++a)r.write_shift(1,0);return r}function NC(t,r){return t.read_shift(r)===1}function Dn(t,r){return r||(r=We(2)),r.write_shift(2,+!!t),r}function Zw(t){return t.read_shift(2,"u")}function Ki(t,r){return r||(r=We(2)),r.write_shift(2,t),r}function Qw(t,r,a){return a||(a=We(2)),a.write_shift(1,r=="e"?+t:+!!t),a.write_shift(1,r=="e"?1:0),a}function e4(t,r,a){var s=t.read_shift(a&&a.biff>=12?2:1),i="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else a.biff==12&&(i="wstr");a.biff>=2&&a.biff<=5&&(i="cpstr");var c=s?t.read_shift(s,i):"";return c}function wC(t){var r=t.t||"",a=We(3);a.write_shift(2,r.length),a.write_shift(1,1);var s=We(2*r.length);s.write_shift(2*r.length,r,"utf16le");var i=[a,s];return rn(i)}function jC(t,r,a){var s;if(a){if(a.biff>=2&&a.biff<=5)return t.read_shift(r,"cpstr");if(a.biff>=12)return t.read_shift(r,"dbcs-cont")}var i=t.read_shift(1);return i===0?s=t.read_shift(r,"sbcs-cont"):s=t.read_shift(r,"dbcs-cont"),s}function SC(t,r,a){var s=t.read_shift(a&&a.biff==2?1:2);return s===0?(t.l++,""):jC(t,s,a)}function EC(t,r,a){if(a.biff>5)return SC(t,r,a);var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,a.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function t4(t,r,a){return a||(a=We(3+2*t.length)),a.write_shift(2,t.length),a.write_shift(1,1),a.write_shift(31,t,"utf16le"),a}function xv(t,r){r||(r=We(6+t.length*2)),r.write_shift(4,1+t.length);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function kC(t){var r=We(512),a=0,s=t.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var i=s.indexOf("#"),o=i>-1?31:23;switch(s.charAt(0)){case"#":o=28;break;case".":o&=-3;break}r.write_shift(4,2),r.write_shift(4,o);var c=[8,6815827,6619237,4849780,83];for(a=0;a<c.length;++a)r.write_shift(4,c[a]);if(o==28)s=s.slice(1),xv(s,r);else if(o&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<c.length;++a)r.write_shift(1,parseInt(c[a],16));var d=i>-1?s.slice(0,i):s;for(r.write_shift(4,2*(d.length+1)),a=0;a<d.length;++a)r.write_shift(2,d.charCodeAt(a));r.write_shift(2,0),o&8&&xv(i>-1?s.slice(i+1):"",r)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<c.length;++a)r.write_shift(1,parseInt(c[a],16));for(var h=0;s.slice(h*3,h*3+3)=="../"||s.slice(h*3,h*3+3)=="..\\";)++h;for(r.write_shift(2,h),r.write_shift(4,s.length-3*h+1),a=0;a<s.length-3*h;++a)r.write_shift(1,s.charCodeAt(a+3*h)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),a=0;a<6;++a)r.write_shift(4,0)}return r.slice(0,r.l)}function qd(t,r,a,s){return s||(s=We(6)),s.write_shift(2,t),s.write_shift(2,r),s.write_shift(2,a||0),s}function AC(t,r,a){var s=a.biff>8?4:2,i=t.read_shift(s),o=t.read_shift(s,"i"),c=t.read_shift(s,"i");return[i,o,c]}function _C(t){var r=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);return{s:{c:s,r},e:{c:i,r:a}}}function r4(t,r){return r||(r=We(8)),r.write_shift(2,t.s.r),r.write_shift(2,t.e.r),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c),r}function C1(t,r,a){var s=1536,i=16;switch(a.bookType){case"biff8":break;case"biff5":s=1280,i=8;break;case"biff4":s=4,i=6;break;case"biff3":s=3,i=6;break;case"biff2":s=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=We(i);return o.write_shift(2,s),o.write_shift(2,r),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function CC(t,r){var a=!r||r.biff==8,s=We(a?112:54);for(s.write_shift(r.biff==8?2:1,7),a&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(a?0:536870912));s.l<s.length;)s.write_shift(1,a?0:32);return s}function TC(t,r){var a=!r||r.biff>=8?2:1,s=We(8+a*t.name.length);s.write_shift(4,t.pos),s.write_shift(1,t.hs||0),s.write_shift(1,t.dt),s.write_shift(1,t.name.length),r.biff>=8&&s.write_shift(1,1),s.write_shift(a*t.name.length,t.name,r.biff<8?"sbcs":"utf16le");var i=s.slice(0,s.l);return i.l=s.l,i}function DC(t,r){var a=We(8);a.write_shift(4,t.Count),a.write_shift(4,t.Unique);for(var s=[],i=0;i<t.length;++i)s[i]=wC(t[i]);var o=rn([a].concat(s));return o.parts=[a.length].concat(s.map(function(c){return c.length})),o}function LC(){var t=We(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function RC(t){var r=We(18),a=1718;return t&&t.RTL&&(a|=64),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function FC(t,r){var a=t.name||"Arial",s=r&&r.biff==5,i=s?15+a.length:16+2*a.length,o=We(i);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,a.length),s||o.write_shift(1,1),o.write_shift((s?1:2)*a.length,a,s?"sbcs":"utf16le"),o}function OC(t,r,a,s){var i=We(10);return qd(t,r,s,i),i.write_shift(4,a),i}function PC(t,r,a,s,i){var o=!i||i.biff==8,c=We(8+ +o+(1+o)*a.length);return qd(t,r,s,c),c.write_shift(2,a.length),o&&c.write_shift(1,1),c.write_shift((1+o)*a.length,a,o?"utf16le":"sbcs"),c}function IC(t,r,a,s){var i=a&&a.biff==5;s||(s=We(i?3+r.length:5+2*r.length)),s.write_shift(2,t),s.write_shift(i?1:2,r.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le");var o=s.length>s.l?s.slice(0,s.l):s;return o.l==null&&(o.l=o.length),o}function MC(t,r){var a=r.biff==8||!r.biff?4:2,s=We(2*a+6);return s.write_shift(a,t.s.r),s.write_shift(a,t.e.r+1),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c+1),s.write_shift(2,0),s}function mv(t,r,a,s){var i=a&&a.biff==5;s||(s=We(i?16:20)),s.write_shift(2,0),t.style?(s.write_shift(2,t.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,t.numFmtId||0),s.write_shift(2,r<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),s.write_shift(4,o),s.write_shift(4,0),i||s.write_shift(4,0),s.write_shift(2,0),s}function BC(t){var r=We(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function zC(t,r,a,s,i,o){var c=We(8);return qd(t,r,s,c),Qw(a,o,c),c}function UC(t,r,a,s){var i=We(14);return qd(t,r,s,i),Hd(a,i),i}function HC(t,r,a){if(a.biff<8)return qC(t,r,a);for(var s=[],i=t.l+r,o=t.read_shift(a.biff>8?4:2);o--!==0;)s.push(AC(t,a.biff>8?12:6,a));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return s}function qC(t,r,a){t[t.l+1]==3&&t[t.l]++;var s=e4(t,r,a);return s.charCodeAt(0)==3?s.slice(1):s}function GC(t){var r=We(2+t.length*8);r.write_shift(2,t.length);for(var a=0;a<t.length;++a)r4(t[a],r);return r}function $C(t){var r=We(24),a=Us(t[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)r.write_shift(1,parseInt(s[i],16));return rn([r,kC(t[1])])}function YC(t){var r=t[1].Tooltip,a=We(10+2*(r.length+1));a.write_shift(2,2048);var s=Us(t[0]);a.write_shift(2,s.r),a.write_shift(2,s.r),a.write_shift(2,s.c),a.write_shift(2,s.c);for(var i=0;i<r.length;++i)a.write_shift(2,r.charCodeAt(i));return a.write_shift(2,0),a}function VC(t){return t||(t=We(4)),t.write_shift(2,1),t.write_shift(2,1),t}function WC(t,r,a){if(!a.cellStyles)return mo(t,r);var s=a&&a.biff>=12?4:2,i=t.read_shift(s),o=t.read_shift(s),c=t.read_shift(s),d=t.read_shift(s),h=t.read_shift(2);s==2&&(t.l+=2);var f={s:i,e:o,w:c,ixfe:d,flags:h};return(a.biff>=5||!a.biff)&&(f.level=h>>8&7),f}function XC(t,r){var a=We(12);a.write_shift(2,r),a.write_shift(2,r),a.write_shift(2,t.width*256),a.write_shift(2,0);var s=0;return t.hidden&&(s|=1),a.write_shift(1,s),s=t.level||0,a.write_shift(1,s),a.write_shift(2,0),a}function JC(t){for(var r=We(2*t),a=0;a<t;++a)r.write_shift(2,a+1);return r}function KC(t,r,a){var s=We(15);return th(s,t,r),s.write_shift(8,a,"f"),s}function ZC(t,r,a){var s=We(9);return th(s,t,r),s.write_shift(2,a),s}var QC=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=b1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(d,h){var f=[],p=Ud(1);switch(h.type){case"base64":p=Rl(rc(d));break;case"binary":p=Rl(d);break;case"buffer":case"array":p=d;break}Ai(p,0);var g=p.read_shift(1),b=!!(g&136),m=!1,v=!1;switch(g){case 2:break;case 3:break;case 48:m=!0,b=!0;break;case 49:m=!0,b=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var N=0,w=521;g==2&&(N=p.read_shift(2)),p.l+=3,g!=2&&(N=p.read_shift(4)),N>1048576&&(N=1e6),g!=2&&(w=p.read_shift(2));var A=p.read_shift(2),E=h.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(E=t[p[p.l]]),p.l+=1,p.l+=2),v&&(p.l+=36);for(var T=[],_={},O=Math.min(p.length,g==2?521:w-10-(m?264:0)),W=v?32:11;p.l<O&&p[p.l]!=13;)switch(_={},_.name=Rp.utils.decode(E,p.slice(p.l,p.l+W)).replace(/[\u0000\r\n].*$/g,""),p.l+=W,_.type=String.fromCharCode(p.read_shift(1)),g!=2&&!v&&(_.offset=p.read_shift(4)),_.len=p.read_shift(1),g==2&&(_.offset=p.read_shift(2)),_.dec=p.read_shift(1),_.name.length&&T.push(_),g!=2&&(p.l+=v?13:14),_.type){case"B":(!m||_.len!=8)&&h.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(p[p.l]!==13&&(p.l=w-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=w;var F=0,P=0;for(f[0]=[],P=0;P!=T.length;++P)f[0][P]=T[P].name;for(;N-- >0;){if(p[p.l]===42){p.l+=A;continue}for(++p.l,f[++F]=[],P=0,P=0;P!=T.length;++P){var z=p.slice(p.l,p.l+T[P].len);p.l+=T[P].len,Ai(z,0);var M=Rp.utils.decode(E,z);switch(T[P].type){case"C":M.trim().length&&(f[F][P]=M.replace(/\s+$/,""));break;case"D":M.length===8?f[F][P]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):f[F][P]=M;break;case"F":f[F][P]=parseFloat(M.trim());break;case"+":case"I":f[F][P]=v?z.read_shift(-4,"i")^2147483648:z.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":f[F][P]=!0;break;case"N":case"F":f[F][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));f[F][P]="##MEMO##"+(v?parseInt(M.trim(),10):z.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(f[F][P]=+M||0);break;case"@":f[F][P]=new Date(z.read_shift(-8,"f")-621356832e5);break;case"T":f[F][P]=new Date((z.read_shift(4)-2440588)*864e5+z.read_shift(4));break;case"Y":f[F][P]=z.read_shift(4,"i")/1e4+z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[F][P]=-z.read_shift(-8,"f");break;case"B":if(m&&T[P].len==8){f[F][P]=z.read_shift(8,"f");break}case"G":case"P":z.l+=T[P].len;break;case"0":if(T[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[P].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(f=f.slice(0,h.sheetRows)),h.DBF=T,f}function s(d,h){var f=h||{};f.dateNF||(f.dateNF="yyyymmdd");var p=Eu(a(d,f),f);return p["!cols"]=f.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete f.DBF,p}function i(d,h){try{return Vd(s(d,h),h)}catch(f){if(h&&h.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(d,h){var f=h||{};if(+f.codepage>=0&&Rf(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=ni(),g=Yp(d,{header:1,raw:!0,cellDates:!0}),b=g[0],m=g.slice(1),v=d["!cols"]||[],N=0,w=0,A=0,E=1;for(N=0;N<b.length;++N){if(((v[N]||{}).DBF||{}).name){b[N]=v[N].DBF.name,++A;continue}if(b[N]!=null){if(++A,typeof b[N]=="number"&&(b[N]=b[N].toString(10)),typeof b[N]!="string")throw new Error("DBF Invalid column name "+b[N]+" |"+typeof b[N]+"|");if(b.indexOf(b[N])!==N){for(w=0;w<1024;++w)if(b.indexOf(b[N]+"_"+w)==-1){b[N]+="_"+w;break}}}}var T=Ta(d["!ref"]),_=[],O=[],W=[];for(N=0;N<=T.e.c-T.s.c;++N){var F="",P="",z=0,M=[];for(w=0;w<m.length;++w)m[w][N]!=null&&M.push(m[w][N]);if(M.length==0||b[N]==null){_[N]="?";continue}for(w=0;w<M.length;++w){switch(typeof M[w]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=M[w]instanceof Date?"D":"C";break;default:P="C"}z=Math.max(z,String(M[w]).length),F=F&&F!=P?"C":P}z>250&&(z=250),P=((v[N]||{}).DBF||{}).type,P=="C"&&v[N].DBF.len>z&&(z=v[N].DBF.len),F=="B"&&P=="N"&&(F="N",W[N]=v[N].DBF.dec,z=v[N].DBF.len),O[N]=F=="C"||P=="N"?z:o[F]||0,E+=O[N],_[N]=F}var C=p.next(32);for(C.write_shift(4,318902576),C.write_shift(4,m.length),C.write_shift(2,296+32*A),C.write_shift(2,E),N=0;N<4;++N)C.write_shift(4,0);for(C.write_shift(4,0|(+r[sw]||3)<<8),N=0,w=0;N<b.length;++N)if(b[N]!=null){var U=p.next(32),B=(b[N].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,B,"sbcs"),U.write_shift(1,_[N]=="?"?"C":_[N],"sbcs"),U.write_shift(4,w),U.write_shift(1,O[N]||o[_[N]]||0),U.write_shift(1,W[N]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),w+=O[N]||o[_[N]]||0}var X=p.next(264);for(X.write_shift(4,13),N=0;N<65;++N)X.write_shift(4,0);for(N=0;N<m.length;++N){var ue=p.next(E);for(ue.write_shift(1,0),w=0;w<b.length;++w)if(b[w]!=null)switch(_[w]){case"L":ue.write_shift(1,m[N][w]==null?63:m[N][w]?84:70);break;case"B":ue.write_shift(8,m[N][w]||0,"f");break;case"N":var J="0";for(typeof m[N][w]=="number"&&(J=m[N][w].toFixed(W[w]||0)),A=0;A<O[w]-J.length;++A)ue.write_shift(1,32);ue.write_shift(1,J,"sbcs");break;case"D":m[N][w]?(ue.write_shift(4,("0000"+m[N][w].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(m[N][w].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+m[N][w].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var re=String(m[N][w]!=null?m[N][w]:"").slice(0,O[w]);for(ue.write_shift(1,re,"sbcs"),A=0;A<O[w]-re.length;++A)ue.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:s,from_sheet:c}})(),eT=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+ln(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(b,m){var v=t[m];return typeof v=="number"?z2(v):v},s=function(b,m,v){var N=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return N==59?b:z2(N)};t["|"]=254;function i(b,m){switch(m.type){case"base64":return o(rc(b),m);case"binary":return o(b,m);case"buffer":return o(Qr&&Buffer.isBuffer(b)?b.toString("binary"):Jf(b),m);case"array":return o(px(b),m)}throw new Error("Unrecognized type "+m.type)}function o(b,m){var v=b.split(/[\n\r]+/),N=-1,w=-1,A=0,E=0,T=[],_=[],O=null,W={},F=[],P=[],z=[],M=0,C;for(+m.codepage>=0&&Rf(+m.codepage);A!==v.length;++A){M=0;var U=v[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(r,a),B=U.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),X=B[0],ue;if(U.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&_.push(U.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,re=!1,oe=!1,ve=!1,Ne=-1,q=-1;for(E=1;E<B.length;++E)switch(B[E].charAt(0)){case"A":break;case"X":w=parseInt(B[E].slice(1))-1,re=!0;break;case"Y":for(N=parseInt(B[E].slice(1))-1,re||(w=0),C=T.length;C<=N;++C)T[C]=[];break;case"K":ue=B[E].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(Zo(ue))?isNaN(Of(ue).getDate())||(ue=Fn(ue)):(ue=Zo(ue),O!==null&&mw(O)&&(ue=vw(ue))),J=!0;break;case"E":ve=!0;var L=ZT(B[E].slice(1),{r:N,c:w});T[N][w]=[T[N][w],L];break;case"S":oe=!0,T[N][w]=[T[N][w],"S5S"];break;case"G":break;case"R":Ne=parseInt(B[E].slice(1))-1;break;case"C":q=parseInt(B[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}if(J&&(T[N][w]&&T[N][w].length==2?T[N][w][0]=ue:T[N][w]=ue,O=null),oe){if(ve)throw new Error("SYLK shared formula cannot have own formula");var G=Ne>-1&&T[Ne][q];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");T[N][w][1]=QT(G[1],{r:N-Ne,c:w-q})}break;case"F":var V=0;for(E=1;E<B.length;++E)switch(B[E].charAt(0)){case"X":w=parseInt(B[E].slice(1))-1,++V;break;case"Y":for(N=parseInt(B[E].slice(1))-1,C=T.length;C<=N;++C)T[C]=[];break;case"M":M=parseInt(B[E].slice(1))/20;break;case"F":break;case"G":break;case"P":O=_[parseInt(B[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(z=B[E].slice(1).split(" "),C=parseInt(z[0],10);C<=parseInt(z[1],10);++C)M=parseInt(z[2],10),P[C-1]=M===0?{hidden:!0}:{wch:M},T1(P[C-1]);break;case"C":w=parseInt(B[E].slice(1))-1,P[w]||(P[w]={});break;case"R":N=parseInt(B[E].slice(1))-1,F[N]||(F[N]={}),M>0?(F[N].hpt=M,F[N].hpx=l4(M)):M===0&&(F[N].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}V<1&&(O=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}}return F.length>0&&(W["!rows"]=F),P.length>0&&(W["!cols"]=P),m&&m.sheetRows&&(T=T.slice(0,m.sheetRows)),[T,W]}function c(b,m){var v=i(b,m),N=v[0],w=v[1],A=Eu(N,m);return ln(w).forEach(function(E){A[E]=w[E]}),A}function d(b,m){return Vd(c(b,m),m)}function h(b,m,v,N){var w="C;Y"+(v+1)+";X"+(N+1)+";K";switch(b.t){case"n":w+=b.v||0,b.f&&!b.F&&(w+=";E"+L1(b.f,{r:v,c:N}));break;case"b":w+=b.v?"TRUE":"FALSE";break;case"e":w+=b.w||b.v;break;case"d":w+='"'+(b.w||b.v)+'"';break;case"s":w+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(b,m){m.forEach(function(v,N){var w="F;W"+(N+1)+" "+(N+1)+" ";v.hidden?w+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Hp(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=qp(v.wpx)),typeof v.wch=="number"&&(w+=Math.round(v.wch))),w.charAt(w.length-1)!=" "&&b.push(w)})}function p(b,m){m.forEach(function(v,N){var w="F;";v.hidden?w+="M0;":v.hpt?w+="M"+20*v.hpt+";":v.hpx&&(w+="M"+20*Gp(v.hpx)+";"),w.length>2&&b.push(w+"R"+(N+1))})}function g(b,m){var v=["ID;PWXL;N;E"],N=[],w=Ta(b["!ref"]),A,E=Array.isArray(b),T=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),b["!cols"]&&f(v,b["!cols"]),b["!rows"]&&p(v,b["!rows"]),v.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var _=w.s.r;_<=w.e.r;++_)for(var O=w.s.c;O<=w.e.c;++O){var W=ca({r:_,c:O});A=E?(b[_]||[])[O]:b[W],!(!A||A.v==null&&(!A.f||A.F))&&N.push(h(A,b,_,O))}return v.join(T)+T+N.join(T)+T+"E"+T}return{to_workbook:d,to_sheet:c,from_sheet:g}})(),tT=(function(){function t(o,c){switch(c.type){case"base64":return r(rc(o),c);case"binary":return r(o,c);case"buffer":return r(Qr&&Buffer.isBuffer(o)?o.toString("binary"):Jf(o),c);case"array":return r(px(o),c)}throw new Error("Unrecognized type "+c.type)}function r(o,c){for(var d=o.split(`
`),h=-1,f=-1,p=0,g=[];p!==d.length;++p){if(d[p].trim()==="BOT"){g[++h]=[],f=0;continue}if(!(h<0)){var b=d[p].trim().split(","),m=b[0],v=b[1];++p;for(var N=d[p]||"";(N.match(/["]/g)||[]).length&1&&p<d.length-1;)N+=`
`+d[++p];switch(N=N.trim(),+m){case-1:if(N==="BOT"){g[++h]=[],f=0;continue}else if(N!=="EOD")throw new Error("Unrecognized DIF special command "+N);break;case 0:N==="TRUE"?g[h][f]=!0:N==="FALSE"?g[h][f]=!1:isNaN(Zo(v))?isNaN(Of(v).getDate())?g[h][f]=v:g[h][f]=Fn(v):g[h][f]=Zo(v),++f;break;case 1:N=N.slice(1,N.length-1),N=N.replace(/""/g,'"'),N&&N.match(/^=".*"$/)&&(N=N.slice(2,-1)),g[h][f++]=N!==""?N:null;break}if(N==="EOD")break}}return c&&c.sheetRows&&(g=g.slice(0,c.sheetRows)),g}function a(o,c){return Eu(t(o,c),c)}function s(o,c){return Vd(a(o,c),c)}var i=(function(){var o=function(h,f,p,g,b){h.push(f),h.push(p+","+g),h.push('"'+b.replace(/"/g,'""')+'"')},c=function(h,f,p,g){h.push(f+","+p),h.push(f==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(h){var f=[],p=Ta(h["!ref"]),g,b=Array.isArray(h);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,p.e.r-p.s.r+1,""),o(f,"TUPLES",0,p.e.c-p.s.c+1,""),o(f,"DATA",0,0,"");for(var m=p.s.r;m<=p.e.r;++m){c(f,-1,0,"BOT");for(var v=p.s.c;v<=p.e.c;++v){var N=ca({r:m,c:v});if(g=b?(h[m]||[])[v]:h[N],!g){c(f,1,0,"");continue}switch(g.t){case"n":var w=g.w;!w&&g.v!=null&&(w=g.v),w==null?g.f&&!g.F?c(f,1,0,"="+g.f):c(f,1,0,""):c(f,0,w,"V");break;case"b":c(f,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":c(f,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Xc(g.z||as[14],ii(Fn(g.v)))),c(f,0,g.w,"V");break;default:c(f,1,0,"")}}}c(f,-1,0,"EOD");var A=`\r
`,E=f.join(A);return E}})();return{to_workbook:s,to_sheet:a,from_sheet:i}})(),a4=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(g,b){for(var m=g.split(`
`),v=-1,N=-1,w=0,A=[];w!==m.length;++w){var E=m[w].trim().split(":");if(E[0]==="cell"){var T=Us(E[1]);if(A.length<=T.r)for(v=A.length;v<=T.r;++v)A[v]||(A[v]=[]);switch(v=T.r,N=T.c,E[2]){case"t":A[v][N]=t(E[3]);break;case"v":A[v][N]=+E[3];break;case"vtf":var _=E[E.length-1];case"vtc":E[3]==="nl"?A[v][N]=!!+E[4]:A[v][N]=+E[4],E[2]=="vtf"&&(A[v][N]=[A[v][N],_])}}}return b&&b.sheetRows&&(A=A.slice(0,b.sheetRows)),A}function s(g,b){return Eu(a(g,b),b)}function i(g,b){return Vd(s(g,b),b)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function f(g){if(!g||!g["!ref"])return"";for(var b=[],m=[],v,N="",w=Di(g["!ref"]),A=Array.isArray(g),E=w.s.r;E<=w.e.r;++E)for(var T=w.s.c;T<=w.e.c;++T)if(N=ca({r:E,c:T}),v=A?(g[E]||[])[T]:g[N],!(!v||v.v==null||v.t==="z")){switch(m=["cell",N,"t"],v.t){case"s":case"str":m.push(r(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=r(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=r(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var _=ii(Fn(v.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=v.w||Xc(v.z||as[14],_);break;case"e":continue}b.push(m.join(":"))}return b.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function p(g){return[o,c,d,c,f(g),h].join(`
`)}return{to_workbook:i,to_sheet:s,from_sheet:p}})(),rT=(function(){function t(p,g,b,m,v){v.raw?g[b][m]=p:p===""||(p==="TRUE"?g[b][m]=!0:p==="FALSE"?g[b][m]=!1:isNaN(Zo(p))?isNaN(Of(p).getDate())?g[b][m]=p:g[b][m]=Fn(p):g[b][m]=Zo(p))}function r(p,g){var b=g||{},m=[];if(!p||p.length===0)return m;for(var v=p.split(/[\r\n]/),N=v.length-1;N>=0&&v[N].length===0;)--N;for(var w=10,A=0,E=0;E<=N;++E)A=v[E].indexOf(" "),A==-1?A=v[E].length:A++,w=Math.max(w,A);for(E=0;E<=N;++E){m[E]=[];var T=0;for(t(v[E].slice(0,w).trim(),m,E,T,b),T=1;T<=(v[E].length-w)/10+1;++T)t(v[E].slice(w+(T-1)*10,w+T*10).trim(),m,E,T,b)}return b.sheetRows&&(m=m.slice(0,b.sheetRows)),m}var a={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function i(p){for(var g={},b=!1,m=0,v=0;m<p.length;++m)(v=p.charCodeAt(m))==34?b=!b:!b&&v in a&&(g[v]=(g[v]||0)+1);v=[];for(m in g)Object.prototype.hasOwnProperty.call(g,m)&&v.push([g[m],m]);if(!v.length){g=s;for(m in g)Object.prototype.hasOwnProperty.call(g,m)&&v.push([g[m],m])}return v.sort(function(N,w){return N[0]-w[0]||s[N[1]]-s[w[1]]}),a[v.pop()[1]]||44}function o(p,g){var b=g||{},m="",v=b.dense?[]:{},N={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(m=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(m=p.charAt(4),p=p.slice(6)):m=i(p.slice(0,1024)):b&&b.FS?m=b.FS:m=i(p.slice(0,1024));var w=0,A=0,E=0,T=0,_=0,O=m.charCodeAt(0),W=!1,F=0,P=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var z=b.dateNF!=null?b_(b.dateNF):null;function M(){var C=p.slice(T,_),U={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)U.t="z";else if(b.raw)U.t="s",U.v=C;else if(C.trim().length===0)U.t="s",U.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(U.t="s",U.v=C.slice(2,-1).replace(/""/g,'"')):eD(C)?(U.t="n",U.f=C.slice(1)):(U.t="s",U.v=C);else if(C=="TRUE")U.t="b",U.v=!0;else if(C=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Zo(C)))U.t="n",b.cellText!==!1&&(U.w=C),U.v=E;else if(!isNaN(Of(C).getDate())||z&&C.match(z)){U.z=b.dateNF||as[14];var B=0;z&&C.match(z)&&(C=y_(C,b.dateNF,C.match(z)||[]),B=1),b.cellDates?(U.t="d",U.v=Fn(C,B)):(U.t="n",U.v=ii(Fn(C,B))),b.cellText!==!1&&(U.w=Xc(U.z,U.v instanceof Date?ii(U.v):U.v)),b.cellNF||delete U.z}else U.t="s",U.v=C;if(U.t=="z"||(b.dense?(v[w]||(v[w]=[]),v[w][A]=U):v[ca({c:A,r:w})]=U),T=_+1,P=p.charCodeAt(T),N.e.c<A&&(N.e.c=A),N.e.r<w&&(N.e.r=w),F==O)++A;else if(A=0,++w,b.sheetRows&&b.sheetRows<=w)return!0}e:for(;_<p.length;++_)switch(F=p.charCodeAt(_)){case 34:P===34&&(W=!W);break;case O:case 10:case 13:if(!W&&M())break e;break}return _-T>0&&M(),v["!ref"]=ys(N),v}function c(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?o(p,g):Eu(r(p,g),g)}function d(p,g){var b="",m=g.type=="string"?[0,0,0,0]:p9(p,g);switch(g.type){case"base64":b=rc(p);break;case"binary":b=p;break;case"buffer":g.codepage==65001?b=p.toString("utf8"):g.codepage&&typeof Rp<"u"||(b=Qr&&Buffer.isBuffer(p)?p.toString("binary"):Jf(p));break;case"array":b=px(p);break;case"string":b=p;break;default:throw new Error("Unrecognized type "+g.type)}return m[0]==239&&m[1]==187&&m[2]==191?b=Nf(b.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?b=Nf(b):g.type=="binary"&&typeof Rp<"u",b.slice(0,19)=="socialcalc:version:"?a4.to_sheet(g.type=="string"?b:Nf(b),g):c(b,g)}function h(p,g){return Vd(d(p,g),g)}function f(p){for(var g=[],b=Ta(p["!ref"]),m,v=Array.isArray(p),N=b.s.r;N<=b.e.r;++N){for(var w=[],A=b.s.c;A<=b.e.c;++A){var E=ca({r:N,c:A});if(m=v?(p[N]||[])[A]:p[E],!m||m.v==null){w.push("          ");continue}for(var T=(m.w||(ac(m),m.w)||"").slice(0,10);T.length<10;)T+=" ";w.push(T+(A===0?" ":""))}g.push(w.join(""))}return g.join(`
`)}return{to_workbook:h,to_sheet:d,from_sheet:f}})(),gv=(function(){function t(L,G,V){if(L){Ai(L,L.l||0);for(var K=V.Enum||Ne;L.l<L.length;){var ne=L.read_shift(2),ye=K[ne]||K[65535],ke=L.read_shift(2),Se=L.l+ke,_e=ye.f&&ye.f(L,ke,V);if(L.l=Se,G(_e,ye,ne))return}}}function r(L,G){switch(G.type){case"base64":return a(Rl(rc(L)),G);case"binary":return a(Rl(L),G);case"buffer":case"array":return a(L,G)}throw"Unsupported type "+G.type}function a(L,G){if(!L)return L;var V=G||{},K=V.dense?[]:{},ne="Sheet1",ye="",ke=0,Se={},_e=[],Je=[],nt={s:{r:0,c:0},e:{r:0,c:0}},mt=V.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)V.Enum=Ne,t(L,function(ot,kt,rt){switch(rt){case 0:V.vers=ot,ot>=4096&&(V.qpro=!0);break;case 6:nt=ot;break;case 204:ot&&(ye=ot);break;case 222:ye=ot;break;case 15:case 51:V.qpro||(ot[1].v=ot[1].v.slice(1));case 13:case 14:case 16:rt==14&&(ot[2]&112)==112&&(ot[2]&15)>1&&(ot[2]&15)<15&&(ot[1].z=V.dateNF||as[14],V.cellDates&&(ot[1].t="d",ot[1].v=vw(ot[1].v))),V.qpro&&ot[3]>ke&&(K["!ref"]=ys(nt),Se[ne]=K,_e.push(ne),K=V.dense?[]:{},nt={s:{r:0,c:0},e:{r:0,c:0}},ke=ot[3],ne=ye||"Sheet"+(ke+1),ye="");var Rt=V.dense?(K[ot[0].r]||[])[ot[0].c]:K[ca(ot[0])];if(Rt){Rt.t=ot[1].t,Rt.v=ot[1].v,ot[1].z!=null&&(Rt.z=ot[1].z),ot[1].f!=null&&(Rt.f=ot[1].f);break}V.dense?(K[ot[0].r]||(K[ot[0].r]=[]),K[ot[0].r][ot[0].c]=ot[1]):K[ca(ot[0])]=ot[1];break}},V);else if(L[2]==26||L[2]==14)V.Enum=q,L[2]==14&&(V.qpro=!0,L.l=0),t(L,function(ot,kt,rt){switch(rt){case 204:ne=ot;break;case 22:ot[1].v=ot[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ot[3]>ke&&(K["!ref"]=ys(nt),Se[ne]=K,_e.push(ne),K=V.dense?[]:{},nt={s:{r:0,c:0},e:{r:0,c:0}},ke=ot[3],ne="Sheet"+(ke+1)),mt>0&&ot[0].r>=mt)break;V.dense?(K[ot[0].r]||(K[ot[0].r]=[]),K[ot[0].r][ot[0].c]=ot[1]):K[ca(ot[0])]=ot[1],nt.e.c<ot[0].c&&(nt.e.c=ot[0].c),nt.e.r<ot[0].r&&(nt.e.r=ot[0].r);break;case 27:ot[14e3]&&(Je[ot[14e3][0]]=ot[14e3][1]);break;case 1537:Je[ot[0]]=ot[1],ot[0]==ke&&(ne=ot[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(K["!ref"]=ys(nt),Se[ye||ne]=K,_e.push(ye||ne),!Je.length)return{SheetNames:_e,Sheets:Se};for(var ht={},fe=[],dt=0;dt<Je.length;++dt)Se[_e[dt]]?(fe.push(Je[dt]||_e[dt]),ht[Je[dt]]=Se[Je[dt]]||Se[_e[dt]]):(fe.push(Je[dt]),ht[Je[dt]]={"!ref":"A1"});return{SheetNames:fe,Sheets:ht}}function s(L,G){var V=G||{};if(+V.codepage>=0&&Rf(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var K=ni(),ne=Ta(L["!ref"]),ye=Array.isArray(L),ke=[];yt(K,0,o(1030)),yt(K,6,h(ne));for(var Se=Math.min(ne.e.r,8191),_e=ne.s.r;_e<=Se;++_e)for(var Je=nn(_e),nt=ne.s.c;nt<=ne.e.c;++nt){_e===ne.s.r&&(ke[nt]=yn(nt));var mt=ke[nt]+Je,ht=ye?(L[_e]||[])[nt]:L[mt];if(!(!ht||ht.t=="z"))if(ht.t=="n")(ht.v|0)==ht.v&&ht.v>=-32768&&ht.v<=32767?yt(K,13,m(_e,nt,ht.v)):yt(K,14,N(_e,nt,ht.v));else{var fe=ac(ht);yt(K,15,g(_e,nt,fe.slice(0,239)))}}return yt(K,1),K.end()}function i(L,G){var V=G||{};if(+V.codepage>=0&&Rf(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var K=ni();yt(K,0,c(L));for(var ne=0,ye=0;ne<L.SheetNames.length;++ne)(L.Sheets[L.SheetNames[ne]]||{})["!ref"]&&yt(K,27,ve(L.SheetNames[ne],ye++));var ke=0;for(ne=0;ne<L.SheetNames.length;++ne){var Se=L.Sheets[L.SheetNames[ne]];if(!(!Se||!Se["!ref"])){for(var _e=Ta(Se["!ref"]),Je=Array.isArray(Se),nt=[],mt=Math.min(_e.e.r,8191),ht=_e.s.r;ht<=mt;++ht)for(var fe=nn(ht),dt=_e.s.c;dt<=_e.e.c;++dt){ht===_e.s.r&&(nt[dt]=yn(dt));var ot=nt[dt]+fe,kt=Je?(Se[ht]||[])[dt]:Se[ot];if(!(!kt||kt.t=="z"))if(kt.t=="n")yt(K,23,M(ht,dt,ke,kt.v));else{var rt=ac(kt);yt(K,22,F(ht,dt,ke,rt.slice(0,239)))}}++ke}}return yt(K,1),K.end()}function o(L){var G=We(2);return G.write_shift(2,L),G}function c(L){var G=We(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var V=0,K=0,ne=0,ye=0;ye<L.SheetNames.length;++ye){var ke=L.SheetNames[ye],Se=L.Sheets[ke];if(!(!Se||!Se["!ref"])){++ne;var _e=Di(Se["!ref"]);V<_e.e.r&&(V=_e.e.r),K<_e.e.c&&(K=_e.e.c)}}return V>8191&&(V=8191),G.write_shift(2,V),G.write_shift(1,ne),G.write_shift(1,K),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function d(L,G,V){var K={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&V.qpro?(K.s.c=L.read_shift(1),L.l++,K.s.r=L.read_shift(2),K.e.c=L.read_shift(1),L.l++,K.e.r=L.read_shift(2),K):(K.s.c=L.read_shift(2),K.s.r=L.read_shift(2),G==12&&V.qpro&&(L.l+=2),K.e.c=L.read_shift(2),K.e.r=L.read_shift(2),G==12&&V.qpro&&(L.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function h(L){var G=We(8);return G.write_shift(2,L.s.c),G.write_shift(2,L.s.r),G.write_shift(2,L.e.c),G.write_shift(2,L.e.r),G}function f(L,G,V){var K=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(K[0].c=L.read_shift(1),K[3]=L.read_shift(1),K[0].r=L.read_shift(2),L.l+=2):(K[2]=L.read_shift(1),K[0].c=L.read_shift(2),K[0].r=L.read_shift(2)),K}function p(L,G,V){var K=L.l+G,ne=f(L,G,V);if(ne[1].t="s",V.vers==20768){L.l++;var ye=L.read_shift(1);return ne[1].v=L.read_shift(ye,"utf8"),ne}return V.qpro&&L.l++,ne[1].v=L.read_shift(K-L.l,"cstr"),ne}function g(L,G,V){var K=We(7+V.length);K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,L),K.write_shift(1,39);for(var ne=0;ne<K.length;++ne){var ye=V.charCodeAt(ne);K.write_shift(1,ye>=128?95:ye)}return K.write_shift(1,0),K}function b(L,G,V){var K=f(L,G,V);return K[1].v=L.read_shift(2,"i"),K}function m(L,G,V){var K=We(7);return K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,L),K.write_shift(2,V,"i"),K}function v(L,G,V){var K=f(L,G,V);return K[1].v=L.read_shift(8,"f"),K}function N(L,G,V){var K=We(13);return K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,L),K.write_shift(8,V,"f"),K}function w(L,G,V){var K=L.l+G,ne=f(L,G,V);if(ne[1].v=L.read_shift(8,"f"),V.qpro)L.l=K;else{var ye=L.read_shift(2);_(L.slice(L.l,L.l+ye),ne),L.l+=ye}return ne}function A(L,G,V){var K=G&32768;return G&=-32769,G=(K?L:0)+(G>=8192?G-16384:G),(K?"":"$")+(V?yn(G):nn(G))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(L,G){Ai(L,0);for(var V=[],K=0,ne="",ye="",ke="",Se="";L.l<L.length;){var _e=L[L.l++];switch(_e){case 0:V.push(L.read_shift(8,"f"));break;case 1:ye=A(G[0].c,L.read_shift(2),!0),ne=A(G[0].r,L.read_shift(2),!1),V.push(ye+ne);break;case 2:{var Je=A(G[0].c,L.read_shift(2),!0),nt=A(G[0].r,L.read_shift(2),!1);ye=A(G[0].c,L.read_shift(2),!0),ne=A(G[0].r,L.read_shift(2),!1),V.push(Je+nt+":"+ye+ne)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(L.read_shift(2));break;case 6:{for(var mt="";_e=L[L.l++];)mt+=String.fromCharCode(_e);V.push('"'+mt.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:Se=V.pop(),ke=V.pop(),V.push(["AND","OR"][_e-20]+"("+ke+","+Se+")");break;default:if(_e<32&&T[_e])Se=V.pop(),ke=V.pop(),V.push(ke+T[_e]+Se);else if(E[_e]){if(K=E[_e][1],K==69&&(K=L[L.l++]),K>V.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+V.join("|")+"|");return}var ht=V.slice(-K);V.length-=K,V.push(E[_e][0]+"("+ht.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}V.length==1?G[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function O(L){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=L.read_shift(2),G[3]=L[L.l++],G[0].c=L[L.l++],G}function W(L,G){var V=O(L);return V[1].t="s",V[1].v=L.read_shift(G-4,"cstr"),V}function F(L,G,V,K){var ne=We(6+K.length);ne.write_shift(2,L),ne.write_shift(1,V),ne.write_shift(1,G),ne.write_shift(1,39);for(var ye=0;ye<K.length;++ye){var ke=K.charCodeAt(ye);ne.write_shift(1,ke>=128?95:ke)}return ne.write_shift(1,0),ne}function P(L,G){var V=O(L);V[1].v=L.read_shift(2);var K=V[1].v>>1;if(V[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return V[1].v=K,V}function z(L,G){var V=O(L),K=L.read_shift(4),ne=L.read_shift(4),ye=L.read_shift(2);if(ye==65535)return K===0&&ne===3221225472?(V[1].t="e",V[1].v=15):K===0&&ne===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ke=ye&32768;return ye=(ye&32767)-16446,V[1].v=(1-ke*2)*(ne*Math.pow(2,ye+32)+K*Math.pow(2,ye)),V}function M(L,G,V,K){var ne=We(14);if(ne.write_shift(2,L),ne.write_shift(1,V),ne.write_shift(1,G),K==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var ye=0,ke=0,Se=0,_e=0;return K<0&&(ye=1,K=-K),ke=Math.log2(K)|0,K/=Math.pow(2,ke-31),_e=K>>>0,(_e&2147483648)==0&&(K/=2,++ke,_e=K>>>0),K-=_e,_e|=2147483648,_e>>>=0,K*=Math.pow(2,32),Se=K>>>0,ne.write_shift(4,Se),ne.write_shift(4,_e),ke+=16383+(ye?32768:0),ne.write_shift(2,ke),ne}function C(L,G){var V=z(L);return L.l+=G-14,V}function U(L,G){var V=O(L),K=L.read_shift(4);return V[1].v=K>>6,V}function B(L,G){var V=O(L),K=L.read_shift(8,"f");return V[1].v=K,V}function X(L,G){var V=B(L);return L.l+=G-10,V}function ue(L,G){return L[L.l+G-1]==0?L.read_shift(G,"cstr"):""}function J(L,G){var V=L[L.l++];V>G-1&&(V=G-1);for(var K="";K.length<V;)K+=String.fromCharCode(L[L.l++]);return K}function re(L,G,V){if(!(!V.qpro||G<21)){var K=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ne=L.read_shift(G-21,"cstr");return[K,ne]}}function oe(L,G){for(var V={},K=L.l+G;L.l<K;){var ne=L.read_shift(2);if(ne==14e3){for(V[ne]=[0,""],V[ne][0]=L.read_shift(2);L[L.l];)V[ne][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return V}function ve(L,G){var V=We(5+L.length);V.write_shift(2,14e3),V.write_shift(2,G);for(var K=0;K<L.length;++K){var ne=L.charCodeAt(K);V[V.l++]=ne>127?95:ne}return V[V.l++]=0,V}var Ne={0:{n:"BOF",f:Zw},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:z},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:i,to_workbook:r}})(),aT=/^\s|\s$|[\t\n\r]/;function s4(t,r){if(!r.bookSST)return"";var a=[vs];a[a.length]=gt("sst",null,{xmlns:Su[0],count:t.Count,uniqueCount:t.Unique});for(var s=0;s!=t.length;++s)if(t[s]!=null){var i=t[s],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(aT)&&(o+=' xml:space="preserve"'),o+=">"+oa(i.t)+"</t>"),o+="</si>",a[a.length]=o}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function sT(t){return[t.read_shift(4),t.read_shift(4)]}function nT(t,r){return r||(r=We(8)),r.write_shift(4,t.Count),r.write_shift(4,t.Unique),r}var iT=J_;function lT(t){var r=ni();lt(r,159,nT(t));for(var a=0;a<t.length;++a)lt(r,19,iT(t[a]));return lt(r,160),r.end()}function oT(t){for(var r=[],a=t.split(""),s=0;s<a.length;++s)r[s]=a[s].charCodeAt(0);return r}function n4(t){var r=0,a,s=oT(t),i=s.length+1,o,c,d,h,f;for(a=Ud(i),a[0]=s.length,o=1;o!=i;++o)a[o]=s[o-1];for(o=i-1;o>=0;--o)c=a[o],d=(r&16384)===0?0:1,h=r<<1&32767,f=d|h,r=f^c;return r^52811}var cT=(function(){function t(i,o){switch(o.type){case"base64":return r(rc(i),o);case"binary":return r(i,o);case"buffer":return r(Qr&&Buffer.isBuffer(i)?i.toString("binary"):Jf(i),o);case"array":return r(px(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){var c=o||{},d=c.dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,g){Array.isArray(d)&&(d[g]=[]);for(var b=/\\\w+\b/g,m=0,v,N=-1;v=b.exec(p);){switch(v[0]){case"\\cell":var w=p.slice(m,b.lastIndex-v[0].length);if(w[0]==" "&&(w=w.slice(1)),++N,w.length){var A={v:w,t:"s"};Array.isArray(d)?d[g][N]=A:d[ca({r:g,c:N})]=A}break}m=b.lastIndex}N>f.e.c&&(f.e.c=N)}),d["!ref"]=ys(f),d}function a(i,o){return Vd(t(i,o),o)}function s(i){for(var o=["{\\rtf1\\ansi"],c=Ta(i["!ref"]),d,h=Array.isArray(i),f=c.s.r;f<=c.e.r;++f){o.push("\\trowd\\trautofit1");for(var p=c.s.c;p<=c.e.c;++p)o.push("\\cellx"+(p+1));for(o.push("\\pard\\intbl"),p=c.s.c;p<=c.e.c;++p){var g=ca({r:f,c:p});d=h?(i[f]||[])[p]:i[g],!(!d||d.v==null&&(!d.f||d.F))&&(o.push(" "+(d.w||(ac(d),d.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:a,to_sheet:t,from_sheet:s}})();function bv(t){for(var r=0,a=1;r!=3;++r)a=a*256+(t[r]>255?255:t[r]<0?0:t[r]);return a.toString(16).toUpperCase().slice(1)}var dT=6,Qo=dT;function Hp(t){return Math.floor((t+Math.round(128/Qo)/256)*Qo)}function qp(t){return Math.floor((t-5)/Qo*100+.5)/100}function Mg(t){return Math.round((t*Qo+5)/Qo*256)/256}function T1(t){t.width?(t.wpx=Hp(t.width),t.wch=qp(t.wpx),t.MDW=Qo):t.wpx?(t.wch=qp(t.wpx),t.width=Mg(t.wch),t.MDW=Qo):typeof t.wch=="number"&&(t.width=Mg(t.wch),t.wpx=Hp(t.width),t.MDW=Qo),t.customWidth&&delete t.customWidth}var uT=96,i4=uT;function Gp(t){return t*96/i4}function l4(t){return t*i4/96}function fT(t){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&(r[r.length]=gt("numFmt",null,{numFmtId:s,formatCode:oa(t[s])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=gt("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function hT(t){var r=[];return r[r.length]=gt("cellXfs",null),t.forEach(function(a){r[r.length]=gt("xf",null,a)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=gt("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function o4(t,r){var a=[vs,gt("styleSheet",null,{xmlns:Su[0],"xmlns:vt":zs.vt})],s;return t.SSF&&(s=fT(t.SSF))!=null&&(a[a.length]=s),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=hT(r.cellXfs))&&(a[a.length]=s),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function pT(t,r){var a=t.read_shift(2),s=vn(t);return[a,s]}function xT(t,r,a){a||(a=We(6+4*r.length)),a.write_shift(2,t),Hs(r,a);var s=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),s}function mT(t,r,a){var s={};s.sz=t.read_shift(2)/20;var i=aC(t);i.fItalic&&(s.italic=1),i.fCondense&&(s.condense=1),i.fExtend&&(s.extend=1),i.fShadow&&(s.shadow=1),i.fOutline&&(s.outline=1),i.fStrikeout&&(s.strike=1);var o=t.read_shift(2);switch(o===700&&(s.bold=1),t.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(s.underline=c);var d=t.read_shift(1);d>0&&(s.family=d);var h=t.read_shift(1);switch(h>0&&(s.charset=h),t.l++,s.color=rC(t),t.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=vn(t),s}function gT(t,r){r||(r=We(153)),r.write_shift(2,t.sz*20),sC(t,r),r.write_shift(2,t.bold?700:400);var a=0;t.vertAlign=="superscript"?a=1:t.vertAlign=="subscript"&&(a=2),r.write_shift(2,a),r.write_shift(1,t.underline||0),r.write_shift(1,t.family||0),r.write_shift(1,t.charset||0),r.write_shift(1,0),zp(t.color,r);var s=0;return s=2,r.write_shift(1,s),Hs(t.name,r),r.length>r.l?r.slice(0,r.l):r}var bT=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Xm,yT=mo;function yv(t,r){r||(r=We(84)),Xm||(Xm=b1(bT));var a=Xm[t.patternType];a==null&&(a=40),r.write_shift(4,a);var s=0;if(a!=40)for(zp({auto:1},r),zp({auto:1},r);s<12;++s)r.write_shift(4,0);else{for(;s<4;++s)r.write_shift(4,0);for(;s<12;++s)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function vT(t,r){var a=t.l+r,s=t.read_shift(2),i=t.read_shift(2);return t.l=a,{ixfe:s,numFmtId:i}}function c4(t,r,a){a||(a=We(16)),a.write_shift(2,r||0),a.write_shift(2,t.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var s=0;return a.write_shift(1,s),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function xf(t,r){return r||(r=We(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var NT=mo;function wT(t,r){return r||(r=We(51)),r.write_shift(1,0),xf(null,r),xf(null,r),xf(null,r),xf(null,r),xf(null,r),r.length>r.l?r.slice(0,r.l):r}function jT(t,r){return r||(r=We(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Bp(t.name||"",r),r.length>r.l?r.slice(0,r.l):r}function ST(t,r,a){var s=We(2052);return s.write_shift(4,t),Bp(r,s),Bp(a,s),s.length>s.l?s.slice(0,s.l):s}function ET(t,r){if(r){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&++a}),a!=0&&(lt(t,615,Ol(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&lt(t,44,xT(i,r[i]))}),lt(t,616))}}function kT(t){var r=1;lt(t,611,Ol(r)),lt(t,43,gT({sz:12,color:{theme:1},name:"Calibri",family:2})),lt(t,612)}function AT(t){var r=2;lt(t,603,Ol(r)),lt(t,45,yv({patternType:"none"})),lt(t,45,yv({patternType:"gray125"})),lt(t,604)}function _T(t){var r=1;lt(t,613,Ol(r)),lt(t,46,wT()),lt(t,614)}function CT(t){var r=1;lt(t,626,Ol(r)),lt(t,47,c4({numFmtId:0},65535)),lt(t,627)}function TT(t,r){lt(t,617,Ol(r.length)),r.forEach(function(a){lt(t,47,c4(a,0))}),lt(t,618)}function DT(t){var r=1;lt(t,619,Ol(r)),lt(t,48,jT({xfId:0,name:"Normal"})),lt(t,620)}function LT(t){var r=0;lt(t,505,Ol(r)),lt(t,506)}function RT(t){var r=0;lt(t,508,ST(r,"TableStyleMedium9","PivotStyleMedium4")),lt(t,509)}function FT(t,r){var a=ni();return lt(a,278),ET(a,t.SSF),kT(a),AT(a),_T(a),CT(a),TT(a,r.cellXfs),DT(a),LT(a),RT(a),lt(a,279),a.end()}function d4(t,r){if(r&&r.themeXLSX)return r.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var a=[vs];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function OT(t,r){return{flags:t.read_shift(4),version:t.read_shift(4),name:vn(t)}}function PT(t){var r=We(12+2*t.name.length);return r.write_shift(4,t.flags),r.write_shift(4,t.version),Hs(t.name,r),r.slice(0,r.l)}function IT(t){for(var r=[],a=t.read_shift(4);a-- >0;)r.push([t.read_shift(4),t.read_shift(4)]);return r}function MT(t){var r=We(4+8*t.length);r.write_shift(4,t.length);for(var a=0;a<t.length;++a)r.write_shift(4,t[a][0]),r.write_shift(4,t[a][1]);return r}function BT(t,r){var a=We(8+2*r.length);return a.write_shift(4,t),Hs(r,a),a.slice(0,a.l)}function zT(t){return t.l+=4,t.read_shift(4)!=0}function UT(t,r){var a=We(8);return a.write_shift(4,t),a.write_shift(4,1),a}function HT(){var t=ni();return lt(t,332),lt(t,334,Ol(1)),lt(t,335,PT({name:"XLDAPR",version:12e4,flags:3496657072})),lt(t,336),lt(t,339,BT(1,"XLDAPR")),lt(t,52),lt(t,35,Ol(514)),lt(t,4096,Ol(0)),lt(t,4097,Ki(1)),lt(t,36),lt(t,53),lt(t,340),lt(t,337,UT(1)),lt(t,51,MT([[1,0]])),lt(t,338),lt(t,333),t.end()}function u4(){var t=[vs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function qT(t){var r={};r.i=t.read_shift(4);var a={};a.r=t.read_shift(4),a.c=t.read_shift(4),r.r=ca(a);var s=t.read_shift(1);return s&2&&(r.l="1"),s&8&&(r.a="1"),r}var au=1024;function f4(t,r){for(var a=[21600,21600],s=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),i=[gt("xml",null,{"xmlns:v":_i.v,"xmlns:o":_i.o,"xmlns:x":_i.x,"xmlns:mv":_i.mv}).replace(/\/>/,">"),gt("o:shapelayout",gt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),gt("v:shapetype",[gt("v:stroke",null,{joinstyle:"miter"}),gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:s})];au<t*1e3;)au+=1e3;return r.forEach(function(o){var c=Us(o[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var h=d.type=="gradient"?gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=gt("v:fill",h,d),p={on:"t",obscured:"t"};++au,i=i.concat(["<v:shape"+If({id:"_x0000_s"+au,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,gt("v:shadow",null,p),gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",an("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),an("x:AutoFill","False"),an("x:Row",String(c.r)),an("x:Column",String(c.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function h4(t){var r=[vs,gt("comments",null,{xmlns:Su[0]})],a=[];return r.push("<authors>"),t.forEach(function(s){s[1].forEach(function(i){var o=oa(i.a);a.indexOf(o)==-1&&(a.push(o),r.push("<author>"+o+"</author>")),i.T&&i.ID&&a.indexOf("tc="+i.ID)==-1&&(a.push("tc="+i.ID),r.push("<author>tc="+i.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),t.forEach(function(s){var i=0,o=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?i=a.indexOf("tc="+s[1][0].ID):s[1].forEach(function(h){h.a&&(i=a.indexOf(oa(h.a))),o.push(h.t||"")}),r.push('<comment ref="'+s[0]+'" authorId="'+i+'"><text>'),o.length<=1)r.push(an("t",oa(o[0]||"")));else{for(var c=`Comment:
    `+o[0]+`
`,d=1;d<o.length;++d)c+=`Reply:
    `+o[d]+`
`;r.push(an("t",oa(c)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function GT(t,r,a){var s=[vs,gt("ThreadedComments",null,{xmlns:zs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(c,d){if(!c.T){delete c.ID;return}c.a&&r.indexOf(c.a)==-1&&r.push(c.a);var h={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};d==0?o=h.id:h.parentId=o,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(c.a)).slice(-12)+"}"),s.push(gt("threadedComment",an("text",c.t||""),h))})}),s.push("</ThreadedComments>"),s.join("")}function $T(t){var r=[vs,gt("personList",null,{xmlns:zs.TCMNT,"xmlns:x":Su[0]}).replace(/[\/]>/,">")];return t.forEach(function(a,s){r.push(gt("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:a,providerId:"None"}))}),r.push("</personList>"),r.join("")}function YT(t){var r={};r.iauthor=t.read_shift(4);var a=Kd(t);return r.rfx=a.s,r.ref=ca(a.s),t.l+=16,r}function VT(t,r){return r==null&&(r=We(36)),r.write_shift(4,t[1].iauthor),ku(t[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var WT=vn;function XT(t){return Hs(t.slice(0,54))}function JT(t){var r=ni(),a=[];return lt(r,628),lt(r,630),t.forEach(function(s){s[1].forEach(function(i){a.indexOf(i.a)>-1||(a.push(i.a.slice(0,54)),lt(r,632,XT(i.a)))})}),lt(r,631),lt(r,633),t.forEach(function(s){s[1].forEach(function(i){i.iauthor=a.indexOf(i.a);var o={s:Us(s[0]),e:Us(s[0])};lt(r,635,VT([o,i])),i.t&&i.t.length>0&&lt(r,637,Z_(i)),lt(r,636),delete i.iauthor})}),lt(r,634),lt(r,629),r.end()}function KT(t,r){r.FullPaths.forEach(function(a,s){if(s!=0){var i=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ga.utils.cfb_add(t,i,r.FileIndex[s].content)}})}var p4=["xlsb","xlsm","xlam","biff8","xla"],ZT=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function a(s,i,o,c){var d=!1,h=!1;o.length==0?h=!0:o.charAt(0)=="["&&(h=!0,o=o.slice(1,-1)),c.length==0?d=!0:c.charAt(0)=="["&&(d=!0,c=c.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,p=c.length>0?parseInt(c,10)|0:0;return d?p+=r.c:--p,h?f+=r.r:--f,i+(d?"":"$")+yn(p)+(h?"":"$")+nn(f)}return function(i,o){return r=o,i.replace(t,a)}})(),D1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,L1=(function(){return function(r,a){return r.replace(D1,function(s,i,o,c,d,h){var f=E1(c)-(o?0:a.c),p=S1(h)-(d?0:a.r),g=p==0?"":d?p+1:"["+p+"]",b=f==0?"":o?f+1:"["+f+"]";return i+"R"+g+"C"+b})}})();function QT(t,r){return t.replace(D1,function(a,s,i,o,c,d){return s+(i=="$"?i+o:yn(E1(o)+r.c))+(c=="$"?c+d:nn(S1(d)+r.r))})}function eD(t){return t.length!=1}function bs(t){t.l+=1}function Jc(t,r){var a=t.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function x4(t,r,a){var s=2;if(a){if(a.biff>=2&&a.biff<=5)return m4(t);a.biff==12&&(s=4)}var i=t.read_shift(s),o=t.read_shift(s),c=Jc(t),d=Jc(t);return{s:{r:i,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:d[0],cRel:d[1],rRel:d[2]}}}function m4(t){var r=Jc(t),a=Jc(t),s=t.read_shift(1),i=t.read_shift(1);return{s:{r:r[0],c:s,cRel:r[1],rRel:r[2]},e:{r:a[0],c:i,cRel:a[1],rRel:a[2]}}}function tD(t,r,a){if(a.biff<8)return m4(t);var s=t.read_shift(a.biff==12?4:2),i=t.read_shift(a.biff==12?4:2),o=Jc(t),c=Jc(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function g4(t,r,a){if(a&&a.biff>=2&&a.biff<=5)return rD(t);var s=t.read_shift(a&&a.biff==12?4:2),i=Jc(t);return{r:s,c:i[0],cRel:i[1],rRel:i[2]}}function rD(t){var r=Jc(t),a=t.read_shift(1);return{r:r[0],c:a,cRel:r[1],rRel:r[2]}}function aD(t){var r=t.read_shift(2),a=t.read_shift(2);return{r,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function sD(t,r,a){var s=a&&a.biff?a.biff:8;if(s>=2&&s<=5)return nD(t);var i=t.read_shift(s>=12?4:2),o=t.read_shift(2),c=(o&16384)>>14,d=(o&32768)>>15;if(o&=16383,d==1)for(;i>524287;)i-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:c,rRel:d}}function nD(t){var r=t.read_shift(2),a=t.read_shift(1),s=(r&32768)>>15,i=(r&16384)>>14;return r&=16383,s==1&&r>=8192&&(r=r-16384),i==1&&a>=128&&(a=a-256),{r,c:a,cRel:i,rRel:s}}function iD(t,r,a){var s=(t[t.l++]&96)>>5,i=x4(t,a.biff>=2&&a.biff<=5?6:8,a);return[s,i]}function lD(t,r,a){var s=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(a)switch(a.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var c=x4(t,o,a);return[s,i,c]}function oD(t,r,a){var s=(t[t.l++]&96)>>5;return t.l+=a&&a.biff>8?12:a.biff<8?6:8,[s]}function cD(t,r,a){var s=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(a)switch(a.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[s,i]}function dD(t,r,a){var s=(t[t.l++]&96)>>5,i=tD(t,r-1,a);return[s,i]}function uD(t,r,a){var s=(t[t.l++]&96)>>5;return t.l+=a.biff==2?6:a.biff==12?14:7,[s]}function vv(t){var r=t[t.l+1]&1,a=1;return t.l+=4,[r,a]}function fD(t,r,a){t.l+=2;for(var s=t.read_shift(a&&a.biff==2?1:2),i=[],o=0;o<=s;++o)i.push(t.read_shift(a&&a.biff==2?1:2));return i}function hD(t,r,a){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(a&&a.biff==2?1:2)]}function pD(t,r,a){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(a&&a.biff==2?1:2)]}function xD(t){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(2)]}function mD(t,r,a){var s=t[t.l+1]&255?1:0;return t.l+=a&&a.biff==2?3:4,[s]}function b4(t){var r=t.read_shift(1),a=t.read_shift(1);return[r,a]}function gD(t){return t.read_shift(2),b4(t)}function bD(t){return t.read_shift(2),b4(t)}function yD(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=g4(t,0,a);return[s,i]}function vD(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=sD(t,0,a);return[s,i]}function ND(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);a&&a.biff==5&&(t.l+=12);var o=g4(t,0,a);return[s,i,o]}function wD(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(a&&a.biff<=3?1:2);return[w7[i],N4[i],s]}function jD(t,r,a){var s=t[t.l++],i=t.read_shift(1),o=a&&a.biff<=3?[s==88?-1:0,t.read_shift(1)]:SD(t);return[i,(o[0]===0?N4:N7)[o[1]]]}function SD(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function ED(t,r,a){t.l+=a&&a.biff==2?3:4}function kD(t,r,a){if(t.l++,a&&a.biff==12)return[t.read_shift(4,"i"),0];var s=t.read_shift(2),i=t.read_shift(a&&a.biff==2?1:2);return[s,i]}function AD(t){return t.l++,Qf[t.read_shift(1)]}function _D(t){return t.l++,t.read_shift(2)}function CD(t){return t.l++,t.read_shift(1)!==0}function TD(t){return t.l++,Au(t)}function DD(t,r,a){return t.l++,e4(t,r-1,a)}function LD(t,r){var a=[t.read_shift(1)];if(r==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=NC(t,1)?"TRUE":"FALSE",r!=12&&(t.l+=7);break;case 37:case 16:a[1]=Qf[t[t.l]],t.l+=r==12?4:8;break;case 0:t.l+=8;break;case 1:a[1]=Au(t);break;case 2:a[1]=EC(t,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function RD(t,r,a){for(var s=t.read_shift(a.biff==12?4:2),i=[],o=0;o!=s;++o)i.push((a.biff==12?Kd:_C)(t));return i}function FD(t,r,a){var s=0,i=0;a.biff==12?(s=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),s=1+t.read_shift(2)),a.biff>=2&&a.biff<8&&(--s,--i==0&&(i=256));for(var o=0,c=[];o!=s&&(c[o]=[]);++o)for(var d=0;d!=i;++d)c[o][d]=LD(t,a.biff);return c}function OD(t,r,a){var s=t.read_shift(1)>>>5&3,i=!a||a.biff>=8?4:2,o=t.read_shift(i);switch(a.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[s,0,o]}function PD(t,r,a){if(a.biff==5)return ID(t);var s=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[s,i,o]}function ID(t){var r=t.read_shift(1)>>>5&3,a=t.read_shift(2,"i");t.l+=8;var s=t.read_shift(2);return t.l+=12,[r,a,s]}function MD(t,r,a){var s=t.read_shift(1)>>>5&3;t.l+=a&&a.biff==2?3:4;var i=t.read_shift(a&&a.biff==2?1:2);return[s,i]}function BD(t,r,a){var s=t.read_shift(1)>>>5&3,i=t.read_shift(a&&a.biff==2?1:2);return[s,i]}function zD(t,r,a){var s=t.read_shift(1)>>>5&3;return t.l+=4,a.biff<8&&t.l--,a.biff==12&&(t.l+=2),[s]}function UD(t,r,a){var s=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(a)switch(a.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[s,i]}var HD=mo,qD=mo,GD=mo;function eh(t,r,a){return t.l+=2,[aD(t)]}function R1(t){return t.l+=6,[]}var $D=eh,YD=R1,VD=R1,WD=eh;function y4(t){return t.l+=2,[Zw(t),t.read_shift(2)&1]}var XD=eh,JD=y4,KD=R1,ZD=eh,QD=eh,e7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function t7(t){t.l+=2;var r=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),c=e7[a>>2&31];return{ixti:r,coltype:a&3,rt:c,idx:s,c:i,C:o}}function r7(t){return t.l+=2,[t.read_shift(4)]}function a7(t,r,a){return t.l+=5,t.l+=2,t.l+=a.biff==2?1:4,["PTGSHEET"]}function s7(t,r,a){return t.l+=a.biff==2?4:5,["PTGENDSHEET"]}function n7(t){var r=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[r,a]}function i7(t){var r=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[r,a]}function l7(t){return t.l+=4,[0,0]}var Nv={1:{n:"PtgExp",f:kD},2:{n:"PtgTbl",f:GD},3:{n:"PtgAdd",f:bs},4:{n:"PtgSub",f:bs},5:{n:"PtgMul",f:bs},6:{n:"PtgDiv",f:bs},7:{n:"PtgPower",f:bs},8:{n:"PtgConcat",f:bs},9:{n:"PtgLt",f:bs},10:{n:"PtgLe",f:bs},11:{n:"PtgEq",f:bs},12:{n:"PtgGe",f:bs},13:{n:"PtgGt",f:bs},14:{n:"PtgNe",f:bs},15:{n:"PtgIsect",f:bs},16:{n:"PtgUnion",f:bs},17:{n:"PtgRange",f:bs},18:{n:"PtgUplus",f:bs},19:{n:"PtgUminus",f:bs},20:{n:"PtgPercent",f:bs},21:{n:"PtgParen",f:bs},22:{n:"PtgMissArg",f:bs},23:{n:"PtgStr",f:DD},26:{n:"PtgSheet",f:a7},27:{n:"PtgEndSheet",f:s7},28:{n:"PtgErr",f:AD},29:{n:"PtgBool",f:CD},30:{n:"PtgInt",f:_D},31:{n:"PtgNum",f:TD},32:{n:"PtgArray",f:uD},33:{n:"PtgFunc",f:wD},34:{n:"PtgFuncVar",f:jD},35:{n:"PtgName",f:OD},36:{n:"PtgRef",f:yD},37:{n:"PtgArea",f:iD},38:{n:"PtgMemArea",f:MD},39:{n:"PtgMemErr",f:HD},40:{n:"PtgMemNoMem",f:qD},41:{n:"PtgMemFunc",f:BD},42:{n:"PtgRefErr",f:zD},43:{n:"PtgAreaErr",f:oD},44:{n:"PtgRefN",f:vD},45:{n:"PtgAreaN",f:dD},46:{n:"PtgMemAreaN",f:n7},47:{n:"PtgMemNoMemN",f:i7},57:{n:"PtgNameX",f:PD},58:{n:"PtgRef3d",f:ND},59:{n:"PtgArea3d",f:lD},60:{n:"PtgRefErr3d",f:UD},61:{n:"PtgAreaErr3d",f:cD},255:{}},o7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},c7={1:{n:"PtgElfLel",f:y4},2:{n:"PtgElfRw",f:ZD},3:{n:"PtgElfCol",f:$D},6:{n:"PtgElfRwV",f:QD},7:{n:"PtgElfColV",f:WD},10:{n:"PtgElfRadical",f:XD},11:{n:"PtgElfRadicalS",f:KD},13:{n:"PtgElfColS",f:YD},15:{n:"PtgElfColSV",f:VD},16:{n:"PtgElfRadicalLel",f:JD},25:{n:"PtgList",f:t7},29:{n:"PtgSxName",f:r7},255:{}},d7={0:{n:"PtgAttrNoop",f:l7},1:{n:"PtgAttrSemi",f:mD},2:{n:"PtgAttrIf",f:pD},4:{n:"PtgAttrChoose",f:fD},8:{n:"PtgAttrGoto",f:hD},16:{n:"PtgAttrSum",f:ED},32:{n:"PtgAttrBaxcel",f:vv},33:{n:"PtgAttrBaxcel",f:vv},64:{n:"PtgAttrSpace",f:gD},65:{n:"PtgAttrSpaceSemi",f:bD},128:{n:"PtgAttrIfError",f:xD},255:{}};function u7(t,r,a,s){if(s.biff<8)return mo(t,r);for(var i=t.l+r,o=[],c=0;c!==a.length;++c)switch(a[c][0]){case"PtgArray":a[c][1]=FD(t,0,s),o.push(a[c][1]);break;case"PtgMemArea":a[c][2]=RD(t,a[c][1],s),o.push(a[c][2]);break;case"PtgExp":s&&s.biff==12&&(a[c][1][1]=t.read_shift(4),o.push(a[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[c][0]}return r=i-t.l,r!==0&&o.push(mo(t,r)),o}function f7(t,r,a){for(var s=t.l+r,i,o,c=[];s!=t.l;)r=s-t.l,o=t[t.l],i=Nv[o]||Nv[o7[o]],(o===24||o===25)&&(i=(o===24?c7:d7)[t[t.l+1]]),!i||!i.f?mo(t,r):c.push([i.n,i.f(t,r,a)]);return c}function h7(t){for(var r=[],a=0;a<t.length;++a){for(var s=t[a],i=[],o=0;o<s.length;++o){var c=s[o];c?c[0]===2?i.push('"'+c[1].replace(/"/g,'""')+'"'):i.push(c[1]):i.push("")}r.push(i.join(","))}return r.join(";")}var p7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function x7(t,r){if(!t&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function v4(t,r,a){if(!t)return"SH33TJSERR0";if(a.biff>8&&(!t.XTI||!t.XTI[r]))return t.SheetNames[r];if(!t.XTI)return"SH33TJSERR6";var s=t.XTI[r];if(a.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":t.XTI[r-1];if(!s)return"SH33TJSERR1";var i="";if(a.biff>8)switch(t[s[0]][0]){case 357:return i=s[1]==-1?"#REF":t.SheetNames[s[1]],s[1]==s[2]?i:i+":"+t.SheetNames[s[2]];case 358:return a.SID!=null?t.SheetNames[a.SID]:"SH33TJSSAME"+t[s[0]][0];default:return"SH33TJSSRC"+t[s[0]][0]}switch(t[s[0]][0][0]){case 1025:return i=s[1]==-1?"#REF":t.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?i:i+":"+t.SheetNames[s[2]];case 14849:return t[s[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[s[0]][0][3]?(i=s[1]==-1?"#REF":t[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?i:i+":"+t[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function wv(t,r,a){var s=v4(t,r,a);return s=="#REF"?s:x7(s,a)}function gu(t,r,a,s,i){var o=i&&i.biff||8,c={s:{c:0,r:0}},d=[],h,f,p,g=0,b=0,m,v="";if(!t[0]||!t[0][0])return"";for(var N=-1,w="",A=0,E=t[0].length;A<E;++A){var T=t[0][A];switch(T[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=d.pop(),f=d.pop(),N>=0){switch(t[0][N][1][0]){case 0:w=ts(" ",t[0][N][1][1]);break;case 1:w=ts("\r",t[0][N][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][N][1][0])}f=f+w,N=-1}d.push(f+p7[T[0]]+h);break;case"PtgIsect":h=d.pop(),f=d.pop(),d.push(f+" "+h);break;case"PtgUnion":h=d.pop(),f=d.pop(),d.push(f+","+h);break;case"PtgRange":h=d.pop(),f=d.pop(),d.push(f+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=jf(T[1][1],c,i),d.push(Sf(p,o));break;case"PtgRefN":p=a?jf(T[1][1],a,i):T[1][1],d.push(Sf(p,o));break;case"PtgRef3d":g=T[1][1],p=jf(T[1][2],c,i),v=wv(s,g,i),d.push(v+"!"+Sf(p,o));break;case"PtgFunc":case"PtgFuncVar":var _=T[1][0],O=T[1][1];_||(_=0),_&=127;var W=_==0?[]:d.slice(-_);d.length-=_,O==="User"&&(O=W.shift()),d.push(O+"("+W.join(",")+")");break;case"PtgBool":d.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(T[1]);break;case"PtgNum":d.push(String(T[1]));break;case"PtgStr":d.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(T[1]);break;case"PtgAreaN":m=iv(T[1][1],a?{s:a}:c,i),d.push(Vm(m,i));break;case"PtgArea":m=iv(T[1][1],c,i),d.push(Vm(m,i));break;case"PtgArea3d":g=T[1][1],m=T[1][2],v=wv(s,g,i),d.push(v+"!"+Vm(m,i));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=T[1][2];var F=(s.names||[])[b-1]||(s[0]||[])[b],P=F?F.Name:"SH33TJSNAME"+String(b);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),d.push(P);break;case"PtgNameX":var z=T[1][1];b=T[1][2];var M;if(i.biff<=5)z<0&&(z=-z),s[z]&&(M=s[z][b]);else{var C="";if(((s[z]||[])[0]||[])[0]==14849||(((s[z]||[])[0]||[])[0]==1025?s[z][b]&&s[z][b].itab>0&&(C=s.SheetNames[s[z][b].itab-1]+"!"):C=s.SheetNames[b-1]+"!"),s[z]&&s[z][b])C+=s[z][b].Name;else if(s[0]&&s[0][b])C+=s[0][b].Name;else{var U=(v4(s,z,i)||"").split(";;");U[b-1]?C=U[b-1]:C+="SH33TJSERRX"}d.push(C);break}M||(M={Name:"SH33TJSERRY"}),d.push(M.Name);break;case"PtgParen":var B="(",X=")";if(N>=0){switch(w="",t[0][N][1][0]){case 2:B=ts(" ",t[0][N][1][1])+B;break;case 3:B=ts("\r",t[0][N][1][1])+B;break;case 4:X=ts(" ",t[0][N][1][1])+X;break;case 5:X=ts("\r",t[0][N][1][1])+X;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][N][1][0])}N=-1}d.push(B+d.pop()+X);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":p={c:T[1][1],r:T[1][0]};var ue={c:a.c,r:a.r};if(s.sharedf[ca(p)]){var J=s.sharedf[ca(p)];d.push(gu(J,c,ue,s,i))}else{var re=!1;for(h=0;h!=s.arrayf.length;++h)if(f=s.arrayf[h],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){d.push(gu(f[1],c,ue,s,i)),re=!0;break}re||d.push(T[1])}break;case"PtgArray":d.push("{"+h7(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":N=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&N>=0&&oe.indexOf(t[0][A][0])==-1){T=t[0][N];var ve=!0;switch(T[1][0]){case 4:ve=!1;case 0:w=ts(" ",T[1][1]);break;case 5:ve=!1;case 1:w=ts("\r",T[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}d.push((ve?w:"")+d.pop()+(ve?"":w)),N=-1}}if(d.length>1&&i.WTF)throw new Error("bad formula stack");return d[0]}function m7(t){if(t==null){var r=We(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof t=="number")return Hd(t);return Hd(0)}function g7(t,r,a,s,i){var o=qd(r,a,i),c=m7(t.v),d=We(6),h=33;d.write_shift(2,h),d.write_shift(4,0);for(var f=We(t.bf.length),p=0;p<t.bf.length;++p)f[p]=t.bf[p];var g=rn([o,c,d,f]);return g}function xx(t,r,a){var s=t.read_shift(4),i=f7(t,s,a),o=t.read_shift(4),c=o>0?u7(t,o,i,a):null;return[i,c]}var b7=xx,mx=xx,y7=xx,v7=xx,N7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},N4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},w7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function j7(t){var r="of:="+t.replace(D1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function S7(t){return t.replace(/\./,"!")}var Ef=typeof Map<"u";function F1(t,r,a){var s=0,i=t.length;if(a){if(Ef?a.has(r):Object.prototype.hasOwnProperty.call(a,r)){for(var o=Ef?a.get(r):a[r];s<o.length;++s)if(t[o[s]].t===r)return t.Count++,o[s]}}else for(;s<i;++s)if(t[s].t===r)return t.Count++,s;return t[i]={t:r},t.Count++,t.Unique++,a&&(Ef?(a.has(r)||a.set(r,[]),a.get(r).push(i)):(Object.prototype.hasOwnProperty.call(a,r)||(a[r]=[]),a[r].push(i))),i}function gx(t,r){var a={min:t+1,max:t+1},s=-1;return r.MDW&&(Qo=r.MDW),r.width!=null?a.customWidth=1:r.wpx!=null?s=qp(r.wpx):r.wch!=null&&(s=r.wch),s>-1?(a.width=Mg(s),a.customWidth=1):r.width!=null&&(a.width=r.width),r.hidden&&(a.hidden=!0),r.level!=null&&(a.outlineLevel=a.level=r.level),a}function w4(t,r){if(t){var a=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=a[0]),t.right==null&&(t.right=a[1]),t.top==null&&(t.top=a[2]),t.bottom==null&&(t.bottom=a[3]),t.header==null&&(t.header=a[4]),t.footer==null&&(t.footer=a[5])}}function ed(t,r,a){var s=a.revssf[r.z!=null?r.z:"General"],i=60,o=t.length;if(s==null&&a.ssf){for(;i<392;++i)if(a.ssf[i]==null){gw(r.z,i),a.ssf[i]=r.z,a.revssf[r.z]=s=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===s)return i;return t[o]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function E7(t,r,a){if(t&&t["!ref"]){var s=Ta(t["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+a+"): "+t["!ref"])}}function k7(t){if(t.length===0)return"";for(var r='<mergeCells count="'+t.length+'">',a=0;a!=t.length;++a)r+='<mergeCell ref="'+ys(t[a])+'"/>';return r+"</mergeCells>"}function A7(t,r,a,s,i){var o=!1,c={},d=null;if(s.bookType!=="xlsx"&&r.vbaraw){var h=r.SheetNames[a];try{r.Workbook&&(h=r.Workbook.Sheets[a].CodeName||h)}catch{}o=!0,c.codeName=Pf(oa(h))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),d=(d||"")+gt("outlinePr",null,f)}!o&&!d||(i[i.length]=gt("sheetPr",d,c))}var _7=["objects","scenarios","selectLockedCells","selectUnlockedCells"],C7=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function T7(t){var r={sheet:1};return _7.forEach(function(a){t[a]!=null&&t[a]&&(r[a]="1")}),C7.forEach(function(a){t[a]!=null&&!t[a]&&(r[a]="0")}),t.password&&(r.password=n4(t.password).toString(16).toUpperCase()),gt("sheetProtection",null,r)}function D7(t){return w4(t),gt("pageMargins",null,t)}function L7(t,r){for(var a=["<cols>"],s,i=0;i!=r.length;++i)(s=r[i])&&(a[a.length]=gt("col",null,gx(i,s)));return a[a.length]="</cols>",a.join("")}function R7(t,r,a,s){var i=typeof t.ref=="string"?t.ref:ys(t.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var o=a.Workbook.Names,c=Di(i);c.s.r==c.e.r&&(c.e.r=Di(r["!ref"]).e.r,i=ys(c));for(var d=0;d<o.length;++d){var h=o[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==s){h.Ref="'"+a.SheetNames[s]+"'!"+i;break}}return d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+a.SheetNames[s]+"'!"+i}),gt("autoFilter",null,{ref:i})}function F7(t,r,a,s){var i={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),gt("sheetViews",gt("sheetView",null,i),{})}function O7(t,r,a,s){if(t.c&&a["!comments"].push([r,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Qf[t.v];break;case"d":s&&s.cellDates?i=Fn(t.v,-1).toISOString():(t=li(t),t.t="n",i=""+(t.v=ii(Fn(t.v)))),typeof t.z>"u"&&(t.z=as[14]);break;default:i=t.v;break}var d=an("v",oa(i)),h={r},f=ed(s.cellXfs,t,s);switch(f!==0&&(h.s=f),t.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){d=an("v",""+F1(s.Strings,t.v,s.revStrings)),h.t="s";break}h.t="str";break}if(t.t!=o&&(t.t=o,t.v=c),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,r.length)==r?{t:"array",ref:t.F}:null;d=gt("f",oa(t.f),p)+(t.v!=null?d:"")}return t.l&&a["!links"].push([r,t.l]),t.D&&(h.cm=1),gt("c",d,h)}function P7(t,r,a,s){var i=[],o=[],c=Ta(t["!ref"]),d="",h,f="",p=[],g=0,b=0,m=t["!rows"],v=Array.isArray(t),N={r:f},w,A=-1;for(b=c.s.c;b<=c.e.c;++b)p[b]=yn(b);for(g=c.s.r;g<=c.e.r;++g){for(o=[],f=nn(g),b=c.s.c;b<=c.e.c;++b){h=p[b]+f;var E=v?(t[g]||[])[b]:t[h];E!==void 0&&(d=O7(E,h,t,r))!=null&&o.push(d)}(o.length>0||m&&m[g])&&(N={r:f},m&&m[g]&&(w=m[g],w.hidden&&(N.hidden=1),A=-1,w.hpx?A=Gp(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(N.ht=A,N.customHeight=1),w.level&&(N.outlineLevel=w.level)),i[i.length]=gt("row",o.join(""),N))}if(m)for(;g<m.length;++g)m&&m[g]&&(N={r:g+1},w=m[g],w.hidden&&(N.hidden=1),A=-1,w.hpx?A=Gp(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(N.ht=A,N.customHeight=1),w.level&&(N.outlineLevel=w.level),i[i.length]=gt("row","",N));return i.join("")}function j4(t,r,a,s){var i=[vs,gt("worksheet",null,{xmlns:Su[0],"xmlns:r":zs.r})],o=a.SheetNames[t],c=0,d="",h=a.Sheets[o];h==null&&(h={});var f=h["!ref"]||"A1",p=Ta(f);if(p.e.c>16383||p.e.r>1048575){if(r.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=ys(p)}s||(s={}),h["!comments"]=[];var g=[];A7(h,a,t,r,i),i[i.length]=gt("dimension",null,{ref:f}),i[i.length]=F7(h,r,t,a),r.sheetFormat&&(i[i.length]=gt("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(i[i.length]=L7(h,h["!cols"])),i[c=i.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(d=P7(h,r),d.length>0&&(i[i.length]=d)),i.length>c+1&&(i[i.length]="</sheetData>",i[c]=i[c].replace("/>",">")),h["!protect"]&&(i[i.length]=T7(h["!protect"])),h["!autofilter"]!=null&&(i[i.length]=R7(h["!autofilter"],h,a,t)),h["!merges"]!=null&&h["!merges"].length>0&&(i[i.length]=k7(h["!merges"]));var b=-1,m,v=-1;return h["!links"].length>0&&(i[i.length]="<hyperlinks>",h["!links"].forEach(function(N){N[1].Target&&(m={ref:N[0]},N[1].Target.charAt(0)!="#"&&(v=ia(s,-1,oa(N[1].Target).replace(/#.*$/,""),Yr.HLINK),m["r:id"]="rId"+v),(b=N[1].Target.indexOf("#"))>-1&&(m.location=oa(N[1].Target.slice(b+1))),N[1].Tooltip&&(m.tooltip=oa(N[1].Tooltip)),i[i.length]=gt("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(i[i.length]=D7(h["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(i[i.length]=an("ignoredErrors",gt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),g.length>0&&(v=ia(s,-1,"../drawings/drawing"+(t+1)+".xml",Yr.DRAW),i[i.length]=gt("drawing",null,{"r:id":"rId"+v}),h["!drawing"]=g),h["!comments"].length>0&&(v=ia(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Yr.VML),i[i.length]=gt("legacyDrawing",null,{"r:id":"rId"+v}),h["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function I7(t,r){var a={},s=t.l+r;a.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=s,o&7&&(a.level=o&7),o&16&&(a.hidden=!0),o&32&&(a.hpt=i/20),a}function M7(t,r,a){var s=We(145),i=(a["!rows"]||[])[t]||{};s.write_shift(4,t),s.write_shift(4,0);var o=320;i.hpx?o=Gp(i.hpx)*20:i.hpt&&(o=i.hpt*20),s.write_shift(2,o),s.write_shift(1,0);var c=0;i.level&&(c|=i.level),i.hidden&&(c|=16),(i.hpx||i.hpt)&&(c|=32),s.write_shift(1,c),s.write_shift(1,0);var d=0,h=s.l;s.l+=4;for(var f={r:t,c:0},p=0;p<16;++p)if(!(r.s.c>p+1<<10||r.e.c<p<<10)){for(var g=-1,b=-1,m=p<<10;m<p+1<<10;++m){f.c=m;var v=Array.isArray(a)?(a[f.r]||[])[f.c]:a[ca(f)];v&&(g<0&&(g=m),b=m)}g<0||(++d,s.write_shift(4,g),s.write_shift(4,b))}var N=s.l;return s.l=h,s.write_shift(4,d),s.l=N,s.length>s.l?s.slice(0,s.l):s}function B7(t,r,a,s){var i=M7(s,a,r);(i.length>17||(r["!rows"]||[])[s])&&lt(t,0,i)}var z7=Kd,U7=ku;function H7(){}function q7(t,r){var a={},s=t[t.l];return++t.l,a.above=!(s&64),a.left=!(s&128),t.l+=18,a.name=Q_(t),a}function G7(t,r,a){a==null&&(a=We(84+4*t.length));var s=192;r&&(r.above&&(s&=-65),r.left&&(s&=-129)),a.write_shift(1,s);for(var i=1;i<3;++i)a.write_shift(1,0);return zp({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),Mw(t,a),a.slice(0,a.l)}function $7(t){var r=rl(t);return[r]}function Y7(t,r,a){return a==null&&(a=We(8)),Wd(r,a)}function V7(t){var r=Xd(t);return[r]}function W7(t,r,a){return a==null&&(a=We(4)),Jd(r,a)}function X7(t){var r=rl(t),a=t.read_shift(1);return[r,a,"b"]}function J7(t,r,a){return a==null&&(a=We(9)),Wd(r,a),a.write_shift(1,t.v?1:0),a}function K7(t){var r=Xd(t),a=t.read_shift(1);return[r,a,"b"]}function Z7(t,r,a){return a==null&&(a=We(5)),Jd(r,a),a.write_shift(1,t.v?1:0),a}function Q7(t){var r=rl(t),a=t.read_shift(1);return[r,a,"e"]}function eL(t,r,a){return a==null&&(a=We(9)),Wd(r,a),a.write_shift(1,t.v),a}function tL(t){var r=Xd(t),a=t.read_shift(1);return[r,a,"e"]}function rL(t,r,a){return a==null&&(a=We(8)),Jd(r,a),a.write_shift(1,t.v),a.write_shift(2,0),a.write_shift(1,0),a}function aL(t){var r=rl(t),a=t.read_shift(4);return[r,a,"s"]}function sL(t,r,a){return a==null&&(a=We(12)),Wd(r,a),a.write_shift(4,r.v),a}function nL(t){var r=Xd(t),a=t.read_shift(4);return[r,a,"s"]}function iL(t,r,a){return a==null&&(a=We(8)),Jd(r,a),a.write_shift(4,r.v),a}function lL(t){var r=rl(t),a=Au(t);return[r,a,"n"]}function oL(t,r,a){return a==null&&(a=We(16)),Wd(r,a),Hd(t.v,a),a}function cL(t){var r=Xd(t),a=Au(t);return[r,a,"n"]}function dL(t,r,a){return a==null&&(a=We(12)),Jd(r,a),Hd(t.v,a),a}function uL(t){var r=rl(t),a=Bw(t);return[r,a,"n"]}function fL(t,r,a){return a==null&&(a=We(12)),Wd(r,a),zw(t.v,a),a}function hL(t){var r=Xd(t),a=Bw(t);return[r,a,"n"]}function pL(t,r,a){return a==null&&(a=We(8)),Jd(r,a),zw(t.v,a),a}function xL(t){var r=rl(t),a=k1(t);return[r,a,"is"]}function mL(t){var r=rl(t),a=vn(t);return[r,a,"str"]}function gL(t,r,a){return a==null&&(a=We(12+4*t.v.length)),Wd(r,a),Hs(t.v,a),a.length>a.l?a.slice(0,a.l):a}function bL(t){var r=Xd(t),a=vn(t);return[r,a,"str"]}function yL(t,r,a){return a==null&&(a=We(8+4*t.v.length)),Jd(r,a),Hs(t.v,a),a.length>a.l?a.slice(0,a.l):a}function vL(t,r,a){var s=t.l+r,i=rl(t);i.r=a["!row"];var o=t.read_shift(1),c=[i,o,"b"];if(a.cellFormula){t.l+=2;var d=mx(t,s-t.l,a);c[3]=gu(d,null,i,a.supbooks,a)}else t.l=s;return c}function NL(t,r,a){var s=t.l+r,i=rl(t);i.r=a["!row"];var o=t.read_shift(1),c=[i,o,"e"];if(a.cellFormula){t.l+=2;var d=mx(t,s-t.l,a);c[3]=gu(d,null,i,a.supbooks,a)}else t.l=s;return c}function wL(t,r,a){var s=t.l+r,i=rl(t);i.r=a["!row"];var o=Au(t),c=[i,o,"n"];if(a.cellFormula){t.l+=2;var d=mx(t,s-t.l,a);c[3]=gu(d,null,i,a.supbooks,a)}else t.l=s;return c}function jL(t,r,a){var s=t.l+r,i=rl(t);i.r=a["!row"];var o=vn(t),c=[i,o,"str"];if(a.cellFormula){t.l+=2;var d=mx(t,s-t.l,a);c[3]=gu(d,null,i,a.supbooks,a)}else t.l=s;return c}var SL=Kd,EL=ku;function kL(t,r){return r==null&&(r=We(4)),r.write_shift(4,t),r}function AL(t,r){var a=t.l+r,s=Kd(t),i=A1(t),o=vn(t),c=vn(t),d=vn(t);t.l=a;var h={rfx:s,relId:i,loc:o,display:d};return c&&(h.Tooltip=c),h}function _L(t,r){var a=We(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ku({s:Us(t[0]),e:Us(t[0])},a),_1("rId"+r,a);var s=t[1].Target.indexOf("#"),i=s==-1?"":t[1].Target.slice(s+1);return Hs(i||"",a),Hs(t[1].Tooltip||"",a),Hs("",a),a.slice(0,a.l)}function CL(){}function TL(t,r,a){var s=t.l+r,i=Uw(t),o=t.read_shift(1),c=[i];if(c[2]=o,a.cellFormula){var d=b7(t,s-t.l,a);c[1]=d}else t.l=s;return c}function DL(t,r,a){var s=t.l+r,i=Kd(t),o=[i];if(a.cellFormula){var c=v7(t,s-t.l,a);o[1]=c,t.l=s}else t.l=s;return o}function LL(t,r,a){a==null&&(a=We(18));var s=gx(t,r);a.write_shift(-4,t),a.write_shift(-4,t),a.write_shift(4,(s.width||10)*256),a.write_shift(4,0);var i=0;return r.hidden&&(i|=1),typeof s.width=="number"&&(i|=2),r.level&&(i|=r.level<<8),a.write_shift(2,i),a}var S4=["left","right","top","bottom","header","footer"];function RL(t){var r={};return S4.forEach(function(a){r[a]=Au(t)}),r}function FL(t,r){return r==null&&(r=We(48)),w4(t),S4.forEach(function(a){Hd(t[a],r)}),r}function OL(t){var r=t.read_shift(2);return t.l+=28,{RTL:r&32}}function PL(t,r,a){a==null&&(a=We(30));var s=924;return(((r||{}).Views||[])[0]||{}).RTL&&(s|=32),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function IL(t){var r=We(24);return r.write_shift(4,4),r.write_shift(4,1),ku(t,r),r}function ML(t,r){return r==null&&(r=We(66)),r.write_shift(2,t.password?n4(t.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?r.write_shift(4,t[a[0]]!=null&&!t[a[0]]?1:0):r.write_shift(4,t[a[0]]!=null&&t[a[0]]?0:1)}),r}function BL(){}function zL(){}function UL(t,r,a,s,i,o,c){if(r.v===void 0)return!1;var d="";switch(r.t){case"b":d=r.v?"1":"0";break;case"d":r=li(r),r.z=r.z||as[14],r.v=ii(Fn(r.v)),r.t="n";break;case"n":case"e":d=""+r.v;break;default:d=r.v;break}var h={r:a,c:s};switch(h.s=ed(i.cellXfs,r,i),r.l&&o["!links"].push([ca(h),r.l]),r.c&&o["!comments"].push([ca(h),r.c]),r.t){case"s":case"str":return i.bookSST?(d=F1(i.Strings,r.v,i.revStrings),h.t="s",h.v=d,c?lt(t,18,iL(r,h)):lt(t,7,sL(r,h))):(h.t="str",c?lt(t,17,yL(r,h)):lt(t,6,gL(r,h))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?c?lt(t,13,pL(r,h)):lt(t,2,fL(r,h)):c?lt(t,16,dL(r,h)):lt(t,5,oL(r,h)),!0;case"b":return h.t="b",c?lt(t,15,Z7(r,h)):lt(t,4,J7(r,h)),!0;case"e":return h.t="e",c?lt(t,14,rL(r,h)):lt(t,3,eL(r,h)),!0}return c?lt(t,12,W7(r,h)):lt(t,1,Y7(r,h)),!0}function HL(t,r,a,s){var i=Ta(r["!ref"]||"A1"),o,c="",d=[];lt(t,145);var h=Array.isArray(r),f=i.e.r;r["!rows"]&&(f=Math.max(i.e.r,r["!rows"].length-1));for(var p=i.s.r;p<=f;++p){c=nn(p),B7(t,r,i,p);var g=!1;if(p<=i.e.r)for(var b=i.s.c;b<=i.e.c;++b){p===i.s.r&&(d[b]=yn(b)),o=d[b]+c;var m=h?(r[p]||[])[b]:r[o];if(!m){g=!1;continue}g=UL(t,m,p,b,s,r,g)}}lt(t,146)}function qL(t,r){!r||!r["!merges"]||(lt(t,177,kL(r["!merges"].length)),r["!merges"].forEach(function(a){lt(t,176,EL(a))}),lt(t,178))}function GL(t,r){!r||!r["!cols"]||(lt(t,390),r["!cols"].forEach(function(a,s){a&&lt(t,60,LL(s,a))}),lt(t,391))}function $L(t,r){!r||!r["!ref"]||(lt(t,648),lt(t,649,IL(Ta(r["!ref"]))),lt(t,650))}function YL(t,r,a){r["!links"].forEach(function(s){if(s[1].Target){var i=ia(a,-1,s[1].Target.replace(/#.*$/,""),Yr.HLINK);lt(t,494,_L(s,i))}}),delete r["!links"]}function VL(t,r,a,s){if(r["!comments"].length>0){var i=ia(s,-1,"../drawings/vmlDrawing"+(a+1)+".vml",Yr.VML);lt(t,551,_1("rId"+i)),r["!legacy"]=i}}function WL(t,r,a,s){if(r["!autofilter"]){var i=r["!autofilter"],o=typeof i.ref=="string"?i.ref:ys(i.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var c=a.Workbook.Names,d=Di(o);d.s.r==d.e.r&&(d.e.r=Di(r["!ref"]).e.r,o=ys(d));for(var h=0;h<c.length;++h){var f=c[h];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==s){f.Ref="'"+a.SheetNames[s]+"'!"+o;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+a.SheetNames[s]+"'!"+o}),lt(t,161,ku(Ta(o))),lt(t,162)}}function XL(t,r,a){lt(t,133),lt(t,137,PL(r,a)),lt(t,138),lt(t,134)}function JL(t,r){r["!protect"]&&lt(t,535,ML(r["!protect"]))}function KL(t,r,a,s){var i=ni(),o=a.SheetNames[t],c=a.Sheets[o]||{},d=o;try{a&&a.Workbook&&(d=a.Workbook.Sheets[t].CodeName||d)}catch{}var h=Ta(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(r.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],lt(i,129),(a.vbaraw||c["!outline"])&&lt(i,147,G7(d,c["!outline"])),lt(i,148,U7(h)),XL(i,c,a.Workbook),GL(i,c),HL(i,c,t,r),JL(i,c),WL(i,c,a,t),qL(i,c),YL(i,c,s),c["!margins"]&&lt(i,476,FL(c["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&$L(i,c),VL(i,c,t,s),lt(i,130),i.end()}function ZL(t,r){t.l+=10;var a=vn(t);return{name:a}}var QL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function eR(t){return!t.Workbook||!t.Workbook.WBProps?"false":D_(t.Workbook.WBProps.date1904)?"true":"false"}var tR="][*?/\\".split("");function E4(t,r){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return tR.forEach(function(s){if(t.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function rR(t,r,a){t.forEach(function(s,i){E4(s);for(var o=0;o<i;++o)if(s==t[o])throw new Error("Duplicate Sheet Name: "+s);if(a){var c=r&&r[i]&&r[i].CodeName||s;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function aR(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var r=t.Workbook&&t.Workbook.Sheets||[];rR(t.SheetNames,r,!!t.vbaraw);for(var a=0;a<t.SheetNames.length;++a)E7(t.Sheets[t.SheetNames[a]],t.SheetNames[a],a)}function k4(t){var r=[vs];r[r.length]=gt("workbook",null,{xmlns:Su[0],"xmlns:r":zs.r});var a=t.Workbook&&(t.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(QL.forEach(function(d){t.Workbook.WBProps[d[0]]!=null&&t.Workbook.WBProps[d[0]]!=d[1]&&(s[d[0]]=t.Workbook.WBProps[d[0]])}),t.Workbook.WBProps.CodeName&&(s.codeName=t.Workbook.WBProps.CodeName,delete s.CodeName)),r[r.length]=gt("workbookPr",null,s);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(r[r.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),r[r.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var c={name:oa(t.SheetNames[o].slice(0,31))};if(c.sheetId=""+(o+1),c["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}r[r.length]=gt("sheet",null,c)}return r[r.length]="</sheets>",a&&(r[r.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(d){var h={name:d.Name};d.Comment&&(h.comment=d.Comment),d.Sheet!=null&&(h.localSheetId=""+d.Sheet),d.Hidden&&(h.hidden="1"),d.Ref&&(r[r.length]=gt("definedName",oa(d.Ref),h))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function sR(t,r){var a={};return a.Hidden=t.read_shift(4),a.iTabID=t.read_shift(4),a.strRelID=Ig(t),a.name=vn(t),a}function nR(t,r){return r||(r=We(127)),r.write_shift(4,t.Hidden),r.write_shift(4,t.iTabID),_1(t.strRelID,r),Hs(t.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function iR(t,r){var a={},s=t.read_shift(4);a.defaultThemeVersion=t.read_shift(4);var i=r>8?vn(t):"";return i.length>0&&(a.CodeName=i),a.autoCompressPictures=!!(s&65536),a.backupFile=!!(s&64),a.checkCompatibility=!!(s&4096),a.date1904=!!(s&1),a.filterPrivacy=!!(s&8),a.hidePivotFieldList=!!(s&1024),a.promptedSolutions=!!(s&16),a.publishItems=!!(s&2048),a.refreshAllConnections=!!(s&262144),a.saveExternalLinkValues=!!(s&128),a.showBorderUnselectedTables=!!(s&4),a.showInkAnnotation=!!(s&32),a.showObjects=["all","placeholders","none"][s>>13&3],a.showPivotChartFilter=!!(s&32768),a.updateLinks=["userSet","never","always"][s>>8&3],a}function lR(t,r){r||(r=We(72));var a=0;return t&&t.filterPrivacy&&(a|=8),r.write_shift(4,a),r.write_shift(4,0),Mw(t&&t.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function oR(t,r,a){var s=t.l+r;t.l+=4,t.l+=1;var i=t.read_shift(4),o=eC(t),c=y7(t,0,a),d=A1(t);t.l=s;var h={Name:o,Ptg:c};return i<268435455&&(h.Sheet=i),d&&(h.Comment=d),h}function cR(t,r){lt(t,143);for(var a=0;a!=r.SheetNames.length;++a){var s=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a]&&r.Workbook.Sheets[a].Hidden||0,i={Hidden:s,iTabID:a+1,strRelID:"rId"+(a+1),name:r.SheetNames[a]};lt(t,156,nR(i))}lt(t,144)}function dR(t,r){r||(r=We(127));for(var a=0;a!=4;++a)r.write_shift(4,0);return Hs("SheetJS",r),Hs(Lp.version,r),Hs(Lp.version,r),Hs("7262",r),r.length>r.l?r.slice(0,r.l):r}function uR(t,r){r||(r=We(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,t),r.write_shift(4,t);var a=120;return r.write_shift(1,a),r.length>r.l?r.slice(0,r.l):r}function fR(t,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var a=r.Workbook.Sheets,s=0,i=-1,o=-1;s<a.length;++s)!a[s]||!a[s].Hidden&&i==-1?i=s:a[s].Hidden==1&&o==-1&&(o=s);o>i||(lt(t,135),lt(t,158,uR(i)),lt(t,136))}}function hR(t,r){var a=ni();return lt(a,131),lt(a,128,dR()),lt(a,153,lR(t.Workbook&&t.Workbook.WBProps||null)),fR(a,t),cR(a,t),lt(a,132),a.end()}function pR(t,r,a){return(r.slice(-4)===".bin"?hR:k4)(t)}function xR(t,r,a,s,i){return(r.slice(-4)===".bin"?KL:j4)(t,a,s,i)}function mR(t,r,a){return(r.slice(-4)===".bin"?FT:o4)(t,a)}function gR(t,r,a){return(r.slice(-4)===".bin"?lT:s4)(t,a)}function bR(t,r,a){return(r.slice(-4)===".bin"?JT:h4)(t)}function yR(t){return(t.slice(-4)===".bin"?HT:u4)()}function vR(t,r){var a=[];return t.Props&&a.push(mC(t.Props,r)),t.Custprops&&a.push(gC(t.Props,t.Custprops)),a.join("")}function NR(){return""}function wR(t,r){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(s,i){var o=[];o.push(gt("NumberFormat",null,{"ss:Format":oa(as[s.numFmtId])}));var c={"ss:ID":"s"+(21+i)};a.push(gt("Style",o.join(""),c))}),gt("Styles",a.join(""))}function A4(t){return gt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+L1(t.Ref,{r:0,c:0})})}function jR(t){if(!((t||{}).Workbook||{}).Names)return"";for(var r=t.Workbook.Names,a=[],s=0;s<r.length;++s){var i=r[s];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||a.push(A4(i)))}return gt("Names",a.join(""))}function SR(t,r,a,s){if(!t||!((s||{}).Workbook||{}).Names)return"";for(var i=s.Workbook.Names,o=[],c=0;c<i.length;++c){var d=i[c];d.Sheet==a&&(d.Name.match(/^_xlfn\./)||o.push(A4(d)))}return o.join("")}function ER(t,r,a,s){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(gt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(gt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(gt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[a])if(s.Workbook.Sheets[a].Hidden)i.push(gt("Visible",s.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<a&&!(s.Workbook.Sheets[o]&&!s.Workbook.Sheets[o].Hidden);++o);o==a&&i.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(an("ProtectContents","True")),t["!protect"].objects&&i.push(an("ProtectObjects","True")),t["!protect"].scenarios&&i.push(an("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(an("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(an("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&i.push("<"+c[1]+"/>")})),i.length==0?"":gt("WorksheetOptions",i.join(""),{xmlns:_i.x})}function kR(t){return t.map(function(r){var a=T_(r.t||""),s=gt("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return gt("Comment",s,{"ss:Author":r.a})}).join("")}function AR(t,r,a,s,i,o,c){if(!t||t.v==null&&t.f==null)return"";var d={};if(t.f&&(d["ss:Formula"]="="+oa(L1(t.f,c))),t.F&&t.F.slice(0,r.length)==r){var h=Us(t.F.slice(r.length+1));d["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(t.l&&t.l.Target&&(d["ss:HRef"]=oa(t.l.Target),t.l.Tooltip&&(d["x:HRefScreenTip"]=oa(t.l.Tooltip))),a["!merges"])for(var f=a["!merges"],p=0;p!=f.length;++p)f[p].s.c!=c.c||f[p].s.r!=c.r||(f[p].e.c>f[p].s.c&&(d["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(d["ss:MergeDown"]=f[p].e.r-f[p].s.r));var g="",b="";switch(t.t){case"z":if(!s.sheetStubs)return"";break;case"n":g="Number",b=String(t.v);break;case"b":g="Boolean",b=t.v?"1":"0";break;case"e":g="Error",b=Qf[t.v];break;case"d":g="DateTime",b=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||as[14]);break;case"s":g="String",b=C_(t.v||"");break}var m=ed(s.cellXfs,t,s);d["ss:StyleID"]="s"+(21+m),d["ss:Index"]=c.c+1;var v=t.v!=null?b:"",N=t.t=="z"?"":'<Data ss:Type="'+g+'">'+v+"</Data>";return(t.c||[]).length>0&&(N+=kR(t.c)),gt("Cell",N,d)}function _R(t,r){var a='<Row ss:Index="'+(t+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=l4(r.hpt)),r.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(a+=' ss:Hidden="1"')),a+">"}function CR(t,r,a,s){if(!t["!ref"])return"";var i=Ta(t["!ref"]),o=t["!merges"]||[],c=0,d=[];t["!cols"]&&t["!cols"].forEach(function(w,A){T1(w);var E=!!w.width,T=gx(A,w),_={"ss:Index":A+1};E&&(_["ss:Width"]=Hp(T.width)),w.hidden&&(_["ss:Hidden"]="1"),d.push(gt("Column",null,_))});for(var h=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var p=[_R(f,(t["!rows"]||[])[f])],g=i.s.c;g<=i.e.c;++g){var b=!1;for(c=0;c!=o.length;++c)if(!(o[c].s.c>g)&&!(o[c].s.r>f)&&!(o[c].e.c<g)&&!(o[c].e.r<f)){(o[c].s.c!=g||o[c].s.r!=f)&&(b=!0);break}if(!b){var m={r:f,c:g},v=ca(m),N=h?(t[f]||[])[g]:t[v];p.push(AR(N,v,t,r,a,s,m))}}p.push("</Row>"),p.length>2&&d.push(p.join(""))}return d.join("")}function TR(t,r,a){var s=[],i=a.SheetNames[t],o=a.Sheets[i],c=o?SR(o,r,t,a):"";return c.length>0&&s.push("<Names>"+c+"</Names>"),c=o?CR(o,r,t,a):"",c.length>0&&s.push("<Table>"+c+"</Table>"),s.push(ER(o,r,t,a)),s.join("")}function DR(t,r){r||(r={}),t.SSF||(t.SSF=li(as)),t.SSF&&(fx(),ux(t.SSF),r.revssf=hx(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF,r.cellXfs=[],ed(r.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(vR(t,r)),a.push(NR()),a.push(""),a.push("");for(var s=0;s<t.SheetNames.length;++s)a.push(gt("Worksheet",TR(s,r,t),{"ss:Name":oa(t.SheetNames[s])}));return a[2]=wR(t,r),a[3]=jR(t),vs+gt("Workbook",a.join(""),{xmlns:_i.ss,"xmlns:o":_i.o,"xmlns:x":_i.x,"xmlns:ss":_i.ss,"xmlns:dt":_i.dt,"xmlns:html":_i.html})}var Jm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function LR(t,r){var a=[],s=[],i=[],o=0,c,d=X2(ov,"n"),h=X2(cv,"n");if(t.Props)for(c=ln(t.Props),o=0;o<c.length;++o)(Object.prototype.hasOwnProperty.call(d,c[o])?a:Object.prototype.hasOwnProperty.call(h,c[o])?s:i).push([c[o],t.Props[c[o]]]);if(t.Custprops)for(c=ln(t.Custprops),o=0;o<c.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},c[o])||(Object.prototype.hasOwnProperty.call(d,c[o])?a:Object.prototype.hasOwnProperty.call(h,c[o])?s:i).push([c[o],t.Custprops[c[o]]]);var f=[];for(o=0;o<i.length;++o)Kw.indexOf(i[o][0])>-1||Ww.indexOf(i[o][0])>-1||i[o][1]!=null&&f.push(i[o]);s.length&&ga.utils.cfb_add(r,"/SummaryInformation",pv(s,Jm.SI,h,cv)),(a.length||f.length)&&ga.utils.cfb_add(r,"/DocumentSummaryInformation",pv(a,Jm.DSI,d,ov,f.length?f:null,Jm.UDI))}function RR(t,r){var a=r||{},s=ga.utils.cfb_new({root:"R"}),i="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":i="/Workbook",a.biff=8;break;case"biff5":i="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return ga.utils.cfb_add(s,i,_4(t,a)),a.biff==8&&(t.Props||t.Custprops)&&LR(t,s),a.biff==8&&t.vbaraw&&KT(s,ga.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),s}var FR={0:{f:I7},1:{f:$7},2:{f:uL},3:{f:Q7},4:{f:X7},5:{f:lL},6:{f:mL},7:{f:aL},8:{f:jL},9:{f:wL},10:{f:vL},11:{f:NL},12:{f:V7},13:{f:hL},14:{f:tL},15:{f:K7},16:{f:cL},17:{f:bL},18:{f:nL},19:{f:k1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oR},40:{},42:{},43:{f:mT},44:{f:pT},45:{f:yT},46:{f:NT},47:{f:vT},48:{},49:{f:V_},50:{},51:{f:IT},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:WC},62:{f:xL},63:{f:qT},64:{f:BL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:mo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:OL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:q7},148:{f:z7,p:16},151:{f:CL},152:{},153:{f:iR},154:{},155:{},156:{f:sR},157:{},158:{},159:{T:1,f:sT},160:{T:-1},161:{T:1,f:Kd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:SL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:OT},336:{T:-1},337:{f:zT,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ig},357:{},358:{},359:{},360:{T:1},361:{},362:{f:HC},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:TL},427:{f:DL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:RL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:H7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:AL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ig},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:WT},633:{T:1},634:{T:-1},635:{T:1,f:YT},636:{T:-1},637:{f:K_},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ZL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:zL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function yt(t,r,a,s){var i=r;if(!isNaN(i)){var o=s||(a||[]).length||0,c=t.next(4);c.write_shift(2,i),c.write_shift(2,o),o>0&&j1(a)&&t.push(a)}}function OR(t,r,a,s){var i=(a||[]).length||0;if(i<=8224)return yt(t,r,a,i);var o=r;if(!isNaN(o)){for(var c=a.parts||[],d=0,h=0,f=0;f+(c[d]||8224)<=8224;)f+=c[d]||8224,d++;var p=t.next(4);for(p.write_shift(2,o),p.write_shift(2,f),t.push(a.slice(h,h+f)),h+=f;h<i;){for(p=t.next(4),p.write_shift(2,60),f=0;f+(c[d]||8224)<=8224;)f+=c[d]||8224,d++;p.write_shift(2,f),t.push(a.slice(h,h+f)),h+=f}}}function th(t,r,a){return t||(t=We(7)),t.write_shift(2,r),t.write_shift(2,a),t.write_shift(2,0),t.write_shift(1,0),t}function PR(t,r,a,s){var i=We(9);return th(i,t,r),Qw(a,s||"b",i),i}function IR(t,r,a){var s=We(8+2*a.length);return th(s,t,r),s.write_shift(1,a.length),s.write_shift(a.length,a,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function MR(t,r,a,s){if(r.v!=null)switch(r.t){case"d":case"n":var i=r.t=="d"?ii(Fn(r.v)):r.v;i==(i|0)&&i>=0&&i<65536?yt(t,2,ZC(a,s,i)):yt(t,3,KC(a,s,i));return;case"b":case"e":yt(t,5,PR(a,s,r.v,r.t));return;case"s":case"str":yt(t,4,IR(a,s,(r.v||"").slice(0,255)));return}yt(t,1,th(null,a,s))}function BR(t,r,a,s){var i=Array.isArray(r),o=Ta(r["!ref"]||"A1"),c,d="",h=[];if(o.e.c>255||o.e.r>16383){if(s.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),c=ys(o)}for(var f=o.s.r;f<=o.e.r;++f){d=nn(f);for(var p=o.s.c;p<=o.e.c;++p){f===o.s.r&&(h[p]=yn(p)),c=h[p]+d;var g=i?(r[f]||[])[p]:r[c];g&&MR(t,g,f,p)}}}function zR(t,r){for(var a=r||{},s=ni(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==a.sheet&&(i=o);if(i==0&&a.sheet&&t.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return yt(s,a.biff==4?1033:a.biff==3?521:9,C1(t,16,a)),BR(s,t.Sheets[t.SheetNames[i]],i,a),yt(s,10),s.end()}function UR(t,r,a){yt(t,49,FC({sz:12,name:"Arial"},a))}function HR(t,r,a){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&yt(t,1054,IC(i,r[i],a))})}function qR(t,r){var a=We(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),yt(t,2151,a),a=We(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),r4(Ta(r["!ref"]||"A1"),a),a.write_shift(4,4),yt(t,2152,a)}function GR(t,r){for(var a=0;a<16;++a)yt(t,224,mv({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(s){yt(t,224,mv(s,0,r))})}function $R(t,r){for(var a=0;a<r["!links"].length;++a){var s=r["!links"][a];yt(t,440,$C(s)),s[1].Tooltip&&yt(t,2048,YC(s))}delete r["!links"]}function YR(t,r){if(r){var a=0;r.forEach(function(s,i){++a<=256&&s&&yt(t,125,XC(gx(i,s),i))})}}function VR(t,r,a,s,i){var o=16+ed(i.cellXfs,r,i);if(r.v==null&&!r.bf){yt(t,513,qd(a,s,o));return}if(r.bf)yt(t,6,g7(r,a,s,i,o));else switch(r.t){case"d":case"n":var c=r.t=="d"?ii(Fn(r.v)):r.v;yt(t,515,UC(a,s,c,o));break;case"b":case"e":yt(t,517,zC(a,s,r.v,o,i,r.t));break;case"s":case"str":if(i.bookSST){var d=F1(i.Strings,r.v,i.revStrings);yt(t,253,OC(a,s,d,o))}else yt(t,516,PC(a,s,(r.v||"").slice(0,255),o,i));break;default:yt(t,513,qd(a,s,o))}}function WR(t,r,a){var s=ni(),i=a.SheetNames[t],o=a.Sheets[i]||{},c=(a||{}).Workbook||{},d=(c.Sheets||[])[t]||{},h=Array.isArray(o),f=r.biff==8,p,g="",b=[],m=Ta(o["!ref"]||"A1"),v=f?65536:16384;if(m.e.c>255||m.e.r>=v){if(r.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,v-1)}yt(s,2057,C1(a,16,r)),yt(s,13,Ki(1)),yt(s,12,Ki(100)),yt(s,15,Dn(!0)),yt(s,17,Dn(!1)),yt(s,16,Hd(.001)),yt(s,95,Dn(!0)),yt(s,42,Dn(!1)),yt(s,43,Dn(!1)),yt(s,130,Ki(1)),yt(s,128,BC()),yt(s,131,Dn(!1)),yt(s,132,Dn(!1)),f&&YR(s,o["!cols"]),yt(s,512,MC(m,r)),f&&(o["!links"]=[]);for(var N=m.s.r;N<=m.e.r;++N){g=nn(N);for(var w=m.s.c;w<=m.e.c;++w){N===m.s.r&&(b[w]=yn(w)),p=b[w]+g;var A=h?(o[N]||[])[w]:o[p];A&&(VR(s,A,N,w,r),f&&A.l&&o["!links"].push([p,A.l]))}}var E=d.CodeName||d.name||i;return f&&yt(s,574,RC((c.Views||[])[0])),f&&(o["!merges"]||[]).length&&yt(s,229,GC(o["!merges"])),f&&$R(s,o),yt(s,442,t4(E)),f&&qR(s,o),yt(s,10),s.end()}function XR(t,r,a){var s=ni(),i=(t||{}).Workbook||{},o=i.Sheets||[],c=i.WBProps||{},d=a.biff==8,h=a.biff==5;if(yt(s,2057,C1(t,5,a)),a.bookType=="xla"&&yt(s,135),yt(s,225,d?Ki(1200):null),yt(s,193,vC(2)),h&&yt(s,191),h&&yt(s,192),yt(s,226),yt(s,92,CC("SheetJS",a)),yt(s,66,Ki(d?1200:1252)),d&&yt(s,353,Ki(0)),d&&yt(s,448),yt(s,317,JC(t.SheetNames.length)),d&&t.vbaraw&&yt(s,211),d&&t.vbaraw){var f=c.CodeName||"ThisWorkbook";yt(s,442,t4(f))}yt(s,156,Ki(17)),yt(s,25,Dn(!1)),yt(s,18,Dn(!1)),yt(s,19,Ki(0)),d&&yt(s,431,Dn(!1)),d&&yt(s,444,Ki(0)),yt(s,61,LC()),yt(s,64,Dn(!1)),yt(s,141,Ki(0)),yt(s,34,Dn(eR(t)=="true")),yt(s,14,Dn(!0)),d&&yt(s,439,Dn(!1)),yt(s,218,Ki(0)),UR(s,t,a),HR(s,t.SSF,a),GR(s,a),d&&yt(s,352,Dn(!1));var p=s.end(),g=ni();d&&yt(g,140,VC()),d&&a.Strings&&OR(g,252,DC(a.Strings)),yt(g,10);var b=g.end(),m=ni(),v=0,N=0;for(N=0;N<t.SheetNames.length;++N)v+=(d?12:11)+(d?2:1)*t.SheetNames[N].length;var w=p.length+v+b.length;for(N=0;N<t.SheetNames.length;++N){var A=o[N]||{};yt(m,133,TC({pos:w,hs:A.Hidden||0,dt:0,name:t.SheetNames[N]},a)),w+=r[N].length}var E=m.end();if(v!=E.length)throw new Error("BS8 "+v+" != "+E.length);var T=[];return p.length&&T.push(p),E.length&&T.push(E),b.length&&T.push(b),rn(T)}function JR(t,r){var a=r||{},s=[];t&&!t.SSF&&(t.SSF=li(as)),t&&t.SSF&&(fx(),ux(t.SSF),a.revssf=hx(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,O1(a),a.cellXfs=[],ed(a.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)s[s.length]=WR(i,a,t);return s.unshift(XR(t,s,a)),rn(s)}function _4(t,r){for(var a=0;a<=t.SheetNames.length;++a){var s=t.Sheets[t.SheetNames[a]];if(!(!s||!s["!ref"])){var i=Di(s["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var o=r||{};switch(o.biff||2){case 8:case 5:return JR(t,r);case 4:case 3:case 2:return zR(t,r)}throw new Error("invalid type "+o.bookType+" for BIFF")}function KR(t,r,a,s){for(var i=t["!merges"]||[],o=[],c=r.s.c;c<=r.e.c;++c){for(var d=0,h=0,f=0;f<i.length;++f)if(!(i[f].s.r>a||i[f].s.c>c)&&!(i[f].e.r<a||i[f].e.c<c)){if(i[f].s.r<a||i[f].s.c<c){d=-1;break}d=i[f].e.r-i[f].s.r+1,h=i[f].e.c-i[f].s.c+1;break}if(!(d<0)){var p=ca({r:a,c}),g=s.dense?(t[a]||[])[c]:t[p],b=g&&g.v!=null&&(g.h||__(g.w||(ac(g),g.w)||""))||"",m={};d>1&&(m.rowspan=d),h>1&&(m.colspan=h),s.editable?b='<span contenteditable="true">'+b+"</span>":g&&(m["data-t"]=g&&g.t||"z",g.v!=null&&(m["data-v"]=g.v),g.z!=null&&(m["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+g.l.Target+'">'+b+"</a>")),m.id=(s.id||"sjs")+"-"+p,o.push(gt("td",b,m))}}var v="<tr>";return v+o.join("")+"</tr>"}var ZR='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',QR="</body></html>";function e9(t,r,a){var s=[];return s.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function C4(t,r){var a=r||{},s=a.header!=null?a.header:ZR,i=a.footer!=null?a.footer:QR,o=[s],c=Di(t["!ref"]);a.dense=Array.isArray(t),o.push(e9(t,c,a));for(var d=c.s.r;d<=c.e.r;++d)o.push(KR(t,c,d,a));return o.push("</table>"+i),o.join("")}function T4(t,r,a){var s=a||{},i=0,o=0;if(s.origin!=null)if(typeof s.origin=="number")i=s.origin;else{var c=typeof s.origin=="string"?Us(s.origin):s.origin;i=c.r,o=c.c}var d=r.getElementsByTagName("tr"),h=Math.min(s.sheetRows||1e7,d.length),f={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var p=Di(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var g=[],b=0,m=t["!rows"]||(t["!rows"]=[]),v=0,N=0,w=0,A=0,E=0,T=0;for(t["!cols"]||(t["!cols"]=[]);v<d.length&&N<h;++v){var _=d[v];if(jv(_)){if(s.display)continue;m[N]={hidden:!0}}var O=_.children;for(w=A=0;w<O.length;++w){var W=O[w];if(!(s.display&&jv(W))){var F=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):L_(W.innerHTML),P=W.getAttribute("data-z")||W.getAttribute("z");for(b=0;b<g.length;++b){var z=g[b];z.s.c==A+o&&z.s.r<N+i&&N+i<=z.e.r&&(A=z.e.c+1-o,b=-1)}T=+W.getAttribute("colspan")||1,((E=+W.getAttribute("rowspan")||1)>1||T>1)&&g.push({s:{r:N+i,c:A+o},e:{r:N+i+(E||1)-1,c:A+o+(T||1)-1}});var M={t:"s",v:F},C=W.getAttribute("data-t")||W.getAttribute("t")||"";F!=null&&(F.length==0?M.t=C||"z":s.raw||F.trim().length==0||C=="s"||(F==="TRUE"?M={t:"b",v:!0}:F==="FALSE"?M={t:"b",v:!1}:isNaN(Zo(F))?isNaN(Of(F).getDate())||(M={t:"d",v:Fn(F)},s.cellDates||(M={t:"n",v:ii(M.v)}),M.z=s.dateNF||as[14]):M={t:"n",v:Zo(F)})),M.z===void 0&&P!=null&&(M.z=P);var U="",B=W.getElementsByTagName("A");if(B&&B.length)for(var X=0;X<B.length&&!(B[X].hasAttribute("href")&&(U=B[X].getAttribute("href"),U.charAt(0)!="#"));++X);U&&U.charAt(0)!="#"&&(M.l={Target:U}),s.dense?(t[N+i]||(t[N+i]=[]),t[N+i][A+o]=M):t[ca({c:A+o,r:N+i})]=M,f.e.c<A+o&&(f.e.c=A+o),A+=T}}++N}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),f.e.r=Math.max(f.e.r,N-1+i),t["!ref"]=ys(f),N>=h&&(t["!fullref"]=ys((f.e.r=d.length-v+N-1+i,f))),t}function D4(t,r){var a=r||{},s=a.dense?[]:{};return T4(s,t,r)}function t9(t,r){return Vd(D4(t,r),r)}function jv(t){var r="",a=r9(t);return a&&(r=a(t).getPropertyValue("display")),r||(r=t.style&&t.style.display),r==="none"}function r9(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var a9=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+If({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return vs+r}})(),Sv=(function(){var t=function(o){return oa(o).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,s=function(o,c,d){var h=[];h.push('      <table:table table:name="'+oa(c.SheetNames[d])+`" table:style-name="ta1">
`);var f=0,p=0,g=Di(o["!ref"]||"A1"),b=o["!merges"]||[],m=0,v=Array.isArray(o);if(o["!cols"])for(p=0;p<=g.e.c;++p)h.push("        <table:table-column"+(o["!cols"][p]?' table:style-name="co'+o["!cols"][p].ods+'"':"")+`></table:table-column>
`);var N="",w=o["!rows"]||[];for(f=0;f<g.s.r;++f)N=w[f]?' table:style-name="ro'+w[f].ods+'"':"",h.push("        <table:table-row"+N+`></table:table-row>
`);for(;f<=g.e.r;++f){for(N=w[f]?' table:style-name="ro'+w[f].ods+'"':"",h.push("        <table:table-row"+N+`>
`),p=0;p<g.s.c;++p)h.push(r);for(;p<=g.e.c;++p){var A=!1,E={},T="";for(m=0;m!=b.length;++m)if(!(b[m].s.c>p)&&!(b[m].s.r>f)&&!(b[m].e.c<p)&&!(b[m].e.r<f)){(b[m].s.c!=p||b[m].s.r!=f)&&(A=!0),E["table:number-columns-spanned"]=b[m].e.c-b[m].s.c+1,E["table:number-rows-spanned"]=b[m].e.r-b[m].s.r+1;break}if(A){h.push(a);continue}var _=ca({r:f,c:p}),O=v?(o[f]||[])[p]:o[_];if(O&&O.f&&(E["table:formula"]=oa(j7(O.f)),O.F&&O.F.slice(0,_.length)==_)){var W=Di(O.F);E["table:number-matrix-columns-spanned"]=W.e.c-W.s.c+1,E["table:number-matrix-rows-spanned"]=W.e.r-W.s.r+1}if(!O){h.push(r);continue}switch(O.t){case"b":T=O.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=O.v?"true":"false";break;case"n":T=O.w||String(O.v||0),E["office:value-type"]="float",E["office:value"]=O.v||0;break;case"s":case"str":T=O.v==null?"":O.v,E["office:value-type"]="string";break;case"d":T=O.w||Fn(O.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Fn(O.v).toISOString(),E["table:style-name"]="ce1";break;default:h.push(r);continue}var F=t(T);if(O.l&&O.l.Target){var P=O.l.Target;P=P.charAt(0)=="#"?"#"+S7(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),F=gt("text:a",F,{"xlink:href":P.replace(/&/g,"&amp;")})}h.push("          "+gt("table:table-cell",gt("text:p",F,{}),E)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},i=function(o,c){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var d=0;c.SheetNames.map(function(f){return c.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var g=f["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;T1(g),g.ods=d;var b=f["!cols"][p].wpx+"px";o.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),o.push(`  </style:style>
`),++d}}});var h=0;c.SheetNames.map(function(f){return c.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=h;var g=f["!rows"][p].hpx+"px";o.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),o.push(`  </style:style>
`),++h}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(c,d){var h=[vs],f=If({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=If({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(h.push("<office:document"+f+p+`>
`),h.push(Yw().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+f+`>
`),i(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var g=0;g!=c.SheetNames.length;++g)h.push(s(c.Sheets[c.SheetNames[g]],c,g));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),d.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function L4(t,r){if(r.bookType=="fods")return Sv(t,r);var a=y1(),s="",i=[],o=[];return s="mimetype",jr(a,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",jr(a,s,Sv(t,r)),i.push([s,"text/xml"]),o.push([s,"ContentFile"]),s="styles.xml",jr(a,s,a9(t,r)),i.push([s,"text/xml"]),o.push([s,"StylesFile"]),s="meta.xml",jr(a,s,vs+Yw()),i.push([s,"text/xml"]),o.push([s,"MetadataFile"]),s="manifest.rdf",jr(a,s,xC(o)),i.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",jr(a,s,hC(i)),a}function $p(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function s9(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Rl(Pf(t))}function n9(t,r){e:for(var a=0;a<=t.length-r.length;++a){for(var s=0;s<r.length;++s)if(t[a+s]!=r[s])continue e;return!0}return!1}function Kc(t){var r=t.reduce(function(i,o){return i+o.length},0),a=new Uint8Array(r),s=0;return t.forEach(function(i){a.set(i,s),s+=i.length}),a}function i9(t,r,a){var s=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,i=a/Math.pow(10,s-6176);t[r+15]|=s>>7,t[r+14]|=(s&127)<<1;for(var o=0;i>=1;++o,i/=256)t[r+o]=i&255;t[r+15]|=a>=0?0:128}function Mf(t,r){var a=r?r[0]:0,s=t[a]&127;e:if(t[a++]>=128&&(s|=(t[a]&127)<<7,t[a++]<128||(s|=(t[a]&127)<<14,t[a++]<128)||(s|=(t[a]&127)<<21,t[a++]<128)||(s+=(t[a]&127)*Math.pow(2,28),++a,t[a++]<128)||(s+=(t[a]&127)*Math.pow(2,35),++a,t[a++]<128)||(s+=(t[a]&127)*Math.pow(2,42),++a,t[a++]<128)))break e;return r&&(r[0]=a),s}function na(t){var r=new Uint8Array(7);r[0]=t&127;var a=1;e:if(t>127){if(r[a-1]|=128,r[a]=t>>7&127,++a,t<=16383||(r[a-1]|=128,r[a]=t>>14&127,++a,t<=2097151)||(r[a-1]|=128,r[a]=t>>21&127,++a,t<=268435455)||(r[a-1]|=128,r[a]=t/256>>>21&127,++a,t<=34359738367)||(r[a-1]|=128,r[a]=t/65536>>>21&127,++a,t<=4398046511103))break e;r[a-1]|=128,r[a]=t/16777216>>>21&127,++a}return r.slice(0,a)}function ou(t){var r=0,a=t[r]&127;e:if(t[r++]>=128){if(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128))break e;a|=(t[r]&127)<<28}return a}function Ds(t){for(var r=[],a=[0];a[0]<t.length;){var s=a[0],i=Mf(t,a),o=i&7;i=Math.floor(i/8);var c=0,d;if(i==0)break;switch(o){case 0:{for(var h=a[0];t[a[0]++]>=128;);d=t.slice(h,a[0])}break;case 5:c=4,d=t.slice(a[0],a[0]+c),a[0]+=c;break;case 1:c=8,d=t.slice(a[0],a[0]+c),a[0]+=c;break;case 2:c=Mf(t,a),d=t.slice(a[0],a[0]+c),a[0]+=c;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(s))}var f={data:d,type:o};r[i]==null?r[i]=[f]:r[i].push(f)}return r}function en(t){var r=[];return t.forEach(function(a,s){a.forEach(function(i){i.data&&(r.push(na(s*8+i.type)),i.type==2&&r.push(na(i.data.length)),r.push(i.data))})}),Kc(r)}function Cl(t){for(var r,a=[],s=[0];s[0]<t.length;){var i=Mf(t,s),o=Ds(t.slice(s[0],s[0]+i));s[0]+=i;var c={id:ou(o[1][0].data),messages:[]};o[2].forEach(function(d){var h=Ds(d.data),f=ou(h[3][0].data);c.messages.push({meta:h,data:t.slice(s[0],s[0]+f)}),s[0]+=f}),(r=o[3])!=null&&r[0]&&(c.merge=ou(o[3][0].data)>>>0>0),a.push(c)}return a}function G0(t){var r=[];return t.forEach(function(a){var s=[];s[1]=[{data:na(a.id),type:0}],s[2]=[],a.merge!=null&&(s[3]=[{data:na(+!!a.merge),type:0}]);var i=[];a.messages.forEach(function(c){i.push(c.data),c.meta[3]=[{type:0,data:na(c.data.length)}],s[2].push({data:en(c.meta),type:2})});var o=en(s);r.push(na(o.length)),r.push(o),i.forEach(function(c){return r.push(c)})}),Kc(r)}function l9(t,r){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var a=[0],s=Mf(r,a),i=[];a[0]<r.length;){var o=r[a[0]]&3;if(o==0){var c=r[a[0]++]>>2;if(c<60)++c;else{var d=c-59;c=r[a[0]],d>1&&(c|=r[a[0]+1]<<8),d>2&&(c|=r[a[0]+2]<<16),d>3&&(c|=r[a[0]+3]<<24),c>>>=0,c++,a[0]+=d}i.push(r.slice(a[0],a[0]+c)),a[0]+=c;continue}else{var h=0,f=0;if(o==1?(f=(r[a[0]]>>2&7)+4,h=(r[a[0]++]&224)<<3,h|=r[a[0]++]):(f=(r[a[0]++]>>2)+1,o==2?(h=r[a[0]]|r[a[0]+1]<<8,a[0]+=2):(h=(r[a[0]]|r[a[0]+1]<<8|r[a[0]+2]<<16|r[a[0]+3]<<24)>>>0,a[0]+=4)),i=[Kc(i)],h==0)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(f>=h)for(i.push(i[0].slice(-h)),f-=h;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-h,-h+f))}}var p=Kc(i);if(p.length!=s)throw new Error("Unexpected length: ".concat(p.length," != ").concat(s));return p}function Tl(t){for(var r=[],a=0;a<t.length;){var s=t[a++],i=t[a]|t[a+1]<<8|t[a+2]<<16;a+=3,r.push(l9(s,t.slice(a,a+i))),a+=i}if(a!==t.length)throw new Error("data is not a valid framed stream!");return Kc(r)}function $0(t){for(var r=[],a=0;a<t.length;){var s=Math.min(t.length-a,268435455),i=new Uint8Array(4);r.push(i);var o=na(s),c=o.length;r.push(o),s<=60?(c++,r.push(new Uint8Array([s-1<<2]))):s<=256?(c+=2,r.push(new Uint8Array([240,s-1&255]))):s<=65536?(c+=3,r.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(c+=4,r.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(c+=5,r.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),r.push(t.slice(a,a+s)),c+=s,i[0]=0,i[1]=c&255,i[2]=c>>8&255,i[3]=c>>16&255,a+=s}return Kc(r)}function Km(t,r){var a=new Uint8Array(32),s=$p(a),i=12,o=0;switch(a[0]=5,t.t){case"n":a[1]=2,i9(a,i,t.v),o|=1,i+=16;break;case"b":a[1]=6,s.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));a[1]=3,s.setUint32(i,r.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(8,o,!0),a.slice(0,i)}function Zm(t,r){var a=new Uint8Array(32),s=$p(a),i=12,o=0;switch(a[0]=3,t.t){case"n":a[2]=2,s.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":a[2]=6,s.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));a[2]=3,s.setUint32(i,r.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(4,o,!0),a.slice(0,i)}function Hc(t){var r=Ds(t);return Mf(r[1][0].data)}function o9(t,r,a){var s,i,o,c;if(!((s=t[6])!=null&&s[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var d=((c=(o=t[8])==null?void 0:o[0])==null?void 0:c.data)&&ou(t[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var h=0,f=$p(t[7][0].data),p=0,g=[],b=$p(t[4][0].data),m=0,v=[],N=0;N<r.length;++N){if(r[N]==null){f.setUint16(N*2,65535,!0),b.setUint16(N*2,65535);continue}f.setUint16(N*2,p,!0),b.setUint16(N*2,m,!0);var w,A;switch(typeof r[N]){case"string":w=Km({t:"s",v:r[N]},a),A=Zm({t:"s",v:r[N]},a);break;case"number":w=Km({t:"n",v:r[N]},a),A=Zm({t:"n",v:r[N]},a);break;case"boolean":w=Km({t:"b",v:r[N]},a),A=Zm({t:"b",v:r[N]},a);break;default:throw new Error("Unsupported value "+r[N])}g.push(w),p+=w.length,v.push(A),m+=A.length,++h}for(t[2][0].data=na(h);N<t[7][0].data.length/2;++N)f.setUint16(N*2,65535,!0),b.setUint16(N*2,65535,!0);return t[6][0].data=Kc(g),t[3][0].data=Kc(v),h}function c9(t,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Di(a["!ref"]);s.s.r=s.s.c=0;var i=!1;s.e.c>9&&(i=!0,s.e.c=9),s.e.r>49&&(i=!0,s.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ys(s)));var o=Yp(a,{range:s,header:1}),c=["~Sh33tJ5~"];o.forEach(function(G){return G.forEach(function(V){typeof V=="string"&&c.push(V)})});var d={},h=[],f=ga.read(r.numbers,{type:"base64"});f.FileIndex.map(function(G,V){return[G,f.FullPaths[V]]}).forEach(function(G){var V=G[0],K=G[1];if(V.type==2&&V.name.match(/\.iwa/)){var ne=V.content,ye=Tl(ne),ke=Cl(ye);ke.forEach(function(Se){h.push(Se.id),d[Se.id]={deps:[],location:K,type:ou(Se.messages[0].meta[1][0].data)}})}}),h.sort(function(G,V){return G-V});var p=h.filter(function(G){return G>1}).map(function(G){return[G,na(G)]});f.FileIndex.map(function(G,V){return[G,f.FullPaths[V]]}).forEach(function(G){var V=G[0];if(G[1],!!V.name.match(/\.iwa/)){var K=Cl(Tl(V.content));K.forEach(function(ne){ne.messages.forEach(function(ye){p.forEach(function(ke){ne.messages.some(function(Se){return ou(Se.meta[1][0].data)!=11006&&n9(Se.data,ke[1])})&&d[ke[0]].deps.push(ne.id)})})})}});for(var g=ga.find(f,d[1].location),b=Cl(Tl(g.content)),m,v=0;v<b.length;++v){var N=b[v];N.id==1&&(m=N)}var w=Hc(Ds(m.messages[0].data)[1][0].data);for(g=ga.find(f,d[w].location),b=Cl(Tl(g.content)),v=0;v<b.length;++v)N=b[v],N.id==w&&(m=N);for(w=Hc(Ds(m.messages[0].data)[2][0].data),g=ga.find(f,d[w].location),b=Cl(Tl(g.content)),v=0;v<b.length;++v)N=b[v],N.id==w&&(m=N);for(w=Hc(Ds(m.messages[0].data)[2][0].data),g=ga.find(f,d[w].location),b=Cl(Tl(g.content)),v=0;v<b.length;++v)N=b[v],N.id==w&&(m=N);var A=Ds(m.messages[0].data);{A[6][0].data=na(s.e.r+1),A[7][0].data=na(s.e.c+1);var E=Hc(A[46][0].data),T=ga.find(f,d[E].location),_=Cl(Tl(T.content));{for(var O=0;O<_.length&&_[O].id!=E;++O);if(_[O].id!=E)throw"Bad ColumnRowUIDMapArchive";var W=Ds(_[O].messages[0].data);W[1]=[],W[2]=[],W[3]=[];for(var F=0;F<=s.e.c;++F){var P=[];P[1]=P[2]=[{type:0,data:na(F+420690)}],W[1].push({type:2,data:en(P)}),W[2].push({type:0,data:na(F)}),W[3].push({type:0,data:na(F)})}W[4]=[],W[5]=[],W[6]=[];for(var z=0;z<=s.e.r;++z)P=[],P[1]=P[2]=[{type:0,data:na(z+726270)}],W[4].push({type:2,data:en(P)}),W[5].push({type:0,data:na(z)}),W[6].push({type:0,data:na(z)});_[O].messages[0].data=en(W)}T.content=$0(G0(_)),T.size=T.content.length,delete A[46];var M=Ds(A[4][0].data);{M[7][0].data=na(s.e.r+1);var C=Ds(M[1][0].data),U=Hc(C[2][0].data);T=ga.find(f,d[U].location),_=Cl(Tl(T.content));{if(_[0].id!=U)throw"Bad HeaderStorageBucket";var B=Ds(_[0].messages[0].data);for(z=0;z<o.length;++z){var X=Ds(B[2][0].data);X[1][0].data=na(z),X[4][0].data=na(o[z].length),B[2][z]={type:B[2][0].type,data:en(X)}}_[0].messages[0].data=en(B)}T.content=$0(G0(_)),T.size=T.content.length;var ue=Hc(M[2][0].data);T=ga.find(f,d[ue].location),_=Cl(Tl(T.content));{if(_[0].id!=ue)throw"Bad HeaderStorageBucket";for(B=Ds(_[0].messages[0].data),F=0;F<=s.e.c;++F)X=Ds(B[2][0].data),X[1][0].data=na(F),X[4][0].data=na(s.e.r+1),B[2][F]={type:B[2][0].type,data:en(X)};_[0].messages[0].data=en(B)}T.content=$0(G0(_)),T.size=T.content.length;var J=Hc(M[4][0].data);(function(){for(var G=ga.find(f,d[J].location),V=Cl(Tl(G.content)),K,ne=0;ne<V.length;++ne){var ye=V[ne];ye.id==J&&(K=ye)}var ke=Ds(K.messages[0].data);{ke[3]=[];var Se=[];c.forEach(function(nt,mt){Se[1]=[{type:0,data:na(mt)}],Se[2]=[{type:0,data:na(1)}],Se[3]=[{type:2,data:s9(nt)}],ke[3].push({type:2,data:en(Se)})})}K.messages[0].data=en(ke);var _e=G0(V),Je=$0(_e);G.content=Je,G.size=G.content.length})();var re=Ds(M[3][0].data);{var oe=re[1][0];delete re[2];var ve=Ds(oe.data);{var Ne=Hc(ve[2][0].data);(function(){for(var G=ga.find(f,d[Ne].location),V=Cl(Tl(G.content)),K,ne=0;ne<V.length;++ne){var ye=V[ne];ye.id==Ne&&(K=ye)}var ke=Ds(K.messages[0].data);{delete ke[6],delete re[7];var Se=new Uint8Array(ke[5][0].data);ke[5]=[];for(var _e=0,Je=0;Je<=s.e.r;++Je){var nt=Ds(Se);_e+=o9(nt,o[Je],c),nt[1][0].data=na(Je),ke[5].push({data:en(nt),type:2})}ke[1]=[{type:0,data:na(s.e.c+1)}],ke[2]=[{type:0,data:na(s.e.r+1)}],ke[3]=[{type:0,data:na(_e)}],ke[4]=[{type:0,data:na(s.e.r+1)}]}K.messages[0].data=en(ke);var mt=G0(V),ht=$0(mt);G.content=ht,G.size=G.content.length})()}oe.data=en(ve)}M[3][0].data=en(re)}A[4][0].data=en(M)}m.messages[0].data=en(A);var q=G0(b),L=$0(q);return g.content=L,g.size=g.content.length,f}function d9(t){return function(a){for(var s=0;s!=t.length;++s){var i=t[s];a[i[0]]===void 0&&(a[i[0]]=i[1]),i[2]==="n"&&(a[i[0]]=Number(a[i[0]]))}}}function O1(t){d9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function u9(t,r){return r.bookType=="ods"?L4(t,r):r.bookType=="numbers"?c9(t,r):r.bookType=="xlsb"?f9(t,r):h9(t,r)}function f9(t,r){au=1024,t&&!t.SSF&&(t.SSF=li(as)),t&&t.SSF&&(fx(),ux(t.SSF),r.revssf=hx(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ef?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var a=r.bookType=="xlsb"?"bin":"xml",s=p4.indexOf(r.bookType)>-1,i=qw();O1(r=r||{});var o=y1(),c="",d=0;if(r.cellXfs=[],ed(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",jr(o,c,Vw(t.Props,r)),i.coreprops.push(c),ia(r.rels,2,c,Yr.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(t.SheetNames[f]);t.Props.SheetNames=h}for(t.Props.Worksheets=t.Props.SheetNames.length,jr(o,c,Xw(t.Props)),i.extprops.push(c),ia(r.rels,3,c,Yr.EXT_PROPS),t.Custprops!==t.Props&&ln(t.Custprops||{}).length>0&&(c="docProps/custom.xml",jr(o,c,Jw(t.Custprops)),i.custprops.push(c),ia(r.rels,4,c,Yr.CUST_PROPS)),d=1;d<=t.SheetNames.length;++d){var p={"!id":{}},g=t.Sheets[t.SheetNames[d-1]],b=(g||{})["!type"]||"sheet";if(c="xl/worksheets/sheet"+d+"."+a,jr(o,c,xR(d-1,c,r,t,p)),i.sheets.push(c),ia(r.wbrels,-1,"worksheets/sheet"+d+"."+a,Yr.WS[0]),g){var m=g["!comments"],v=!1,N="";m&&m.length>0&&(N="xl/comments"+d+"."+a,jr(o,N,bR(m,N)),i.comments.push(N),ia(p,-1,"../comments"+d+"."+a,Yr.CMNT),v=!0),g["!legacy"]&&v&&jr(o,"xl/drawings/vmlDrawing"+d+".vml",f4(d,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&jr(o,$w(c),iu(p))}return r.Strings!=null&&r.Strings.length>0&&(c="xl/sharedStrings."+a,jr(o,c,gR(r.Strings,c,r)),i.strs.push(c),ia(r.wbrels,-1,"sharedStrings."+a,Yr.SST)),c="xl/workbook."+a,jr(o,c,pR(t,c)),i.workbooks.push(c),ia(r.rels,1,c,Yr.WB),c="xl/theme/theme1.xml",jr(o,c,d4(t.Themes,r)),i.themes.push(c),ia(r.wbrels,-1,"theme/theme1.xml",Yr.THEME),c="xl/styles."+a,jr(o,c,mR(t,c,r)),i.styles.push(c),ia(r.wbrels,-1,"styles."+a,Yr.STY),t.vbaraw&&s&&(c="xl/vbaProject.bin",jr(o,c,t.vbaraw),i.vba.push(c),ia(r.wbrels,-1,"vbaProject.bin",Yr.VBA)),c="xl/metadata."+a,jr(o,c,yR(c)),i.metadata.push(c),ia(r.wbrels,-1,"metadata."+a,Yr.XLMETA),jr(o,"[Content_Types].xml",Gw(i,r)),jr(o,"_rels/.rels",iu(r.rels)),jr(o,"xl/_rels/workbook."+a+".rels",iu(r.wbrels)),delete r.revssf,delete r.ssf,o}function h9(t,r){au=1024,t&&!t.SSF&&(t.SSF=li(as)),t&&t.SSF&&(fx(),ux(t.SSF),r.revssf=hx(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ef?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var a="xml",s=p4.indexOf(r.bookType)>-1,i=qw();O1(r=r||{});var o=y1(),c="",d=0;if(r.cellXfs=[],ed(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",jr(o,c,Vw(t.Props,r)),i.coreprops.push(c),ia(r.rels,2,c,Yr.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var h=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(t.SheetNames[f]);t.Props.SheetNames=h}t.Props.Worksheets=t.Props.SheetNames.length,jr(o,c,Xw(t.Props)),i.extprops.push(c),ia(r.rels,3,c,Yr.EXT_PROPS),t.Custprops!==t.Props&&ln(t.Custprops||{}).length>0&&(c="docProps/custom.xml",jr(o,c,Jw(t.Custprops)),i.custprops.push(c),ia(r.rels,4,c,Yr.CUST_PROPS));var p=["SheetJ5"];for(r.tcid=0,d=1;d<=t.SheetNames.length;++d){var g={"!id":{}},b=t.Sheets[t.SheetNames[d-1]],m=(b||{})["!type"]||"sheet";if(c="xl/worksheets/sheet"+d+"."+a,jr(o,c,j4(d-1,r,t,g)),i.sheets.push(c),ia(r.wbrels,-1,"worksheets/sheet"+d+"."+a,Yr.WS[0]),b){var v=b["!comments"],N=!1,w="";if(v&&v.length>0){var A=!1;v.forEach(function(E){E[1].forEach(function(T){T.T==!0&&(A=!0)})}),A&&(w="xl/threadedComments/threadedComment"+d+"."+a,jr(o,w,GT(v,p,r)),i.threadedcomments.push(w),ia(g,-1,"../threadedComments/threadedComment"+d+"."+a,Yr.TCMNT)),w="xl/comments"+d+"."+a,jr(o,w,h4(v)),i.comments.push(w),ia(g,-1,"../comments"+d+"."+a,Yr.CMNT),N=!0}b["!legacy"]&&N&&jr(o,"xl/drawings/vmlDrawing"+d+".vml",f4(d,b["!comments"])),delete b["!comments"],delete b["!legacy"]}g["!id"].rId1&&jr(o,$w(c),iu(g))}return r.Strings!=null&&r.Strings.length>0&&(c="xl/sharedStrings."+a,jr(o,c,s4(r.Strings,r)),i.strs.push(c),ia(r.wbrels,-1,"sharedStrings."+a,Yr.SST)),c="xl/workbook."+a,jr(o,c,k4(t)),i.workbooks.push(c),ia(r.rels,1,c,Yr.WB),c="xl/theme/theme1.xml",jr(o,c,d4(t.Themes,r)),i.themes.push(c),ia(r.wbrels,-1,"theme/theme1.xml",Yr.THEME),c="xl/styles."+a,jr(o,c,o4(t,r)),i.styles.push(c),ia(r.wbrels,-1,"styles."+a,Yr.STY),t.vbaraw&&s&&(c="xl/vbaProject.bin",jr(o,c,t.vbaraw),i.vba.push(c),ia(r.wbrels,-1,"vbaProject.bin",Yr.VBA)),c="xl/metadata."+a,jr(o,c,u4()),i.metadata.push(c),ia(r.wbrels,-1,"metadata."+a,Yr.XLMETA),p.length>1&&(c="xl/persons/person.xml",jr(o,c,$T(p)),i.people.push(c),ia(r.wbrels,-1,"persons/person.xml",Yr.PEOPLE)),jr(o,"[Content_Types].xml",Gw(i,r)),jr(o,"_rels/.rels",iu(r.rels)),jr(o,"xl/_rels/workbook."+a+".rels",iu(r.wbrels)),delete r.revssf,delete r.ssf,o}function p9(t,r){var a="";switch((r||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":a=rc(t.slice(0,12));break;case"binary":a=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function R4(t,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return Kf(r.file,ga.write(t,{type:Qr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return ga.write(t,r)}function x9(t,r){var a=li(r||{}),s=u9(t,a);return m9(s,a)}function m9(t,r){var a={},s=Qr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(a.compression="DEFLATE"),r.password)a.type=s;else switch(r.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":a.type=s;break;default:throw new Error("Unrecognized type "+r.type)}var i=t.FullPaths?ga.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!r.compression}):t.generate(a);if(typeof Deno<"u"&&typeof i=="string"){if(r.type=="binary"||r.type=="base64")return i;i=new Uint8Array(dx(i))}return r.password&&typeof encrypt_agile<"u"?R4(encrypt_agile(i,r.password),r):r.type==="file"?Kf(r.file,i):r.type=="string"?Nf(i):i}function g9(t,r){var a=r||{},s=RR(t,a);return R4(s,a)}function co(t,r,a){a||(a="");var s=a+t;switch(r.type){case"base64":return Ff(Pf(s));case"binary":return Pf(s);case"string":return t;case"file":return Kf(r.file,s,"utf8");case"buffer":return Qr?lc(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):co(s,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function b9(t,r){switch(r.type){case"base64":return Ff(t);case"binary":return t;case"string":return t;case"file":return Kf(r.file,t,"binary");case"buffer":return Qr?lc(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function sp(t,r){switch(r.type){case"string":case"base64":case"binary":for(var a="",s=0;s<t.length;++s)a+=String.fromCharCode(t[s]);return r.type=="base64"?Ff(a):r.type=="string"?Nf(a):a;case"file":return Kf(r.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+r.type)}}function F4(t,r){Y8(),aR(t);var a=li(r||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var s=F4(t,a);return a.type="array",dx(s)}var i=0;if(a.sheet&&(typeof a.sheet=="number"?i=a.sheet:i=t.SheetNames.indexOf(a.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return co(DR(t,a),a);case"slk":case"sylk":return co(eT.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"htm":case"html":return co(C4(t.Sheets[t.SheetNames[i]],a),a);case"txt":return b9(O4(t.Sheets[t.SheetNames[i]],a),a);case"csv":return co(P1(t.Sheets[t.SheetNames[i]],a),a,"\uFEFF");case"dif":return co(tT.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"dbf":return sp(QC.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"prn":return co(rT.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"rtf":return co(cT.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"eth":return co(a4.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"fods":return co(L4(t,a),a);case"wk1":return sp(gv.sheet_to_wk1(t.Sheets[t.SheetNames[i]],a),a);case"wk3":return sp(gv.book_to_wk3(t,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),sp(_4(t,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),g9(t,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return x9(t,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function y9(t){if(!t.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(t.bookType=a.slice(1)),t.bookType=r[t.bookType]||t.bookType}}function on(t,r,a){var s={};return s.type="file",s.file=r,y9(s),F4(t,s)}function v9(t,r,a,s,i,o,c,d){var h=nn(a),f=d.defval,p=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),g=!0,b=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:a,enumerable:!1})}catch{b.__rowNum__=a}else b.__rowNum__=a;if(!c||t[a])for(var m=r.s.c;m<=r.e.c;++m){var v=c?t[a][m]:t[s[m]+h];if(v===void 0||v.t===void 0){if(f===void 0)continue;o[m]!=null&&(b[o[m]]=f);continue}var N=v.v;switch(v.t){case"z":if(N==null)break;continue;case"e":N=N==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(o[m]!=null){if(N==null)if(v.t=="e"&&N===null)b[o[m]]=null;else if(f!==void 0)b[o[m]]=f;else if(p&&N===null)b[o[m]]=null;else continue;else b[o[m]]=p&&(v.t!=="n"||v.t==="n"&&d.rawNumbers!==!1)?N:ac(v,N,d);N!=null&&(g=!1)}}return{row:b,isempty:g}}function Yp(t,r){if(t==null||t["!ref"]==null)return[];var a={t:"n",v:0},s=0,i=1,o=[],c=0,d="",h={s:{r:0,c:0},e:{r:0,c:0}},f=r||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?s=1:f.header==="A"?s=2:Array.isArray(f.header)?s=3:f.header==null&&(s=0),typeof p){case"string":h=Ta(p);break;case"number":h=Ta(t["!ref"]),h.s.r=p;break;default:h=p}s>0&&(i=0);var g=nn(h.s.r),b=[],m=[],v=0,N=0,w=Array.isArray(t),A=h.s.r,E=0,T={};w&&!t[A]&&(t[A]=[]);var _=f.skipHidden&&t["!cols"]||[],O=f.skipHidden&&t["!rows"]||[];for(E=h.s.c;E<=h.e.c;++E)if(!(_[E]||{}).hidden)switch(b[E]=yn(E),a=w?t[A][E]:t[b[E]+g],s){case 1:o[E]=E-h.s.c;break;case 2:o[E]=b[E];break;case 3:o[E]=f.header[E-h.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),d=c=ac(a,null,f),N=T[c]||0,!N)T[c]=1;else{do d=c+"_"+N++;while(T[d]);T[c]=N,T[d]=1}o[E]=d}for(A=h.s.r+i;A<=h.e.r;++A)if(!(O[A]||{}).hidden){var W=v9(t,h,A,b,s,o,w,f);(W.isempty===!1||(s===1?f.blankrows!==!1:f.blankrows))&&(m[v++]=W.row)}return m.length=v,m}var Ev=/"/g;function N9(t,r,a,s,i,o,c,d){for(var h=!0,f=[],p="",g=nn(a),b=r.s.c;b<=r.e.c;++b)if(s[b]){var m=d.dense?(t[a]||[])[b]:t[s[b]+g];if(m==null)p="";else if(m.v!=null){h=!1,p=""+(d.rawNumbers&&m.t=="n"?m.v:ac(m,null,d));for(var v=0,N=0;v!==p.length;++v)if((N=p.charCodeAt(v))===i||N===o||N===34||d.forceQuotes){p='"'+p.replace(Ev,'""')+'"';break}p=="ID"&&(p='"ID"')}else m.f!=null&&!m.F?(h=!1,p="="+m.f,p.indexOf(",")>=0&&(p='"'+p.replace(Ev,'""')+'"')):p="";f.push(p)}return d.blankrows===!1&&h?null:f.join(c)}function P1(t,r){var a=[],s=r??{};if(t==null||t["!ref"]==null)return"";var i=Ta(t["!ref"]),o=s.FS!==void 0?s.FS:",",c=o.charCodeAt(0),d=s.RS!==void 0?s.RS:`
`,h=d.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),p="",g=[];s.dense=Array.isArray(t);for(var b=s.skipHidden&&t["!cols"]||[],m=s.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(b[v]||{}).hidden||(g[v]=yn(v));for(var N=0,w=i.s.r;w<=i.e.r;++w)(m[w]||{}).hidden||(p=N9(t,i,w,g,c,h,o,s),p!=null&&(s.strip&&(p=p.replace(f,"")),(p||s.blankrows!==!1)&&a.push((N++?d:"")+p)));return delete s.dense,a.join("")}function O4(t,r){r||(r={}),r.FS="	",r.RS=`
`;var a=P1(t,r);return a}function w9(t){var r="",a,s="";if(t==null||t["!ref"]==null)return[];var i=Ta(t["!ref"]),o="",c=[],d,h=[],f=Array.isArray(t);for(d=i.s.c;d<=i.e.c;++d)c[d]=yn(d);for(var p=i.s.r;p<=i.e.r;++p)for(o=nn(p),d=i.s.c;d<=i.e.c;++d)if(r=c[d]+o,a=f?(t[p]||[])[d]:t[r],s="",a!==void 0){if(a.F!=null){if(r=a.F,!a.f)continue;s=a.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(a.f!=null)s=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)s=""+a.v;else if(a.t=="b")s=a.v?"TRUE":"FALSE";else if(a.w!==void 0)s="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?s="'"+a.v:s=""+a.v}}h[h.length]=r+"="+s}return h}function P4(t,r,a){var s=a||{},i=+!s.skipHeader,o=t||{},c=0,d=0;if(o&&s.origin!=null)if(typeof s.origin=="number")c=s.origin;else{var h=typeof s.origin=="string"?Us(s.origin):s.origin;c=h.r,d=h.c}var f,p={s:{c:0,r:0},e:{c:d,r:c+r.length-1+i}};if(o["!ref"]){var g=Ta(o["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),c==-1&&(c=g.e.r+1,p.e.r=c+r.length-1+i)}else c==-1&&(c=0,p.e.r=r.length-1+i);var b=s.header||[],m=0;r.forEach(function(N,w){ln(N).forEach(function(A){(m=b.indexOf(A))==-1&&(b[m=b.length]=A);var E=N[A],T="z",_="",O=ca({c:d+m,r:c+w+i});f=Bf(o,O),E&&typeof E=="object"&&!(E instanceof Date)?o[O]=E:(typeof E=="number"?T="n":typeof E=="boolean"?T="b":typeof E=="string"?T="s":E instanceof Date?(T="d",s.cellDates||(T="n",E=ii(E)),_=s.dateNF||as[14]):E===null&&s.nullError&&(T="e",E=0),f?(f.t=T,f.v=E,delete f.w,delete f.R,_&&(f.z=_)):o[O]=f={t:T,v:E},_&&(f.z=_))})}),p.e.c=Math.max(p.e.c,d+b.length-1);var v=nn(c);if(i)for(m=0;m<b.length;++m)o[yn(m+d)+v]={t:"s",v:b[m]};return o["!ref"]=ys(p),o}function j9(t,r){return P4(null,t,r)}function Bf(t,r,a){if(typeof r=="string"){if(Array.isArray(t)){var s=Us(r);return t[s.r]||(t[s.r]=[]),t[s.r][s.c]||(t[s.r][s.c]={t:"z"})}return t[r]||(t[r]={t:"z"})}return typeof r!="number"?Bf(t,ca(r)):Bf(t,ca({r,c:a||0}))}function S9(t,r){if(typeof r=="number"){if(r>=0&&t.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var a=t.SheetNames.indexOf(r);if(a>-1)return a;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function E9(){return{SheetNames:[],Sheets:{}}}function k9(t,r,a,s){var i=1;if(!a)for(;i<=65535&&t.SheetNames.indexOf(a="Sheet"+i)!=-1;++i,a=void 0);if(!a||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&t.SheetNames.indexOf(a)>=0){var o=a.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var c=o&&o[1]||a;for(++i;i<=65535&&t.SheetNames.indexOf(a=c+i)!=-1;++i);}if(E4(a),t.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return t.SheetNames.push(a),t.Sheets[a]=r,a}function A9(t,r,a){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var s=S9(t,r);switch(t.Workbook.Sheets[s]||(t.Workbook.Sheets[s]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}t.Workbook.Sheets[s].Hidden=a}function _9(t,r){return t.z=r,t}function I4(t,r,a){return r?(t.l={Target:r},a&&(t.l.Tooltip=a)):delete t.l,t}function C9(t,r,a){return I4(t,"#"+r,a)}function T9(t,r,a){t.c||(t.c=[]),t.c.push({t:r,a:a||"SheetJS"})}function D9(t,r,a,s){for(var i=typeof r!="string"?r:Ta(r),o=typeof r=="string"?r:ys(r),c=i.s.r;c<=i.e.r;++c)for(var d=i.s.c;d<=i.e.c;++d){var h=Bf(t,c,d);h.t="n",h.F=o,delete h.v,c==i.s.r&&d==i.s.c&&(h.f=a,s&&(h.D=!0))}return t}var ar={encode_col:yn,encode_row:nn,encode_cell:ca,encode_range:ys,decode_col:E1,decode_row:S1,split_cell:Y_,decode_cell:Us,decode_range:Di,format_cell:ac,sheet_add_aoa:Iw,sheet_add_json:P4,sheet_add_dom:T4,aoa_to_sheet:Eu,json_to_sheet:j9,table_to_sheet:D4,table_to_book:t9,sheet_to_csv:P1,sheet_to_txt:O4,sheet_to_json:Yp,sheet_to_html:C4,sheet_to_formulae:w9,sheet_to_row_object_array:Yp,sheet_get_cell:Bf,book_new:E9,book_append_sheet:k9,book_set_sheet_visibility:A9,cell_set_number_format:_9,cell_set_hyperlink:I4,cell_set_internal_link:C9,cell_add_comment:T9,sheet_set_array_formula:D9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const L9=()=>{const t=jt(),[r]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[a,s]=R.useState({primaryOrder:"None",primarySort:"Ascending",secondaryOrder:"None",secondarySort:"Ascending",tertiaryOrder:"None",tertiarySort:"Ascending"}),[i,o]=R.useState({displayYTDCurrentTrans:!1,displayPensionRate:!1,displayPaymentDetails:!1,displayJobTitle:!1,displayEmployeesPaidOnly:!1,convertToLocalCurrency:!1,printWideFormat:!1,inputNarratives:!1,displayPensionSeparately:!1,displayPayPeriod:!1}),[c,d]=R.useState({payPeriod:String(new Date().getMonth()+1),ofYear:String(new Date().getFullYear()),paySeries:"-- ALL ACTIVE SERIES --",payGrade:"-- ALL SERVICE GRADES --",employee:"-- ALL STAFF MEMBERS --",department:"-- ALL COST CENTERS --",branch:"-- ALL REGIONAL BRANCHES --"}),[h,f]=R.useState(new Date().toLocaleTimeString()),[p,g]=R.useState(!1),[b,m]=R.useState([]),[v,N]=R.useState([]),w=qa.useMemo(()=>{const F=["Weekly (W01)","Bi-Weekly (B01)","Monthly (M01)"],P=["GRADE 1","GRADE 2","GRADE 3","EXECUTIVE"],z=["Kingston HQ","Montego Bay","Ocho Rios"],M=b.map(X=>X.payFrequency).filter(Boolean),C=b.map(X=>X.designation).filter(Boolean),U=b.map(X=>X.city||X.parish||X.branch).filter(Boolean),B=v.map(X=>X.name);return{paySeries:["-- ALL ACTIVE SERIES --",...new Set([...F,...M.filter(X=>!["Monthly","Weekly","Bi-Weekly","monthly","weekly","bi-weekly","MONTHLY","WEEKLY","BI-WEEKLY"].includes(X))])],payGrade:["-- ALL SERVICE GRADES --",...new Set([...P,...C])],branch:["-- ALL REGIONAL BRANCHES --",...new Set([...z,...U])],department:["-- ALL COST CENTERS --",...new Set([...B])]}},[b,v]);qa.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("selectedCompany"),z=P?JSON.parse(P):null;if(z){const[M,C]=await Promise.all([Te.fetchEmployees(z.id),Te.fetchDepartments(z.id)]);M.success&&m(M.data),C.success&&N(C.data)}}catch(P){console.error(P)}})()},[]);const A=(F,P)=>{s(z=>({...z,[F]:P})),_()},E=F=>{o(P=>({...P,[F]:!P[F]})),_()},T=(F,P)=>{d(z=>({...z,[F]:P})),_()},_=()=>{g(!0),setTimeout(()=>{g(!1),f(new Date().toLocaleTimeString())},600)},O=()=>{t("/payroll/register/print",{state:{filterOptions:c,reportOptions:i,orderOptions:a}})},W=async()=>{if(window.confirm("PREPARING DATA EXCHANGE: Convert matrix display to Excel (.csv) format?"))try{const P=localStorage.getItem("selectedCompany"),z=P?JSON.parse(P):null;if(!z){alert("ERROR: No company selected.");return}let M=c.payPeriod;if(M.length<=2&&!isNaN(M)){const U=new Date;U.setMonth(parseInt(M)-1),M=`${U.toLocaleString("default",{month:"short"})}-${c.ofYear}`}const C=await Te.fetchPayrolls({companyId:z.id,period:M});if(C.success&&C.data&&C.data.length>0){let U=[...C.data];const B=(oe,ve)=>{if(!oe||!oe.employee)return"";switch(ve){case"Employee ID":return oe.employee.employeeId||"";case"Department":return oe.employee.department?.name||oe.employee.department||"";case"Branch":return oe.employee.city||oe.employee.parish||oe.employee.branch||"";default:return""}},X=(oe,ve,Ne,q)=>{const L=B(oe,Ne),G=B(ve,Ne);return L<G?q==="Ascending"?-1:1:L>G?q==="Ascending"?1:-1:0};if(U.sort((oe,ve)=>{if(a.primaryOrder!=="None"){const Ne=X(oe,ve,a.primaryOrder,a.primarySort);if(Ne!==0)return Ne}if(a.secondaryOrder!=="None"){const Ne=X(oe,ve,a.secondaryOrder,a.secondarySort);if(Ne!==0)return Ne}if(a.tertiaryOrder!=="None"){const Ne=X(oe,ve,a.tertiaryOrder,a.tertiarySort);if(Ne!==0)return Ne}return 0}),c.department&&!c.department.includes("ALL")&&(U=U.filter(oe=>oe.employee?.department?.name===c.department||oe.employee?.department===c.department)),c.branch&&!c.branch.includes("ALL")&&(U=U.filter(oe=>oe.employee?.city===c.branch||oe.employee?.parish===c.branch||oe.employee?.branch===c.branch)),c.paySeries&&!c.paySeries.includes("ALL")){const oe=c.paySeries.toLowerCase();U=U.filter(ve=>{const Ne=(ve.employee?.payFrequency||"").toLowerCase();return Ne.includes(oe)||oe.includes(Ne)})}if(c.payGrade&&!c.payGrade.includes("ALL")&&(U=U.filter(oe=>oe.employee?.designation===c.payGrade)),c.employee&&!c.employee.includes("ALL")){const oe=c.employee.split("[")[0].trim().toLowerCase(),ve=c.employee.match(/\[(.*?)\]/)?.[1]?.toLowerCase();U=U.filter(Ne=>{const q=Ne.employee?.firstName?.toLowerCase()||"",L=Ne.employee?.lastName?.toLowerCase()||"",G=Ne.employee?.employeeId?.toLowerCase()||"",V=`${q} ${L}`;return ve?G.includes(ve):V.includes(oe)})}if(U.length===0){alert("EXPORT NOTICE: No records match the current filter criteria.");return}const ue=U.map(oe=>({"Employee ID":oe.employee?.employeeId||"",Name:`${oe.employee?.firstName||""} ${oe.employee?.lastName||""}`.trim(),Department:oe.employee?.department?.name||oe.employee?.department||"",Location:oe.employee?.city||oe.employee?.parish||oe.employee?.branch||"","Gross Salary":oe.grossSalary,Deductions:oe.deductions,Tax:oe.tax,"Net Pay":oe.netSalary,Status:oe.status})),J=ar.json_to_sheet(ue),re=ar.book_new();ar.book_append_sheet(re,J,"Register"),on(re,`Payroll_Register_${M}.xlsx`),alert(`SUCCESS: Export complete. ${U.length} records processed.`)}else alert("EXPORT WARNING: No payroll records found for the specified period.")}catch(P){console.error("Export failed:",P),alert("EXPORT ERROR: Failed to retrieve data from server.")}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(rr,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Payroll Register Core Engine"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-[9px] font-black text-blue-800 bg-blue-50 px-2 py-0.5 rounded border border-blue-200 uppercase tracking-widest animate-pulse hidden sm:inline",children:"Server Sync Active"})})]}),e.jsx("div",{className:"flex-1 p-2 sm:p-4 md:p-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[e.jsxs("fieldset",{className:"border border-gray-400 p-3 sm:p-5 rounded-sm relative pt-6 sm:pt-8 bg-white/40 shadow-sm border-b-2 border-r-2",children:[e.jsx("legend",{className:"text-blue-700 px-3 font-black absolute -top-3 left-4 bg-[#EBE9D8] uppercase tracking-tighter text-[10px] sm:text-[11px] border border-gray-300 shadow-sm",children:"Sequence & Order Controls"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{label:"Primary Sequence",field:"primaryOrder",sort:"primarySort"},{label:"Secondary Sequence",field:"secondaryOrder",sort:"secondarySort"},{label:"Tertiary Sequence",field:"tertiaryOrder",sort:"tertiarySort"}].map((F,P)=>e.jsxs("div",{className:`flex flex-col gap-2.5 ${P>0?"sm:border-l sm:pl-6 border-gray-200":""}`,children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:F.label}),e.jsxs("select",{value:a[F.field],onChange:z=>A(F.field,z.target.value),className:"p-2 border border-blue-300 bg-white text-blue-900 font-black shadow-inner focus:ring-1 focus:ring-blue-500 outline-none text-xs rounded-sm",children:[e.jsx("option",{value:"None",children:"None (Default)"}),e.jsx("option",{value:"Employee ID",children:"Employee ID"}),e.jsx("option",{value:"Department",children:"Departmental Unit"}),e.jsx("option",{value:"Branch",children:"Location / Branch"})]}),e.jsxs("div",{className:"flex gap-4 p-1",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:F.sort,checked:a[F.sort]==="Ascending",onChange:()=>A(F.sort,"Ascending"),className:"w-4 h-4 cursor-pointer accent-blue-600"}),e.jsx("span",{className:"group-hover:text-blue-700 font-black text-[10px] uppercase tracking-tighter",children:"Ascending"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:F.sort,checked:a[F.sort]==="Descending",onChange:()=>A(F.sort,"Descending"),className:"w-4 h-4 cursor-pointer accent-blue-600"}),e.jsx("span",{className:"group-hover:text-blue-700 font-black text-[10px] uppercase tracking-tighter",children:"Descending"})]})]})]},F.field))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("fieldset",{className:"border border-gray-400 p-4 sm:p-6 rounded-sm relative pt-6 sm:pt-8 bg-white/40 shadow-sm border-b-2 border-r-2",children:[e.jsx("legend",{className:"text-blue-700 px-3 font-black absolute -top-3 left-4 bg-[#EBE9D8] uppercase tracking-tighter text-[10px] sm:text-[11px] border border-gray-300 shadow-sm",children:"Display Matrix Options"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-2",children:[{id:"displayYTDCurrentTrans",label:"YTD For Current Trans Only"},{id:"inputNarratives",label:"Include Logic Narratives"},{id:"displayPensionRate",label:"Show Pensioner Rate"},{id:"displayPensionSeparately",label:"Separate Pension (Vol/Req)"},{id:"displayPaymentDetails",label:"Show Bank Disbursement Info"},{id:"displayPayPeriod",label:"Show Pay Period Ident"},{id:"displayJobTitle",label:"Include Personnel Job Titles"},{id:"displayEmployeesPaidOnly",label:"Paid Personnel Records Only"},{id:"convertToLocalCurrency",label:"FX Master Conversion"},{id:"printWideFormat",label:"Wide Landscape Format"}].map(F=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group hover:bg-white/60 p-1.5 sm:p-2 rounded transition-colors border border-transparent hover:border-gray-200",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer accent-blue-600 shrink-0",checked:i[F.id],onChange:()=>E(F.id)}),e.jsx("span",{className:"text-[10px] font-black text-gray-700 group-hover:text-blue-800 leading-tight uppercase tracking-tight",children:F.label})]},F.id))})]}),e.jsxs("fieldset",{className:"border border-gray-400 p-4 sm:p-6 rounded-sm relative pt-6 sm:pt-8 bg-white/40 shadow-sm border-b-2 border-r-2",children:[e.jsx("legend",{className:"text-blue-700 px-3 font-black absolute -top-3 left-4 bg-[#EBE9D8] uppercase tracking-tighter text-[10px] sm:text-[11px] border border-gray-300 shadow-sm",children:"Strategic Scope Filtering"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-[#D4D0C8]/30 p-3 border border-gray-300 shadow-inner rounded-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:"Period"}),e.jsx("select",{value:c.payPeriod,onChange:F=>T("payPeriod",F.target.value),className:"w-24 p-1.5 border border-blue-200 bg-white text-blue-900 font-black shadow-inner outline-none cursor-pointer text-center text-xs",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((F,P)=>e.jsx("option",{value:P+1,children:F},P+1))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 font-black text-[9px] uppercase tracking-widest",children:"Master Year"}),e.jsx("select",{value:c.ofYear,onChange:F=>T("ofYear",F.target.value),className:"w-24 p-1.5 border border-blue-200 bg-white text-blue-900 font-black shadow-inner outline-none cursor-pointer text-center text-xs",children:[...Array(5)].map((F,P)=>{const z=new Date().getFullYear()-2+P;return e.jsx("option",{value:z,children:z},z)})})]})]}),[{id:"paySeries",label:"Pay Series",options:w.paySeries},{id:"payGrade",label:"Hierarchy",options:w.payGrade},{id:"employee",label:"Personnel",options:["-- ALL STAFF MEMBERS --",...b.map(F=>`${F.firstName} ${F.lastName} [${F.employeeId}]`)]},{id:"department",label:"Unit / Dept",options:w.department},{id:"branch",label:"Location",options:w.branch}].map(F=>e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] tracking-[0.2em]",children:F.label}),e.jsx("select",{value:c[F.id],onChange:P=>T(F.id,P.target.value),className:"w-full p-2.5 border border-gray-300 bg-white text-blue-900 font-black shadow-sm outline-none text-[11px] uppercase tracking-tight rounded-sm",children:F.options.map(P=>e.jsx("option",{value:P,children:P},P))})]},F.id))]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-500 shadow-lg p-4 relative overflow-hidden flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("span",{className:"font-black text-blue-900 uppercase italic text-[11px] flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${p?"bg-orange-500 animate-ping":"bg-green-500"}`}),"Live Matrix Strategy Preview"]}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase italic",children:["Last Compiled: ",h]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 border border-dashed border-gray-300 min-h-[140px] flex flex-col gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Sort Hierarchy"}),e.jsxs("p",{className:"text-[10px] font-black italic text-blue-800 uppercase tracking-tighter",children:[a.primaryOrder," ",e.jsx("span",{className:"text-gray-400",children:""})," ",a.secondaryOrder]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Scope Target"}),e.jsx("p",{className:"text-[10px] font-black italic text-gray-800 uppercase tracking-tighter truncate",children:c.department==="-- ALL COST CENTERS --"?"FULL UNIT":c.department})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Matrix Mode"}),e.jsx("p",{className:"text-[10px] font-black italic text-gray-800 uppercase tracking-tighter",children:i.printWideFormat?"LANDSCAPE (A3)":"PORTRAIT (A4)"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Deduction Logic"}),e.jsx("p",{className:"text-[10px] font-black italic text-green-700 uppercase tracking-tighter",children:i.displayPensionSeparately?"SPLIT PENSION":"STANDARD PENSION"})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4 flex flex-wrap gap-2",children:[Object.entries(i).filter(([F,P])=>P).map(([F])=>e.jsxs("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 border border-blue-200 rounded-full font-black uppercase text-[7px] tracking-widest italic animate-in fade-in zoom-in duration-300",children:[F.replace("display","").replace(/([A-Z])/g," $1").trim()," ACTIVE"]},F)),Object.values(i).every(F=>!F)&&e.jsx("span",{className:"text-[9px] italic text-gray-300 uppercase font-bold tracking-widest",children:"No matrix overrides active. Using default Engine logic."})]})]})]})]}),e.jsxs("div",{className:"flex flex-row xl:flex-col gap-3 w-full xl:w-32 shrink-0 mt-4 xl:mt-0 mb-6 xl:mb-0",children:[e.jsxs("button",{onClick:O,className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 border border-gray-400 border-b-4 border-r-4 border-gray-600 bg-white text-blue-900 hover:bg-blue-600 hover:text-white transition-all shadow-lg active:translate-y-1 active:border-b-0 active:border-r-0 group rounded-sm",children:[e.jsx(ox,{size:28,className:"text-blue-600 group-hover:text-white mb-2 transition-transform group-hover:scale-110"}),e.jsx("span",{className:"font-black uppercase tracking-[0.1em] text-[10px]",children:"Preview"})]}),e.jsxs("button",{onClick:W,className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 border border-gray-400 border-b-4 border-r-4 border-gray-600 bg-white text-gray-800 hover:bg-gray-800 hover:text-white transition-all shadow-lg active:translate-y-1 active:border-b-0 active:border-r-0 group rounded-sm",children:[e.jsx(ea,{size:28,className:"text-gray-700 group-hover:text-white mb-2 transition-transform group-hover:scale-110"}),e.jsx("span",{className:"font-black uppercase tracking-[0.1em] text-[10px]",children:"Excel Option"})]}),e.jsx("div",{className:"hidden xl:block xl:flex-1"}),e.jsxs("button",{onClick:()=>t(-1),className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 border border-gray-400 border-b-4 border-r-4 border-gray-600 bg-white text-red-700 hover:bg-red-600 hover:text-white transition-all shadow-lg active:translate-y-1 active:border-b-0 active:border-r-0 group rounded-sm",children:[e.jsx(_r,{size:28,className:"text-red-600 group-hover:text-white mb-2 transition-transform group-hover:scale-110"}),e.jsx("span",{className:"font-black uppercase tracking-[0.1em] text-[10px]",children:"Exit Cmd"})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 px-3 sm:px-6 py-2 flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-4 text-[9px] font-black text-gray-500 shadow-inner",children:[e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 w-full sm:w-auto justify-center sm:justify-start",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_5px_green]"})," DB: HRM_",c.ofYear,"_LIVE"]}),e.jsxs("span",{className:"border-l border-gray-400 pl-4 uppercase",children:["PERIOD: ",c.payPeriod,"-",c.ofYear]})]}),e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 w-full sm:w-auto justify-center sm:justify-end border-t sm:border-t-0 border-gray-300 pt-2 sm:pt-0",children:[e.jsxs("span",{className:"uppercase tracking-widest hidden xs:inline",children:["Operator: ",r.firstName?`${r.firstName} ${r.lastName}`:"ADMIN-01"]}),e.jsx("span",{className:"text-blue-800 font-black tracking-tighter italic",children:"SMARTHRM ENGINE v5.1.0-A"})]})]})]})},R9=()=>{const t=jt(),r=oi(),[a,s]=R.useState(100),[i,o]=R.useState(1),c=1,[d,h]=R.useState([]),[f,p]=R.useState(!0),[g,b]=R.useState({gross:0,deductions:0,tax:0,net:0,nis:0,nht:0,edTax:0}),m=r.state?.filterOptions||{payPeriod:"3",ofYear:"2026",paySeries:"",payGrade:"",employee:"",department:"",branch:"",location:""};r.state?.reportOptions;const v=r.state?.orderOptions||{};R.useEffect(()=>{(async()=>{p(!0);try{const O=localStorage.getItem("selectedCompany"),W=O?JSON.parse(O):null;if(W){const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let P=m.payPeriod;if(!isNaN(P)&&parseInt(P)>=1&&parseInt(P)<=12){const M=parseInt(P)-1;P=`${F[M]}-${m.ofYear}`}else P.includes("-")||(P=`${P}-${m.ofYear}`);console.log("[PRINT_DEBUG] Fetching payload:",{companyId:W.id,period:P});const z=await Te.fetchPayrolls({companyId:W.id,period:P});if(z.success){let M=z.data;M=M.filter(X=>{const ue=X.employee||{};if(m.department&&!m.department.includes("ALL")&&!(ue.department?.name===m.department||ue.department===m.department))return!1;if(m.branch&&!m.branch.includes("ALL")){const J=m.branch.toLowerCase(),re=(ue.city||"").toLowerCase(),oe=(ue.parish||"").toLowerCase(),ve=(ue.branch||"").toLowerCase();if(!(re.includes(J)||oe.includes(J)||ve.includes(J)||J.includes(re)))return!1}if(m.paySeries&&!m.paySeries.includes("ALL")){const J=m.paySeries.toLowerCase(),re=(ue.payFrequency||"").toLowerCase();if(!(re.includes(J)||J.includes(re)))return!1}if(m.payGrade&&!m.payGrade.includes("ALL")){const J=m.payGrade.toLowerCase(),re=(ue.designation||"").toLowerCase();if(!(re===J||re.includes(J)||J.includes(re)))return!1}if(m.employee&&!m.employee.includes("ALL")){const J=m.employee.split("[")[0].trim().toLowerCase(),re=m.employee.match(/\[(.*?)\]/)?.[1]?.toLowerCase(),oe=ue.firstName?.toLowerCase()||"",ve=ue.lastName?.toLowerCase()||"",Ne=ue.employeeId?.toLowerCase()||"",q=`${oe} ${ve}`;if(re){if(Ne!==re)return!1}else if(!q.includes(J))return!1}return!0});const C=(X,ue)=>{if(!X||!X.employee)return"";switch(ue){case"Employee ID":return X.employee.employeeId||"";case"Department":return X.employee.department?.name||X.employee.department||"";case"Branch":return X.employee.city||X.employee.parish||X.employee.branch||"";default:return""}},U=(X,ue,J,re)=>{const oe=C(X,J),ve=C(ue,J);return oe<ve?re==="Ascending"?-1:1:oe>ve?re==="Ascending"?1:-1:0};M.sort((X,ue)=>{if(v.primaryOrder!=="None"){const J=U(X,ue,v.primaryOrder,v.primarySort);if(J!==0)return J}if(v.secondaryOrder!=="None"){const J=U(X,ue,v.secondaryOrder,v.secondarySort);if(J!==0)return J}if(v.tertiaryOrder!=="None"){const J=U(X,ue,v.tertiaryOrder,v.tertiarySort);if(J!==0)return J}return 0}),h(M);const B=M.reduce((X,ue)=>({gross:X.gross+parseFloat(ue.grossSalary||0),deductions:X.deductions+parseFloat(ue.deductions||0),tax:X.tax+parseFloat(ue.tax||0),net:X.net+parseFloat(ue.netSalary||0),nis:X.nis+parseFloat(ue.nis||0),nht:X.nht+parseFloat(ue.nht||0),edTax:X.edTax+parseFloat(ue.edTax||0)}),{gross:0,deductions:0,tax:0,net:0,nis:0,nht:0,edTax:0});b(B)}}}catch(O){console.error("Error fetching payroll data:",O)}finally{p(!1)}})()},[m.payPeriod,m.ofYear,m.department,m.branch,m.employee,m.paySeries,m.payGrade]);const N=()=>s(_=>Math.min(_+10,200)),w=()=>s(_=>Math.max(_-10,50)),A=()=>o(_=>Math.max(_-1,1)),E=()=>o(_=>Math.min(_+1,c)),T={companyName:JSON.parse(localStorage.getItem("selectedCompany")||"{}").name||"COMPANY NAME",reportTitle:"PAYROLL REGISTER",systemAuditInfo:{payrollPeriod:`${m.payPeriod} / ${m.ofYear}`,periodEnding:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),payrollCycle:"Monthly",printDateTime:new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),printedBy:JSON.parse(localStorage.getItem("currentUser")||"{}").name||"ADMIN"},reportOptions:{employees:m.employee||"ALL",departments:m.department||"ALL",branches:m.branch||"ALL",locations:m.location||"ALL",paySeries:m.paySeries||"ALL",payGrade:m.payGrade||"ALL",orderedBy:`${v.primaryOrder||"Name"} (${v.primarySort||"Asc"})`}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#808080] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-gray-400 px-2 py-1 flex items-center gap-2 no-print",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"PayrollRegister.frx - Page 1"}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:w,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200",title:"Zoom Out",children:e.jsx(O8,{size:16})}),e.jsxs("span",{className:"px-2 min-w-[50px] text-center font-bold",children:[a,"%"]}),e.jsx("button",{onClick:N,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200",title:"Zoom In",children:e.jsx(R8,{size:16})}),e.jsx("div",{className:"w-4"}),e.jsx("button",{onClick:A,disabled:i===1,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50",title:"Previous Page",children:e.jsx(W5,{size:16})}),e.jsxs("span",{className:"px-2 font-bold",children:[i," / ",c]}),e.jsx("button",{onClick:E,disabled:i===c,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50",title:"Next Page",children:e.jsx(xo,{size:16})})]})]}),e.jsx("div",{className:"flex-1 p-2 sm:p-4 overflow-auto flex justify-center items-start",children:e.jsxs("div",{className:"bg-white shadow-lg border border-gray-300 w-full max-w-[900px] min-h-[1100px] p-4 sm:p-8 origin-top transition-transform duration-200",style:{transform:`scale(${a/100})`},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"text-sm font-bold",children:T.companyName}),e.jsx("h2",{className:"text-lg font-bold mt-1",children:T.reportTitle})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8 mb-6 text-[10px]",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold mb-1 border-b border-gray-400",children:"SYSTEM AUDIT INFO"}),e.jsxs("div",{className:"grid grid-cols-[120px_1fr] gap-y-0.5",children:[e.jsx("span",{className:"font-bold",children:"Payroll Period(s)"}),e.jsxs("span",{children:[": ",T.systemAuditInfo.payrollPeriod]}),e.jsx("span",{className:"font-bold",children:"Period Ending"}),e.jsxs("span",{children:[": ",T.systemAuditInfo.periodEnding]}),e.jsx("span",{className:"font-bold",children:"Payroll Cycle"}),e.jsxs("span",{children:[": ",T.systemAuditInfo.payrollCycle]}),e.jsx("span",{className:"font-bold",children:"Print Date/Time"}),e.jsxs("span",{children:[": ",T.systemAuditInfo.printDateTime]}),e.jsx("span",{className:"font-bold",children:"Printed By"}),e.jsxs("span",{children:[": ",T.systemAuditInfo.printedBy]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold mb-1 border-b border-gray-400",children:"REPORT OPTION(S)"}),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-y-0.5",children:[e.jsx("span",{className:"font-bold",children:"Employee(s)"}),e.jsxs("span",{children:[": ",T.reportOptions.employees]}),e.jsx("span",{className:"font-bold",children:"Department(s)"}),e.jsxs("span",{children:[": ",T.reportOptions.departments]}),e.jsx("span",{className:"font-bold",children:"Branch(es)"}),e.jsxs("span",{children:[": ",T.reportOptions.branches]}),e.jsx("span",{className:"font-bold",children:"Location(s)"}),e.jsxs("span",{children:[": ",T.reportOptions.locations]}),e.jsx("span",{className:"font-bold",children:"Pay Series"}),e.jsxs("span",{children:[": ",T.reportOptions.paySeries]}),e.jsx("span",{className:"font-bold",children:"Pay Grade"}),e.jsxs("span",{children:[": ",T.reportOptions.payGrade]}),e.jsx("span",{className:"font-bold",children:"Ordered By"}),e.jsxs("span",{children:[": ",T.reportOptions.orderedBy]})]})]})]}),f?e.jsx("div",{className:"mb-4 p-8 text-center",children:e.jsx("div",{className:"text-blue-600 font-bold uppercase tracking-widest animate-pulse",children:"Loading Payroll Data..."})}):d.length===0?e.jsxs("div",{className:"mb-4 p-8 text-center border-2 border-dashed border-gray-300",children:[e.jsx("div",{className:"text-gray-400 font-bold uppercase tracking-widest",children:"No Payroll Records Found"}),e.jsx("div",{className:"text-[10px] text-gray-400 mt-2",children:"Try adjusting your filter criteria"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-[9px] border-collapse min-w-[600px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"text-left font-black uppercase py-2 w-[8%]",children:"Emp ID"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[22%]",children:"Employee Name"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[18%]",children:"Department"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[12%]",children:"Job Title"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[10%]",children:"Location"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[10%]",children:"Gross Salary"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[8%] text-red-600",children:"Deductions"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[8%] text-red-600",children:"Tax"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[10%] bg-gray-50",children:"Net Pay"})]})}),e.jsx("tbody",{children:d.map((_,O)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-yellow-50",children:[e.jsx("td",{className:"py-1.5 text-gray-700 font-bold align-top",children:_.employee?.employeeId}),e.jsxs("td",{className:"py-1.5 text-blue-900 font-bold uppercase align-top",children:[_.employee?.firstName," ",_.employee?.lastName]}),e.jsx("td",{className:"py-1.5 text-gray-600 uppercase align-top",children:_.employee?.department?.name||_.employee?.department||"-"}),e.jsx("td",{className:"py-1.5 text-gray-500 uppercase italic text-[8px] align-top",children:_.employee?.designation||"-"}),e.jsx("td",{className:"py-1.5 text-gray-500 uppercase italic text-[8px] align-top",children:_.employee?.city||_.employee?.branch||"-"}),e.jsx("td",{className:"py-1.5 text-right text-gray-800 font-mono align-top",children:Dl(_.grossSalary)}),e.jsx("td",{className:"py-1.5 text-right text-red-500 font-mono align-top",children:Dl(_.deductions)}),e.jsx("td",{className:"py-1.5 text-right text-red-500 font-mono align-top",children:Dl(_.tax)}),e.jsx("td",{className:"py-1.5 text-right text-green-700 font-black font-mono bg-gray-50 align-top",children:Dl(_.netSalary)})]},O))})]})}),e.jsxs("div",{className:"mt-8 border-t-2 border-gray-800 pt-4",children:[e.jsx("div",{className:"mb-3 text-[10px] font-black uppercase text-gray-700 tracking-wider",children:"Report Grand Totals"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-[9px]",children:[e.jsxs("div",{className:"border border-gray-400 p-2 shadow-sm",children:[e.jsx("div",{className:"font-bold mb-2 border-b border-gray-200 pb-1 text-gray-600",children:"TOTAL EARNINGS"}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-y-1",children:[e.jsx("span",{children:"Total Gross:"}),e.jsx("span",{className:"font-bold font-mono",children:Dl(g.gross)}),e.jsx("span",{className:"text-gray-500",children:"Non-Taxable:"}),e.jsx("span",{className:"text-gray-500 font-mono",children:"0.00"})]})]}),e.jsxs("div",{className:"border border-gray-400 p-2 shadow-sm",children:[e.jsx("div",{className:"font-bold mb-2 border-b border-gray-200 pb-1 text-gray-600",children:"TOTAL DEDUCTIONS"}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-y-1",children:[e.jsx("span",{children:"Total Ded:"}),e.jsx("span",{className:"font-bold text-red-600 font-mono",children:Dl(g.deductions)}),e.jsx("span",{children:"Total Tax:"}),e.jsx("span",{className:"font-bold text-red-600 font-mono",children:Dl(g.tax)})]})]}),e.jsxs("div",{className:"border border-gray-400 p-2 shadow-sm bg-gray-50",children:[e.jsx("div",{className:"font-bold mb-2 border-b border-gray-200 pb-1 text-blue-600",children:"STATUTORY BREAKDOWN (EST)"}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-y-1 text-gray-500",children:[e.jsx("span",{children:"NHT:"}),e.jsx("span",{className:"font-mono",children:Dl(g.nht)}),e.jsx("span",{children:"NIS:"}),e.jsx("span",{className:"font-mono",children:Dl(g.nis)}),e.jsx("span",{children:"EdTax:"}),e.jsx("span",{className:"font-mono",children:Dl(g.edTax)})]})]}),e.jsxs("div",{className:"border-2 border-green-600 p-2 shadow-md bg-green-50 flex flex-col justify-center",children:[e.jsx("div",{className:"font-black text-[10px] uppercase text-green-800 mb-1",children:"NET DISBURSEMENT"}),e.jsx("div",{className:"text-left text-xs text-gray-600",children:"TOTAL NET:"}),e.jsx("div",{className:"text-right text-xl font-black text-green-700 mt-auto font-mono",children:Dl(g.net)})]})]})]})]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-gray-400 px-2 py-1 flex items-center gap-2 no-print mt-auto",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-1 px-3 py-1 border border-gray-400 bg-white hover:bg-gray-100",children:[e.jsx(ea,{size:16}),e.jsx("span",{className:"font-bold",children:"Print"})]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:()=>t("/payroll/register"),className:"px-3 py-1 border border-gray-400 bg-white hover:bg-gray-100",children:"Close"})]})]})},Dl=t=>parseFloat(t||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),F9="modulepreload",O9=function(t){return"/"+t},kv={},Qm=function(r,a,s){let i=Promise.resolve();if(a&&a.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=h(a.map(f=>{if(f=O9(f),f in kv)return;kv[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":F9,p||(b.as="script"),b.crossOrigin="",b.href=f,d&&b.setAttribute("nonce",d),document.head.appendChild(b),p)return new Promise((m,v)=>{b.addEventListener("load",m),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return r().catch(o)})};function la(t){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},la(t)}var Il=Uint8Array,Ti=Uint16Array,I1=Int32Array,M1=new Il([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B1=new Il([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Av=new Il([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M4=function(t,r){for(var a=new Ti(31),s=0;s<31;++s)a[s]=r+=1<<t[s-1];for(var i=new I1(a[30]),s=1;s<30;++s)for(var o=a[s];o<a[s+1];++o)i[o]=o-a[s]<<5|s;return{b:a,r:i}},B4=M4(M1,2),P9=B4.b,Bg=B4.r;P9[28]=258,Bg[258]=28;var I9=M4(B1,0),_v=I9.r,zg=new Ti(32768);for(var Ca=0;Ca<32768;++Ca){var qc=(Ca&43690)>>1|(Ca&21845)<<1;qc=(qc&52428)>>2|(qc&13107)<<2,qc=(qc&61680)>>4|(qc&3855)<<4,zg[Ca]=((qc&65280)>>8|(qc&255)<<8)>>1}var kf=(function(t,r,a){for(var s=t.length,i=0,o=new Ti(r);i<s;++i)t[i]&&++o[t[i]-1];var c=new Ti(r);for(i=1;i<r;++i)c[i]=c[i-1]+o[i-1]<<1;var d;if(a){d=new Ti(1<<r);var h=15-r;for(i=0;i<s;++i)if(t[i])for(var f=i<<4|t[i],p=r-t[i],g=c[t[i]-1]++<<p,b=g|(1<<p)-1;g<=b;++g)d[zg[g]>>h]=f}else for(d=new Ti(s),i=0;i<s;++i)t[i]&&(d[i]=zg[c[t[i]-1]++]>>15-t[i]);return d}),Gd=new Il(288);for(var Ca=0;Ca<144;++Ca)Gd[Ca]=8;for(var Ca=144;Ca<256;++Ca)Gd[Ca]=9;for(var Ca=256;Ca<280;++Ca)Gd[Ca]=7;for(var Ca=280;Ca<288;++Ca)Gd[Ca]=8;var Vp=new Il(32);for(var Ca=0;Ca<32;++Ca)Vp[Ca]=5;var M9=kf(Gd,9,0),B9=kf(Vp,5,0),z4=function(t){return(t+7)/8|0},z9=function(t,r,a){return(a==null||a>t.length)&&(a=t.length),new Il(t.subarray(r,a))},Go=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8},mf=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8,t[s+2]|=a>>16},eg=function(t,r){for(var a=[],s=0;s<t.length;++s)t[s]&&a.push({s,f:t[s]});var i=a.length,o=a.slice();if(!i)return{t:H4,l:0};if(i==1){var c=new Il(a[0].s+1);return c[a[0].s]=1,{t:c,l:1}}a.sort(function(O,W){return O.f-W.f}),a.push({s:-1,f:25001});var d=a[0],h=a[1],f=0,p=1,g=2;for(a[0]={s:-1,f:d.f+h.f,l:d,r:h};p!=i-1;)d=a[a[f].f<a[g].f?f++:g++],h=a[f!=p&&a[f].f<a[g].f?f++:g++],a[p++]={s:-1,f:d.f+h.f,l:d,r:h};for(var b=o[0].s,s=1;s<i;++s)o[s].s>b&&(b=o[s].s);var m=new Ti(b+1),v=Ug(a[p-1],m,0);if(v>r){var s=0,N=0,w=v-r,A=1<<w;for(o.sort(function(W,F){return m[F.s]-m[W.s]||W.f-F.f});s<i;++s){var E=o[s].s;if(m[E]>r)N+=A-(1<<v-m[E]),m[E]=r;else break}for(N>>=w;N>0;){var T=o[s].s;m[T]<r?N-=1<<r-m[T]++-1:++s}for(;s>=0&&N;--s){var _=o[s].s;m[_]==r&&(--m[_],++N)}v=r}return{t:new Il(m),l:v}},Ug=function(t,r,a){return t.s==-1?Math.max(Ug(t.l,r,a+1),Ug(t.r,r,a+1)):r[t.s]=a},Cv=function(t){for(var r=t.length;r&&!t[--r];);for(var a=new Ti(++r),s=0,i=t[0],o=1,c=function(h){a[s++]=h},d=1;d<=r;++d)if(t[d]==i&&d!=r)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=t[d]}return{c:a.subarray(0,s),n:r}},gf=function(t,r){for(var a=0,s=0;s<r.length;++s)a+=t[s]*r[s];return a},U4=function(t,r,a){var s=a.length,i=z4(r+2);t[i]=s&255,t[i+1]=s>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<s;++o)t[i+o+4]=a[o];return(i+4+s)*8},Tv=function(t,r,a,s,i,o,c,d,h,f,p){Go(r,p++,a),++i[256];for(var g=eg(i,15),b=g.t,m=g.l,v=eg(o,15),N=v.t,w=v.l,A=Cv(b),E=A.c,T=A.n,_=Cv(N),O=_.c,W=_.n,F=new Ti(19),P=0;P<E.length;++P)++F[E[P]&31];for(var P=0;P<O.length;++P)++F[O[P]&31];for(var z=eg(F,7),M=z.t,C=z.l,U=19;U>4&&!M[Av[U-1]];--U);var B=f+5<<3,X=gf(i,Gd)+gf(o,Vp)+c,ue=gf(i,b)+gf(o,N)+c+14+3*U+gf(F,M)+2*F[16]+3*F[17]+7*F[18];if(h>=0&&B<=X&&B<=ue)return U4(r,p,t.subarray(h,h+f));var J,re,oe,ve;if(Go(r,p,1+(ue<X)),p+=2,ue<X){J=kf(b,m,0),re=b,oe=kf(N,w,0),ve=N;var Ne=kf(M,C,0);Go(r,p,T-257),Go(r,p+5,W-1),Go(r,p+10,U-4),p+=14;for(var P=0;P<U;++P)Go(r,p+3*P,M[Av[P]]);p+=3*U;for(var q=[E,O],L=0;L<2;++L)for(var G=q[L],P=0;P<G.length;++P){var V=G[P]&31;Go(r,p,Ne[V]),p+=M[V],V>15&&(Go(r,p,G[P]>>5&127),p+=G[P]>>12)}}else J=M9,re=Gd,oe=B9,ve=Vp;for(var P=0;P<d;++P){var K=s[P];if(K>255){var V=K>>18&31;mf(r,p,J[V+257]),p+=re[V+257],V>7&&(Go(r,p,K>>23&31),p+=M1[V]);var ne=K&31;mf(r,p,oe[ne]),p+=ve[ne],ne>3&&(mf(r,p,K>>5&8191),p+=B1[ne])}else mf(r,p,J[K]),p+=re[K]}return mf(r,p,J[256]),p+re[256]},U9=new I1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),H4=new Il(0),H9=function(t,r,a,s,i,o){var c=o.z||t.length,d=new Il(s+c+5*(1+Math.ceil(c/7e3))+i),h=d.subarray(s,d.length-i),f=o.l,p=(o.r||0)&7;if(r){p&&(h[0]=o.r>>3);for(var g=U9[r-1],b=g>>13,m=g&8191,v=(1<<a)-1,N=o.p||new Ti(32768),w=o.h||new Ti(v+1),A=Math.ceil(a/3),E=2*A,T=function(ht){return(t[ht]^t[ht+1]<<A^t[ht+2]<<E)&v},_=new I1(25e3),O=new Ti(288),W=new Ti(32),F=0,P=0,z=o.i||0,M=0,C=o.w||0,U=0;z+2<c;++z){var B=T(z),X=z&32767,ue=w[B];if(N[X]=ue,w[B]=X,C<=z){var J=c-z;if((F>7e3||M>24576)&&(J>423||!f)){p=Tv(t,h,0,_,O,W,P,M,U,z-U,p),M=F=P=0,U=z;for(var re=0;re<286;++re)O[re]=0;for(var re=0;re<30;++re)W[re]=0}var oe=2,ve=0,Ne=m,q=X-ue&32767;if(J>2&&B==T(z-q))for(var L=Math.min(b,J)-1,G=Math.min(32767,z),V=Math.min(258,J);q<=G&&--Ne&&X!=ue;){if(t[z+oe]==t[z+oe-q]){for(var K=0;K<V&&t[z+K]==t[z+K-q];++K);if(K>oe){if(oe=K,ve=q,K>L)break;for(var ne=Math.min(q,K-2),ye=0,re=0;re<ne;++re){var ke=z-q+re&32767,Se=N[ke],_e=ke-Se&32767;_e>ye&&(ye=_e,ue=ke)}}}X=ue,ue=N[X],q+=X-ue&32767}if(ve){_[M++]=268435456|Bg[oe]<<18|_v[ve];var Je=Bg[oe]&31,nt=_v[ve]&31;P+=M1[Je]+B1[nt],++O[257+Je],++W[nt],C=z+oe,++F}else _[M++]=t[z],++O[t[z]]}}for(z=Math.max(z,C);z<c;++z)_[M++]=t[z],++O[t[z]];p=Tv(t,h,f,_,O,W,P,M,U,z-U,p),f||(o.r=p&7|h[p/8|0]<<3,p-=7,o.h=w,o.p=N,o.i=z,o.w=C)}else{for(var z=o.w||0;z<c+f;z+=65535){var mt=z+65535;mt>=c&&(h[p/8|0]=f,mt=c),p=U4(h,p+1,t.subarray(z,mt))}o.i=c}return z9(d,0,s+z4(p)+i)},q4=function(){var t=1,r=0;return{p:function(a){for(var s=t,i=r,o=a.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)i+=s+=a[c];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}t=s,r=i},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},q9=function(t,r,a,s,i){if(!i&&(i={l:1},r.dictionary)){var o=r.dictionary.subarray(-32768),c=new Il(o.length+t.length);c.set(o),c.set(t,o.length),t=c,i.w=o.length}return H9(t,r.level==null?6:r.level,r.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,a,s,i)},G4=function(t,r,a){for(;a;++r)t[r]=a,a>>>=8},G9=function(t,r){var a=r.level,s=a==0?0:a<6?1:a==9?3:2;if(t[0]=120,t[1]=s<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var i=q4();i.p(r.dictionary),G4(t,2,i.d())}};function Hg(t,r){r||(r={});var a=q4();a.p(t);var s=q9(t,r,r.dictionary?6:2,4);return G9(s,r),G4(s,s.length-4,a.d()),s}var $9=typeof TextDecoder<"u"&&new TextDecoder,Y9=0;try{$9.decode(H4,{stream:!0}),Y9=1}catch{}function V9(t){if(Array.isArray(t))return t}function W9(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,i,o,c,d=[],h=!0,f=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(h=(s=o.call(a)).done)&&(d.push(s.value),d.length!==r);h=!0);}catch(p){f=!0,i=p}finally{try{if(!h&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw i}}return d}}function Dv(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,s=Array(r);a<r;a++)s[a]=t[a];return s}function X9(t,r){if(t){if(typeof t=="string")return Dv(t,r);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Dv(t,r):void 0}}function J9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lv(t,r){return V9(t)||W9(t,r)||X9(t,r)||J9()}function Rv(t,r="utf8"){return new TextDecoder(r).decode(t)}const K9=new TextEncoder;function Z9(t){return K9.encode(t)}const Q9=1024*8,eF=(()=>{const t=new Uint8Array(4),r=new Uint32Array(t.buffer);return!((r[0]=1)&t[0])})(),tg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class z1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(r=Q9,a={}){let s=!1;typeof r=="number"?r=new ArrayBuffer(r):(s=!0,this.lastWrittenByte=r.byteLength);const i=a.offset?a.offset>>>0:0,o=r.byteLength-i;let c=i;(ArrayBuffer.isView(r)||r instanceof z1)&&(r.byteLength!==r.buffer.byteLength&&(c=r.byteOffset+i),r=r.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=r,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const s=(this.offset+r)*2,i=new Uint8Array(s);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,a){const s=tg[a].BYTES_PER_ELEMENT*r,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+s);if(this.littleEndian===eF&&a!=="uint8"&&a!=="int8"){const d=new Uint8Array(this.buffer.slice(i,i+s));d.reverse();const h=new tg[a](d.buffer);return this.offset+=s,h.reverse(),h}const c=new tg[a](o);return this.offset+=s,c}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let a="";for(let s=0;s<r;s++)a+=this.readChar();return a}readUtf8(r=1){return Rv(this.readBytes(r))}decodeText(r=1,a="utf8"){return Rv(this.readBytes(r),a)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let a=0;a<r.length;a++)this._data.setUint8(this.offset++,r[a]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let a=0;a<r.length;a++)this.writeUint8(r.charCodeAt(a));return this}writeUtf8(r){return this.writeBytes(Z9(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _u(t){let r=t.length;for(;--r>=0;)t[r]=0}const tF=3,rF=258,$4=29,aF=256,sF=aF+1+$4,Y4=30,nF=512,iF=new Array((sF+2)*2);_u(iF);const lF=new Array(Y4*2);_u(lF);const oF=new Array(nF);_u(oF);const cF=new Array(rF-tF+1);_u(cF);const dF=new Array($4);_u(dF);const uF=new Array(Y4);_u(uF);const fF=(t,r,a,s)=>{let i=t&65535|0,o=t>>>16&65535|0,c=0;for(;a!==0;){c=a>2e3?2e3:a,a-=c;do i=i+r[s++]|0,o=o+i|0;while(--c);i%=65521,o%=65521}return i|o<<16|0};var qg=fF;const hF=()=>{let t,r=[];for(var a=0;a<256;a++){t=a;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;r[a]=t}return r},pF=new Uint32Array(hF()),xF=(t,r,a,s)=>{const i=pF,o=s+a;t^=-1;for(let c=s;c<o;c++)t=t>>>8^i[(t^r[c])&255];return t^-1};var lo=xF,Gg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mF=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var gF=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const a=r.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const s in a)mF(a,s)&&(t[s]=a[s])}}return t},bF=t=>{let r=0;for(let s=0,i=t.length;s<i;s++)r+=t[s].length;const a=new Uint8Array(r);for(let s=0,i=0,o=t.length;s<o;s++){let c=t[s];a.set(c,i),i+=c.length}return a},W4={assign:gF,flattenChunks:bF};let X4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{X4=!1}const zf=new Uint8Array(256);for(let t=0;t<256;t++)zf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;zf[254]=zf[254]=1;var yF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,a,s,i,o,c=t.length,d=0;for(i=0;i<c;i++)a=t.charCodeAt(i),(a&64512)===55296&&i+1<c&&(s=t.charCodeAt(i+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),i++)),d+=a<128?1:a<2048?2:a<65536?3:4;for(r=new Uint8Array(d),o=0,i=0;o<d;i++)a=t.charCodeAt(i),(a&64512)===55296&&i+1<c&&(s=t.charCodeAt(i+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),i++)),a<128?r[o++]=a:a<2048?(r[o++]=192|a>>>6,r[o++]=128|a&63):a<65536?(r[o++]=224|a>>>12,r[o++]=128|a>>>6&63,r[o++]=128|a&63):(r[o++]=240|a>>>18,r[o++]=128|a>>>12&63,r[o++]=128|a>>>6&63,r[o++]=128|a&63);return r};const vF=(t,r)=>{if(r<65534&&t.subarray&&X4)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let a="";for(let s=0;s<r;s++)a+=String.fromCharCode(t[s]);return a};var NF=(t,r)=>{const a=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let s,i;const o=new Array(a*2);for(i=0,s=0;s<a;){let c=t[s++];if(c<128){o[i++]=c;continue}let d=zf[c];if(d>4){o[i++]=65533,s+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&s<a;)c=c<<6|t[s++]&63,d--;if(d>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return vF(o,i)},wF=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let a=r-1;for(;a>=0&&(t[a]&192)===128;)a--;return a<0||a===0?r:a+zf[t[a]]>r?a:r},$g={string2buf:yF,buf2string:NF,utf8border:wF};function jF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SF=jF;const np=16209,EF=16191;var kF=function(r,a){let s,i,o,c,d,h,f,p,g,b,m,v,N,w,A,E,T,_,O,W,F,P,z,M;const C=r.state;s=r.next_in,z=r.input,i=s+(r.avail_in-5),o=r.next_out,M=r.output,c=o-(a-r.avail_out),d=o+(r.avail_out-257),h=C.dmax,f=C.wsize,p=C.whave,g=C.wnext,b=C.window,m=C.hold,v=C.bits,N=C.lencode,w=C.distcode,A=(1<<C.lenbits)-1,E=(1<<C.distbits)-1;e:do{v<15&&(m+=z[s++]<<v,v+=8,m+=z[s++]<<v,v+=8),T=N[m&A];t:for(;;){if(_=T>>>24,m>>>=_,v-=_,_=T>>>16&255,_===0)M[o++]=T&65535;else if(_&16){O=T&65535,_&=15,_&&(v<_&&(m+=z[s++]<<v,v+=8),O+=m&(1<<_)-1,m>>>=_,v-=_),v<15&&(m+=z[s++]<<v,v+=8,m+=z[s++]<<v,v+=8),T=w[m&E];r:for(;;){if(_=T>>>24,m>>>=_,v-=_,_=T>>>16&255,_&16){if(W=T&65535,_&=15,v<_&&(m+=z[s++]<<v,v+=8,v<_&&(m+=z[s++]<<v,v+=8)),W+=m&(1<<_)-1,W>h){r.msg="invalid distance too far back",C.mode=np;break e}if(m>>>=_,v-=_,_=o-c,W>_){if(_=W-_,_>p&&C.sane){r.msg="invalid distance too far back",C.mode=np;break e}if(F=0,P=b,g===0){if(F+=f-_,_<O){O-=_;do M[o++]=b[F++];while(--_);F=o-W,P=M}}else if(g<_){if(F+=f+g-_,_-=g,_<O){O-=_;do M[o++]=b[F++];while(--_);if(F=0,g<O){_=g,O-=_;do M[o++]=b[F++];while(--_);F=o-W,P=M}}}else if(F+=g-_,_<O){O-=_;do M[o++]=b[F++];while(--_);F=o-W,P=M}for(;O>2;)M[o++]=P[F++],M[o++]=P[F++],M[o++]=P[F++],O-=3;O&&(M[o++]=P[F++],O>1&&(M[o++]=P[F++]))}else{F=o-W;do M[o++]=M[F++],M[o++]=M[F++],M[o++]=M[F++],O-=3;while(O>2);O&&(M[o++]=M[F++],O>1&&(M[o++]=M[F++]))}}else if((_&64)===0){T=w[(T&65535)+(m&(1<<_)-1)];continue r}else{r.msg="invalid distance code",C.mode=np;break e}break}}else if((_&64)===0){T=N[(T&65535)+(m&(1<<_)-1)];continue t}else if(_&32){C.mode=EF;break e}else{r.msg="invalid literal/length code",C.mode=np;break e}break}}while(s<i&&o<d);O=v>>3,s-=O,v-=O<<3,m&=(1<<v)-1,r.next_in=s,r.next_out=o,r.avail_in=s<i?5+(i-s):5-(s-i),r.avail_out=o<d?257+(d-o):257-(o-d),C.hold=m,C.bits=v};const Y0=15,Fv=852,Ov=592,Pv=0,rg=1,Iv=2,AF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_F=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),CF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),TF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DF=(t,r,a,s,i,o,c,d)=>{const h=d.bits;let f=0,p=0,g=0,b=0,m=0,v=0,N=0,w=0,A=0,E=0,T,_,O,W,F,P=null,z;const M=new Uint16Array(Y0+1),C=new Uint16Array(Y0+1);let U=null,B,X,ue;for(f=0;f<=Y0;f++)M[f]=0;for(p=0;p<s;p++)M[r[a+p]]++;for(m=h,b=Y0;b>=1&&M[b]===0;b--);if(m>b&&(m=b),b===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,d.bits=1,0;for(g=1;g<b&&M[g]===0;g++);for(m<g&&(m=g),w=1,f=1;f<=Y0;f++)if(w<<=1,w-=M[f],w<0)return-1;if(w>0&&(t===Pv||b!==1))return-1;for(C[1]=0,f=1;f<Y0;f++)C[f+1]=C[f]+M[f];for(p=0;p<s;p++)r[a+p]!==0&&(c[C[r[a+p]]++]=p);if(t===Pv?(P=U=c,z=20):t===rg?(P=AF,U=_F,z=257):(P=CF,U=TF,z=0),E=0,p=0,f=g,F=o,v=m,N=0,O=-1,A=1<<m,W=A-1,t===rg&&A>Fv||t===Iv&&A>Ov)return 1;for(;;){B=f-N,c[p]+1<z?(X=0,ue=c[p]):c[p]>=z?(X=U[c[p]-z],ue=P[c[p]-z]):(X=96,ue=0),T=1<<f-N,_=1<<v,g=_;do _-=T,i[F+(E>>N)+_]=B<<24|X<<16|ue|0;while(_!==0);for(T=1<<f-1;E&T;)T>>=1;if(T!==0?(E&=T-1,E+=T):E=0,p++,--M[f]===0){if(f===b)break;f=r[a+c[p]]}if(f>m&&(E&W)!==O){for(N===0&&(N=m),F+=g,v=f-N,w=1<<v;v+N<b&&(w-=M[v+N],!(w<=0));)v++,w<<=1;if(A+=1<<v,t===rg&&A>Fv||t===Iv&&A>Ov)return 1;O=E&W,i[O]=m<<24|v<<16|F-o|0}}return E!==0&&(i[F+E]=f-N<<24|64<<16|0),d.bits=m,0};var Af=DF;const LF=0,J4=1,K4=2,{Z_FINISH:Mv,Z_BLOCK:RF,Z_TREES:ip,Z_OK:$d,Z_STREAM_END:FF,Z_NEED_DICT:OF,Z_STREAM_ERROR:tl,Z_DATA_ERROR:Z4,Z_MEM_ERROR:Q4,Z_BUF_ERROR:PF,Z_DEFLATED:Bv}=V4,bx=16180,zv=16181,Uv=16182,Hv=16183,qv=16184,Gv=16185,$v=16186,Yv=16187,Vv=16188,Wv=16189,Wp=16190,$o=16191,ag=16192,Xv=16193,sg=16194,Jv=16195,Kv=16196,Zv=16197,Qv=16198,lp=16199,op=16200,eN=16201,tN=16202,rN=16203,aN=16204,sN=16205,ng=16206,nN=16207,iN=16208,Pa=16209,ej=16210,tj=16211,IF=852,MF=592,BF=15,zF=BF,lN=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function UF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zd=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<bx||r.mode>tj?1:0},rj=t=>{if(Zd(t))return tl;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=bx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(IF),r.distcode=r.distdyn=new Int32Array(MF),r.sane=1,r.back=-1,$d},aj=t=>{if(Zd(t))return tl;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,rj(t)},sj=(t,r)=>{let a;if(Zd(t))return tl;const s=t.state;return r<0?(a=0,r=-r):(a=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?tl:(s.window!==null&&s.wbits!==r&&(s.window=null),s.wrap=a,s.wbits=r,aj(t))},nj=(t,r)=>{if(!t)return tl;const a=new UF;t.state=a,a.strm=t,a.window=null,a.mode=bx;const s=sj(t,r);return s!==$d&&(t.state=null),s},HF=t=>nj(t,zF);let oN=!0,ig,lg;const qF=t=>{if(oN){ig=new Int32Array(512),lg=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(Af(J4,t.lens,0,288,ig,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;Af(K4,t.lens,0,32,lg,0,t.work,{bits:5}),oN=!1}t.lencode=ig,t.lenbits=9,t.distcode=lg,t.distbits=5},ij=(t,r,a,s)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(r.subarray(a-o.wsize,a),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>s&&(i=s),o.window.set(r.subarray(a-s,a-s+i),o.wnext),s-=i,s?(o.window.set(r.subarray(a-s,a),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},GF=(t,r)=>{let a,s,i,o,c,d,h,f,p,g,b,m,v,N,w=0,A,E,T,_,O,W,F,P;const z=new Uint8Array(4);let M,C;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zd(t)||!t.output||!t.input&&t.avail_in!==0)return tl;a=t.state,a.mode===$o&&(a.mode=ag),c=t.next_out,i=t.output,h=t.avail_out,o=t.next_in,s=t.input,d=t.avail_in,f=a.hold,p=a.bits,g=d,b=h,P=$d;e:for(;;)switch(a.mode){case bx:if(a.wrap===0){a.mode=ag;break}for(;p<16;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(a.wrap&2&&f===35615){a.wbits===0&&(a.wbits=15),a.check=0,z[0]=f&255,z[1]=f>>>8&255,a.check=lo(a.check,z,2,0),f=0,p=0,a.mode=zv;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",a.mode=Pa;break}if((f&15)!==Bv){t.msg="unknown compression method",a.mode=Pa;break}if(f>>>=4,p-=4,F=(f&15)+8,a.wbits===0&&(a.wbits=F),F>15||F>a.wbits){t.msg="invalid window size",a.mode=Pa;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=f&512?Wv:$o,f=0,p=0;break;case zv:for(;p<16;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(a.flags=f,(a.flags&255)!==Bv){t.msg="unknown compression method",a.mode=Pa;break}if(a.flags&57344){t.msg="unknown header flags set",a.mode=Pa;break}a.head&&(a.head.text=f>>8&1),a.flags&512&&a.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,a.check=lo(a.check,z,2,0)),f=0,p=0,a.mode=Uv;case Uv:for(;p<32;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}a.head&&(a.head.time=f),a.flags&512&&a.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,z[2]=f>>>16&255,z[3]=f>>>24&255,a.check=lo(a.check,z,4,0)),f=0,p=0,a.mode=Hv;case Hv:for(;p<16;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}a.head&&(a.head.xflags=f&255,a.head.os=f>>8),a.flags&512&&a.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,a.check=lo(a.check,z,2,0)),f=0,p=0,a.mode=qv;case qv:if(a.flags&1024){for(;p<16;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}a.length=f,a.head&&(a.head.extra_len=f),a.flags&512&&a.wrap&4&&(z[0]=f&255,z[1]=f>>>8&255,a.check=lo(a.check,z,2,0)),f=0,p=0}else a.head&&(a.head.extra=null);a.mode=Gv;case Gv:if(a.flags&1024&&(m=a.length,m>d&&(m=d),m&&(a.head&&(F=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(s.subarray(o,o+m),F)),a.flags&512&&a.wrap&4&&(a.check=lo(a.check,s,m,o)),d-=m,o+=m,a.length-=m),a.length))break e;a.length=0,a.mode=$v;case $v:if(a.flags&2048){if(d===0)break e;m=0;do F=s[o+m++],a.head&&F&&a.length<65536&&(a.head.name+=String.fromCharCode(F));while(F&&m<d);if(a.flags&512&&a.wrap&4&&(a.check=lo(a.check,s,m,o)),d-=m,o+=m,F)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=Yv;case Yv:if(a.flags&4096){if(d===0)break e;m=0;do F=s[o+m++],a.head&&F&&a.length<65536&&(a.head.comment+=String.fromCharCode(F));while(F&&m<d);if(a.flags&512&&a.wrap&4&&(a.check=lo(a.check,s,m,o)),d-=m,o+=m,F)break e}else a.head&&(a.head.comment=null);a.mode=Vv;case Vv:if(a.flags&512){for(;p<16;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(a.wrap&4&&f!==(a.check&65535)){t.msg="header crc mismatch",a.mode=Pa;break}f=0,p=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=$o;break;case Wv:for(;p<32;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}t.adler=a.check=lN(f),f=0,p=0,a.mode=Wp;case Wp:if(a.havedict===0)return t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=d,a.hold=f,a.bits=p,OF;t.adler=a.check=1,a.mode=$o;case $o:if(r===RF||r===ip)break e;case ag:if(a.last){f>>>=p&7,p-=p&7,a.mode=ng;break}for(;p<3;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}switch(a.last=f&1,f>>>=1,p-=1,f&3){case 0:a.mode=Xv;break;case 1:if(qF(a),a.mode=lp,r===ip){f>>>=2,p-=2;break e}break;case 2:a.mode=Kv;break;case 3:t.msg="invalid block type",a.mode=Pa}f>>>=2,p-=2;break;case Xv:for(f>>>=p&7,p-=p&7;p<32;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",a.mode=Pa;break}if(a.length=f&65535,f=0,p=0,a.mode=sg,r===ip)break e;case sg:a.mode=Jv;case Jv:if(m=a.length,m){if(m>d&&(m=d),m>h&&(m=h),m===0)break e;i.set(s.subarray(o,o+m),c),d-=m,o+=m,h-=m,c+=m,a.length-=m;break}a.mode=$o;break;case Kv:for(;p<14;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(a.nlen=(f&31)+257,f>>>=5,p-=5,a.ndist=(f&31)+1,f>>>=5,p-=5,a.ncode=(f&15)+4,f>>>=4,p-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=Pa;break}a.have=0,a.mode=Zv;case Zv:for(;a.have<a.ncode;){for(;p<3;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}a.lens[U[a.have++]]=f&7,f>>>=3,p-=3}for(;a.have<19;)a.lens[U[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,M={bits:a.lenbits},P=Af(LF,a.lens,0,19,a.lencode,0,a.work,M),a.lenbits=M.bits,P){t.msg="invalid code lengths set",a.mode=Pa;break}a.have=0,a.mode=Qv;case Qv:for(;a.have<a.nlen+a.ndist;){for(;w=a.lencode[f&(1<<a.lenbits)-1],A=w>>>24,E=w>>>16&255,T=w&65535,!(A<=p);){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(T<16)f>>>=A,p-=A,a.lens[a.have++]=T;else{if(T===16){for(C=A+2;p<C;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(f>>>=A,p-=A,a.have===0){t.msg="invalid bit length repeat",a.mode=Pa;break}F=a.lens[a.have-1],m=3+(f&3),f>>>=2,p-=2}else if(T===17){for(C=A+3;p<C;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}f>>>=A,p-=A,F=0,m=3+(f&7),f>>>=3,p-=3}else{for(C=A+7;p<C;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}f>>>=A,p-=A,F=0,m=11+(f&127),f>>>=7,p-=7}if(a.have+m>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=Pa;break}for(;m--;)a.lens[a.have++]=F}}if(a.mode===Pa)break;if(a.lens[256]===0){t.msg="invalid code -- missing end-of-block",a.mode=Pa;break}if(a.lenbits=9,M={bits:a.lenbits},P=Af(J4,a.lens,0,a.nlen,a.lencode,0,a.work,M),a.lenbits=M.bits,P){t.msg="invalid literal/lengths set",a.mode=Pa;break}if(a.distbits=6,a.distcode=a.distdyn,M={bits:a.distbits},P=Af(K4,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,M),a.distbits=M.bits,P){t.msg="invalid distances set",a.mode=Pa;break}if(a.mode=lp,r===ip)break e;case lp:a.mode=op;case op:if(d>=6&&h>=258){t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=d,a.hold=f,a.bits=p,kF(t,b),c=t.next_out,i=t.output,h=t.avail_out,o=t.next_in,s=t.input,d=t.avail_in,f=a.hold,p=a.bits,a.mode===$o&&(a.back=-1);break}for(a.back=0;w=a.lencode[f&(1<<a.lenbits)-1],A=w>>>24,E=w>>>16&255,T=w&65535,!(A<=p);){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(E&&(E&240)===0){for(_=A,O=E,W=T;w=a.lencode[W+((f&(1<<_+O)-1)>>_)],A=w>>>24,E=w>>>16&255,T=w&65535,!(_+A<=p);){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}f>>>=_,p-=_,a.back+=_}if(f>>>=A,p-=A,a.back+=A,a.length=T,E===0){a.mode=sN;break}if(E&32){a.back=-1,a.mode=$o;break}if(E&64){t.msg="invalid literal/length code",a.mode=Pa;break}a.extra=E&15,a.mode=eN;case eN:if(a.extra){for(C=a.extra;p<C;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}a.length+=f&(1<<a.extra)-1,f>>>=a.extra,p-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=tN;case tN:for(;w=a.distcode[f&(1<<a.distbits)-1],A=w>>>24,E=w>>>16&255,T=w&65535,!(A<=p);){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if((E&240)===0){for(_=A,O=E,W=T;w=a.distcode[W+((f&(1<<_+O)-1)>>_)],A=w>>>24,E=w>>>16&255,T=w&65535,!(_+A<=p);){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}f>>>=_,p-=_,a.back+=_}if(f>>>=A,p-=A,a.back+=A,E&64){t.msg="invalid distance code",a.mode=Pa;break}a.offset=T,a.extra=E&15,a.mode=rN;case rN:if(a.extra){for(C=a.extra;p<C;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}a.offset+=f&(1<<a.extra)-1,f>>>=a.extra,p-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=Pa;break}a.mode=aN;case aN:if(h===0)break e;if(m=b-h,a.offset>m){if(m=a.offset-m,m>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=Pa;break}m>a.wnext?(m-=a.wnext,v=a.wsize-m):v=a.wnext-m,m>a.length&&(m=a.length),N=a.window}else N=i,v=c-a.offset,m=a.length;m>h&&(m=h),h-=m,a.length-=m;do i[c++]=N[v++];while(--m);a.length===0&&(a.mode=op);break;case sN:if(h===0)break e;i[c++]=a.length,h--,a.mode=op;break;case ng:if(a.wrap){for(;p<32;){if(d===0)break e;d--,f|=s[o++]<<p,p+=8}if(b-=h,t.total_out+=b,a.total+=b,a.wrap&4&&b&&(t.adler=a.check=a.flags?lo(a.check,i,b,c-b):qg(a.check,i,b,c-b)),b=h,a.wrap&4&&(a.flags?f:lN(f))!==a.check){t.msg="incorrect data check",a.mode=Pa;break}f=0,p=0}a.mode=nN;case nN:if(a.wrap&&a.flags){for(;p<32;){if(d===0)break e;d--,f+=s[o++]<<p,p+=8}if(a.wrap&4&&f!==(a.total&4294967295)){t.msg="incorrect length check",a.mode=Pa;break}f=0,p=0}a.mode=iN;case iN:P=FF;break e;case Pa:P=Z4;break e;case ej:return Q4;case tj:default:return tl}return t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=d,a.hold=f,a.bits=p,(a.wsize||b!==t.avail_out&&a.mode<Pa&&(a.mode<ng||r!==Mv))&&ij(t,t.output,t.next_out,b-t.avail_out),g-=t.avail_in,b-=t.avail_out,t.total_in+=g,t.total_out+=b,a.total+=b,a.wrap&4&&b&&(t.adler=a.check=a.flags?lo(a.check,i,b,t.next_out-b):qg(a.check,i,b,t.next_out-b)),t.data_type=a.bits+(a.last?64:0)+(a.mode===$o?128:0)+(a.mode===lp||a.mode===sg?256:0),(g===0&&b===0||r===Mv)&&P===$d&&(P=PF),P},$F=t=>{if(Zd(t))return tl;let r=t.state;return r.window&&(r.window=null),t.state=null,$d},YF=(t,r)=>{if(Zd(t))return tl;const a=t.state;return(a.wrap&2)===0?tl:(a.head=r,r.done=!1,$d)},VF=(t,r)=>{const a=r.length;let s,i,o;return Zd(t)||(s=t.state,s.wrap!==0&&s.mode!==Wp)?tl:s.mode===Wp&&(i=1,i=qg(i,r,a,0),i!==s.check)?Z4:(o=ij(t,r,a,a),o?(s.mode=ej,Q4):(s.havedict=1,$d))};var WF=aj,XF=sj,JF=rj,KF=HF,ZF=nj,QF=GF,eO=$F,tO=YF,rO=VF,aO="pako inflate (from Nodeca project)",Yo={inflateReset:WF,inflateReset2:XF,inflateResetKeep:JF,inflateInit:KF,inflateInit2:ZF,inflate:QF,inflateEnd:eO,inflateGetHeader:tO,inflateSetDictionary:rO,inflateInfo:aO};function sO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nO=sO;const lj=Object.prototype.toString,{Z_NO_FLUSH:iO,Z_FINISH:lO,Z_OK:Uf,Z_STREAM_END:og,Z_NEED_DICT:cg,Z_STREAM_ERROR:oO,Z_DATA_ERROR:cN,Z_MEM_ERROR:cO}=V4;function rh(t){this.options=W4.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SF,this.strm.avail_out=0;let a=Yo.inflateInit2(this.strm,r.windowBits);if(a!==Uf)throw new Error(Gg[a]);if(this.header=new nO,Yo.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=$g.string2buf(r.dictionary):lj.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(a=Yo.inflateSetDictionary(this.strm,r.dictionary),a!==Uf)))throw new Error(Gg[a])}rh.prototype.push=function(t,r){const a=this.strm,s=this.options.chunkSize,i=this.options.dictionary;let o,c,d;if(this.ended)return!1;for(r===~~r?c=r:c=r===!0?lO:iO,lj.call(t)==="[object ArrayBuffer]"?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),o=Yo.inflate(a,c),o===cg&&i&&(o=Yo.inflateSetDictionary(a,i),o===Uf?o=Yo.inflate(a,c):o===cN&&(o=cg));a.avail_in>0&&o===og&&a.state.wrap>0&&t[a.next_in]!==0;)Yo.inflateReset(a),o=Yo.inflate(a,c);switch(o){case oO:case cN:case cg:case cO:return this.onEnd(o),this.ended=!0,!1}if(d=a.avail_out,a.next_out&&(a.avail_out===0||o===og))if(this.options.to==="string"){let h=$g.utf8border(a.output,a.next_out),f=a.next_out-h,p=$g.buf2string(a.output,h);a.next_out=f,a.avail_out=s-f,f&&a.output.set(a.output.subarray(h,h+f),0),this.onData(p)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(o===Uf&&d===0)){if(o===og)return o=Yo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};rh.prototype.onData=function(t){this.chunks.push(t)};rh.prototype.onEnd=function(t){t===Uf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=W4.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function dO(t,r){const a=new rh(r);if(a.push(t),a.err)throw a.msg||Gg[a.err];return a.result}var uO=rh,fO=dO,hO={Inflate:uO,inflate:fO};const{Inflate:pO,inflate:xO}=hO;var dN=pO,mO=xO;const oj=[];for(let t=0;t<256;t++){let r=t;for(let a=0;a<8;a++)r&1?r=3988292384^r>>>1:r=r>>>1;oj[t]=r}const uN=4294967295;function gO(t,r,a){let s=t;for(let i=0;i<a;i++)s=oj[(s^r[i])&255]^s>>>8;return s}function bO(t,r){return(gO(uN,t,r)^uN)>>>0}function fN(t,r,a){const s=t.readUint32(),i=bO(new Uint8Array(t.buffer,t.byteOffset+t.offset-r-4,r),r);if(i!==s)throw new Error(`CRC mismatch for chunk ${a}. Expected ${s}, found ${i}`)}function cj(t,r,a){for(let s=0;s<a;s++)r[s]=t[s]}function dj(t,r,a,s){let i=0;for(;i<s;i++)r[i]=t[i];for(;i<a;i++)r[i]=t[i]+r[i-s]&255}function uj(t,r,a,s){let i=0;if(a.length===0)for(;i<s;i++)r[i]=t[i];else for(;i<s;i++)r[i]=t[i]+a[i]&255}function fj(t,r,a,s,i){let o=0;if(a.length===0){for(;o<i;o++)r[o]=t[o];for(;o<s;o++)r[o]=t[o]+(r[o-i]>>1)&255}else{for(;o<i;o++)r[o]=t[o]+(a[o]>>1)&255;for(;o<s;o++)r[o]=t[o]+(r[o-i]+a[o]>>1)&255}}function hj(t,r,a,s,i){let o=0;if(a.length===0){for(;o<i;o++)r[o]=t[o];for(;o<s;o++)r[o]=t[o]+r[o-i]&255}else{for(;o<i;o++)r[o]=t[o]+a[o]&255;for(;o<s;o++)r[o]=t[o]+yO(r[o-i],a[o],a[o-i])&255}}function yO(t,r,a){const s=t+r-a,i=Math.abs(s-t),o=Math.abs(s-r),c=Math.abs(s-a);return i<=o&&i<=c?t:o<=c?r:a}function vO(t,r,a,s,i,o){switch(t){case 0:cj(r,a,i);break;case 1:dj(r,a,i,o);break;case 2:uj(r,a,s,i);break;case 3:fj(r,a,s,i,o);break;case 4:hj(r,a,s,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const NO=new Uint16Array([255]),wO=new Uint8Array(NO.buffer),jO=wO[0]===255;function SO(t){const{data:r,width:a,height:s,channels:i,depth:o}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*i,h=new Uint8Array(s*a*d);let f=0;for(let p=0;p<7;p++){const g=c[p],b=Math.ceil((a-g.x)/g.xStep),m=Math.ceil((s-g.y)/g.yStep);if(b<=0||m<=0)continue;const v=b*d,N=new Uint8Array(v);for(let w=0;w<m;w++){const A=r[f++],E=r.subarray(f,f+v);f+=v;const T=new Uint8Array(v);vO(A,E,T,N,v,d),N.set(T);for(let _=0;_<b;_++){const O=g.x+_*g.xStep,W=g.y+w*g.yStep;if(!(O>=a||W>=s))for(let F=0;F<d;F++)h[(W*a+O)*d+F]=T[_*d+F]}}}if(o===16){const p=new Uint16Array(h.buffer);if(jO)for(let g=0;g<p.length;g++)p[g]=EO(p[g]);return p}else return h}function EO(t){return(t&255)<<8|t>>8&255}const kO=new Uint16Array([255]),AO=new Uint8Array(kO.buffer),_O=AO[0]===255,CO=new Uint8Array(0);function hN(t){const{data:r,width:a,height:s,channels:i,depth:o}=t,c=Math.ceil(o/8)*i,d=Math.ceil(o/8*i*a),h=new Uint8Array(s*d);let f=CO,p=0,g,b;for(let m=0;m<s;m++){switch(g=r.subarray(p+1,p+1+d),b=h.subarray(m*d,(m+1)*d),r[p]){case 0:cj(g,b,d);break;case 1:dj(g,b,d,c);break;case 2:uj(g,b,f,d);break;case 3:fj(g,b,f,d,c);break;case 4:hj(g,b,f,d,c);break;default:throw new Error(`Unsupported filter: ${r[p]}`)}f=b,p+=d+1}if(o===16){const m=new Uint16Array(h.buffer);if(_O)for(let v=0;v<m.length;v++)m[v]=TO(m[v]);return m}else return h}function TO(t){return(t&255)<<8|t>>8&255}const vp=Uint8Array.of(137,80,78,71,13,10,26,10);function pN(t){if(!DO(t.readBytes(vp.length)))throw new Error("wrong PNG signature")}function DO(t){if(t.length<vp.length)return!1;for(let r=0;r<vp.length;r++)if(t[r]!==vp[r])return!1;return!0}const LO="tEXt",RO=0,pj=new TextDecoder("latin1");function FO(t){if(PO(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const OO=/^[\u0000-\u00FF]*$/;function PO(t){if(!OO.test(t))throw new Error("invalid latin1 text")}function IO(t,r,a){const s=xj(r);t[s]=MO(r,a-s.length-1)}function xj(t){for(t.mark();t.readByte()!==RO;);const r=t.offset;t.reset();const a=pj.decode(t.readBytes(r-t.offset-1));return t.skip(1),FO(a),a}function MO(t,r){return pj.decode(t.readBytes(r))}const Ei={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dg={UNKNOWN:-1,DEFLATE:0},xN={UNKNOWN:-1,ADAPTIVE:0},ug={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cp={NONE:0,BACKGROUND:1,PREVIOUS:2},fg={SOURCE:0,OVER:1};class BO extends z1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(r,a={}){super(r);const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new dN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dg.UNKNOWN,this._filterMethod=xN.UNKNOWN,this._interlaceMethod=ug.UNKNOWN,this._colorType=Ei.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(pN(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(pN(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case LO:IO(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?fN(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?fN(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=zO(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case Ei.GREYSCALE:s=1;break;case Ei.TRUECOLOUR:s=3;break;case Ei.INDEXED_COLOUR:s=1;break;case Ei.GREYSCALE_ALPHA:s=2;break;case Ei.TRUECOLOUR_ALPHA:s=4;break;case Ei.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==dg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ei.GREYSCALE:case Ei.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Ei.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Ei.UNKNOWN:case Ei.GREYSCALE_ALPHA:case Ei.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=xj(this),s=this.readUint8();if(s!==dg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:mO(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=hN({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,s){switch(r.disposeOp){case cp.NONE:break;case cp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const c=(i*r.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[c+d]=0}break;case cp.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const s=1<<this._png.depth,i=(o,c)=>{const d=((o+a.yOffset)*this._png.width+a.xOffset+c)*this._png.channels,h=(o*a.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(a.blendOp){case fg.SOURCE:for(let o=0;o<a.height;o++)for(let c=0;c<a.width;c++){const{index:d,frameIndex:h}=i(o,c);for(let f=0;f<this._png.channels;f++)r.data[d+f]=a.data[h+f]}break;case fg.OVER:for(let o=0;o<a.height;o++)for(let c=0;c<a.width;c++){const{index:d,frameIndex:h}=i(o,c);for(let f=0;f<this._png.channels;f++){const p=a.data[h+this._png.channels-1]/s,g=f%(this._png.channels-1)===0?1:a.data[h+f],b=Math.floor(p*g+(1-p)*r.data[d+f]);r.data[d+f]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==xN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ug.NO_INTERLACE)this._png.data=hN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ug.ADAM7)this._png.data=SO({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cp.NONE,blendOp:fg.SOURCE,data:r}),this._inflator=new dN,this._writingDataChunks=!1}}function zO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var mN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(mN||(mN={}));function UO(t,r){return new BO(t,r).decode()}var dr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hg(){dr.console&&typeof dr.console.log=="function"&&dr.console.log.apply(dr.console,arguments)}var Na={log:hg,warn:function(t){dr.console&&(typeof dr.console.warn=="function"?dr.console.warn.apply(dr.console,arguments):hg.call(null,arguments))},error:function(t){dr.console&&(typeof dr.console.error=="function"?dr.console.error.apply(dr.console,arguments):hg(t))}};function pg(t,r,a){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){Td(s.response,r,a)},s.onerror=function(){Na.error("could not download file")},s.send()}function gN(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function dp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var Td=dr.saveAs||((typeof window>"u"?"undefined":la(window))!=="object"||window!==dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,a){var s=dr.URL||dr.webkitURL,i=document.createElement("a");r=r||t.name||"download",i.download=r,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?gN(i.href)?pg(t,r,a):dp(i,i.target="_blank"):dp(i)):(i.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){dp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download",typeof t=="string")if(gN(t))pg(t,r,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){dp(s)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:la(o)!=="object"&&(Na.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,a),r)}:function(t,r,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return pg(t,r,a);var i=t.type==="application/octet-stream",o=/constructor/i.test(dr.HTMLElement)||dr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":la(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var p=d.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},d.readAsDataURL(t)}else{var h=dr.URL||dr.webkitURL,f=h.createObjectURL(t);s?s.location=f:location.href=f,s=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function mj(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],s=0;s<a.length;s++){var i=a[s].re,o=a[s].process,c=i.exec(t);c&&(r=o(c),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var Np=dr.atob.bind(dr),bN=dr.btoa.bind(dr);function xg(t,r){var a=t[0],s=t[1],i=t[2],o=t[3];a=pn(a,s,i,o,r[0],7,-680876936),o=pn(o,a,s,i,r[1],12,-389564586),i=pn(i,o,a,s,r[2],17,606105819),s=pn(s,i,o,a,r[3],22,-1044525330),a=pn(a,s,i,o,r[4],7,-176418897),o=pn(o,a,s,i,r[5],12,1200080426),i=pn(i,o,a,s,r[6],17,-1473231341),s=pn(s,i,o,a,r[7],22,-45705983),a=pn(a,s,i,o,r[8],7,1770035416),o=pn(o,a,s,i,r[9],12,-1958414417),i=pn(i,o,a,s,r[10],17,-42063),s=pn(s,i,o,a,r[11],22,-1990404162),a=pn(a,s,i,o,r[12],7,1804603682),o=pn(o,a,s,i,r[13],12,-40341101),i=pn(i,o,a,s,r[14],17,-1502002290),a=xn(a,s=pn(s,i,o,a,r[15],22,1236535329),i,o,r[1],5,-165796510),o=xn(o,a,s,i,r[6],9,-1069501632),i=xn(i,o,a,s,r[11],14,643717713),s=xn(s,i,o,a,r[0],20,-373897302),a=xn(a,s,i,o,r[5],5,-701558691),o=xn(o,a,s,i,r[10],9,38016083),i=xn(i,o,a,s,r[15],14,-660478335),s=xn(s,i,o,a,r[4],20,-405537848),a=xn(a,s,i,o,r[9],5,568446438),o=xn(o,a,s,i,r[14],9,-1019803690),i=xn(i,o,a,s,r[3],14,-187363961),s=xn(s,i,o,a,r[8],20,1163531501),a=xn(a,s,i,o,r[13],5,-1444681467),o=xn(o,a,s,i,r[2],9,-51403784),i=xn(i,o,a,s,r[7],14,1735328473),a=mn(a,s=xn(s,i,o,a,r[12],20,-1926607734),i,o,r[5],4,-378558),o=mn(o,a,s,i,r[8],11,-2022574463),i=mn(i,o,a,s,r[11],16,1839030562),s=mn(s,i,o,a,r[14],23,-35309556),a=mn(a,s,i,o,r[1],4,-1530992060),o=mn(o,a,s,i,r[4],11,1272893353),i=mn(i,o,a,s,r[7],16,-155497632),s=mn(s,i,o,a,r[10],23,-1094730640),a=mn(a,s,i,o,r[13],4,681279174),o=mn(o,a,s,i,r[0],11,-358537222),i=mn(i,o,a,s,r[3],16,-722521979),s=mn(s,i,o,a,r[6],23,76029189),a=mn(a,s,i,o,r[9],4,-640364487),o=mn(o,a,s,i,r[12],11,-421815835),i=mn(i,o,a,s,r[15],16,530742520),a=gn(a,s=mn(s,i,o,a,r[2],23,-995338651),i,o,r[0],6,-198630844),o=gn(o,a,s,i,r[7],10,1126891415),i=gn(i,o,a,s,r[14],15,-1416354905),s=gn(s,i,o,a,r[5],21,-57434055),a=gn(a,s,i,o,r[12],6,1700485571),o=gn(o,a,s,i,r[3],10,-1894986606),i=gn(i,o,a,s,r[10],15,-1051523),s=gn(s,i,o,a,r[1],21,-2054922799),a=gn(a,s,i,o,r[8],6,1873313359),o=gn(o,a,s,i,r[15],10,-30611744),i=gn(i,o,a,s,r[6],15,-1560198380),s=gn(s,i,o,a,r[13],21,1309151649),a=gn(a,s,i,o,r[4],6,-145523070),o=gn(o,a,s,i,r[11],10,-1120210379),i=gn(i,o,a,s,r[2],15,718787259),s=gn(s,i,o,a,r[9],21,-343485551),t[0]=Wc(a,t[0]),t[1]=Wc(s,t[1]),t[2]=Wc(i,t[2]),t[3]=Wc(o,t[3])}function yx(t,r,a,s,i,o){return r=Wc(Wc(r,t),Wc(s,o)),Wc(r<<i|r>>>32-i,a)}function pn(t,r,a,s,i,o,c){return yx(r&a|~r&s,t,r,i,o,c)}function xn(t,r,a,s,i,o,c){return yx(r&s|a&~s,t,r,i,o,c)}function mn(t,r,a,s,i,o,c){return yx(r^a^s,t,r,i,o,c)}function gn(t,r,a,s,i,o,c){return yx(a^(r|~s),t,r,i,o,c)}function gj(t){var r,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)xg(s,HO(t.substring(r-64,r)));t=t.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(xg(s,i),r=0;r<16;r++)i[r]=0;return i[14]=8*a,xg(s,i),s}function HO(t){var r,a=[];for(r=0;r<64;r+=4)a[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return a}var yN="0123456789abcdef".split("");function qO(t){for(var r="",a=0;a<4;a++)r+=yN[t>>8*a+4&15]+yN[t>>8*a&15];return r}function GO(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Yg(t){return gj(t).map(GO).join("")}var $O=(function(t){for(var r=0;r<t.length;r++)t[r]=qO(t[r]);return t.join("")})(gj("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wc(t,r){if($O){var a=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(a>>16)<<16|65535&a}return t+r&4294967295}function Vg(t,r){var a,s,i,o;if(t!==a){for(var c=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var p=d[h];f=(f+p+c.charCodeAt(h))%256,d[h]=d[f],d[f]=p}a=t,s=d}else d=s;var g=r.length,b=0,m=0,v="";for(h=0;h<g;h++)m=(m+(p=d[b=(b+1)%256]))%256,d[b]=d[m],d[m]=p,c=d[(d[b]+d[m])%256],v+=String.fromCharCode(r.charCodeAt(h)^c);return v}var vN={print:4,modify:8,copy:16,"annot-forms":32};function tu(t,r,a,s){this.v=1,this.r=2;var i=192;t.forEach(function(d){if(vN.perm!==void 0)throw new Error("Invalid permission: "+d);i+=vN[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(r+this.padding).substr(0,32),c=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=Yg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Vg(this.encryptionKey,this.padding)}function ru(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",a=t.length,s=0;s<a;s++){var i=t.charCodeAt(s);r+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[s]}return r}function NN(t){if(la(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(a,s,i){if(i=i||!1,typeof a!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(a)||(r[a]={});var o=Math.random().toString(35);return r[a][o]=[s,!!i],o},this.unsubscribe=function(a){for(var s in r)if(r[s][a])return delete r[s][a],Object.keys(r[s]).length===0&&delete r[s],!0;return!1},this.publish=function(a){if(r.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var o in r[a]){var c=r[a][o];try{c[0].apply(t,s)}catch(d){dr.console&&Na.error("jsPDF PubSub Error",d.message,d)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function Xp(t){if(!(this instanceof Xp))return new Xp(t);var r="opacity,stroke-opacity".split(",");for(var a in t)t.hasOwnProperty(a)&&r.indexOf(a)>=0&&(this[a]=t[a]);this.id="",this.objectNumber=-1}function bj(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function Ld(t,r,a,s,i){if(!(this instanceof Ld))return new Ld(t,r,a,s,i);this.type=t==="axial"?2:3,this.coords=r,this.colors=a,bj.call(this,s,i)}function su(t,r,a,s,i){if(!(this instanceof su))return new su(t,r,a,s,i);this.boundingBox=t,this.xStep=r,this.yStep=a,this.stream="",this.cloneIndex=0,bj.call(this,s,i)}function zt(t){var r,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],o=arguments[3],c=[],d=1,h=16,f="S",p=null;la(t=t||{})==="object"&&(a=t.orientation,s=t.unit||s,i=t.format||i,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),c=t.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",a=(""+(a||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=NN;var v="1.3",N=m.__private__.getPdfVersion=function(){return v};m.__private__.setPdfVersion=function(D){v=D};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return w};var A=m.__private__.getPageFormat=function(D){return w[D]};i=i||"a4";var E="compat",T="advanced",_=E;function O(){this.saveGraphicsState(),fe(new Ht(lr,0,0,-lr,0,dl()*lr).toString()+" cm"),this.setFontSize(this.getFontSize()/lr),f="n",_=T}function W(){this.restoreGraphicsState(),f="S",_=E}var F=m.__private__.combineFontStyleAndFontWeight=function(D,Z){if(D=="bold"&&Z=="normal"||D=="bold"&&Z==400||D=="normal"&&Z=="italic"||D=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(D=Z==400||Z==="normal"?D==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||D!=="normal"?(Z==700?"bold":Z)+""+D:"bold"),D};m.advancedAPI=function(D){var Z=_===E;return Z&&O.call(this),typeof D!="function"||(D(this),Z&&W.call(this)),this},m.compatAPI=function(D){var Z=_===T;return Z&&W.call(this),typeof D!="function"||(D(this),Z&&O.call(this)),this},m.isAdvancedAPI=function(){return _===T};var P,z=function(D){if(_!==T)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=m.roundToPrecision=m.__private__.roundToPrecision=function(D,Z){var ge=r||Z;if(isNaN(D)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(ge).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof h=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return M(D,h)}:h==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return M(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return M(D,16)};var C=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return M(D,2)},U=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return M(D,3)},B=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return _===E?D*lr:_===T?D:void 0},X=function(D){return B((function(Z){return _===E?dl()-Z:_===T?Z:void 0})(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(r=parseInt(D,10))};var ue,J="00000000000000000000000000000000",re=m.__private__.getFileId=function(){return J},oe=m.__private__.setFileId=function(D){return J=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(ns=new tu(p.userPermissions,p.userPassword,p.ownerPassword,J)),J};m.setFileId=function(D){return oe(D),this},m.getFileId=function(){return re()};var ve=m.__private__.convertDateToPDFDate=function(D){var Z=D.getTimezoneOffset(),ge=Z<0?"+":"-",je=Math.floor(Math.abs(Z/60)),De=Math.abs(Z%60),Ke=[ge,V(je),"'",V(De),"'"].join("");return["D:",D.getFullYear(),V(D.getMonth()+1),V(D.getDate()),V(D.getHours()),V(D.getMinutes()),V(D.getSeconds()),Ke].join("")},Ne=m.__private__.convertPDFDateToDate=function(D){var Z=parseInt(D.substr(2,4),10),ge=parseInt(D.substr(6,2),10)-1,je=parseInt(D.substr(8,2),10),De=parseInt(D.substr(10,2),10),Ke=parseInt(D.substr(12,2),10),it=parseInt(D.substr(14,2),10);return new Date(Z,ge,je,De,Ke,it,0)},q=m.__private__.setCreationDate=function(D){var Z;if(D===void 0&&(D=new Date),D instanceof Date)Z=ve(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=D}return ue=Z},L=m.__private__.getCreationDate=function(D){var Z=ue;return D==="jsDate"&&(Z=Ne(ue)),Z};m.setCreationDate=function(D){return q(D),this},m.getCreationDate=function(D){return L(D)};var G,V=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},K=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ne=0,ye=[],ke=[],Se=0,_e=[],Je=[],nt=!1,mt=ke;m.__private__.setCustomOutputDestination=function(D){nt=!0,mt=D};var ht=function(D){nt||(mt=D)};m.__private__.resetCustomOutputDestination=function(){nt=!1,mt=ke};var fe=m.__private__.out=function(D){return D=D.toString(),Se+=D.length+1,mt.push(D),mt},dt=m.__private__.write=function(D){return fe(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ot=m.__private__.getArrayBuffer=function(D){for(var Z=D.length,ge=new ArrayBuffer(Z),je=new Uint8Array(ge);Z--;)je[Z]=D.charCodeAt(Z);return ge},kt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return kt};var rt=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return rt=_===T?D/lr:D,this};var Rt,wt=m.__private__.getFontSize=m.getFontSize=function(){return _===E?rt:rt*lr},qt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return qt=D,this},m.__private__.getR2L=m.getR2L=function(){return qt};var Bt,Vt=m.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Rt=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Rt=D}else Rt=parseInt(D,10)};m.__private__.getZoomMode=function(){return Rt};var mr,sr=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Bt=D};m.__private__.getPageMode=function(){return Bt};var br=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');mr=D};m.__private__.getLayoutMode=function(){return mr},m.__private__.setDisplayMode=m.setDisplayMode=function(D,Z,ge){return Vt(D),br(Z),sr(ge),this};var ir={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(ir).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ir[D]},m.__private__.getDocumentProperties=function(){return ir},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var Z in ir)ir.hasOwnProperty(Z)&&D[Z]&&(ir[Z]=D[Z]);return this},m.__private__.setDocumentProperty=function(D,Z){if(Object.keys(ir).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ir[D]=Z};var Ft,lr,Pt,wa,yr,$t={},Qt={},Nr=[],Gt={},Vr={},Jt={},er={},Wr=null,ur=0,Ot=[],Cr=new NN(m),wn=t.hotfixes||[],fs={},In={},cn=[],Ht=function D(Z,ge,je,De,Ke,it){if(!(this instanceof D))return new D(Z,ge,je,De,Ke,it);isNaN(Z)&&(Z=1),isNaN(ge)&&(ge=0),isNaN(je)&&(je=0),isNaN(De)&&(De=1),isNaN(Ke)&&(Ke=0),isNaN(it)&&(it=0),this._matrix=[Z,ge,je,De,Ke,it]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(D)},Ht.prototype.multiply=function(D){var Z=D.sx*this.sx+D.shy*this.shx,ge=D.sx*this.shy+D.shy*this.sy,je=D.shx*this.sx+D.sy*this.shx,De=D.shx*this.shy+D.sy*this.sy,Ke=D.tx*this.sx+D.ty*this.shx+this.tx,it=D.tx*this.shy+D.ty*this.sy+this.ty;return new Ht(Z,ge,je,De,Ke,it)},Ht.prototype.decompose=function(){var D=this.sx,Z=this.shy,ge=this.shx,je=this.sy,De=this.tx,Ke=this.ty,it=Math.sqrt(D*D+Z*Z),Ct=(D/=it)*ge+(Z/=it)*je;ge-=D*Ct,je-=Z*Ct;var It=Math.sqrt(ge*ge+je*je);return Ct/=It,D*(je/=It)<Z*(ge/=It)&&(D=-D,Z=-Z,Ct=-Ct,it=-it),{scale:new Ht(it,0,0,It,0,0),translate:new Ht(1,0,0,1,De,Ke),rotate:new Ht(D,Z,-Z,D,0,0),skew:new Ht(1,0,Ct,1,0,0)}},Ht.prototype.toString=function(D){return this.join(" ")},Ht.prototype.inversed=function(){var D=this.sx,Z=this.shy,ge=this.shx,je=this.sy,De=this.tx,Ke=this.ty,it=1/(D*je-Z*ge),Ct=je*it,It=-Z*it,nr=-ge*it,fr=D*it;return new Ht(Ct,It,nr,fr,-Ct*De-nr*Ke,-It*De-fr*Ke)},Ht.prototype.applyToPoint=function(D){var Z=D.x*this.sx+D.y*this.shx+this.tx,ge=D.x*this.shy+D.y*this.sy+this.ty;return new zn(Z,ge)},Ht.prototype.applyToRectangle=function(D){var Z=this.applyToPoint(D),ge=this.applyToPoint(new zn(D.x+D.w,D.y+D.h));return new nl(Z.x,Z.y,ge.x-Z.x,ge.y-Z.y)},Ht.prototype.clone=function(){var D=this.sx,Z=this.shy,ge=this.shx,je=this.sy,De=this.tx,Ke=this.ty;return new Ht(D,Z,ge,je,De,Ke)},m.Matrix=Ht;var di=m.matrixMult=function(D,Z){return Z.multiply(D)},Mn=new Ht(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Mn;var Ns=function(D,Z){if(!Vr[D]){var ge=(Z instanceof Ld?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);Z.id=ge,Vr[D]=ge,Gt[ge]=Z,Cr.publish("addPattern",Z)}};m.ShadingPattern=Ld,m.TilingPattern=su,m.addShadingPattern=function(D,Z){return z("addShadingPattern()"),Ns(D,Z),this},m.beginTilingPattern=function(D){z("beginTilingPattern()"),wo(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,Z){z("endTilingPattern()"),Z.stream=Je[G].join(`
`),Ns(D,Z),Cr.publish("endTilingPattern",Z),cn.pop().restore()};var Gs,da=m.__private__.newObject=function(){var D=Da();return ee(D,!0),D},Da=m.__private__.newObjectDeferred=function(){return ne++,ye[ne]=function(){return Se},ne},ee=function(D,Z){return Z=typeof Z=="boolean"&&Z,ye[D]=Se,Z&&fe(D+" 0 obj"),D},me=m.__private__.newAdditionalObject=function(){var D={objId:Da(),content:""};return _e.push(D),D},le=Da(),ce=Da(),he=m.__private__.decodeColorString=function(D){var Z=D.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var ge=parseFloat(Z[0]);Z=[ge,ge,ge,"r"]}for(var je="#",De=0;De<3;De++)je+=("0"+Math.floor(255*parseFloat(Z[De])).toString(16)).slice(-2);return je},be=m.__private__.encodeColorString=function(D){var Z;typeof D=="string"&&(D={ch1:D});var ge=D.ch1,je=D.ch2,De=D.ch3,Ke=D.ch4,it=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Ct=new mj(ge);if(Ct.ok)ge=Ct.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var It=parseInt(ge.substr(1),16);ge=It>>16&255,je=It>>8&255,De=255&It}if(je===void 0||Ke===void 0&&ge===je&&je===De)Z=typeof ge=="string"?ge+" "+it[0]:D.precision===2?C(ge/255)+" "+it[0]:U(ge/255)+" "+it[0];else if(Ke===void 0||la(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",it[1]].join(" ");Z=typeof ge=="string"?[ge,je,De,it[1]].join(" "):D.precision===2?[C(ge/255),C(je/255),C(De/255),it[1]].join(" "):[U(ge/255),U(je/255),U(De/255),it[1]].join(" ")}else Z=typeof ge=="string"?[ge,je,De,Ke,it[2]].join(" "):D.precision===2?[C(ge),C(je),C(De),C(Ke),it[2]].join(" "):[U(ge),U(je),U(De),U(Ke),it[2]].join(" ");return Z},Fe=m.__private__.getFilters=function(){return c},$e=m.__private__.putStream=function(D){var Z=(D=D||{}).data||"",ge=D.filters||Fe(),je=D.alreadyAppliedFilters||[],De=D.addLength1||!1,Ke=Z.length,it=D.objectId,Ct=function(is){return is};if(p!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Ct=ns.encryptor(it,0));var It={};ge===!0&&(ge=["FlateEncode"]);var nr=D.additionalKeyValues||[],fr=(It=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(Z,ge):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(It.data.length!==0&&(nr.push({key:"Length",value:It.data.length}),De===!0&&nr.push({key:"Length1",value:Ke})),fr.length!=0)if(fr.split("/").length-1==1)nr.push({key:"Filter",value:fr});else{nr.push({key:"Filter",value:"["+fr+"]"});for(var Or=0;Or<nr.length;Or+=1)if(nr[Or].key==="DecodeParms"){for(var Sa=[],Ma=0;Ma<It.reverseChain.split("/").length-1;Ma+=1)Sa.push("null");Sa.push(nr[Or].value),nr[Or].value="["+Sa.join(" ")+"]"}}fe("<<");for(var ua=0;ua<nr.length;ua++)fe("/"+nr[ua].key+" "+nr[ua].value);fe(">>"),It.data.length!==0&&(fe("stream"),fe(Ct(It.data)),fe("endstream"))},Pe=m.__private__.putPage=function(D){var Z=D.number,ge=D.data,je=D.objId,De=D.contentsObjId;ee(je,!0),fe("<</Type /Page"),fe("/Parent "+D.rootDictionaryObjId+" 0 R"),fe("/Resources "+D.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(P(D.mediaBox.bottomLeftX))+" "+parseFloat(P(D.mediaBox.bottomLeftY))+" "+P(D.mediaBox.topRightX)+" "+P(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&fe("/CropBox ["+P(D.cropBox.bottomLeftX)+" "+P(D.cropBox.bottomLeftY)+" "+P(D.cropBox.topRightX)+" "+P(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&fe("/BleedBox ["+P(D.bleedBox.bottomLeftX)+" "+P(D.bleedBox.bottomLeftY)+" "+P(D.bleedBox.topRightX)+" "+P(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&fe("/TrimBox ["+P(D.trimBox.bottomLeftX)+" "+P(D.trimBox.bottomLeftY)+" "+P(D.trimBox.topRightX)+" "+P(D.trimBox.topRightY)+"]"),D.artBox!==null&&fe("/ArtBox ["+P(D.artBox.bottomLeftX)+" "+P(D.artBox.bottomLeftY)+" "+P(D.artBox.topRightX)+" "+P(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&fe("/UserUnit "+D.userUnit),Cr.publish("putPage",{objId:je,pageContext:Ot[Z],pageNumber:Z,page:ge}),fe("/Contents "+De+" 0 R"),fe(">>"),fe("endobj");var Ke=ge.join(`
`);return _===T&&(Ke+=`
Q`),ee(De,!0),$e({data:Ke,filters:Fe(),objectId:De}),fe("endobj"),je},Ie=m.__private__.putPages=function(){var D,Z,ge=[];for(D=1;D<=ur;D++)Ot[D].objId=Da(),Ot[D].contentsObjId=Da();for(D=1;D<=ur;D++)ge.push(Pe({number:D,data:Je[D],objId:Ot[D].objId,contentsObjId:Ot[D].contentsObjId,mediaBox:Ot[D].mediaBox,cropBox:Ot[D].cropBox,bleedBox:Ot[D].bleedBox,trimBox:Ot[D].trimBox,artBox:Ot[D].artBox,userUnit:Ot[D].userUnit,rootDictionaryObjId:le,resourceDictionaryObjId:ce}));ee(le,!0),fe("<</Type /Pages");var je="/Kids [";for(Z=0;Z<ur;Z++)je+=ge[Z]+" 0 R ";fe(je+"]"),fe("/Count "+ur),fe(">>"),fe("endobj"),Cr.publish("postPutPages")},Be=function(D){Cr.publish("putFont",{font:D,out:fe,newObject:da,putStream:$e}),D.isAlreadyPutted!==!0&&(D.objectNumber=da(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+ru(D.postScriptName)),fe("/Subtype /Type1"),typeof D.encoding=="string"&&fe("/Encoding /"+D.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},ct=function(D){D.objectNumber=da();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[P(D.x),P(D.y),P(D.x+D.width),P(D.y+D.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var ge=D.pages[1].join(`
`);$e({data:ge,additionalKeyValues:Z,objectId:D.objectNumber}),fe("endobj")},xt=function(D,Z){Z||(Z=21);var ge=da(),je=(function(it,Ct){var It,nr=[],fr=1/(Ct-1);for(It=0;It<1;It+=fr)nr.push(It);if(nr.push(1),it[0].offset!=0){var Or={offset:0,color:it[0].color};it.unshift(Or)}if(it[it.length-1].offset!=1){var Sa={offset:1,color:it[it.length-1].color};it.push(Sa)}for(var Ma="",ua=0,is=0;is<nr.length;is++){for(It=nr[is];It>it[ua+1].offset;)ua++;var Va=it[ua].offset,js=(It-Va)/(it[ua+1].offset-Va),ul=it[ua].color,mi=it[ua+1].color;Ma+=K(Math.round((1-js)*ul[0]+js*mi[0]).toString(16))+K(Math.round((1-js)*ul[1]+js*mi[1]).toString(16))+K(Math.round((1-js)*ul[2]+js*mi[2]).toString(16))}return Ma.trim()})(D.colors,Z),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+Z+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e({data:je,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),fe("endobj"),D.objectNumber=da(),fe("<< /ShadingType "+D.type),fe("/ColorSpace /DeviceRGB");var Ke="/Coords ["+P(parseFloat(D.coords[0]))+" "+P(parseFloat(D.coords[1]))+" ";D.type===2?Ke+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3])):Ke+=P(parseFloat(D.coords[2]))+" "+P(parseFloat(D.coords[3]))+" "+P(parseFloat(D.coords[4]))+" "+P(parseFloat(D.coords[5])),fe(Ke+="]"),D.matrix&&fe("/Matrix ["+D.matrix.toString()+"]"),fe("/Function "+ge+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Nt=function(D,Z){var ge=Da(),je=da();Z.push({resourcesOid:ge,objectOid:je}),D.objectNumber=je;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+D.boundingBox.map(P).join(" ")+"]"}),De.push({key:"XStep",value:P(D.xStep)}),De.push({key:"YStep",value:P(D.yStep)}),De.push({key:"Resources",value:ge+" 0 R"}),D.matrix&&De.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),$e({data:D.stream,additionalKeyValues:De,objectId:D.objectNumber}),fe("endobj")},ft=function(D){for(var Z in D.objectNumber=da(),fe("<<"),D)switch(Z){case"opacity":fe("/ca "+C(D[Z]));break;case"stroke-opacity":fe("/CA "+C(D[Z]))}fe(">>"),fe("endobj")},bt=function(D){ee(D.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in fe("/Font <<"),$t)$t.hasOwnProperty(Z)&&(g===!1||g===!0&&b.hasOwnProperty(Z))&&fe("/"+Z+" "+$t[Z].objectNumber+" 0 R");fe(">>")})(),(function(){if(Object.keys(Gt).length>0){for(var Z in fe("/Shading <<"),Gt)Gt.hasOwnProperty(Z)&&Gt[Z]instanceof Ld&&Gt[Z].objectNumber>=0&&fe("/"+Z+" "+Gt[Z].objectNumber+" 0 R");Cr.publish("putShadingPatternDict"),fe(">>")}})(),(function(Z){if(Object.keys(Gt).length>0){for(var ge in fe("/Pattern <<"),Gt)Gt.hasOwnProperty(ge)&&Gt[ge]instanceof m.TilingPattern&&Gt[ge].objectNumber>=0&&Gt[ge].objectNumber<Z&&fe("/"+ge+" "+Gt[ge].objectNumber+" 0 R");Cr.publish("putTilingPatternDict"),fe(">>")}})(D.objectOid),(function(){if(Object.keys(Jt).length>0){var Z;for(Z in fe("/ExtGState <<"),Jt)Jt.hasOwnProperty(Z)&&Jt[Z].objectNumber>=0&&fe("/"+Z+" "+Jt[Z].objectNumber+" 0 R");Cr.publish("putGStateDict"),fe(">>")}})(),(function(){for(var Z in fe("/XObject <<"),fs)fs.hasOwnProperty(Z)&&fs[Z].objectNumber>=0&&fe("/"+Z+" "+fs[Z].objectNumber+" 0 R");Cr.publish("putXobjectDict"),fe(">>")})(),fe(">>"),fe("endobj")},At=function(D){Qt[D.fontName]=Qt[D.fontName]||{},Qt[D.fontName][D.fontStyle]=D.id},Xr=function(D,Z,ge,je,De){var Ke={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:D,fontName:Z,fontStyle:ge,encoding:je,isStandardFont:De||!1,metadata:{}};return Cr.publish("addFont",{font:Ke,instance:this}),$t[Ke.id]=Ke,At(Ke),Ke.id},Sr=m.__private__.pdfEscape=m.pdfEscape=function(D,Z){return(function(ge,je){var De,Ke,it,Ct,It,nr,fr,Or,Sa;if(it=(je=je||{}).sourceEncoding||"Unicode",It=je.outputEncoding,(je.autoencode||It)&&$t[Ft].metadata&&$t[Ft].metadata[it]&&$t[Ft].metadata[it].encoding&&(Ct=$t[Ft].metadata[it].encoding,!It&&$t[Ft].encoding&&(It=$t[Ft].encoding),!It&&Ct.codePages&&(It=Ct.codePages[0]),typeof It=="string"&&(It=Ct[It]),It)){for(fr=!1,nr=[],De=0,Ke=ge.length;De<Ke;De++)(Or=It[ge.charCodeAt(De)])?nr.push(String.fromCharCode(Or)):nr.push(ge[De]),nr[De].charCodeAt(0)>>8&&(fr=!0);ge=nr.join("")}for(De=ge.length;fr===void 0&&De!==0;)ge.charCodeAt(De-1)>>8&&(fr=!0),De--;if(!fr)return ge;for(nr=je.noBOM?[]:[254,255],De=0,Ke=ge.length;De<Ke;De++){if((Sa=(Or=ge.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nr.push(Sa),nr.push(Or-(Sa<<8))}return String.fromCharCode.apply(void 0,nr)})(D,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ta=m.__private__.beginPage=function(D){Je[++ur]=[],Ot[ur]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},fi(ur),ht(Je[G])},$s=function(D,Z){var ge,je,De;switch(a=Z||a,typeof D=="string"&&(ge=A(D.toLowerCase()),Array.isArray(ge)&&(je=ge[0],De=ge[1])),Array.isArray(D)&&(je=D[0]*lr,De=D[1]*lr),isNaN(je)&&(je=i[0],De=i[1]),(je>14400||De>14400)&&(Na.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),De=Math.min(14400,De)),i=[je,De],a.substr(0,1)){case"l":De>je&&(i=[De,je]);break;case"p":je>De&&(i=[De,je])}ta(i),Kt(yo),fe(En),dc!==0&&fe(dc+" J"),hs!==0&&fe(hs+" j"),Cr.publish("addPage",{pageNumber:ur})},ui=function(D){D>0&&D<=ur&&(Je.splice(D,1),Ot.splice(D,1),ur--,G>ur&&(G=ur),this.setPage(G))},fi=function(D){D>0&&D<=ur&&(G=D)},jn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Je.length-1},Hl=function(D,Z,ge){var je,De=void 0;return ge=ge||{},D=D!==void 0?D:$t[Ft].fontName,Z=Z!==void 0?Z:$t[Ft].fontStyle,je=D.toLowerCase(),Qt[je]!==void 0&&Qt[je][Z]!==void 0?De=Qt[je][Z]:Qt[D]!==void 0&&Qt[D][Z]!==void 0?De=Qt[D][Z]:ge.disableWarning===!1&&Na.warn("Unable to look up font label for font '"+D+"', '"+Z+"'. Refer to getFontList() for available fonts."),De||ge.noFallback||(De=Qt.times[Z])==null&&(De=Qt.times.normal),De},ja=m.__private__.putInfo=function(){var D=da(),Z=function(je){return je};for(var ge in p!==null&&(Z=ns.encryptor(D,0)),fe("<<"),fe("/Producer ("+Sr(Z("jsPDF "+zt.version))+")"),ir)ir.hasOwnProperty(ge)&&ir[ge]&&fe("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Sr(Z(ir[ge]))+")");fe("/CreationDate ("+Sr(Z(ue))+")"),fe(">>"),fe("endobj")},al=m.__private__.putCatalog=function(D){var Z=(D=D||{}).rootDictionaryObjId||le;switch(da(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+Z+" 0 R"),Rt||(Rt="fullwidth"),Rt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Rt;ge.substr(ge.length-1)==="%"&&(Rt=parseInt(Rt)/100),typeof Rt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+C(Rt)+"]")}switch(mr||(mr="continuous"),mr){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Bt&&fe("/PageMode /"+Bt),Cr.publish("putCatalog"),fe(">>"),fe("endobj")},hi=m.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ne+1)),fe("/Root "+ne+" 0 R"),fe("/Info "+(ne-1)+" 0 R"),p!==null&&fe("/Encrypt "+ns.oid+" 0 R"),fe("/ID [ <"+J+"> <"+J+"> ]"),fe(">>")},Ur=m.__private__.putHeader=function(){fe("%PDF-"+v),fe("%")},td=m.__private__.putXRef=function(){var D="0000000000";fe("xref"),fe("0 "+(ne+1)),fe("0000000000 65535 f ");for(var Z=1;Z<=ne;Z++)typeof ye[Z]=="function"?fe((D+ye[Z]()).slice(-10)+" 00000 n "):ye[Z]!==void 0?fe((D+ye[Z]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Ri=m.__private__.buildDocument=function(){var D;ne=0,Se=0,ke=[],ye=[],_e=[],le=Da(),ce=Da(),ht(ke),Cr.publish("buildDocument"),Ur(),Ie(),(function(){Cr.publish("putAdditionalObjects");for(var ge=0;ge<_e.length;ge++){var je=_e[ge];ee(je.objId,!0),fe(je.content),fe("endobj")}Cr.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var ge in $t)$t.hasOwnProperty(ge)&&(g===!1||g===!0&&b.hasOwnProperty(ge))&&Be($t[ge])})(),(function(){var ge;for(ge in Jt)Jt.hasOwnProperty(ge)&&ft(Jt[ge])})(),(function(){for(var ge in fs)fs.hasOwnProperty(ge)&&ct(fs[ge])})(),(function(ge){var je;for(je in Gt)Gt.hasOwnProperty(je)&&(Gt[je]instanceof Ld?xt(Gt[je]):Gt[je]instanceof su&&Nt(Gt[je],ge))})(D),Cr.publish("putResources"),D.forEach(bt),bt({resourcesOid:ce,objectOid:Number.MAX_SAFE_INTEGER}),Cr.publish("postPutResources"),p!==null&&(ns.oid=da(),fe("<<"),fe("/Filter /Standard"),fe("/V "+ns.v),fe("/R "+ns.r),fe("/U <"+ns.toHexString(ns.U)+">"),fe("/O <"+ns.toHexString(ns.O)+">"),fe("/P "+ns.P),fe(">>"),fe("endobj")),ja(),al();var Z=Se;return td(),hi(),fe("startxref"),fe(""+Z),fe("%%EOF"),ht(Je[G]),ke.join(`
`)},ql=m.__private__.getBlob=function(D){return new Blob([ot(D)],{type:"application/pdf"})},rd=m.output=m.__private__.output=(Gs=function(D,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",D){case void 0:return Ri();case"save":m.save(Z.filename);break;case"arraybuffer":return ot(Ri());case"blob":return ql(Ri());case"bloburi":case"bloburl":if(dr.URL!==void 0&&typeof dr.URL.createObjectURL=="function")return dr.URL&&dr.URL.createObjectURL(ql(Ri()))||void 0;Na.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",je=Ri();try{ge=bN(je)}catch{ge=bN(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+Z.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(De=Z.pdfObjectUrl,Ke="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Ct=dr.open();return Ct!==null&&Ct.document.write(it),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',nr=dr.open();if(nr!==null){nr.document.write(It);var fr=this;nr.document.documentElement.querySelector("#pdfViewer").onload=function(){nr.document.title=Z.filename,nr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fr.output("bloburl"))}}return nr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Sa=dr.open();if(Sa!==null&&(Sa.document.write(Or),Sa.document.title=Z.filename),Sa||typeof safari>"u")return Sa;break;case"datauri":case"dataurl":return dr.document.location.href=this.output("datauristring",Z);default:return null}},Gs.foo=function(){try{return Gs.apply(this,arguments)}catch(ge){var D=ge.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var Z="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ge.message;if(!dr.console)throw new Error(Z);dr.console.error(Z,ge),dr.alert&&alert(Z)}},Gs.foo.bar=Gs,Gs.foo),Ys=function(D){return Array.isArray(wn)===!0&&wn.indexOf(D)>-1};switch(s){case"pt":lr=1;break;case"mm":lr=72/25.4;break;case"cm":lr=72/2.54;break;case"in":lr=72;break;case"px":lr=Ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":lr=12;break;case"ex":lr=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);lr=s}var ns=null;q(),oe();var Ya=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[D].objId,pageNumber:D,pageContext:Ot[D]}},oc=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Ot)if(Ot[Z].objId===D)break;return Ya(Z)},e0=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ot[G].objId,pageNumber:G,pageContext:Ot[G]}};m.addPage=function(){return $s.apply(this,arguments),this},m.setPage=function(){return fi.apply(this,arguments),ht.call(this,Je[G]),this},m.insertPage=function(D){return this.addPage(),this.movePage(G,D),this},m.movePage=function(D,Z){var ge,je;if(D>Z){ge=Je[D],je=Ot[D];for(var De=D;De>Z;De--)Je[De]=Je[De-1],Ot[De]=Ot[De-1];Je[Z]=ge,Ot[Z]=je,this.setPage(Z)}else if(D<Z){ge=Je[D],je=Ot[D];for(var Ke=D;Ke<Z;Ke++)Je[Ke]=Je[Ke+1],Ot[Ke]=Ot[Ke+1];Je[Z]=ge,Ot[Z]=je,this.setPage(Z)}return this},m.deletePage=function(){return ui.apply(this,arguments),this},m.__private__.text=m.text=function(D,Z,ge,je,De){var Ke,it,Ct,It,nr,fr,Or,Sa,Ma,ua=(je=je||{}).scope||this;if(typeof D=="number"&&typeof Z=="number"&&(typeof ge=="string"||Array.isArray(ge))){var is=ge;ge=Z,Z=D,D=is}if(arguments[3]instanceof Ht==0?(Ct=arguments[4],It=arguments[5],la(Or=arguments[3])==="object"&&Or!==null||(typeof Ct=="string"&&(It=Ct,Ct=null),typeof Or=="string"&&(It=Or,Or=null),typeof Or=="number"&&(Ct=Or,Or=null),je={flags:Or,angle:Ct,align:It})):(z("The transform parameter of text() with a Matrix value"),Ma=De),isNaN(Z)||isNaN(ge)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ua;var Va,js="",ul=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:sl,mi=ua.internal.scaleFactor;function fl(Hr){return Hr=Hr.split("	").join(Array(je.TabLen||9).join(" ")),Sr(Hr,Or)}function ud(Hr){for(var Pr,fa=Hr.concat(),za=[],qi=fa.length;qi--;)typeof(Pr=fa.shift())=="string"?za.push(Pr):Array.isArray(Hr)&&(Pr.length===1||Pr[1]===void 0&&Pr[2]===void 0)?za.push(Pr[0]):za.push([Pr[0],Pr[1],Pr[2]]);return za}function fc(Hr,Pr){var fa;if(typeof Hr=="string")fa=Pr(Hr)[0];else if(Array.isArray(Hr)){for(var za,qi,vi=Hr.concat(),ko=[],pd=vi.length;pd--;)typeof(za=vi.shift())=="string"?ko.push(Pr(za)[0]):Array.isArray(za)&&typeof za[0]=="string"&&(qi=Pr(za[0],za[1],za[2]),ko.push([qi[0],qi[1],qi[2]]));fa=ko}return fa}var Pi=!1,gi=!0;if(typeof D=="string")Pi=!0;else if(Array.isArray(D)){var So=D.concat();it=[];for(var hl,ps=So.length;ps--;)(typeof(hl=So.shift())!="string"||Array.isArray(hl)&&typeof hl[0]!="string")&&(gi=!1);Pi=gi}if(Pi===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var $l=rt/ua.internal.scaleFactor,Yl=$l*(ul-1);switch(je.baseline){case"bottom":ge-=Yl;break;case"top":ge+=$l-Yl;break;case"hanging":ge+=$l-2*Yl;break;case"middle":ge+=$l/2-Yl}if((fr=je.maxWidth||0)>0&&(typeof D=="string"?D=ua.splitTextToSize(D,fr):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Hr,Pr){return Hr.concat(ua.splitTextToSize(Pr,fr))},[]))),Ke={text:D,x:Z,y:ge,options:je,mutex:{pdfEscape:Sr,activeFontKey:Ft,fonts:$t,activeFontSize:rt}},Cr.publish("preProcessText",Ke),D=Ke.text,Ct=(je=Ke.options).angle,Ma instanceof Ht==0&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,je.rotationDirection===0&&(Ct=-Ct),_===T&&(Ct=-Ct);var hc=Math.cos(Ct),Ii=Math.sin(Ct);Ma=new Ht(hc,Ii,-Ii,hc,0,0)}else Ct&&Ct instanceof Ht&&(Ma=Ct);_!==T||Ma||(Ma=Mn),(nr=je.charSpace||Bn)!==void 0&&(js+=P(B(nr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sa=je.horizontalScale)!==void 0&&(js+=P(100*Sa)+` Tz
`),je.lang;var Ws=-1,pl=je.renderingMode!==void 0?je.renderingMode:je.stroke,pc=ua.internal.getCurrentPageInfo().pageContext;switch(pl){case 0:case!1:case"fill":Ws=0;break;case 1:case!0:case"stroke":Ws=1;break;case 2:case"fillThenStroke":Ws=2;break;case 3:case"invisible":Ws=3;break;case 4:case"fillAndAddForClipping":Ws=4;break;case 5:case"strokeAndAddPathForClipping":Ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ws=6;break;case 7:case"addToPathForClipping":Ws=7}var fd=pc.usedRenderingMode!==void 0?pc.usedRenderingMode:-1;Ws!==-1?js+=Ws+` Tr
`:fd!==-1&&(js+=`0 Tr
`),Ws!==-1&&(pc.usedRenderingMode=Ws),It=je.align||"left";var kn,bi=rt*ul,xl=ua.internal.pageSize.getWidth(),hd=$t[Ft];nr=je.charSpace||Bn,fr=je.maxWidth||0,Or=Object.assign({autoencode:!0,noBOM:!0},je.flags);var yi=[],Vl=function(Hr){return ua.getStringUnitWidth(Hr,{font:hd,charSpace:nr,fontSize:rt,doKerning:!1})*rt/mi};if(Object.prototype.toString.call(D)==="[object Array]"){var un;it=ud(D),It!=="left"&&(kn=it.map(Vl));var Xs,Mi=0;if(It==="right"){Z-=kn[0],D=[],ps=it.length;for(var Bi=0;Bi<ps;Bi++)Bi===0?(Xs=Sn(Z),un=ws(ge)):(Xs=B(Mi-kn[Bi]),un=-bi),D.push([it[Bi],Xs,un]),Mi=kn[Bi]}else if(It==="center"){Z-=kn[0]/2,D=[],ps=it.length;for(var ml=0;ml<ps;ml++)ml===0?(Xs=Sn(Z),un=ws(ge)):(Xs=B((Mi-kn[ml])/2),un=-bi),D.push([it[ml],Xs,un]),Mi=kn[ml]}else if(It==="left"){D=[],ps=it.length;for(var xc=0;xc<ps;xc++)D.push(it[xc])}else if(It==="justify"&&hd.encoding==="Identity-H"){D=[],ps=it.length,fr=fr!==0?fr:xl;for(var mc=0,Ba=0;Ba<ps;Ba++)if(un=Ba===0?ws(ge):-bi,Xs=Ba===0?Sn(Z):mc,Ba<ps-1){var c0=B((fr-kn[Ba])/(it[Ba].split(" ").length-1)),zi=it[Ba].split(" ");D.push([zi[0]+" ",Xs,un]),mc=0;for(var Ui=1;Ui<zi.length;Ui++){var Ss=(Vl(zi[Ui-1]+" "+zi[Ui])-Vl(zi[Ui]))*mi+c0;Ui==zi.length-1?D.push([zi[Ui],Ss,0]):D.push([zi[Ui]+" ",Ss,0]),mc-=Ss}}else D.push([it[Ba],Xs,un]);D.push(["",mc,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ps=it.length,fr=fr!==0?fr:xl,Ba=0;Ba<ps;Ba++){un=Ba===0?ws(ge):-bi,Xs=Ba===0?Sn(Z):0;var gl=it[Ba].split(" ").length-1,gc=gl>0?(fr-kn[Ba])/gl:0;Ba<ps-1?yi.push(P(B(gc))):yi.push(0),D.push([it[Ba],Xs,un])}}}(typeof je.R2L=="boolean"?je.R2L:qt)===!0&&(D=fc(D,function(Hr,Pr,fa){return[Hr.split("").reverse().join(""),Pr,fa]})),Ke={text:D,x:Z,y:ge,options:je,mutex:{pdfEscape:Sr,activeFontKey:Ft,fonts:$t,activeFontSize:rt}},Cr.publish("postProcessText",Ke),D=Ke.text,Va=Ke.mutex.isHex||!1;var bc=$t[Ft].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(D=fc(D,function(Hr,Pr,fa){return[fl(Hr),Pr,fa]})),it=ud(D),D=[];for(var bl,yl,Hi,Eo=Array.isArray(it[0])?1:0,An="",vl=function(Hr,Pr,fa){var za="";return fa instanceof Ht?(fa=typeof je.angle=="number"?di(fa,new Ht(1,0,0,1,Hr,Pr)):di(new Ht(1,0,0,1,Hr,Pr),fa),_===T&&(fa=di(new Ht(1,0,0,-1,0,0),fa)),za=fa.join(" ")+` Tm
`):za=P(Hr)+" "+P(Pr)+` Td
`,za},Ls=0;Ls<it.length;Ls++){switch(An="",Eo){case 1:Hi=(Va?"<":"(")+it[Ls][0]+(Va?">":")"),bl=parseFloat(it[Ls][1]),yl=parseFloat(it[Ls][2]);break;case 0:Hi=(Va?"<":"(")+it[Ls]+(Va?">":")"),bl=Sn(Z),yl=ws(ge)}yi!==void 0&&yi[Ls]!==void 0&&(An=yi[Ls]+` Tw
`),Ls===0?D.push(An+vl(bl,yl,Ma)+Hi):Eo===0?D.push(An+Hi):Eo===1&&D.push(An+vl(bl,yl,Ma)+Hi)}D=Eo===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Un=`BT
/`;return Un+=Ft+" "+rt+` Tf
`,Un+=P(rt*ul)+` TL
`,Un+=Fi+`
`,Un+=js,Un+=D,fe(Un+="ET"),b[Ft]=!0,ua};var ad=m.__private__.clip=m.clip=function(D){return fe(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ad("evenodd")},m.__private__.discardPath=m.discardPath=function(){return fe("n"),this};var Vs=m.__private__.isValidStyle=function(D){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Vs(D)&&(f=D),this};var sd=m.__private__.getStyle=m.getStyle=function(D){var Z=f;switch(D){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=D}return Z},nd=m.close=function(){return fe("h"),this};m.stroke=function(){return fe("S"),this},m.fill=function(D){return pi("f",D),this},m.fillEvenOdd=function(D){return pi("f*",D),this},m.fillStroke=function(D){return pi("B",D),this},m.fillStrokeEvenOdd=function(D){return pi("B*",D),this};var pi=function(D,Z){la(Z)==="object"?r0(Z,D):fe(D)},bo=function(D){D===null||_===T&&D===void 0||(D=sd(D),fe(D))};function t0(D,Z,ge,je,De){var Ke=new su(Z||this.boundingBox,ge||this.xStep,je||this.yStep,this.gState,De||this.matrix);Ke.stream=this.stream;var it=D+"$$"+this.cloneIndex+++"$$";return Ns(it,Ke),Ke}var r0=function(D,Z){var ge=Vr[D.key],je=Gt[ge];if(je instanceof Ld)fe("q"),fe(id(Z)),je.gState&&m.setGState(je.gState),fe(D.matrix.toString()+" cm"),fe("/"+ge+" sh"),fe("Q");else if(je instanceof su){var De=new Ht(1,0,0,-1,0,dl());D.matrix&&(De=De.multiply(D.matrix||Mn),ge=t0.call(je,D.key,D.boundingBox,D.xStep,D.yStep,De).id),fe("q"),fe("/Pattern cs"),fe("/"+ge+" scn"),je.gState&&m.setGState(je.gState),fe(Z),fe("Q")}},id=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ld=m.moveTo=function(D,Z){return fe(P(B(D))+" "+P(X(Z))+" m"),this},a0=m.lineTo=function(D,Z){return fe(P(B(D))+" "+P(X(Z))+" l"),this},dn=m.curveTo=function(D,Z,ge,je,De,Ke){return fe([P(B(D)),P(X(Z)),P(B(ge)),P(X(je)),P(B(De)),P(X(Ke)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,Z,ge,je,De){if(isNaN(D)||isNaN(Z)||isNaN(ge)||isNaN(je)||!Vs(De))throw new Error("Invalid arguments passed to jsPDF.line");return _===E?this.lines([[ge-D,je-Z]],D,Z,[1,1],De||"S"):this.lines([[ge-D,je-Z]],D,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,Z,ge,je,De,Ke){var it,Ct,It,nr,fr,Or,Sa,Ma,ua,is,Va,js;if(typeof D=="number"&&(js=ge,ge=Z,Z=D,D=js),je=je||[1,1],Ke=Ke||!1,isNaN(Z)||isNaN(ge)||!Array.isArray(D)||!Array.isArray(je)||!Vs(De)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ld(Z,ge),it=je[0],Ct=je[1],nr=D.length,is=Z,Va=ge,It=0;It<nr;It++)(fr=D[It]).length===2?(is=fr[0]*it+is,Va=fr[1]*Ct+Va,a0(is,Va)):(Or=fr[0]*it+is,Sa=fr[1]*Ct+Va,Ma=fr[2]*it+is,ua=fr[3]*Ct+Va,is=fr[4]*it+is,Va=fr[5]*Ct+Va,dn(Or,Sa,Ma,ua,is,Va));return Ke&&nd(),bo(De),this},m.path=function(D){for(var Z=0;Z<D.length;Z++){var ge=D[Z],je=ge.c;switch(ge.op){case"m":ld(je[0],je[1]);break;case"l":a0(je[0],je[1]);break;case"c":dn.apply(this,je);break;case"h":nd()}}return this},m.__private__.rect=m.rect=function(D,Z,ge,je,De){if(isNaN(D)||isNaN(Z)||isNaN(ge)||isNaN(je)||!Vs(De))throw new Error("Invalid arguments passed to jsPDF.rect");return _===E&&(je=-je),fe([P(B(D)),P(X(Z)),P(B(ge)),P(B(je)),"re"].join(" ")),bo(De),this},m.__private__.triangle=m.triangle=function(D,Z,ge,je,De,Ke,it){if(isNaN(D)||isNaN(Z)||isNaN(ge)||isNaN(je)||isNaN(De)||isNaN(Ke)||!Vs(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-D,je-Z],[De-ge,Ke-je],[D-De,Z-Ke]],D,Z,[1,1],it,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,Z,ge,je,De,Ke,it){if(isNaN(D)||isNaN(Z)||isNaN(ge)||isNaN(je)||isNaN(De)||isNaN(Ke)||!Vs(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*ge),Ke=Math.min(Ke,.5*je),this.lines([[ge-2*De,0],[De*Ct,0,De,Ke-Ke*Ct,De,Ke],[0,je-2*Ke],[0,Ke*Ct,-De*Ct,Ke,-De,Ke],[2*De-ge,0],[-De*Ct,0,-De,-Ke*Ct,-De,-Ke],[0,2*Ke-je],[0,-Ke*Ct,De*Ct,-Ke,De,-Ke]],D+De,Z,[1,1],it,!0),this},m.__private__.ellipse=m.ellipse=function(D,Z,ge,je,De){if(isNaN(D)||isNaN(Z)||isNaN(ge)||isNaN(je)||!Vs(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*ge,it=4/3*(Math.SQRT2-1)*je;return ld(D+ge,Z),dn(D+ge,Z-it,D+Ke,Z-je,D,Z-je),dn(D-Ke,Z-je,D-ge,Z-it,D-ge,Z),dn(D-ge,Z+it,D-Ke,Z+je,D,Z+je),dn(D+Ke,Z+je,D+ge,Z+it,D+ge,Z),bo(De),this},m.__private__.circle=m.circle=function(D,Z,ge,je){if(isNaN(D)||isNaN(Z)||isNaN(ge)||!Vs(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,Z,ge,ge,je)},m.setFont=function(D,Z,ge){return ge&&(Z=F(Z,ge)),Ft=Hl(D,Z,{disableWarning:!1}),this};var xi=m.__private__.getFont=m.getFont=function(){return $t[Hl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,Z,ge={};for(D in Qt)if(Qt.hasOwnProperty(D))for(Z in ge[D]=[],Qt[D])Qt[D].hasOwnProperty(Z)&&ge[D].push(Z);return ge},m.addFont=function(D,Z,ge,je,De){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(ge=F(ge,je)),Xr.call(this,D,Z,ge,De=De||"Identity-H")};var sl,yo=t.lineWidth||.200025,Gl=m.__private__.getLineWidth=m.getLineWidth=function(){return yo},Kt=m.__private__.setLineWidth=m.setLineWidth=function(D){return yo=D,fe(P(B(D))+" w"),this};m.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(D,Z){if(D=D||[],Z=Z||0,isNaN(Z)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(ge){return P(B(ge))}).join(" "),Z=P(B(Z)),fe("["+D+"] "+Z+" d"),this};var s0=m.__private__.getLineHeight=m.getLineHeight=function(){return rt*sl};m.__private__.getLineHeight=m.getLineHeight=function(){return rt*sl};var od=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(sl=D),this},n0=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return sl};od(t.lineHeight);var Sn=m.__private__.getHorizontalCoordinate=function(D){return B(D)},ws=m.__private__.getVerticalCoordinate=function(D){return _===T?D:Ot[G].mediaBox.topRightY-Ot[G].mediaBox.bottomLeftY-B(D)},cd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return P(Sn(D))},vo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return P(ws(D))},En=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return he(En)},m.__private__.setStrokeColor=m.setDrawColor=function(D,Z,ge,je){return En=be({ch1:D,ch2:Z,ch3:ge,ch4:je,pdfColorType:"draw",precision:2}),fe(En),this};var No=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return he(No)},m.__private__.setFillColor=m.setFillColor=function(D,Z,ge,je){return No=be({ch1:D,ch2:Z,ch3:ge,ch4:je,pdfColorType:"fill",precision:2}),fe(No),this};var Fi=t.textColor||"0 g",i0=m.__private__.getTextColor=m.getTextColor=function(){return he(Fi)};m.__private__.setTextColor=m.setTextColor=function(D,Z,ge,je){return Fi=be({ch1:D,ch2:Z,ch3:ge,ch4:je,pdfColorType:"text",precision:3}),this};var Bn=t.charSpace,cc=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Bn||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bn=D,this};var dc=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var Z=m.CapJoinStyles[D];if(Z===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dc=Z,fe(Z+" J"),this};var hs=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var Z=m.CapJoinStyles[D];if(Z===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hs=Z,fe(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(P(B(D))+" M"),this},m.GState=Xp,m.setGState=function(D){(D=typeof D=="string"?Jt[er[D]]:Oi(null,D)).equals(Wr)||(fe("/"+D.id+" gs"),Wr=D)};var Oi=function(D,Z){if(!D||!er[D]){var ge=!1;for(var je in Jt)if(Jt.hasOwnProperty(je)&&Jt[je].equals(Z)){ge=!0;break}if(ge)Z=Jt[je];else{var De="GS"+(Object.keys(Jt).length+1).toString(10);Jt[De]=Z,Z.id=De}return D&&(er[D]=Z.id),Cr.publish("addGState",Z),Z}};m.addGState=function(D,Z){return Oi(D,Z),this},m.saveGraphicsState=function(){return fe("q"),Nr.push({key:Ft,size:rt,color:Fi}),this},m.restoreGraphicsState=function(){fe("Q");var D=Nr.pop();return Ft=D.key,rt=D.size,Fi=D.color,Wr=null,this},m.setCurrentTransformationMatrix=function(D){return fe(D.toString()+" cm"),this},m.comment=function(D){return fe("#"+D),this};var zn=function(D,Z){var ge=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Ke){isNaN(Ke)||(ge=parseFloat(Ke))}});var je=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Ke){isNaN(Ke)||(je=parseFloat(Ke))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ke){De=Ke.toString()}}),this},nl=function(D,Z,ge,je){zn.call(this,D,Z),this.type="rect";var De=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(it){isNaN(it)||(De=parseFloat(it))}});var Ke=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(it){isNaN(it)||(Ke=parseFloat(it))}}),this},uc=function(){this.page=ur,this.currentPage=G,this.pages=Je.slice(0),this.pagesContext=Ot.slice(0),this.x=Pt,this.y=wa,this.matrix=yr,this.width=ll(G),this.height=dd(G),this.outputDestination=mt,this.id="",this.objectNumber=-1};uc.prototype.restore=function(){ur=this.page,G=this.currentPage,Ot=this.pagesContext,Je=this.pages,Pt=this.x,wa=this.y,yr=this.matrix,jo(G,this.width),ol(G,this.height),mt=this.outputDestination};var wo=function(D,Z,ge,je,De){cn.push(new uc),ur=G=0,Je=[],Pt=D,wa=Z,yr=De,ta([ge,je])};for(var il in m.beginFormObject=function(D,Z,ge,je,De){return wo(D,Z,ge,je,De),this},m.endFormObject=function(D){return(function(Z){if(In[Z])cn.pop().restore();else{var ge=new uc,je="Xo"+(Object.keys(fs).length+1).toString(10);ge.id=je,In[Z]=je,fs[je]=ge,Cr.publish("addFormObject",ge),cn.pop().restore()}})(D),this},m.doFormObject=function(D,Z){var ge=fs[In[D]];return fe("q"),fe(Z.toString()+" cm"),fe("/"+ge.id+" Do"),fe("Q"),this},m.getFormObject=function(D){var Z=fs[In[D]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(D,Z){return D=D||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Td(ql(Ri()),D),typeof Td.unload=="function"&&dr.setTimeout&&setTimeout(Td.unload,911),this):new Promise(function(ge,je){try{var De=Td(ql(Ri()),D);typeof Td.unload=="function"&&dr.setTimeout&&setTimeout(Td.unload,911),ge(De)}catch(Ke){je(Ke.message)}})},zt.API)zt.API.hasOwnProperty(il)&&(il==="events"&&zt.API.events.length?(function(D,Z){var ge,je,De;for(De=Z.length-1;De!==-1;De--)ge=Z[De][0],je=Z[De][1],D.subscribe.apply(D,[ge].concat(typeof je=="function"?[je]:je))})(Cr,zt.API.events):m[il]=zt.API[il]);function ll(D){return Ot[D].mediaBox.topRightX-Ot[D].mediaBox.bottomLeftX}function jo(D,Z){Ot[D].mediaBox.topRightX=Z+Ot[D].mediaBox.bottomLeftX}function dd(D){return Ot[D].mediaBox.topRightY-Ot[D].mediaBox.bottomLeftY}function ol(D,Z){Ot[D].mediaBox.topRightY=Z+Ot[D].mediaBox.bottomLeftY}var cl=m.getPageWidth=function(D){return ll(D=D||G)/lr},l0=m.setPageWidth=function(D,Z){jo(D,Z*lr)},dl=m.getPageHeight=function(D){return dd(D=D||G)/lr},o0=m.setPageHeight=function(D,Z){ol(D,Z*lr)};return m.internal={pdfEscape:Sr,getStyle:sd,getFont:xi,getFontSize:wt,getCharSpace:cc,getTextColor:i0,getLineHeight:s0,getLineHeightFactor:n0,getLineWidth:Gl,write:dt,getHorizontalCoordinate:Sn,getVerticalCoordinate:ws,getCoordinateString:cd,getVerticalCoordinateString:vo,collections:{},newObject:da,newAdditionalObject:me,newObjectDeferred:Da,newObjectDeferredBegin:ee,getFilters:Fe,putStream:$e,events:Cr,scaleFactor:lr,pageSize:{getWidth:function(){return cl(G)},setWidth:function(D){l0(G,D)},getHeight:function(){return dl(G)},setHeight:function(D){o0(G,D)}},encryptionOptions:p,encryption:ns,getEncryptor:function(D){return p!==null?ns.encryptor(D,0):function(Z){return Z}},output:rd,getNumberOfPages:jn,get pages(){return Je},out:fe,f2:C,f3:U,getPageInfo:Ya,getPageInfoByObjId:oc,getCurrentPageInfo:e0,getPDFVersion:N,Point:zn,Rectangle:nl,Matrix:Ht,hasHotfix:Ys},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return cl(G)},set:function(D){l0(G,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return dl(G)},set:function(D){o0(G,D)},enumerable:!0,configurable:!0}),(function(D){for(var Z=0,ge=kt.length;Z<ge;Z++){var je=Xr.call(this,D[Z][0],D[Z][1],D[Z][2],kt[Z][3],!0);g===!1&&(b[je]=!0);var De=D[Z][0].split("-");At({id:je,fontName:De[0],fontStyle:De[1]||""})}Cr.publish("addFonts",{fonts:$t,dictionary:Qt})}).call(m,kt),Ft="F1",$s(i,a),Cr.publish("initialized"),m}tu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},tu.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tu.prototype.hexToBytes=function(t){for(var r=[],a=0;a<t.length;a+=2)r.push(String.fromCharCode(parseInt(t.substr(a,2),16)));return r.join("")},tu.prototype.processOwnerPassword=function(t,r){return Vg(Yg(r).substr(0,5),t)},tu.prototype.encryptor=function(t,r){var a=Yg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(s){return Vg(a,s)}},Xp.prototype.equals=function(t){var r,a="id,objectNumber,equals";if(!t||la(t)!==la(this))return!1;var s=0;for(r in this)if(!(a.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;s++}for(r in t)t.hasOwnProperty(r)&&a.indexOf(r)<0&&s--;return s===0},zt.API={events:[]},zt.version="4.1.0";var es=zt.API,U1=1,Qd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},V0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jp=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(r){var a=r.charCodeAt(0).toString(16).toUpperCase();return"#"+(a.length===1?"0"+a:a)})},xr=function(t){return t.toFixed(2)},Gc=function(t){return t.toFixed(5)};es.__acroform__={};var ci=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},wN=function(t){return t*U1},uo=function(t){var r=new vj,a=Lt.internal.getHeight(t)||0,s=Lt.internal.getWidth(t)||0;return r.BBox=[0,0,Number(xr(s)),Number(xr(a))],r},YO=es.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<r},VO=es.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<r)},WO=es.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<r?1:0},cs=es.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WO(t,r-1)},ds=es.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YO(t,r-1)},us=es.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VO(t,r-1)},XO=es.__acroform__.calculateCoordinates=function(t,r){var a=r.internal.getHorizontalCoordinate,s=r.internal.getVerticalCoordinate,i=t[0],o=t[1],c=t[2],d=t[3],h={};return h.lowerLeft_X=a(i)||0,h.lowerLeft_Y=s(o+d)||0,h.upperRight_X=a(i+c)||0,h.upperRight_Y=s(o)||0,[Number(xr(h.lowerLeft_X)),Number(xr(h.lowerLeft_Y)),Number(xr(h.upperRight_X)),Number(xr(h.upperRight_Y))]},JO=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],a=t._V||t.DV,s=Wg(t,a),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+i+" "+xr(s.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC");var o=uo(t);return o.scope=t.scope,o.stream=r.join(`
`),o}},Wg=function(t,r){var a=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},i=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var o=a,c=Lt.internal.getHeight(t)||0;c=c<0?-c:c;var d=Lt.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(C,U,B){if(C+1<i.length){var X=U+" "+i[C+1][0];return up(X,t,B).width<=d-4}return!1};o++;e:for(;o>0;){r="",o--;var f,p,g=up("3",t,o).height,b=t.multiline?c-o:(c-g)/2,m=b+=2,v=0,N=0,w=0;if(o<=0){r=`(...) Tj
`,r+="% Width of Text: "+up(r,t,o=12).width+", FieldWidth:"+d+`
`;break}for(var A="",E=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var _=!1;if(i[T].length!==1&&w!==i[T].length-1){if((g+2)*(E+2)+2>c)continue e;A+=i[T][w],_=!0,N=T,T--}else{A=(A+=i[T][w]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var O=parseInt(T),W=h(O,A,o),F=T>=i.length-1;if(W&&!F){A+=" ",w=0;continue}if(W||F){if(F)N=O;else if(t.multiline&&(g+2)*(E+2)+2>c)continue e}else{if(!t.multiline||(g+2)*(E+2)+2>c)continue e;N=O}}for(var P="",z=v;z<=N;z++){var M=i[z];if(t.multiline){if(z===N){P+=M[w]+" ",w=(w+1)%M.length;continue}if(z===v){P+=M[M.length-1]+" ";continue}}P+=M[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,p=up(P,t,o).width,t.textAlign){case"right":f=d-p-2;break;case"center":f=(d-p)/2;break;default:f=2}r+=xr(f)+" "+xr(m)+` Td
`,r+="("+Qd(P)+`) Tj
`,r+=-xr(f)+` 0 Td
`,m=-(o+2),p=0,v=_?N:N+1,E++,A=""}break}return s.text=r,s.fontSize=o,s},up=function(t,r,a){var s=r.scope.internal.getFont(r.fontName,r.fontStyle),i=r.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:r.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:i}},KO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZO=function(t,r){var a={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(a)},QO=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(KO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");U1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Nj,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];o.objId=void 0,o.hasAnnotation&&ZO(o,a)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(a){(function(s,i){var o=!s;for(var c in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var d=s[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=XO(d.Rect,i)),i.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Lt.createDefaultAppearanceStream(d),la(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var p=JO(d);h.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(d.appearanceStreamContent){var g="";for(var b in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(b)){var m=d.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var c in m)if(m.hasOwnProperty(c)){var v=m[c];typeof v=="function"&&(v=v.call(i,d)),g+="/"+c+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=m)=="function"&&(v=v.call(i,d)),g+="/"+c+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);g+=">>"}h.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:d.objId}),i.internal.out("endobj")}o&&(function(N,w){for(var A in N)if(N.hasOwnProperty(A)){var E=A,T=N[A];w.internal.newObjectDeferredBegin(T.objId,!0),la(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete N[E]}})(i.internal.acroformPlugin.xForms,i)})(a,t)}),t.internal.acroformPlugin.isInitialized=!0}},yj=es.__acroform__.arrayToPdfArray=function(t,r,a){var s=function(c){return c};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),la(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?i+="/"+Jp(t[o].substr(1)):(r!==void 0&&a&&(s=a.internal.getEncryptor(r)),i+="("+Qd(s(t[o].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mg=function(t,r,a){var s=function(i){return i};return r!==void 0&&a&&(s=a.internal.getEncryptor(r)),(t=t||"").toString(),"("+Qd(s(t))+")"},ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ho.prototype.toString=function(){return this.objId+" 0 R"},ho.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ho.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var a in r)if(Object.getOwnPropertyDescriptor(this,r[a]).configurable===!1){var s=r[a],i=this[s];i&&(Array.isArray(i)?t.push({key:s,value:yj(i,this.objId,this.scope)}):i instanceof ho?(i.scope=this.scope,t.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:s,value:i}))}return t};var vj=function(){ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){t=a.trim()},get:function(){return t||null}})};ci(vj,ho);var Nj=function(){ho.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Qd(a(t))+")"}},set:function(a){t=a}})};ci(Nj,ho);var zl=function t(){ho.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');r=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cs(r,3)},set:function(A){A?this.F=ds(r,3):this.F=us(r,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');a=A}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(A){s=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(A){s[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(A){s[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(A){s[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(A){s[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Kp)return;o="FieldObject"+t.FieldNum++}var A=function(E){return E};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Qd(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(A){h=A}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/U1:f},set:function(A){f=A}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){p=A}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Kp||this instanceof Md))return mg(g,this.objId,this.scope)},set:function(A){A=A.toString(),g=A}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Bs==0?mg(b,this.objId,this.scope):b},set:function(A){A=A.toString(),b=this instanceof Bs==0?A.substr(0,1)==="("?V0(A.substr(1,A.length-2)):V0(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bs==1?V0(b.substr(1,b.length-1)):b},set:function(A){A=A.toString(),b=this instanceof Bs==1?"/"+Jp(A):A}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Bs==0?mg(m,this.objId,this.scope):m},set:function(A){A=A.toString(),m=this instanceof Bs==0?A.substr(0,1)==="("?V0(A.substr(1,A.length-2)):V0(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bs==1?V0(m.substr(1,m.length-1)):m},set:function(A){A=A.toString(),m=this instanceof Bs==1?"/"+Jp(A):A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(A){A=!!A,N=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(A){v=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,1)},set:function(A){A?this.Ff=ds(this.Ff,1):this.Ff=us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,2)},set:function(A){A?this.Ff=ds(this.Ff,2):this.Ff=us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,3)},set:function(A){A?this.Ff=ds(this.Ff,3):this.Ff=us(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');w=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(w){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};ci(zl,ho);var cu=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){t=a}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yj(r,this.objId,this.scope)},set:function(a){var s,i;i=[],typeof(s=a)=="string"&&(i=(function(o,c,d){d||(d=1);for(var h,f=[];h=c.exec(o);)f.push(h[d]);return f})(s,/\((.*?)\)/g)),r=i}}),this.getOptions=function(){return r},this.setOptions=function(a){r=a,this.sort&&r.sort()},this.addOption=function(a){a=(a=a||"").toString(),r.push(a),this.sort&&r.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();r.indexOf(a)!==-1&&(r.splice(r.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,18)},set:function(a){a?this.Ff=ds(this.Ff,18):this.Ff=us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=ds(this.Ff,19):this.Ff=us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,20)},set:function(a){a?(this.Ff=ds(this.Ff,20),r.sort()):this.Ff=us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,22)},set:function(a){a?this.Ff=ds(this.Ff,22):this.Ff=us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,23)},set:function(a){a?this.Ff=ds(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,27)},set:function(a){a?this.Ff=ds(this.Ff,27):this.Ff=us(this.Ff,27)}}),this.hasAppearanceStream=!1};ci(cu,zl);var du=function(){cu.call(this),this.fontName="helvetica",this.combo=!1};ci(du,cu);var uu=function(){du.call(this),this.combo=!0};ci(uu,du);var wp=function(){uu.call(this),this.edit=!0};ci(wp,uu);var Bs=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,15)},set:function(a){a?this.Ff=ds(this.Ff,15):this.Ff=us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,16)},set:function(a){a?this.Ff=ds(this.Ff,16):this.Ff=us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,17)},set:function(a){a?this.Ff=ds(this.Ff,17):this.Ff=us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,26)},set:function(a){a?this.Ff=ds(this.Ff,26):this.Ff=us(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var s,i=[];for(s in i.push("<<"),r)i.push("/"+s+" ("+Qd(a(r[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(a){la(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+Jp(a)}})};ci(Bs,zl);var jp=function(){Bs.call(this),this.pushButton=!0};ci(jp,Bs);var fu=function(){Bs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};ci(fu,Bs);var Kp=function(){var t,r;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(i){r=i}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(d){return d};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+Qd(i(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){la(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(i){a=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(i){a="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ci(Kp,zl),fu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var a=this.Kids[r];a.appearanceStreamContent=t.createAppearanceStream(a.optionName),a.caption=t.getCA()}},fu.prototype.createOption=function(t){var r=new Kp;return r.Parent=this,r.optionName=t,this.Kids.push(r),eP.call(this.scope,r),r};var Sp=function(){Bs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};ci(Sp,Bs);var Md=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,13)},set:function(r){r?this.Ff=ds(this.Ff,13):this.Ff=us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,21)},set:function(r){r?this.Ff=ds(this.Ff,21):this.Ff=us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,23)},set:function(r){r?this.Ff=ds(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,24)},set:function(r){r?this.Ff=ds(this.Ff,24):this.Ff=us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,25)},set:function(r){r?this.Ff=ds(this.Ff,25):this.Ff=us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,26)},set:function(r){r?this.Ff=ds(this.Ff,26):this.Ff=us(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ci(Md,zl);var Ep=function(){Md.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,14)},set:function(t){t?this.Ff=ds(this.Ff,14):this.Ff=us(this.Ff,14)}}),this.password=!0};ci(Ep,Md);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=uo(t);r.scope=t.scope;var a=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Wg(t,t.caption);return a.push("0.749023 g"),a.push("0 0 "+xr(Lt.internal.getWidth(t))+" "+xr(Lt.internal.getHeight(t))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+xr(o.fontSize)+" Tf "+i),a.push("BT"),a.push(o.text),a.push("ET"),a.push("Q"),a.push("EMC"),r.stream=a.join(`
`),r},YesNormal:function(t){var r=uo(t);r.scope=t.scope;var a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=[],o=Lt.internal.getHeight(t),c=Lt.internal.getWidth(t),d=Wg(t,t.caption);return i.push("1 g"),i.push("0 0 "+xr(c)+" "+xr(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xr(c-1)+" "+xr(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+a+" "+xr(d.fontSize)+" Tf "+s),i.push(d.text),i.push("ET"),i.push("Q"),r.stream=i.join(`
`),r},OffPushDown:function(t){var r=uo(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+xr(Lt.internal.getWidth(t))+" "+xr(Lt.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=Lt.RadioButton.Circle.YesNormal,r.D[t]=Lt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=uo(t);r.scope=t.scope;var a=[],s=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Lt.internal.Bezier_C,o=Number((s*i).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+Gc(Lt.internal.getWidth(t)/2)+" "+Gc(Lt.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),a.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),a.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),a.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=uo(t);r.scope=t.scope;var a=[],s=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*Lt.internal.Bezier_C).toFixed(5)),c=Number((s*Lt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Gc(Lt.internal.getWidth(t)/2)+" "+Gc(Lt.internal.getHeight(t)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+Gc(Lt.internal.getWidth(t)/2)+" "+Gc(Lt.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),a.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),a.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),a.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=uo(t);r.scope=t.scope;var a=[],s=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*Lt.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Gc(Lt.internal.getWidth(t)/2)+" "+Gc(Lt.internal.getHeight(t)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=Lt.RadioButton.Cross.YesNormal,r.D[t]=Lt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=uo(t);r.scope=t.scope;var a=[],s=Lt.internal.calculateCross(t);return a.push("q"),a.push("1 1 "+xr(Lt.internal.getWidth(t)-2)+" "+xr(Lt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(xr(s.x1.x)+" "+xr(s.x1.y)+" m"),a.push(xr(s.x2.x)+" "+xr(s.x2.y)+" l"),a.push(xr(s.x4.x)+" "+xr(s.x4.y)+" m"),a.push(xr(s.x3.x)+" "+xr(s.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=uo(t);r.scope=t.scope;var a=Lt.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+xr(Lt.internal.getWidth(t))+" "+xr(Lt.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+xr(Lt.internal.getWidth(t)-2)+" "+xr(Lt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(xr(a.x1.x)+" "+xr(a.x1.y)+" m"),s.push(xr(a.x2.x)+" "+xr(a.x2.y)+" l"),s.push(xr(a.x4.x)+" "+xr(a.x4.y)+" m"),s.push(xr(a.x3.x)+" "+xr(a.x3.y)+" l"),s.push("s"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(t){var r=uo(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+xr(Lt.internal.getWidth(t))+" "+xr(Lt.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+a}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=Lt.internal.getWidth(t),a=Lt.internal.getHeight(t),s=Math.min(r,a);return{x1:{x:(r-s)/2,y:(a-s)/2+s},x2:{x:(r-s)/2+s,y:(a-s)/2},x3:{x:(r-s)/2,y:(a-s)/2},x4:{x:(r-s)/2+s,y:(a-s)/2+s}}}},Lt.internal.getWidth=function(t){var r=0;return la(t)==="object"&&(r=wN(t.Rect[2])),r},Lt.internal.getHeight=function(t){var r=0;return la(t)==="object"&&(r=wN(t.Rect[3])),r};var eP=es.addField=function(t){if(QO(this,t),!(t instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};es.AcroFormChoiceField=cu,es.AcroFormListBox=du,es.AcroFormComboBox=uu,es.AcroFormEditBox=wp,es.AcroFormButton=Bs,es.AcroFormPushButton=jp,es.AcroFormRadioButton=fu,es.AcroFormCheckBox=Sp,es.AcroFormTextField=Md,es.AcroFormPasswordField=Ep,es.AcroFormAppearance=Lt,es.AcroForm={ChoiceField:cu,ListBox:du,ComboBox:uu,EditBox:wp,Button:Bs,PushButton:jp,RadioButton:fu,CheckBox:Sp,TextField:Md,PasswordField:Ep,Appearance:Lt},zt.AcroForm={ChoiceField:cu,ListBox:du,ComboBox:uu,EditBox:wp,Button:Bs,PushButton:jp,RadioButton:fu,CheckBox:Sp,TextField:Md,PasswordField:Ep,Appearance:Lt};zt.AcroForm;function wj(t){return t.reduce(function(r,a,s){return r[a]=s,r},{})}(function(t){var r="addImage_";t.__addimage__={};var a="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(C,U){var B,X,ue,J,re,oe=a;if((U=U||a)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(W(C))for(re in s)for(ue=s[re],B=0;B<ue.length;B+=1){for(J=!0,X=0;X<ue[B].length;X+=1)if(ue[B][X]!==void 0&&ue[B][X]!==C[X]){J=!1;break}if(J===!0){oe=re;break}}else for(re in s)for(ue=s[re],B=0;B<ue.length;B+=1){for(J=!0,X=0;X<ue[B].length;X+=1)if(ue[B][X]!==void 0&&ue[B][X]!==C.charCodeAt(X)){J=!1;break}if(J===!0){oe=re;break}}return oe===a&&U!==a&&(oe=U),oe},o=function C(U){for(var B=this.internal.write,X=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:U.width}),J.push({key:"Height",value:U.height}),U.colorSpace===A.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===A.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var re="",oe=0,ve=U.transparency.length;oe<ve;oe++)re+=U.transparency[oe]+" "+U.transparency[oe]+" ";J.push({key:"Mask",value:"["+re+"]"})}U.sMask!==void 0&&J.push({key:"SMask",value:U.objectId+1+" 0 R"});var Ne=U.filter!==void 0?["/"+U.filter]:void 0;if(X({data:U.data,additionalKeyValues:J,alreadyAppliedFilters:Ne,objectId:U.objectId}),B("endobj"),"sMask"in U&&U.sMask!==void 0){var q,L=(q=U.sMaskBitsPerComponent)!==null&&q!==void 0?q:U.bitsPerComponent,G={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:U.sMask};"filter"in U&&(G.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(U.width),G.filter=U.filter),C.call(this,G)}if(U.colorSpace===A.INDEXED){var V=this.internal.newObject();X({data:P(new Uint8Array(U.palette)),objectId:V}),B("endobj")}},c=function(){var C=this.internal.collections[r+"images"];for(var U in C)o.call(this,C[U])},d=function(){var C,U=this.internal.collections[r+"images"],B=this.internal.write;for(var X in U)B("/I"+(C=U[X]).index,C.objectId,"0","R")},h=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var C=this.internal.collections[r+"images"];return h.call(this),C},p=function(){return Object.keys(this.internal.collections[r+"images"]).length},g=function(C){return typeof t["process"+C.toUpperCase()]=="function"},b=function(C){return la(C)==="object"&&C.nodeType===1},m=function(C,U){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var B=""+C.getAttribute("src");if(B.indexOf("data:image/")===0)return Np(unescape(B).split("base64,").pop());var X=t.loadFile(B,!0);if(X!==void 0)return X}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ue;switch(U){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Np(C.toDataURL(ue,1).split("base64,").pop())}},v=function(C){var U=this.internal.collections[r+"images"];if(U){for(var B in U)if(C===U[B].alias)return U[B]}},N=function(C,U,B){return C||U||(C=-96,U=-96),C<0&&(C=-1*B.width*72/C/this.internal.scaleFactor),U<0&&(U=-1*B.height*72/U/this.internal.scaleFactor),C===0&&(C=U*B.width/B.height),U===0&&(U=C*B.height/B.width),[C,U]},w=function(C,U,B,X,ue,J){var re=N.call(this,B,X,ue),oe=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,Ne=f.call(this);if(B=re[0],X=re[1],Ne[ue.index]=ue,J){J*=Math.PI/180;var q=Math.cos(J),L=Math.sin(J),G=function(K){return K.toFixed(4)},V=[G(q),G(L),G(-1*L),G(q),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,oe(C),ve(U+X),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([oe(B),"0","0",oe(X),"0","0","cm"].join(" "))):this.internal.write([oe(B),"0","0",oe(X),oe(C),ve(U+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(C){var U,B,X=0;if(typeof C=="string")for(B=C.length,U=0;U<B;U++)X=(X<<5)-X+C.charCodeAt(U),X|=0;else if(W(C))for(B=C.byteLength/2,U=0;U<B;U++)X=(X<<5)-X+C[U],X|=0;return X},_=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var U=!0;return C.length===0&&(U=!1),C.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(U=!1),U},O=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var U=C.indexOf(",");return U<0?null:C.substring(0,U).trim().endsWith("base64")?C.substring(U+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(C){for(var U=C.length,B=new Uint8Array(U),X=0;X<U;X++)B[X]=C.charCodeAt(X);return B},P=t.__addimage__.arrayBufferToBinaryString=function(C){for(var U="",B=W(C)?C:new Uint8Array(C),X=0;X<B.length;X+=8192)U+=String.fromCharCode.apply(null,B.subarray(X,X+8192));return U};t.addImage=function(){var C,U,B,X,ue,J,re,oe,ve;if(typeof arguments[1]=="number"?(U=a,B=arguments[1],X=arguments[2],ue=arguments[3],J=arguments[4],re=arguments[5],oe=arguments[6],ve=arguments[7]):(U=arguments[1],B=arguments[2],X=arguments[3],ue=arguments[4],J=arguments[5],re=arguments[6],oe=arguments[7],ve=arguments[8]),la(C=arguments[0])==="object"&&!b(C)&&"imageData"in C){var Ne=C;C=Ne.imageData,U=Ne.format||U||a,B=Ne.x||B||0,X=Ne.y||X||0,ue=Ne.w||Ne.width||ue,J=Ne.h||Ne.height||J,re=Ne.alias||re,oe=Ne.compression||oe,ve=Ne.rotation||Ne.angle||ve}var q=this.internal.getFilters();if(oe===void 0&&q.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(B)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var L=z.call(this,C,U,re,oe);return w.call(this,B,X,ue,J,L,ve),this};var z=function(C,U,B,X){var ue,J,re;if(typeof C=="string"&&i(C)===a){C=unescape(C);var oe=M(C,!1);(oe!==""||(oe=t.loadFile(C,!0))!==void 0)&&(C=oe)}if(b(C)&&(C=m(C,U)),U=i(C,U),!g(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((re=B)==null||re.length===0)&&(B=(function(ve){return typeof ve=="string"||W(ve)?T(ve):W(ve.data)?T(ve.data):null})(C)),(ue=v.call(this,B))||(C instanceof Uint8Array||U==="RGBA"||(J=C,C=F(C)),ue=this["process"+U.toUpperCase()](C,p.call(this),B,(function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in t.image_compression?ve:E.NONE})(X),J)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},M=t.__addimage__.convertBase64ToBinaryString=function(C,U){U=typeof U!="boolean"||U;var B,X="";if(typeof C=="string"){var ue;B=(ue=O(C))!==null&&ue!==void 0?ue:C;try{X=Np(B)}catch(J){if(U)throw _(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(C){var U,B,X="";if(b(C)&&(C=m(C)),typeof C=="string"&&i(C)===a&&((X=M(C,!1))===""&&(X=t.loadFile(C)||""),C=X),B=i(C),!g(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(C instanceof Uint8Array||(C=F(C)),!(U=this["process"+B.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=B,U}})(zt.API),(function(t){var r=function(a){if(a!==void 0&&a!="")return!0};zt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(a){for(var s,i,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(a.objId),f=a.pageContext.annotations,p=!1,g=0;g<f.length&&!p;g++)switch((s=f[g]).type){case"link":(r(s.options.url)||r(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){s=f[b];var m=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(N.objId),E=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(s.bounds.x)+" "+d(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y)+"] ")+"/Contents ("+m(A(s.contents))+")",o+=" /Popup "+w.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+m(A(E))+") >>",N.content=o;var T=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(s.bounds.x+30)+" "+d(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+d(s.bounds.y)+"] ")+" /Parent "+T,s.open&&(o+=" /Open true"),o+=" >>",w.content=o,this.internal.write(N.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+c(s.bounds.x)+" "+d(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+d(s.bounds.y+s.bounds.h)+"] ";var _=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(v(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var O=this.annotations._nameMap[s.options.name];s.options.pageNumber=O.page,s.options.top=O.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var W=d(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+W+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},t.link=function(a,s,i,o,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(a),y:f(s),w:h(a+i),h:f(s+o)},options:c,type:"link"})},t.textWithLink=function(a,s,i,o){var c,d,h=this.getTextWidth(a),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var p=this.splitTextToSize(a,d).length;c=Math.ceil(f*p)}else d=h,c=f;return this.text(a,s,i,o),i+=.2*f,o.align==="center"&&(s-=h/2),o.align==="right"&&(s-=h),this.link(s,i-f,d,c,o),h},t.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}})(zt.API),(function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(N){return r[N.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},d=t.__arabicParser__.isArabicEndLetter=function(N){return c(N)&&o(N)&&r[N.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(N){return c(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return c(N)&&o(N)&&r[N.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return c(N)&&o(N)&&r[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return c(N)&&o(N)&&r[N.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return c(N)&&o(N)&&r[N.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(N){var w=0,A=a,E="",T=0;for(w=0;w<N.length;w+=1)A[N.charCodeAt(w)]!==void 0?(T++,typeof(A=A[N.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(A),A=a,T=0),w===N.length-1&&(A=a,E+=N.charAt(w-(T-1)),w-=T-1,T=0)):(A=a,E+=N.charAt(w-T),w-=T,T=0);return E};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&s[N.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(N,w,A){return c(N)?o(N)===!1?-1:!f(N)||!c(w)&&!c(A)||!c(A)&&d(w)||d(N)&&!c(w)||d(N)&&h(w)||d(N)&&d(w)?0:p(N)&&c(w)&&!d(w)&&c(A)&&f(A)?3:d(N)||!c(A)?1:2:-1},m=function(N){var w=0,A=0,E=0,T="",_="",O="",W=(N=N||"").split("\\s+"),F=[];for(w=0;w<W.length;w+=1){for(F.push(""),A=0;A<W[w].length;A+=1)T=W[w][A],_=W[w][A-1],O=W[w][A+1],c(T)?(E=b(T,_,O),F[w]+=E!==-1?String.fromCharCode(r[T.charCodeAt(0)][E]):T):F[w]+=T;F[w]=g(F[w])}return F.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var N,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(w)){var E=0;for(A=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?A.push([m(w[E][0]),w[E][1],w[E][2]]):A.push([m(w[E])]);N=A}else N=m(w);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",v])})(zt.API),zt.API.autoPrint=function(t){var r;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(t){var r=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(d){a=d}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(a,s){var i;if((a=a||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(zt.API),(function(t){var r={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(N){v=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return s.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){s.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,m=0,v=0,N=0,w=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var A=f.maxWidth;A>0?typeof h=="string"?h=this.splitTextToSize(h,A):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(T,_){return T.concat(w.splitTextToSize(_,A))},[])):h=Array.isArray(h)?h:[h];for(var E=0;E<h.length;E++)m<(N=this.getStringUnitWidth(h[E],{font:g})*p)&&(m=N);return m!==0&&(v=h.length),{w:m/=b,h:Math.max((v*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var h=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||r,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=g.top,m&&b&&(this.printHeaderRow(h.lineNumber,!0),h.y+=b[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,a===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,p,g,b){if(s.call(this),!p)throw new Error("No data for PDF table.");var m,v,N,w,A=[],E=[],T=[],_={},O={},W=[],F=[],P=(b=b||{}).autoSize||!1,z=b.printHeaders!==!1,M=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,C=b.margins||Object.assign({width:this.getPageWidth()},r),U=typeof b.padding=="number"?b.padding:3,B=b.headerBackgroundColor||"#c8c8c8",X=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=X,this.setFontSize(M),g==null)E=A=Object.keys(p[0]),T=A.map(function(){return"left"});else if(Array.isArray(g)&&la(g[0])==="object")for(A=g.map(function(Ne){return Ne.name}),E=g.map(function(Ne){return Ne.prompt||Ne.name||""}),T=g.map(function(Ne){return Ne.align||"left"}),m=0;m<g.length;m+=1)O[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(E=A=g,T=A.map(function(){return"left"}));if(P||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<A.length;m+=1){for(_[w=A[m]]=p.map(function(Ne){return Ne[w]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(E[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[w],this.setFont(void 0,"normal"),N=0;N<v.length;N+=1)W.push(this.getTextDimensions(v[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,W)+U+U,W=[]}if(z){var ue={};for(m=0;m<A.length;m+=1)ue[A[m]]={},ue[A[m]].text=E[m],ue[A[m]].align=T[m];var J=d.call(this,ue,O);F=A.map(function(Ne){return new o(h,f,O[Ne],J,ue[Ne].text,void 0,ue[Ne].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var re=g.reduce(function(Ne,q){return Ne[q.name]=q.align,Ne},{});for(m=0;m<p.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:p[m]},this);var oe=d.call(this,p[m],O);for(N=0;N<A.length;N+=1){var ve=p[m][A[N]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:N,data:ve},this),c.call(this,new o(h,f,O[A[N]],oe,ve,m+2,re[A[N]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(h).map(function(m){var v=h[m];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,f[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+p+p},this).reduce(function(m,v){return Math.max(m,v)},0)};t.setTableHeaderRow=function(h){s.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=h;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(v)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),a=!1}})(zt.API);var jj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Sj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xg=wj(Sj),Ej=[100,200,300,400,500,600,700,800,900],tP=wj(Ej);function gg(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),a=(function(o){return jj[o=o||"normal"]?o:"normal"})(t.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof Xg[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:r,style:a,weight:s,stretch:i,src:t.src||[],ref:t.ref||{name:r,style:[i,a,s].join(" ")}}}function jN(t,r,a,s){var i;for(i=a;i>=0&&i<r.length;i+=s)if(t[r[i]])return t[r[i]];for(i=a;i>=0&&i<r.length;i-=s)if(t[r[i]])return t[r[i]]}var rP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function EN(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function kN(t){return t.trimLeft()}function aP(t,r){for(var a=0;a<t.length;){if(t.charAt(a)===r)return[t.substring(0,a),t.substring(a+1)];a+=1}return null}function sP(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var W0,fp,AN,_N,CN,bg=["times"];function TN(t,r,a,s,i){var o=4,c=LN;switch(i){case zt.API.image_compression.FAST:o=1,c=DN;break;case zt.API.image_compression.MEDIUM:o=6,c=RN;break;case zt.API.image_compression.SLOW:o=9,c=FN}t=(function(h,f,p,g){for(var b,m=h.length/f,v=new Uint8Array(h.length+m),N=[nP,DN,LN,RN,FN],w=0;w<m;w+=1){var A=w*f,E=h.subarray(A,A+f);if(g)v.set(g(E,p,b),A+w);else{for(var T=N.length,_=[],O=0;O<T;O+=1)_[O]=N[O](E,p,b);var W=lP(_.concat());v.set(_[W],A+w)}b=E}return v})(t,r,Math.ceil(a*s/8),c);var d=Hg(t,{level:o});return zt.API.__addimage__.arrayBufferToBinaryString(d)}function nP(t){var r=Array.apply([],t);return r.unshift(0),r}function DN(t,r){var a=t.length,s=[];s[0]=1;for(var i=0;i<a;i+=1){var o=t[i-r]||0;s[i+1]=t[i]-o+256&255}return s}function LN(t,r,a){var s=t.length,i=[];i[0]=2;for(var o=0;o<s;o+=1){var c=a&&a[o]||0;i[o+1]=t[o]-c+256&255}return i}function RN(t,r,a){var s=t.length,i=[];i[0]=3;for(var o=0;o<s;o+=1){var c=t[o-r]||0,d=a&&a[o]||0;i[o+1]=t[o]+256-(c+d>>>1)&255}return i}function FN(t,r,a){var s=t.length,i=[];i[0]=4;for(var o=0;o<s;o+=1){var c=iP(t[o-r]||0,a&&a[o]||0,a&&a[o-r]||0);i[o+1]=t[o]-c+256&255}return i}function iP(t,r,a){if(t===r&&r===a)return t;var s=Math.abs(r-a),i=Math.abs(t-a),o=Math.abs(t+r-a-a);return s<=i&&s<=o?t:i<=o?r:a}function lP(t){var r=t.map(function(a){return a.reduce(function(s,i){return s+Math.abs(i)},0)});return r.indexOf(Math.min.apply(null,r))}function yg(t,r,a){var s=r*a,i=Math.floor(s/8),o=16-(s-8*i+a),c=(1<<a)-1;return kj(t,i)>>o&c}function ON(t,r,a,s){var i=a*s,o=Math.floor(i/8),c=16-(i-8*o+s),d=(1<<s)-1,h=(r&d)<<c;(function(f,p,g){if(p+1<f.byteLength)f.setUint16(p,g,!1);else{var b=g>>8&255;f.setUint8(p,b)}})(t,o,kj(t,o)&~(d<<c)&65535|h)}function kj(t,r){return r+1<t.byteLength?t.getUint16(r,!1):t.getUint8(r)<<8}function oP(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=t[r++]|t[r++]<<8,s=t[r++]|t[r++]<<8,i=t[r++],o=i>>7,c=1<<1+(7&i);t[r++],t[r++];var d=null,h=null;o&&(d=r,h=c,r+=3*c);var f=!0,p=[],g=0,b=null,m=0,v=null;for(this.width=a,this.height=s;f&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,v=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((C=t[r++])>=0))throw Error("Invalid block size");if(C===0)break;r+=C}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[r++];g=t[r++]|t[r++]<<8,b=t[r++],1&N||(b=null),m=N>>2&7,r++;break;case 254:for(;;){if(!((C=t[r++])>=0))throw Error("Invalid block size");if(C===0)break;r+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var w=t[r++]|t[r++]<<8,A=t[r++]|t[r++]<<8,E=t[r++]|t[r++]<<8,T=t[r++]|t[r++]<<8,_=t[r++],O=_>>6&1,W=1<<1+(7&_),F=d,P=h,z=!1;_>>7&&(z=!0,F=r,P=W,r+=3*W);var M=r;for(r++;;){var C;if(!((C=t[r++])>=0))throw Error("Invalid block size");if(C===0)break;r+=C}p.push({x:w,y:A,width:E,height:T,has_local_palette:z,palette_offset:F,palette_size:P,data_offset:M,data_length:r-M,transparent_index:b,interlaced:!!O,delay:g,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return v},this.frameInfo=function(U){if(U<0||U>=p.length)throw new Error("Frame index out of range.");return p[U]},this.decodeAndBlitFrameBGRA=function(U,B){var X=this.frameInfo(U),ue=X.width*X.height,J=new Uint8Array(ue);PN(t,X.data_offset,J,ue);var re=X.palette_offset,oe=X.transparent_index;oe===null&&(oe=256);var ve=X.width,Ne=a-ve,q=ve,L=4*(X.y*a+X.x),G=4*((X.y+X.height)*a+X.x),V=L,K=4*Ne;X.interlaced===!0&&(K+=4*a*7);for(var ne=8,ye=0,ke=J.length;ye<ke;++ye){var Se=J[ye];if(q===0&&(q=ve,(V+=K)>=G&&(K=4*Ne+4*a*(ne-1),V=L+(ve+Ne)*(ne<<1),ne>>=1)),Se===oe)V+=4;else{var _e=t[re+3*Se],Je=t[re+3*Se+1],nt=t[re+3*Se+2];B[V++]=nt,B[V++]=Je,B[V++]=_e,B[V++]=255}--q}},this.decodeAndBlitFrameRGBA=function(U,B){var X=this.frameInfo(U),ue=X.width*X.height,J=new Uint8Array(ue);PN(t,X.data_offset,J,ue);var re=X.palette_offset,oe=X.transparent_index;oe===null&&(oe=256);var ve=X.width,Ne=a-ve,q=ve,L=4*(X.y*a+X.x),G=4*((X.y+X.height)*a+X.x),V=L,K=4*Ne;X.interlaced===!0&&(K+=4*a*7);for(var ne=8,ye=0,ke=J.length;ye<ke;++ye){var Se=J[ye];if(q===0&&(q=ve,(V+=K)>=G&&(K=4*Ne+4*a*(ne-1),V=L+(ve+Ne)*(ne<<1),ne>>=1)),Se===oe)V+=4;else{var _e=t[re+3*Se],Je=t[re+3*Se+1],nt=t[re+3*Se+2];B[V++]=_e,B[V++]=Je,B[V++]=nt,B[V++]=255}--q}}}function PN(t,r,a,s){for(var i=t[r++],o=1<<i,c=o+1,d=c+1,h=i+1,f=(1<<h)-1,p=0,g=0,b=0,m=t[r++],v=new Int32Array(4096),N=null;;){for(;p<16&&m!==0;)g|=t[r++]<<p,p+=8,m===1?m=t[r++]:--m;if(p<h)break;var w=g&f;if(g>>=h,p-=h,w!==o){if(w===c)break;for(var A=w<d?w:N,E=0,T=A;T>o;)T=v[T]>>8,++E;var _=T;if(b+E+(A!==w?1:0)>s)return void Na.log("Warning, gif stream longer than expected.");a[b++]=_;var O=b+=E;for(A!==w&&(a[b++]=_),T=A;E--;)T=v[T],a[--O]=255&T,T>>=8;N!==null&&d<4096&&(v[d++]=N<<8|_,d>=f+1&&h<12&&(++h,f=f<<1|1)),N=w}else d=c+1,f=(1<<(h=i+1))-1,N=null}return b!==s&&Na.log("Warning, gif stream shorter than expected."),a}function vg(t){var r,a,s,i,o,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),v=new Array(64),N=[],w=0,A=7,E=new Array(64),T=new Array(64),_=new Array(64),O=new Array(256),W=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(L,G){for(var V=0,K=0,ne=new Array,ye=1;ye<=16;ye++){for(var ke=1;ke<=L[ye];ke++)ne[G[K]]=[],ne[G[K]][0]=V,ne[G[K]][1]=ye,K++,V++;V*=2}return ne}function re(L){for(var G=L[0],V=L[1]-1;V>=0;)G&1<<V&&(w|=1<<A),V--,--A<0&&(w==255?(oe(255),oe(0)):oe(w),A=7,w=0)}function oe(L){N.push(L)}function ve(L){oe(L>>8&255),oe(255&L)}function Ne(L,G,V,K,ne){for(var ye,ke=ne[0],Se=ne[240],_e=(function(rt,Rt){var wt,qt,Bt,Vt,mr,sr,br,ir,Ft,lr,Pt=0;for(Ft=0;Ft<8;++Ft){wt=rt[Pt],qt=rt[Pt+1],Bt=rt[Pt+2],Vt=rt[Pt+3],mr=rt[Pt+4],sr=rt[Pt+5],br=rt[Pt+6];var wa=wt+(ir=rt[Pt+7]),yr=wt-ir,$t=qt+br,Qt=qt-br,Nr=Bt+sr,Gt=Bt-sr,Vr=Vt+mr,Jt=Vt-mr,er=wa+Vr,Wr=wa-Vr,ur=$t+Nr,Ot=$t-Nr;rt[Pt]=er+ur,rt[Pt+4]=er-ur;var Cr=.707106781*(Ot+Wr);rt[Pt+2]=Wr+Cr,rt[Pt+6]=Wr-Cr;var wn=.382683433*((er=Jt+Gt)-(Ot=Qt+yr)),fs=.5411961*er+wn,In=1.306562965*Ot+wn,cn=.707106781*(ur=Gt+Qt),Ht=yr+cn,di=yr-cn;rt[Pt+5]=di+fs,rt[Pt+3]=di-fs,rt[Pt+1]=Ht+In,rt[Pt+7]=Ht-In,Pt+=8}for(Pt=0,Ft=0;Ft<8;++Ft){wt=rt[Pt],qt=rt[Pt+8],Bt=rt[Pt+16],Vt=rt[Pt+24],mr=rt[Pt+32],sr=rt[Pt+40],br=rt[Pt+48];var Mn=wt+(ir=rt[Pt+56]),Ns=wt-ir,Gs=qt+br,da=qt-br,Da=Bt+sr,ee=Bt-sr,me=Vt+mr,le=Vt-mr,ce=Mn+me,he=Mn-me,be=Gs+Da,Fe=Gs-Da;rt[Pt]=ce+be,rt[Pt+32]=ce-be;var $e=.707106781*(Fe+he);rt[Pt+16]=he+$e,rt[Pt+48]=he-$e;var Pe=.382683433*((ce=le+ee)-(Fe=da+Ns)),Ie=.5411961*ce+Pe,Be=1.306562965*Fe+Pe,ct=.707106781*(be=ee+da),xt=Ns+ct,Nt=Ns-ct;rt[Pt+40]=Nt+Ie,rt[Pt+24]=Nt-Ie,rt[Pt+8]=xt+Be,rt[Pt+56]=xt-Be,Pt++}for(Ft=0;Ft<64;++Ft)lr=rt[Ft]*Rt[Ft],m[Ft]=lr>0?lr+.5|0:lr-.5|0;return m})(L,G),Je=0;Je<64;++Je)v[F[Je]]=_e[Je];var nt=v[0]-V;V=v[0],nt==0?re(K[0]):(re(K[b[ye=32767+nt]]),re(g[ye]));for(var mt=63;mt>0&&v[mt]==0;)mt--;if(mt==0)return re(ke),V;for(var ht,fe=1;fe<=mt;){for(var dt=fe;v[fe]==0&&fe<=mt;)++fe;var ot=fe-dt;if(ot>=16){ht=ot>>4;for(var kt=1;kt<=ht;++kt)re(Se);ot&=15}ye=32767+v[fe],re(ne[(ot<<4)+b[ye]]),re(g[ye]),fe++}return mt!=63&&re(ke),V}function q(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(G){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ne=c((V[K]*G+50)/100);ne=Math.min(Math.max(ne,1),255),d[F[K]]=ne}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Se=c((ye[ke]*G+50)/100);Se=Math.min(Math.max(Se,1),255),h[F[ke]]=Se}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,nt=0;nt<8;nt++)for(var mt=0;mt<8;mt++)f[Je]=1/(d[F[Je]]*_e[nt]*_e[mt]*8),p[Je]=1/(h[F[Je]]*_e[nt]*_e[mt]*8),Je++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,G){G&&q(G),N=new Array,w=0,A=7,ve(65496),ve(65504),ve(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),ve(1),ve(1),oe(0),oe(0),(function(){ve(65499),ve(132),oe(0);for(var qt=0;qt<64;qt++)oe(d[qt]);oe(1);for(var Bt=0;Bt<64;Bt++)oe(h[Bt])})(),(function(qt,Bt){ve(65472),ve(17),oe(8),ve(Bt),ve(qt),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(L.width,L.height),(function(){ve(65476),ve(418),oe(0);for(var qt=0;qt<16;qt++)oe(P[qt+1]);for(var Bt=0;Bt<=11;Bt++)oe(z[Bt]);oe(16);for(var Vt=0;Vt<16;Vt++)oe(M[Vt+1]);for(var mr=0;mr<=161;mr++)oe(C[mr]);oe(1);for(var sr=0;sr<16;sr++)oe(U[sr+1]);for(var br=0;br<=11;br++)oe(B[br]);oe(17);for(var ir=0;ir<16;ir++)oe(X[ir+1]);for(var Ft=0;Ft<=161;Ft++)oe(ue[Ft])})(),ve(65498),ve(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var V=0,K=0,ne=0;w=0,A=7,this.encode.displayName="_encode_";for(var ye,ke,Se,_e,Je,nt,mt,ht,fe,dt=L.data,ot=L.width,kt=L.height,rt=4*ot,Rt=0;Rt<kt;){for(ye=0;ye<rt;){for(Je=rt*Rt+ye,mt=-1,ht=0,fe=0;fe<64;fe++)nt=Je+(ht=fe>>3)*rt+(mt=4*(7&fe)),Rt+ht>=kt&&(nt-=rt*(Rt+1+ht-kt)),ye+mt>=rt&&(nt-=ye+mt-rt+4),ke=dt[nt++],Se=dt[nt++],_e=dt[nt++],E[fe]=(W[ke]+W[Se+256|0]+W[_e+512|0]>>16)-128,T[fe]=(W[ke+768|0]+W[Se+1024|0]+W[_e+1280|0]>>16)-128,_[fe]=(W[ke+1280|0]+W[Se+1536|0]+W[_e+1792|0]>>16)-128;V=Ne(E,f,V,r,s),K=Ne(T,p,K,a,i),ne=Ne(_,p,ne,a,i),ye+=32}Rt+=8}if(A>=0){var wt=[];wt[1]=A+1,wt[0]=(1<<A+1)-1,re(wt)}return ve(65497),new Uint8Array(N)},t=t||50,(function(){for(var L=String.fromCharCode,G=0;G<256;G++)O[G]=L(G)})(),r=J(P,z),a=J(U,B),s=J(M,C),i=J(X,ue),(function(){for(var L=1,G=2,V=1;V<=15;V++){for(var K=L;K<G;K++)b[32767+K]=V,g[32767+K]=[],g[32767+K][1]=V,g[32767+K][0]=K;for(var ne=-(G-1);ne<=-L;ne++)b[32767+ne]=V,g[32767+ne]=[],g[32767+ne][1]=V,g[32767+ne][0]=G-1+ne;L<<=1,G<<=1}})(),(function(){for(var L=0;L<256;L++)W[L]=19595*L,W[L+256|0]=38470*L,W[L+512|0]=7471*L+32768,W[L+768|0]=-11059*L,W[L+1024|0]=-21709*L,W[L+1280|0]=32768*L+8421375,W[L+1536|0]=-27439*L,W[L+1792|0]=-5329*L})(),q(t)}function Ll(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function IN(t){function r(z){if(!z)throw Error("assert :P")}function a(z,M,C){for(var U=0;4>U;U++)if(z[M+U]!=C.charCodeAt(U))return!0;return!1}function s(z,M,C,U,B){for(var X=0;X<B;X++)z[M+X]=C[U+X]}function i(z,M,C,U){for(var B=0;B<U;B++)z[M+B]=C}function o(z){return new Int32Array(z)}function c(z,M){for(var C=[],U=0;U<z;U++)C.push(new M);return C}function d(z,M){var C=[];return(function U(B,X,ue){for(var J=ue[X],re=0;re<J&&(B.push(ue.length>X+1?[]:new M),!(ue.length<X+1));re++)U(B[re],X+1,ue)})(C,0,z),C}var h=function(){var z=this;function M(y,S){for(var I=1<<S-1>>>0;y&I;)I>>>=1;return I?(y&I-1)+I:y}function C(y,S,I,H,Q){r(!(H%I));do y[S+(H-=I)]=Q;while(0<H)}function U(y,S,I,H,Q){if(r(2328>=Q),512>=Q)var te=o(512);else if((te=o(Q))==null)return 0;return(function(ae,ie,de,xe,Ee,Me){var pe,Ce,Re=ie,Ve=1<<de,Oe=o(16),Ye=o(16);for(r(Ee!=0),r(xe!=null),r(ae!=null),r(0<de),Ce=0;Ce<Ee;++Ce){if(15<xe[Ce])return 0;++Oe[xe[Ce]]}if(Oe[0]==Ee)return 0;for(Ye[1]=0,pe=1;15>pe;++pe){if(Oe[pe]>1<<pe)return 0;Ye[pe+1]=Ye[pe]+Oe[pe]}for(Ce=0;Ce<Ee;++Ce)pe=xe[Ce],0<xe[Ce]&&(Me[Ye[pe]++]=Ce);if(Ye[15]==1)return(xe=new B).g=0,xe.value=Me[0],C(ae,Re,1,Ve,xe),Ve;var Ze,ut=-1,at=Ve-1,Dt=0,St=1,cr=1,_t=1<<de;for(Ce=0,pe=1,Ee=2;pe<=de;++pe,Ee<<=1){if(St+=cr<<=1,0>(cr-=Oe[pe]))return 0;for(;0<Oe[pe];--Oe[pe])(xe=new B).g=pe,xe.value=Me[Ce++],C(ae,Re+Dt,Ee,_t,xe),Dt=M(Dt,pe)}for(pe=de+1,Ee=2;15>=pe;++pe,Ee<<=1){if(St+=cr<<=1,0>(cr-=Oe[pe]))return 0;for(;0<Oe[pe];--Oe[pe]){if(xe=new B,(Dt&at)!=ut){for(Re+=_t,Ze=1<<(ut=pe)-de;15>ut&&!(0>=(Ze-=Oe[ut]));)++ut,Ze<<=1;Ve+=_t=1<<(Ze=ut-de),ae[ie+(ut=Dt&at)].g=Ze+de,ae[ie+ut].value=Re-ie-ut}xe.g=pe-de,xe.value=Me[Ce++],C(ae,Re+(Dt>>de),Ee,_t,xe),Dt=M(Dt,pe)}}return St!=2*Ye[15]-1?0:Ve})(y,S,I,H,Q,te)}function B(){this.value=this.g=0}function X(){this.value=this.g=0}function ue(){this.G=c(5,B),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Vl,X)}function J(y,S,I,H){r(y!=null),r(S!=null),r(2147483648>H),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=S,y.pa=I,y.Jd=S,y.Yc=I+H,y.Zc=4<=H?I+H-4+1:I,ke(y)}function re(y,S){for(var I=0;0<S--;)I|=_e(y,128)<<S;return I}function oe(y,S){var I=re(y,S);return Se(y)?-I:I}function ve(y,S,I,H){var Q,te=0;for(r(y!=null),r(S!=null),r(4294967288>H),y.Sb=H,y.Ra=0,y.u=0,y.h=0,4<H&&(H=4),Q=0;Q<H;++Q)te+=S[I+Q]<<8*Q;y.Ra=te,y.bb=H,y.oa=S,y.pa=I}function Ne(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Mi-8>>>0,++y.bb,y.u-=8;K(y)&&(y.h=1,y.u=0)}function q(y,S){if(r(0<=S),!y.h&&S<=Xs){var I=V(y)&un[S];return y.u+=S,Ne(y),I}return y.h=1,y.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(y){return y.Ra>>>(y.u&Mi-1)>>>0}function K(y){return r(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Mi}function ne(y,S){y.u=S,y.h=K(y)}function ye(y){y.u>=Bi&&(r(y.u>=Bi),Ne(y))}function ke(y){r(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(r(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function Se(y){return re(y,1)}function _e(y,S){var I=y.Ca;0>y.b&&ke(y);var H=y.b,Q=I*S>>>8,te=(y.I>>>H>Q)+0;for(te?(I-=Q,y.I-=Q+1<<H>>>0):I=Q+1,H=I,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+ml[H],y.b-=H,y.Ca=(I<<H)-1,te}function Je(y,S,I){y[S+0]=I>>24&255,y[S+1]=I>>16&255,y[S+2]=I>>8&255,y[S+3]=255&I}function nt(y,S){return y[S+0]|y[S+1]<<8}function mt(y,S){return nt(y,S)|y[S+2]<<16}function ht(y,S){return nt(y,S)|nt(y,S+2)<<16}function fe(y,S){var I=1<<S;return r(y!=null),r(0<S),y.X=o(I),y.X==null?0:(y.Mb=32-S,y.Xa=S,1)}function dt(y,S){r(y!=null),r(S!=null),r(y.Xa==S.Xa),s(S.X,0,y.X,0,1<<S.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function kt(y,S,I,H){r(I!=null),r(H!=null);var Q=I[0],te=H[0];return Q==0&&(Q=(y*te+S/2)/S),te==0&&(te=(S*Q+y/2)/y),0>=Q||0>=te?0:(I[0]=Q,H[0]=te,1)}function rt(y,S){return y+(1<<S)-1>>>S}function Rt(y,S){return((4278255360&y)+(4278255360&S)>>>0&4278255360)+((16711935&y)+(16711935&S)>>>0&16711935)>>>0}function wt(y,S){z[S]=function(I,H,Q,te,ae,ie,de){var xe;for(xe=0;xe<ae;++xe){var Ee=z[y](ie[de+xe-1],Q,te+xe);ie[de+xe]=Rt(I[H+xe],Ee)}}}function qt(){this.ud=this.hd=this.jd=0}function Bt(y,S){return((4278124286&(y^S))>>>1)+(y&S)>>>0}function Vt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function mr(y,S){return Vt(y+(y-S+.5>>1))}function sr(y,S,I){return Math.abs(S-I)-Math.abs(y-I)}function br(y,S,I,H,Q,te,ae){for(H=te[ae-1],I=0;I<Q;++I)te[ae+I]=H=Rt(y[S+I],H)}function ir(y,S,I,H,Q){var te;for(te=0;te<I;++te){var ae=y[S+te],ie=ae>>8&255,de=16711935&(de=(de=16711935&ae)+((ie<<16)+ie));H[Q+te]=(4278255360&ae)+de>>>0}}function Ft(y,S){S.jd=255&y,S.hd=y>>8&255,S.ud=y>>16&255}function lr(y,S,I,H,Q,te){var ae;for(ae=0;ae<H;++ae){var ie=S[I+ae],de=ie>>>8,xe=ie,Ee=255&(Ee=(Ee=ie>>>16)+((y.jd<<24>>24)*(de<<24>>24)>>>5));xe=255&(xe=(xe+=(y.hd<<24>>24)*(de<<24>>24)>>>5)+((y.ud<<24>>24)*(Ee<<24>>24)>>>5)),Q[te+ae]=(4278255360&ie)+(Ee<<16)+xe}}function Pt(y,S,I,H,Q){z[S]=function(te,ae,ie,de,xe,Ee,Me,pe,Ce){for(de=Me;de<pe;++de)for(Me=0;Me<Ce;++Me)xe[Ee++]=Q(ie[H(te[ae++])])},z[y]=function(te,ae,ie,de,xe,Ee,Me){var pe=8>>te.b,Ce=te.Ea,Re=te.K[0],Ve=te.w;if(8>pe)for(te=(1<<te.b)-1,Ve=(1<<pe)-1;ae<ie;++ae){var Oe,Ye=0;for(Oe=0;Oe<Ce;++Oe)Oe&te||(Ye=H(de[xe++])),Ee[Me++]=Q(Re[Ye&Ve]),Ye>>=pe}else z["VP8LMapColor"+I](de,xe,Re,Ve,Ee,Me,ae,ie,Ce)}}function wa(y,S,I,H,Q){for(I=S+I;S<I;){var te=y[S++];H[Q++]=te>>16&255,H[Q++]=te>>8&255,H[Q++]=255&te}}function yr(y,S,I,H,Q){for(I=S+I;S<I;){var te=y[S++];H[Q++]=te>>16&255,H[Q++]=te>>8&255,H[Q++]=255&te,H[Q++]=te>>24&255}}function $t(y,S,I,H,Q){for(I=S+I;S<I;){var te=(ae=y[S++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;H[Q++]=te,H[Q++]=ae}}function Qt(y,S,I,H,Q){for(I=S+I;S<I;){var te=(ae=y[S++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;H[Q++]=te,H[Q++]=ae}}function Nr(y,S,I,H,Q){for(I=S+I;S<I;){var te=y[S++];H[Q++]=255&te,H[Q++]=te>>8&255,H[Q++]=te>>16&255}}function Gt(y,S,I,H,Q,te){if(te==0)for(I=S+I;S<I;)Je(H,((te=y[S++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Q+=32;else s(H,Q,y,S,I)}function Vr(y,S){z[S][0]=z[y+"0"],z[S][1]=z[y+"1"],z[S][2]=z[y+"2"],z[S][3]=z[y+"3"],z[S][4]=z[y+"4"],z[S][5]=z[y+"5"],z[S][6]=z[y+"6"],z[S][7]=z[y+"7"],z[S][8]=z[y+"8"],z[S][9]=z[y+"9"],z[S][10]=z[y+"10"],z[S][11]=z[y+"11"],z[S][12]=z[y+"12"],z[S][13]=z[y+"13"],z[S][14]=z[y+"0"],z[S][15]=z[y+"0"]}function Jt(y){return y==vd||y==p0||y==vc||y==x0}function er(){this.eb=[],this.size=this.A=this.fb=0}function Wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ur(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new Wr,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wn(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function fs(y,S){var I=y.T,H=S.ba.f.RGBA,Q=H.eb,te=H.fb+y.ka*H.A,ae=As[S.ba.S],ie=y.y,de=y.O,xe=y.f,Ee=y.N,Me=y.ea,pe=y.W,Ce=S.cc,Re=S.dc,Ve=S.Mc,Oe=S.Nc,Ye=y.ka,Ze=y.ka+y.T,ut=y.U,at=ut+1>>1;for(Ye==0?ae(ie,de,null,null,xe,Ee,Me,pe,xe,Ee,Me,pe,Q,te,null,null,ut):(ae(S.ec,S.fc,ie,de,Ce,Re,Ve,Oe,xe,Ee,Me,pe,Q,te-H.A,Q,te,ut),++I);Ye+2<Ze;Ye+=2)Ce=xe,Re=Ee,Ve=Me,Oe=pe,Ee+=y.Rc,pe+=y.Rc,te+=2*H.A,ae(ie,(de+=2*y.fa)-y.fa,ie,de,Ce,Re,Ve,Oe,xe,Ee,Me,pe,Q,te-H.A,Q,te,ut);return de+=y.fa,y.j+Ze<y.o?(s(S.ec,S.fc,ie,de,ut),s(S.cc,S.dc,xe,Ee,at),s(S.Mc,S.Nc,Me,pe,at),I--):1&Ze||ae(ie,de,null,null,xe,Ee,Me,pe,xe,Ee,Me,pe,Q,te+H.A,null,null,ut),I}function In(y,S,I){var H=y.F,Q=[y.J];if(H!=null){var te=y.U,ae=S.ba.S,ie=ae==yd||ae==vc;S=S.ba.f.RGBA;var de=[0],xe=y.ka;de[0]=y.T,y.Kb&&(xe==0?--de[0]:(--xe,Q[0]-=y.width),y.j+y.ka+y.T==y.o&&(de[0]=y.o-y.j-xe));var Ee=S.eb;xe=S.fb+xe*S.A,y=xd(H,Q[0],y.width,te,de,Ee,xe+(ie?0:3),S.A),r(I==de),y&&Jt(ae)&&Ao(Ee,xe,ie,te,de,S.A)}return 0}function cn(y){var S=y.ma,I=S.ba.S,H=11>I,Q=I==Fs||I==qn||I==yd||I==yc||I==12||Jt(I);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!xl(S.Oa,y,Q?11:12))return 0;if(Q&&Jt(I)&&ud(),y.da)alert("todo:use_scaling");else{if(H){if(S.Ib=wn,y.Kb){if(I=y.U+1>>1,S.memory=o(y.U+2*I),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+y.U,S.Mc=S.cc,S.Nc=S.dc+I,S.Ib=fs,ud()}}else alert("todo:EmitYUV");Q&&(S.Jb=In,H&&mi())}if(H&&!eo){for(y=0;256>y;++y)_s[y]=89858*(y-128)+jc>>Xn,wx[y]=-22014*(y-128)+jc,oh[y]=-45773*(y-128),v0[y]=113618*(y-128)+jc>>Xn;for(y=Do;y<Ql;++y)S=76283*(y-16)+jc>>Xn,jx[y-Do]=ja(S,255),Sx[y-Do]=ja(S+8>>4,15);eo=1}return 1}function Ht(y){var S=y.ma,I=y.U,H=y.T;return r(!(1&y.ka)),0>=I||0>=H?0:(I=S.Ib(y,S),S.Jb!=null&&S.Jb(y,S,I),S.Dc+=I,1)}function di(y){y.ma.memory=null}function Mn(y,S,I,H){return q(y,8)!=47?0:(S[0]=q(y,14)+1,I[0]=q(y,14)+1,H[0]=q(y,1),q(y,3)!=0?0:!y.h)}function Ns(y,S){if(4>y)return y+1;var I=y-2>>1;return(2+(1&y)<<I)+q(S,I)+1}function Gs(y,S){return 120<S?S-120:1<=(I=((I=$n[S-1])>>4)*y+(8-(15&I)))?I:1;var I}function da(y,S,I){var H=V(I),Q=y[S+=255&H].g-8;return 0<Q&&(ne(I,I.u+8),H=V(I),S+=y[S].value,S+=H&(1<<Q)-1),ne(I,I.u+y[S].g),y[S].value}function Da(y,S,I){return I.g+=y.g,I.value+=y.value<<S>>>0,r(8>=I.g),y.g}function ee(y,S,I){var H=y.xc;return r((S=H==0?0:y.vc[y.md*(I>>H)+(S>>H)])<y.Wb),y.Ya[S]}function me(y,S,I,H){var Q=y.ab,te=y.c*S,ae=y.C;S=ae+S;var ie=I,de=H;for(H=y.Ta,I=y.Ua;0<Q--;){var xe=y.gc[Q],Ee=ae,Me=S,pe=ie,Ce=de,Re=(de=H,ie=I,xe.Ea);switch(r(Ee<Me),r(Me<=xe.nc),xe.hc){case 2:Ba(pe,Ce,(Me-Ee)*Re,de,ie);break;case 0:var Ve=Ee,Oe=Me,Ye=de,Ze=ie,ut=(_t=xe).Ea;Ve==0&&(xc(pe,Ce,null,null,1,Ye,Ze),br(pe,Ce+1,0,0,ut-1,Ye,Ze+1),Ce+=ut,Ze+=ut,++Ve);for(var at=1<<_t.b,Dt=at-1,St=rt(ut,_t.b),cr=_t.K,_t=_t.w+(Ve>>_t.b)*St;Ve<Oe;){var kr=cr,ya=_t,hr=1;for(mc(pe,Ce,Ye,Ze-ut,1,Ye,Ze);hr<ut;){var Et=(hr&~Dt)+at;Et>ut&&(Et=ut),(0,gl[kr[ya++]>>8&15])(pe,Ce+ +hr,Ye,Ze+hr-ut,Et-hr,Ye,Ze+hr),hr=Et}Ce+=ut,Ze+=ut,++Ve&Dt||(_t+=St)}Me!=xe.nc&&s(de,ie-Re,de,ie+(Me-Ee-1)*Re,Re);break;case 1:for(Re=pe,Oe=Ce,ut=(pe=xe.Ea)-(Ze=pe&~(Ye=(Ce=1<<xe.b)-1)),Ve=rt(pe,xe.b),at=xe.K,xe=xe.w+(Ee>>xe.b)*Ve;Ee<Me;){for(Dt=at,St=xe,cr=new qt,_t=Oe+Ze,kr=Oe+pe;Oe<_t;)Ft(Dt[St++],cr),gc(cr,Re,Oe,Ce,de,ie),Oe+=Ce,ie+=Ce;Oe<kr&&(Ft(Dt[St++],cr),gc(cr,Re,Oe,ut,de,ie),Oe+=ut,ie+=ut),++Ee&Ye||(xe+=Ve)}break;case 3:if(pe==de&&Ce==ie&&0<xe.b){for(Oe=de,pe=Re=ie+(Me-Ee)*Re-(Ze=(Me-Ee)*rt(xe.Ea,xe.b)),Ce=de,Ye=ie,Ve=[],Ze=(ut=Ze)-1;0<=Ze;--Ze)Ve[Ze]=Ce[Ye+Ze];for(Ze=ut-1;0<=Ze;--Ze)Oe[pe+Ze]=Ve[Ze];c0(xe,Ee,Me,de,Re,de,ie)}else c0(xe,Ee,Me,pe,Ce,de,ie)}ie=H,de=I}de!=I&&s(H,I,ie,de,te)}function le(y,S){var I=y.V,H=y.Ba+y.c*y.C,Q=S-y.C;if(r(S<=y.l.o),r(16>=Q),0<Q){var te=y.l,ae=y.Ta,ie=y.Ua,de=te.width;if(me(y,Q,I,H),Q=ie=[ie],r((I=y.C)<(H=S)),r(te.v<te.va),H>te.o&&(H=te.o),I<te.j){var xe=te.j-I;I=te.j,Q[0]+=xe*de}if(I>=H?I=0:(Q[0]+=4*te.v,te.ka=I-te.j,te.U=te.va-te.v,te.T=H-I,I=1),I){if(ie=ie[0],11>(I=y.ca).S){var Ee=I.f.RGBA,Me=(H=I.S,Q=te.U,te=te.T,xe=Ee.eb,Ee.A),pe=te;for(Ee=Ee.fb+y.Ma*Ee.A;0<pe--;){var Ce=ae,Re=ie,Ve=Q,Oe=xe,Ye=Ee;switch(H){case f0:bc(Ce,Re,Ve,Oe,Ye);break;case Fs:bl(Ce,Re,Ve,Oe,Ye);break;case vd:bl(Ce,Re,Ve,Oe,Ye),Ao(Oe,Ye,0,Ve,1,0);break;case h0:Eo(Ce,Re,Ve,Oe,Ye);break;case qn:Gt(Ce,Re,Ve,Oe,Ye,1);break;case p0:Gt(Ce,Re,Ve,Oe,Ye,1),Ao(Oe,Ye,0,Ve,1,0);break;case yd:Gt(Ce,Re,Ve,Oe,Ye,0);break;case vc:Gt(Ce,Re,Ve,Oe,Ye,0),Ao(Oe,Ye,1,Ve,1,0);break;case yc:yl(Ce,Re,Ve,Oe,Ye);break;case x0:yl(Ce,Re,Ve,Oe,Ye),Hn(Oe,Ye,Ve,1,0);break;case Wl:Hi(Ce,Re,Ve,Oe,Ye);break;default:r(0)}ie+=de,Ee+=Me}y.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");r(y.Ma<=I.height)}}y.C=S,r(y.C<=y.i)}function ce(y){var S;if(0<y.ua)return 0;for(S=0;S<y.Wb;++S){var I=y.Ya[S].G,H=y.Ya[S].H;if(0<I[1][H[1]+0].g||0<I[2][H[2]+0].g||0<I[3][H[3]+0].g)return 0}return 1}function he(y,S,I,H,Q,te){if(y.Z!=0){var ae=y.qd,ie=y.rd;for(r(wl[y.Z]!=null);S<I;++S)wl[y.Z](ae,ie,H,Q,H,Q,te),ae=H,ie=Q,Q+=te;y.qd=ae,y.rd=ie}}function be(y,S){var I=y.l.ma,H=I.Z==0||I.Z==1?y.l.j:y.C;if(H=y.C<H?H:y.C,r(S<=y.l.o),S>H){var Q=y.l.width,te=I.ca,ae=I.tb+Q*H,ie=y.V,de=y.Ba+y.c*H,xe=y.gc;r(y.ab==1),r(xe[0].hc==3),Ui(xe[0],H,S,ie,de,te,ae),he(I,H,S,te,ae,Q)}y.C=y.Ma=S}function Fe(y,S,I,H,Q,te,ae){var ie=y.$/H,de=y.$%H,xe=y.m,Ee=y.s,Me=I+y.$,pe=Me;Q=I+H*Q;var Ce=I+H*te,Re=280+Ee.ua,Ve=y.Pb?ie:16777216,Oe=0<Ee.ua?Ee.Wa:null,Ye=Ee.wc,Ze=Me<Ce?ee(Ee,de,ie):null;r(y.C<te),r(Ce<=Q);var ut=!1;e:for(;;){for(;ut||Me<Ce;){var at=0;if(ie>=Ve){var Dt=Me-I;r((Ve=y).Pb),Ve.wd=Ve.m,Ve.xd=Dt,0<Ve.s.ua&&dt(Ve.s.Wa,Ve.s.vb),Ve=ie+Xl}if(de&Ye||(Ze=ee(Ee,de,ie)),r(Ze!=null),Ze.Qb&&(S[Me]=Ze.qb,ut=!0),!ut)if(ye(xe),Ze.jc){at=xe,Dt=S;var St=Me,cr=Ze.pd[V(at)&Vl-1];r(Ze.jc),256>cr.g?(ne(at,at.u+cr.g),Dt[St]=cr.value,at=0):(ne(at,at.u+cr.g-256),r(256<=cr.value),at=cr.value),at==0&&(ut=!0)}else at=da(Ze.G[0],Ze.H[0],xe);if(xe.h)break;if(ut||256>at){if(!ut)if(Ze.nd)S[Me]=(Ze.qb|at<<8)>>>0;else{if(ye(xe),ut=da(Ze.G[1],Ze.H[1],xe),ye(xe),Dt=da(Ze.G[2],Ze.H[2],xe),St=da(Ze.G[3],Ze.H[3],xe),xe.h)break;S[Me]=(St<<24|ut<<16|at<<8|Dt)>>>0}if(ut=!1,++Me,++de>=H&&(de=0,++ie,ae!=null&&ie<=te&&!(ie%16)&&ae(y,ie),Oe!=null))for(;pe<Me;)at=S[pe++],Oe.X[(506832829*at&4294967295)>>>Oe.Mb]=at}else if(280>at){if(at=Ns(at-256,xe),Dt=da(Ze.G[4],Ze.H[4],xe),ye(xe),Dt=Gs(H,Dt=Ns(Dt,xe)),xe.h)break;if(Me-I<Dt||Q-Me<at)break e;for(St=0;St<at;++St)S[Me+St]=S[Me+St-Dt];for(Me+=at,de+=at;de>=H;)de-=H,++ie,ae!=null&&ie<=te&&!(ie%16)&&ae(y,ie);if(r(Me<=Q),de&Ye&&(Ze=ee(Ee,de,ie)),Oe!=null)for(;pe<Me;)at=S[pe++],Oe.X[(506832829*at&4294967295)>>>Oe.Mb]=at}else{if(!(at<Re))break e;for(ut=at-280,r(Oe!=null);pe<Me;)at=S[pe++],Oe.X[(506832829*at&4294967295)>>>Oe.Mb]=at;at=Me,r(!(ut>>>(Dt=Oe).Xa)),S[at]=Dt.X[ut],ut=!0}ut||r(xe.h==K(xe))}if(y.Pb&&xe.h&&Me<Q)r(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&dt(y.s.vb,y.s.Wa);else{if(xe.h)break e;ae?.(y,ie>te?te:ie),y.a=0,y.$=Me-I}return 1}return y.a=3,0}function $e(y){r(y!=null),y.vc=null,y.yc=null,y.Ya=null;var S=y.Wa;S!=null&&(S.X=null),y.vb=null,r(y!=null)}function Pe(){var y=new nr;return y==null?null:(y.a=0,y.xb=Ru,Vr("Predictor","VP8LPredictors"),Vr("Predictor","VP8LPredictors_C"),Vr("PredictorAdd","VP8LPredictorsAdd"),Vr("PredictorAdd","VP8LPredictorsAdd_C"),Ba=ir,gc=lr,bc=wa,bl=yr,yl=$t,Hi=Qt,Eo=Nr,z.VP8LMapColor32b=zi,z.VP8LMapColor8b=Ss,y)}function Ie(y,S,I,H,Q){var te=1,ae=[y],ie=[S],de=H.m,xe=H.s,Ee=null,Me=0;e:for(;;){if(I)for(;te&&q(de,1);){var pe=ae,Ce=ie,Re=H,Ve=1,Oe=Re.m,Ye=Re.gc[Re.ab],Ze=q(Oe,2);if(Re.Oc&1<<Ze)te=0;else{switch(Re.Oc|=1<<Ze,Ye.hc=Ze,Ye.Ea=pe[0],Ye.nc=Ce[0],Ye.K=[null],++Re.ab,r(4>=Re.ab),Ze){case 0:case 1:Ye.b=q(Oe,3)+2,Ve=Ie(rt(Ye.Ea,Ye.b),rt(Ye.nc,Ye.b),0,Re,Ye.K),Ye.K=Ye.K[0];break;case 3:var ut,at=q(Oe,8)+1,Dt=16<at?0:4<at?1:2<at?2:3;if(pe[0]=rt(Ye.Ea,Dt),Ye.b=Dt,ut=Ve=Ie(at,1,0,Re,Ye.K)){var St,cr=at,_t=Ye,kr=1<<(8>>_t.b),ya=o(kr);if(ya==null)ut=0;else{var hr=_t.K[0],Et=_t.w;for(ya[0]=_t.K[0][0],St=1;St<1*cr;++St)ya[St]=Rt(hr[Et+St],ya[St-1]);for(;St<4*kr;++St)ya[St]=0;_t.K[0]=null,_t.K[0]=ya,ut=1}}Ve=ut;break;case 2:break;default:r(0)}te=Ve}}if(ae=ae[0],ie=ie[0],te&&q(de,1)&&!(te=1<=(Me=q(de,4))&&11>=Me)){H.a=3;break e}var vt;if(vt=te)t:{var Ea,Zt,gr,Jr=H,ls=ae,Cs=ie,ha=Me,Wa=I,Os=Jr.m,Xa=Jr.s,wr=[null],Mr=1,ka=0,qr=Yn[ha];r:for(;;){if(Wa&&q(Os,1)){var os=q(Os,3)+2,Aa=rt(ls,os),Br=rt(Cs,os),Ha=Aa*Br;if(!Ie(Aa,Br,0,Jr,wr))break r;for(wr=wr[0],Xa.xc=os,Ea=0;Ea<Ha;++Ea){var Kr=wr[Ea]>>8&65535;wr[Ea]=Kr,Kr>=Mr&&(Mr=Kr+1)}}if(Os.h)break r;for(Zt=0;5>Zt;++Zt){var Ja=Co[Zt];!Zt&&0<ha&&(Ja+=1<<ha),ka<Ja&&(ka=Ja)}var Ka=c(Mr*qr,B),ra=Mr,Ir=c(ra,ue);if(Ir==null)var Ps=null;else r(65536>=ra),Ps=Ir;var Ra=o(ka);if(Ps==null||Ra==null||Ka==null){Jr.a=1;break r}var Yt=Ka;for(Ea=gr=0;Ea<Mr;++Ea){var Wt=Ps[Ea],zr=Wt.G,fn=Wt.H,Jn=0,Ks=1,Za=0;for(Zt=0;5>Zt;++Zt){Ja=Co[Zt],zr[Zt]=Yt,fn[Zt]=gr,!Zt&&0<ha&&(Ja+=1<<ha);s:{var to,ro=Ja,w0=Jr,pa=Ra,Ou=Yt,Pu=gr,j0=0,jl=w0.m,Ex=q(jl,1);if(i(pa,0,0,ro),Ex){var Iu=q(jl,1)+1,Mu=q(jl,1),S0=q(jl,Mu==0?1:8);pa[S0]=1,Iu==2&&(pa[S0=q(jl,8)]=1);var xs=1}else{var Fa=o(19),Sd=q(jl,4)+4;if(19<Sd){w0.a=3;var ao=0;break s}for(to=0;to<Sd;++to)Fa[Nd[to]]=q(jl,3);var Ec=void 0,Lo=void 0,$i=w0,E0=Fa,kc=ro,k0=pa,A0=0,Sl=$i.m,Bu=8,zu=c(128,B);a:for(;U(zu,0,7,E0,19);){if(q(Sl,1)){var ch=2+2*q(Sl,3);if((Ec=2+q(Sl,ch))>kc)break a}else Ec=kc;for(Lo=0;Lo<kc&&Ec--;){ye(Sl);var Uu=zu[0+(127&V(Sl))];ne(Sl,Sl.u+Uu.g);var so=Uu.value;if(16>so)k0[Lo++]=so,so!=0&&(Bu=so);else{var dh=so==16,uh=so-16,fh=Nc[uh],Hu=q(Sl,Gn[uh])+fh;if(Lo+Hu>kc)break a;for(var hh=dh?Bu:0;0<Hu--;)k0[Lo++]=hh}}A0=1;break a}A0||($i.a=3),xs=A0}(xs=xs&&!jl.h)&&(j0=U(Ou,Pu,8,pa,ro)),xs&&j0!=0?ao=j0:(w0.a=3,ao=0)}if(ao==0)break r;if(Ks&&m0[Zt]==1&&(Ks=Yt[gr].g==0),Jn+=Yt[gr].g,gr+=ao,3>=Zt){var Ro,_0=Ra[0];for(Ro=1;Ro<Ja;++Ro)Ra[Ro]>_0&&(_0=Ra[Ro]);Za+=_0}}if(Wt.nd=Ks,Wt.Qb=0,Ks&&(Wt.qb=(zr[3][fn[3]+0].value<<24|zr[1][fn[1]+0].value<<16|zr[2][fn[2]+0].value)>>>0,Jn==0&&256>zr[0][fn[0]+0].value&&(Wt.Qb=1,Wt.qb+=zr[0][fn[0]+0].value<<8)),Wt.jc=!Wt.Qb&&6>Za,Wt.jc){var Ed,Yi=Wt;for(Ed=0;Ed<Vl;++Ed){var El=Ed,kl=Yi.pd[El],C0=Yi.G[0][Yi.H[0]+El];256<=C0.value?(kl.g=C0.g+256,kl.value=C0.value):(kl.g=0,kl.value=0,El>>=Da(C0,8,kl),El>>=Da(Yi.G[1][Yi.H[1]+El],16,kl),El>>=Da(Yi.G[2][Yi.H[2]+El],0,kl),Da(Yi.G[3][Yi.H[3]+El],24,kl))}}}Xa.vc=wr,Xa.Wb=Mr,Xa.Ya=Ps,Xa.yc=Ka,vt=1;break t}vt=0}if(!(te=vt)){H.a=3;break e}if(0<Me){if(xe.ua=1<<Me,!fe(xe.Wa,Me)){H.a=1,te=0;break e}}else xe.ua=0;var T0=H,Fo=ae,ph=ie,Ac=T0.s,_c=Ac.xc;if(T0.c=Fo,T0.i=ph,Ac.md=rt(Fo,_c),Ac.wc=_c==0?-1:(1<<_c)-1,I){H.xb=Jl;break e}if((Ee=o(ae*ie))==null){H.a=1,te=0;break e}te=(te=Fe(H,Ee,0,ae,ie,ie,null))&&!de.h;break e}return te?(Q!=null?Q[0]=Ee:(r(Ee==null),r(I)),H.$=0,I||$e(xe)):$e(xe),te}function Be(y,S){var I=y.c*y.i,H=I+S+16*S;return r(y.c<=S),y.V=o(H),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+I+S,1)}function ct(y,S){var I=y.C,H=S-I,Q=y.V,te=y.Ba+y.c*I;for(r(S<=y.l.o);0<H;){var ae=16<H?16:H,ie=y.l.ma,de=y.l.width,xe=de*ae,Ee=ie.ca,Me=ie.tb+de*I,pe=y.Ta,Ce=y.Ua;me(y,ae,Q,te),_n(pe,Ce,Ee,Me,xe),he(ie,I,I+ae,Ee,Me,de),H-=ae,Q+=ae*y.c,I+=ae}r(I==S),y.C=y.Ma=S}function xt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function bt(){this.Yb=(function(){var y=[];return(function S(I,H,Q){for(var te=Q[H],ae=0;ae<te&&(I.push(Q.length>H+1?[]:0),!(Q.length<H+1));ae++)S(I[ae],H+1,Q)})(y,0,[3,11]),y})()}function At(){this.jb=o(3),this.Wc=d([4,8],bt),this.Xc=d([4,17],bt)}function Xr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Sr(){this.ld=this.La=this.dd=this.tc=0}function ta(){this.Na=this.la=0}function $s(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ui(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fi(){this.uc=this.M=this.Nb=0,this.wa=Array(new Sr),this.Y=0,this.ya=Array(new ui),this.aa=0,this.l=new al}function jn(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Hl(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new xt,this.Kc=new Nt,this.ed=new Xr,this.Qa=new ft,this.Ic=this.$c=this.Aa=0,this.D=new fi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,L),this.ia=0,this.pb=c(4,$s),this.Pa=new At,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jn),this.Hd=0,this.rb=Array(new ta),this.sb=0,this.wa=Array(new Sr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ui),this.L=this.aa=0,this.gd=d([4,2],Sr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ja(y,S){return 0>y?0:y>S?S:y}function al(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hi(){var y=new Hl;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Cn||(Cn=ql)),y}function Ur(y,S,I){return y.a==0&&(y.a=S,y.sc=I,y.cb=0),0}function td(y,S,I){return 3<=I&&y[S+0]==157&&y[S+1]==1&&y[S+2]==42}function Ri(y,S){if(y==null)return 0;if(y.a=0,y.sc="OK",S==null)return Ur(y,2,"null VP8Io passed to VP8GetHeaders()");var I=S.data,H=S.w,Q=S.ha;if(4>Q)return Ur(y,7,"Truncated header.");var te=I[H+0]|I[H+1]<<8|I[H+2]<<16,ae=y.Od;if(ae.Rb=!(1&te),ae.td=te>>1&7,ae.yd=te>>4&1,ae.ub=te>>5,3<ae.td)return Ur(y,3,"Incorrect keyframe parameters.");if(!ae.yd)return Ur(y,4,"Frame not displayable.");H+=3,Q-=3;var ie=y.Kc;if(ae.Rb){if(7>Q)return Ur(y,7,"cannot parse picture header");if(!td(I,H,Q))return Ur(y,3,"Bad code word");ie.c=16383&(I[H+4]<<8|I[H+3]),ie.Td=I[H+4]>>6,ie.i=16383&(I[H+6]<<8|I[H+5]),ie.Ud=I[H+6]>>6,H+=7,Q-=7,y.za=ie.c+15>>4,y.Ub=ie.i+15>>4,S.width=ie.c,S.height=ie.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((te=y.Pa).jb,0,255,te.jb.length),r((te=y.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(ae.ub>Q)return Ur(y,7,"bad partition length");J(te=y.m,I,H,ae.ub),H+=ae.ub,Q-=ae.ub,ae.Rb&&(ie.Ld=Se(te),ie.Kd=Se(te)),ie=y.Qa;var de,xe=y.Pa;if(r(te!=null),r(ie!=null),ie.Cb=Se(te),ie.Cb){if(ie.Bb=Se(te),Se(te)){for(ie.Fb=Se(te),de=0;4>de;++de)ie.Zb[de]=Se(te)?oe(te,7):0;for(de=0;4>de;++de)ie.Lb[de]=Se(te)?oe(te,6):0}if(ie.Bb)for(de=0;3>de;++de)xe.jb[de]=Se(te)?re(te,8):255}else ie.Bb=0;if(te.Ka)return Ur(y,3,"cannot parse segment header");if((ie=y.ed).zd=Se(te),ie.Tb=re(te,6),ie.wb=re(te,3),ie.Pc=Se(te),ie.Pc&&Se(te)){for(xe=0;4>xe;++xe)Se(te)&&(ie.vd[xe]=oe(te,6));for(xe=0;4>xe;++xe)Se(te)&&(ie.od[xe]=oe(te,6))}if(y.L=ie.Tb==0?0:ie.zd?1:2,te.Ka)return Ur(y,3,"cannot parse filter header");var Ee=Q;if(Q=de=H,H=de+Ee,ie=Ee,y.Xb=(1<<re(y.m,2))-1,Ee<3*(xe=y.Xb))I=7;else{for(de+=3*xe,ie-=3*xe,Ee=0;Ee<xe;++Ee){var Me=I[Q+0]|I[Q+1]<<8|I[Q+2]<<16;Me>ie&&(Me=ie),J(y.Jc[+Ee],I,de,Me),de+=Me,ie-=Me,Q+=3}J(y.Jc[+xe],I,de,ie),I=de<H?0:5}if(I!=0)return Ur(y,I,"cannot parse partitions");for(I=re(de=y.m,7),Q=Se(de)?oe(de,4):0,H=Se(de)?oe(de,4):0,ie=Se(de)?oe(de,4):0,xe=Se(de)?oe(de,4):0,de=Se(de)?oe(de,4):0,Ee=y.Qa,Me=0;4>Me;++Me){if(Ee.Cb){var pe=Ee.Zb[Me];Ee.Fb||(pe+=I)}else{if(0<Me){y.pb[Me]=y.pb[0];continue}pe=I}var Ce=y.pb[Me];Ce.Sc[0]=Vn[ja(pe+Q,127)],Ce.Sc[1]=Wn[ja(pe+0,127)],Ce.Eb[0]=2*Vn[ja(pe+H,127)],Ce.Eb[1]=101581*Wn[ja(pe+ie,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=Vn[ja(pe+xe,117)],Ce.Qc[1]=Wn[ja(pe+de,127)],Ce.lc=pe+de}if(!ae.Rb)return Ur(y,4,"Not a key frame.");for(Se(te),ae=y.Pa,I=0;4>I;++I){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(ie=0;11>ie;++ie)xe=_e(te,ba[I][Q][H][ie])?re(te,8):lh[I][Q][H][ie],ae.Wc[I][Q].Yb[H][ie]=xe;for(Q=0;17>Q;++Q)ae.Xc[I][Q]=ae.Wc[I][Tr[Q]]}return y.kc=Se(te),y.kc&&(y.Bd=re(te,8)),y.cb=1}function ql(y,S,I,H,Q,te,ae){var ie=S[Q].Yb[I];for(I=0;16>Q;++Q){if(!_e(y,ie[I+0]))return Q;for(;!_e(y,ie[I+1]);)if(ie=S[++Q].Yb[0],I=0,Q==16)return 16;var de=S[Q+1].Yb;if(_e(y,ie[I+2])){var xe=y,Ee=0;if(_e(xe,(pe=ie)[(Me=I)+3]))if(_e(xe,pe[Me+6])){for(ie=0,Me=2*(Ee=_e(xe,pe[Me+8]))+(pe=_e(xe,pe[Me+9+Ee])),Ee=0,pe=ih[Me];pe[ie];++ie)Ee+=Ee+_e(xe,pe[ie]);Ee+=3+(8<<Me)}else _e(xe,pe[Me+7])?(Ee=7+2*_e(xe,165),Ee+=_e(xe,145)):Ee=5+_e(xe,159);else Ee=_e(xe,pe[Me+4])?3+_e(xe,pe[Me+5]):2;ie=de[2]}else Ee=1,ie=de[1];de=ae+Lu[Q],0>(xe=y).b&&ke(xe);var Me,pe=xe.b,Ce=(Me=xe.Ca>>1)-(xe.I>>pe)>>31;--xe.b,xe.Ca+=Ce,xe.Ca|=1,xe.I-=(Me+1&Ce)<<pe,te[de]=((Ee^Ce)-Ce)*H[(0<Q)+0]}return 16}function rd(y){var S=y.rb[y.sb-1];S.la=0,S.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function Ys(y,S,I,H,Q){Q=y[S+I+32*H]+(Q>>3),y[S+I+32*H]=-256&Q?0>Q?0:255:Q}function ns(y,S,I,H,Q,te){Ys(y,S,0,I,H+Q),Ys(y,S,1,I,H+te),Ys(y,S,2,I,H-te),Ys(y,S,3,I,H-Q)}function Ya(y){return(20091*y>>16)+y}function oc(y,S,I,H){var Q,te=0,ae=o(16);for(Q=0;4>Q;++Q){var ie=y[S+0]+y[S+8],de=y[S+0]-y[S+8],xe=(35468*y[S+4]>>16)-Ya(y[S+12]),Ee=Ya(y[S+4])+(35468*y[S+12]>>16);ae[te+0]=ie+Ee,ae[te+1]=de+xe,ae[te+2]=de-xe,ae[te+3]=ie-Ee,te+=4,S++}for(Q=te=0;4>Q;++Q)ie=(y=ae[te+0]+4)+ae[te+8],de=y-ae[te+8],xe=(35468*ae[te+4]>>16)-Ya(ae[te+12]),Ys(I,H,0,0,ie+(Ee=Ya(ae[te+4])+(35468*ae[te+12]>>16))),Ys(I,H,1,0,de+xe),Ys(I,H,2,0,de-xe),Ys(I,H,3,0,ie-Ee),te++,H+=32}function e0(y,S,I,H){var Q=y[S+0]+4,te=35468*y[S+4]>>16,ae=Ya(y[S+4]),ie=35468*y[S+1]>>16;ns(I,H,0,Q+ae,y=Ya(y[S+1]),ie),ns(I,H,1,Q+te,y,ie),ns(I,H,2,Q-te,y,ie),ns(I,H,3,Q-ae,y,ie)}function ad(y,S,I,H,Q){oc(y,S,I,H),Q&&oc(y,S+16,I,H+4)}function Vs(y,S,I,H){vl(y,S+0,I,H,1),vl(y,S+32,I,H+128,1)}function sd(y,S,I,H){var Q;for(y=y[S+0]+4,Q=0;4>Q;++Q)for(S=0;4>S;++S)Ys(I,H,S,Q,y)}function nd(y,S,I,H){y[S+0]&&Hr(y,S+0,I,H),y[S+16]&&Hr(y,S+16,I,H+4),y[S+32]&&Hr(y,S+32,I,H+128),y[S+48]&&Hr(y,S+48,I,H+128+4)}function pi(y,S,I,H){var Q,te=o(16);for(Q=0;4>Q;++Q){var ae=y[S+0+Q]+y[S+12+Q],ie=y[S+4+Q]+y[S+8+Q],de=y[S+4+Q]-y[S+8+Q],xe=y[S+0+Q]-y[S+12+Q];te[0+Q]=ae+ie,te[8+Q]=ae-ie,te[4+Q]=xe+de,te[12+Q]=xe-de}for(Q=0;4>Q;++Q)ae=(y=te[0+4*Q]+3)+te[3+4*Q],ie=te[1+4*Q]+te[2+4*Q],de=te[1+4*Q]-te[2+4*Q],xe=y-te[3+4*Q],I[H+0]=ae+ie>>3,I[H+16]=xe+de>>3,I[H+32]=ae-ie>>3,I[H+48]=xe-de>>3,H+=64}function bo(y,S,I){var H,Q=S-32,te=Rs,ae=255-y[Q-1];for(H=0;H<I;++H){var ie,de=te,xe=ae+y[S-1];for(ie=0;ie<I;++ie)y[S+ie]=de[xe+y[Q+ie]];S+=32}}function t0(y,S){bo(y,S,4)}function r0(y,S){bo(y,S,8)}function id(y,S){bo(y,S,16)}function ld(y,S){var I;for(I=0;16>I;++I)s(y,S+32*I,y,S-32,16)}function a0(y,S){var I;for(I=16;0<I;--I)i(y,S,y[S-1],16),S+=32}function dn(y,S,I){var H;for(H=0;16>H;++H)i(S,I+32*H,y,16)}function xi(y,S){var I,H=16;for(I=0;16>I;++I)H+=y[S-1+32*I]+y[S+I-32];dn(H>>5,y,S)}function sl(y,S){var I,H=8;for(I=0;16>I;++I)H+=y[S-1+32*I];dn(H>>4,y,S)}function yo(y,S){var I,H=8;for(I=0;16>I;++I)H+=y[S+I-32];dn(H>>4,y,S)}function Gl(y,S){dn(128,y,S)}function Kt(y,S,I){return y+2*S+I+2>>2}function s0(y,S){var I,H=S-32;for(H=new Uint8Array([Kt(y[H-1],y[H+0],y[H+1]),Kt(y[H+0],y[H+1],y[H+2]),Kt(y[H+1],y[H+2],y[H+3]),Kt(y[H+2],y[H+3],y[H+4])]),I=0;4>I;++I)s(y,S+32*I,H,0,H.length)}function od(y,S){var I=y[S-1],H=y[S-1+32],Q=y[S-1+64],te=y[S-1+96];Je(y,S+0,16843009*Kt(y[S-1-32],I,H)),Je(y,S+32,16843009*Kt(I,H,Q)),Je(y,S+64,16843009*Kt(H,Q,te)),Je(y,S+96,16843009*Kt(Q,te,te))}function n0(y,S){var I,H=4;for(I=0;4>I;++I)H+=y[S+I-32]+y[S-1+32*I];for(H>>=3,I=0;4>I;++I)i(y,S+32*I,H,4)}function Sn(y,S){var I=y[S-1+0],H=y[S-1+32],Q=y[S-1+64],te=y[S-1-32],ae=y[S+0-32],ie=y[S+1-32],de=y[S+2-32],xe=y[S+3-32];y[S+0+96]=Kt(H,Q,y[S-1+96]),y[S+1+96]=y[S+0+64]=Kt(I,H,Q),y[S+2+96]=y[S+1+64]=y[S+0+32]=Kt(te,I,H),y[S+3+96]=y[S+2+64]=y[S+1+32]=y[S+0+0]=Kt(ae,te,I),y[S+3+64]=y[S+2+32]=y[S+1+0]=Kt(ie,ae,te),y[S+3+32]=y[S+2+0]=Kt(de,ie,ae),y[S+3+0]=Kt(xe,de,ie)}function ws(y,S){var I=y[S+1-32],H=y[S+2-32],Q=y[S+3-32],te=y[S+4-32],ae=y[S+5-32],ie=y[S+6-32],de=y[S+7-32];y[S+0+0]=Kt(y[S+0-32],I,H),y[S+1+0]=y[S+0+32]=Kt(I,H,Q),y[S+2+0]=y[S+1+32]=y[S+0+64]=Kt(H,Q,te),y[S+3+0]=y[S+2+32]=y[S+1+64]=y[S+0+96]=Kt(Q,te,ae),y[S+3+32]=y[S+2+64]=y[S+1+96]=Kt(te,ae,ie),y[S+3+64]=y[S+2+96]=Kt(ae,ie,de),y[S+3+96]=Kt(ie,de,de)}function cd(y,S){var I=y[S-1+0],H=y[S-1+32],Q=y[S-1+64],te=y[S-1-32],ae=y[S+0-32],ie=y[S+1-32],de=y[S+2-32],xe=y[S+3-32];y[S+0+0]=y[S+1+64]=te+ae+1>>1,y[S+1+0]=y[S+2+64]=ae+ie+1>>1,y[S+2+0]=y[S+3+64]=ie+de+1>>1,y[S+3+0]=de+xe+1>>1,y[S+0+96]=Kt(Q,H,I),y[S+0+64]=Kt(H,I,te),y[S+0+32]=y[S+1+96]=Kt(I,te,ae),y[S+1+32]=y[S+2+96]=Kt(te,ae,ie),y[S+2+32]=y[S+3+96]=Kt(ae,ie,de),y[S+3+32]=Kt(ie,de,xe)}function vo(y,S){var I=y[S+0-32],H=y[S+1-32],Q=y[S+2-32],te=y[S+3-32],ae=y[S+4-32],ie=y[S+5-32],de=y[S+6-32],xe=y[S+7-32];y[S+0+0]=I+H+1>>1,y[S+1+0]=y[S+0+64]=H+Q+1>>1,y[S+2+0]=y[S+1+64]=Q+te+1>>1,y[S+3+0]=y[S+2+64]=te+ae+1>>1,y[S+0+32]=Kt(I,H,Q),y[S+1+32]=y[S+0+96]=Kt(H,Q,te),y[S+2+32]=y[S+1+96]=Kt(Q,te,ae),y[S+3+32]=y[S+2+96]=Kt(te,ae,ie),y[S+3+64]=Kt(ae,ie,de),y[S+3+96]=Kt(ie,de,xe)}function En(y,S){var I=y[S-1+0],H=y[S-1+32],Q=y[S-1+64],te=y[S-1+96];y[S+0+0]=I+H+1>>1,y[S+2+0]=y[S+0+32]=H+Q+1>>1,y[S+2+32]=y[S+0+64]=Q+te+1>>1,y[S+1+0]=Kt(I,H,Q),y[S+3+0]=y[S+1+32]=Kt(H,Q,te),y[S+3+32]=y[S+1+64]=Kt(Q,te,te),y[S+3+64]=y[S+2+64]=y[S+0+96]=y[S+1+96]=y[S+2+96]=y[S+3+96]=te}function No(y,S){var I=y[S-1+0],H=y[S-1+32],Q=y[S-1+64],te=y[S-1+96],ae=y[S-1-32],ie=y[S+0-32],de=y[S+1-32],xe=y[S+2-32];y[S+0+0]=y[S+2+32]=I+ae+1>>1,y[S+0+32]=y[S+2+64]=H+I+1>>1,y[S+0+64]=y[S+2+96]=Q+H+1>>1,y[S+0+96]=te+Q+1>>1,y[S+3+0]=Kt(ie,de,xe),y[S+2+0]=Kt(ae,ie,de),y[S+1+0]=y[S+3+32]=Kt(I,ae,ie),y[S+1+32]=y[S+3+64]=Kt(H,I,ae),y[S+1+64]=y[S+3+96]=Kt(Q,H,I),y[S+1+96]=Kt(te,Q,H)}function Fi(y,S){var I;for(I=0;8>I;++I)s(y,S+32*I,y,S-32,8)}function i0(y,S){var I;for(I=0;8>I;++I)i(y,S,y[S-1],8),S+=32}function Bn(y,S,I){var H;for(H=0;8>H;++H)i(S,I+32*H,y,8)}function cc(y,S){var I,H=8;for(I=0;8>I;++I)H+=y[S+I-32]+y[S-1+32*I];Bn(H>>4,y,S)}function dc(y,S){var I,H=4;for(I=0;8>I;++I)H+=y[S+I-32];Bn(H>>3,y,S)}function hs(y,S){var I,H=4;for(I=0;8>I;++I)H+=y[S-1+32*I];Bn(H>>3,y,S)}function Oi(y,S){Bn(128,y,S)}function zn(y,S,I){var H=y[S-I],Q=y[S+0],te=3*(Q-H)+Nl[1020+y[S-2*I]-y[S+I]],ae=bd[112+(te+4>>3)];y[S-I]=Rs[255+H+bd[112+(te+3>>3)]],y[S+0]=Rs[255+Q-ae]}function nl(y,S,I,H){var Q=y[S+0],te=y[S+I];return Es[255+y[S-2*I]-y[S-I]]>H||Es[255+te-Q]>H}function uc(y,S,I,H){return 4*Es[255+y[S-I]-y[S+0]]+Es[255+y[S-2*I]-y[S+I]]<=H}function wo(y,S,I,H,Q){var te=y[S-3*I],ae=y[S-2*I],ie=y[S-I],de=y[S+0],xe=y[S+I],Ee=y[S+2*I],Me=y[S+3*I];return 4*Es[255+ie-de]+Es[255+ae-xe]>H?0:Es[255+y[S-4*I]-te]<=Q&&Es[255+te-ae]<=Q&&Es[255+ae-ie]<=Q&&Es[255+Me-Ee]<=Q&&Es[255+Ee-xe]<=Q&&Es[255+xe-de]<=Q}function il(y,S,I,H){var Q=2*H+1;for(H=0;16>H;++H)uc(y,S+H,I,Q)&&zn(y,S+H,I)}function ll(y,S,I,H){var Q=2*H+1;for(H=0;16>H;++H)uc(y,S+H*I,1,Q)&&zn(y,S+H*I,1)}function jo(y,S,I,H){var Q;for(Q=3;0<Q;--Q)il(y,S+=4*I,I,H)}function dd(y,S,I,H){var Q;for(Q=3;0<Q;--Q)ll(y,S+=4,I,H)}function ol(y,S,I,H,Q,te,ae,ie){for(te=2*te+1;0<Q--;){if(wo(y,S,I,te,ae))if(nl(y,S,I,ie))zn(y,S,I);else{var de=y,xe=S,Ee=I,Me=de[xe-2*Ee],pe=de[xe-Ee],Ce=de[xe+0],Re=de[xe+Ee],Ve=de[xe+2*Ee],Oe=27*(Ze=Nl[1020+3*(Ce-pe)+Nl[1020+Me-Re]])+63>>7,Ye=18*Ze+63>>7,Ze=9*Ze+63>>7;de[xe-3*Ee]=Rs[255+de[xe-3*Ee]+Ze],de[xe-2*Ee]=Rs[255+Me+Ye],de[xe-Ee]=Rs[255+pe+Oe],de[xe+0]=Rs[255+Ce-Oe],de[xe+Ee]=Rs[255+Re-Ye],de[xe+2*Ee]=Rs[255+Ve-Ze]}S+=H}}function cl(y,S,I,H,Q,te,ae,ie){for(te=2*te+1;0<Q--;){if(wo(y,S,I,te,ae))if(nl(y,S,I,ie))zn(y,S,I);else{var de=y,xe=S,Ee=I,Me=de[xe-Ee],pe=de[xe+0],Ce=de[xe+Ee],Re=bd[112+(4+(Ve=3*(pe-Me))>>3)],Ve=bd[112+(Ve+3>>3)],Oe=Re+1>>1;de[xe-2*Ee]=Rs[255+de[xe-2*Ee]+Oe],de[xe-Ee]=Rs[255+Me+Ve],de[xe+0]=Rs[255+pe-Re],de[xe+Ee]=Rs[255+Ce-Oe]}S+=H}}function l0(y,S,I,H,Q,te){ol(y,S,I,1,16,H,Q,te)}function dl(y,S,I,H,Q,te){ol(y,S,1,I,16,H,Q,te)}function o0(y,S,I,H,Q,te){var ae;for(ae=3;0<ae;--ae)cl(y,S+=4*I,I,1,16,H,Q,te)}function D(y,S,I,H,Q,te){var ae;for(ae=3;0<ae;--ae)cl(y,S+=4,1,I,16,H,Q,te)}function Z(y,S,I,H,Q,te,ae,ie){ol(y,S,Q,1,8,te,ae,ie),ol(I,H,Q,1,8,te,ae,ie)}function ge(y,S,I,H,Q,te,ae,ie){ol(y,S,1,Q,8,te,ae,ie),ol(I,H,1,Q,8,te,ae,ie)}function je(y,S,I,H,Q,te,ae,ie){cl(y,S+4*Q,Q,1,8,te,ae,ie),cl(I,H+4*Q,Q,1,8,te,ae,ie)}function De(y,S,I,H,Q,te,ae,ie){cl(y,S+4,1,Q,8,te,ae,ie),cl(I,H+4,1,Q,8,te,ae,ie)}function Ke(){this.ba=new ur,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function It(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new B}function nr(){this.xb=this.a=0,this.l=new al,this.ca=new ur,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new It,this.ab=0,this.gc=c(4,Ct),this.Oc=0}function fr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new al,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Or(y,S,I,H,Q,te,ae){for(y=y==null?0:y[S+0],S=0;S<ae;++S)Q[te+S]=y+I[H+S]&255,y=Q[te+S]}function Sa(y,S,I,H,Q,te,ae){var ie;if(y==null)Or(null,null,I,H,Q,te,ae);else for(ie=0;ie<ae;++ie)Q[te+ie]=y[S+ie]+I[H+ie]&255}function Ma(y,S,I,H,Q,te,ae){if(y==null)Or(null,null,I,H,Q,te,ae);else{var ie,de=y[S+0],xe=de,Ee=de;for(ie=0;ie<ae;++ie)xe=Ee+(de=y[S+ie])-xe,Ee=I[H+ie]+(-256&xe?0>xe?0:255:xe)&255,xe=de,Q[te+ie]=Ee}}function ua(y,S,I,H){var Q=S.width,te=S.o;if(r(y!=null&&S!=null),0>I||0>=H||I+H>te)return null;if(!y.Cc){if(y.ga==null){var ae;if(y.ga=new fr,(ae=y.ga==null)||(ae=S.width*S.o,r(y.Gb.length==0),y.Gb=o(ae),y.Uc=0,y.Gb==null?ae=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ae=1),ae=!ae),!ae){ae=y.ga;var ie=y.Fa,de=y.P,xe=y.qc,Ee=y.mb,Me=y.nb,pe=de+1,Ce=xe-1,Re=ae.l;if(r(ie!=null&&Ee!=null&&S!=null),wl[0]=null,wl[1]=Or,wl[2]=Sa,wl[3]=Ma,ae.ca=Ee,ae.tb=Me,ae.c=S.width,ae.i=S.height,r(0<ae.c&&0<ae.i),1>=xe)S=0;else if(ae.$a=3&ie[de+0],ae.Z=ie[de+0]>>2&3,ae.Lc=ie[de+0]>>4&3,de=ie[de+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||de)S=0;else if(Re.put=Ht,Re.ac=cn,Re.bc=di,Re.ma=ae,Re.width=S.width,Re.height=S.height,Re.Da=S.Da,Re.v=S.v,Re.va=S.va,Re.j=S.j,Re.o=S.o,ae.$a)e:{r(ae.$a==1),S=Pe();t:for(;;){if(S==null){S=0;break e}if(r(ae!=null),ae.mc=S,S.c=ae.c,S.i=ae.i,S.l=ae.l,S.l.ma=ae,S.l.width=ae.c,S.l.height=ae.i,S.a=0,ve(S.m,ie,pe,Ce),!Ie(ae.c,ae.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ce(S.s)?(ae.ic=1,ie=S.c*S.i,S.Ta=null,S.Ua=0,S.V=o(ie),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ae.ic=0,S=Be(S,ae.c)),!S))break t;S=1;break e}ae.mc=null,S=0}else S=Ce>=ae.c*ae.i;ae=!S}if(ae)return null;y.ga.Lc!=1?y.Ga=0:H=te-I}r(y.ga!=null),r(I+H<=te);e:{if(S=(ie=y.ga).c,te=ie.l.o,ie.$a==0){if(pe=y.rc,Ce=y.Vc,Re=y.Fa,de=y.P+1+I*S,xe=y.mb,Ee=y.nb+I*S,r(de<=y.P+y.qc),ie.Z!=0)for(r(wl[ie.Z]!=null),ae=0;ae<H;++ae)wl[ie.Z](pe,Ce,Re,de,xe,Ee,S),pe=xe,Ce=Ee,Ee+=S,de+=S;else for(ae=0;ae<H;++ae)s(xe,Ee,Re,de,S),pe=xe,Ce=Ee,Ee+=S,de+=S;y.rc=pe,y.Vc=Ce}else{if(r(ie.mc!=null),S=I+H,r((ae=ie.mc)!=null),r(S<=ae.i),ae.C>=S)S=1;else if(ie.ic||mi(),ie.ic){ie=ae.V,pe=ae.Ba,Ce=ae.c;var Ve=ae.i,Oe=(Re=1,de=ae.$/Ce,xe=ae.$%Ce,Ee=ae.m,Me=ae.s,ae.$),Ye=Ce*Ve,Ze=Ce*S,ut=Me.wc,at=Oe<Ze?ee(Me,xe,de):null;r(Oe<=Ye),r(S<=Ve),r(ce(Me));t:for(;;){for(;!Ee.h&&Oe<Ze;){if(xe&ut||(at=ee(Me,xe,de)),r(at!=null),ye(Ee),256>(Ve=da(at.G[0],at.H[0],Ee)))ie[pe+Oe]=Ve,++Oe,++xe>=Ce&&(xe=0,++de<=S&&!(de%16)&&be(ae,de));else{if(!(280>Ve)){Re=0;break t}Ve=Ns(Ve-256,Ee);var Dt,St=da(at.G[4],at.H[4],Ee);if(ye(Ee),!(Oe>=(St=Gs(Ce,St=Ns(St,Ee)))&&Ye-Oe>=Ve)){Re=0;break t}for(Dt=0;Dt<Ve;++Dt)ie[pe+Oe+Dt]=ie[pe+Oe+Dt-St];for(Oe+=Ve,xe+=Ve;xe>=Ce;)xe-=Ce,++de<=S&&!(de%16)&&be(ae,de);Oe<Ze&&xe&ut&&(at=ee(Me,xe,de))}r(Ee.h==K(Ee))}be(ae,de>S?S:de);break t}!Re||Ee.h&&Oe<Ye?(Re=0,ae.a=Ee.h?5:3):ae.$=Oe,S=Re}else S=Fe(ae,ae.V,ae.Ba,ae.c,ae.i,S,ct);if(!S){H=0;break e}}I+H>=te&&(y.Cc=1),H=1}if(!H)return null;if(y.Cc&&((H=y.ga)!=null&&(H.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+I*Q}function is(y,S,I,H,Q,te){for(;0<Q--;){var ae,ie=y,de=S+(I?1:0),xe=y,Ee=S+(I?0:3);for(ae=0;ae<H;++ae){var Me=xe[Ee+4*ae];Me!=255&&(Me*=32897,ie[de+4*ae+0]=ie[de+4*ae+0]*Me>>23,ie[de+4*ae+1]=ie[de+4*ae+1]*Me>>23,ie[de+4*ae+2]=ie[de+4*ae+2]*Me>>23)}S+=te}}function Va(y,S,I,H,Q){for(;0<H--;){var te;for(te=0;te<I;++te){var ae=y[S+2*te+0],ie=15&(xe=y[S+2*te+1]),de=4369*ie,xe=(240&xe|xe>>4)*de>>16;y[S+2*te+0]=(240&ae|ae>>4)*de>>16&240|(15&ae|ae<<4)*de>>16>>4&15,y[S+2*te+1]=240&xe|ie}S+=Q}}function js(y,S,I,H,Q,te,ae,ie){var de,xe,Ee=255;for(xe=0;xe<Q;++xe){for(de=0;de<H;++de){var Me=y[S+de];te[ae+4*de]=Me,Ee&=Me}S+=I,ae+=ie}return Ee!=255}function ul(y,S,I,H,Q){var te;for(te=0;te<Q;++te)I[H+te]=y[S+te]>>8}function mi(){Ao=is,Hn=Va,xd=js,_n=ul}function fl(y,S,I){z[y]=function(H,Q,te,ae,ie,de,xe,Ee,Me,pe,Ce,Re,Ve,Oe,Ye,Ze,ut){var at,Dt=ut-1>>1,St=ie[de+0]|xe[Ee+0]<<16,cr=Me[pe+0]|Ce[Re+0]<<16;r(H!=null);var _t=3*St+cr+131074>>2;for(S(H[Q+0],255&_t,_t>>16,Ve,Oe),te!=null&&(_t=3*cr+St+131074>>2,S(te[ae+0],255&_t,_t>>16,Ye,Ze)),at=1;at<=Dt;++at){var kr=ie[de+at]|xe[Ee+at]<<16,ya=Me[pe+at]|Ce[Re+at]<<16,hr=St+kr+cr+ya+524296,Et=hr+2*(kr+cr)>>3;_t=Et+St>>1,St=(hr=hr+2*(St+ya)>>3)+kr>>1,S(H[Q+2*at-1],255&_t,_t>>16,Ve,Oe+(2*at-1)*I),S(H[Q+2*at-0],255&St,St>>16,Ve,Oe+(2*at-0)*I),te!=null&&(_t=hr+cr>>1,St=Et+ya>>1,S(te[ae+2*at-1],255&_t,_t>>16,Ye,Ze+(2*at-1)*I),S(te[ae+2*at+0],255&St,St>>16,Ye,Ze+(2*at+0)*I)),St=kr,cr=ya}1&ut||(_t=3*St+cr+131074>>2,S(H[Q+ut-1],255&_t,_t>>16,Ve,Oe+(ut-1)*I),te!=null&&(_t=3*cr+St+131074>>2,S(te[ae+ut-1],255&_t,_t>>16,Ye,Ze+(ut-1)*I)))}}function ud(){As[f0]=To,As[Fs]=wc,As[h0]=Fu,As[qn]=b0,As[yd]=Kl,As[yc]=Gi,As[Wl]=Zl,As[vd]=wc,As[p0]=b0,As[vc]=Kl,As[x0]=Gi}function fc(y){return y&-16384?0>y?0:255:y>>y0}function Pi(y,S){return fc((19077*y>>8)+(26149*S>>8)-14234)}function gi(y,S,I){return fc((19077*y>>8)-(6419*S>>8)-(13320*I>>8)+8708)}function So(y,S){return fc((19077*y>>8)+(33050*S>>8)-17685)}function hl(y,S,I,H,Q){H[Q+0]=Pi(y,I),H[Q+1]=gi(y,S,I),H[Q+2]=So(y,S)}function ps(y,S,I,H,Q){H[Q+0]=So(y,S),H[Q+1]=gi(y,S,I),H[Q+2]=Pi(y,I)}function $l(y,S,I,H,Q){var te=gi(y,S,I);S=te<<3&224|So(y,S)>>3,H[Q+0]=248&Pi(y,I)|te>>5,H[Q+1]=S}function Yl(y,S,I,H,Q){var te=240&So(y,S)|15;H[Q+0]=240&Pi(y,I)|gi(y,S,I)>>4,H[Q+1]=te}function hc(y,S,I,H,Q){H[Q+0]=255,hl(y,S,I,H,Q+1)}function Ii(y,S,I,H,Q){ps(y,S,I,H,Q),H[Q+3]=255}function Ws(y,S,I,H,Q){hl(y,S,I,H,Q),H[Q+3]=255}function pl(y,S,I){z[y]=function(H,Q,te,ae,ie,de,xe,Ee,Me){for(var pe=Ee+(-2&Me)*I;Ee!=pe;)S(H[Q+0],te[ae+0],ie[de+0],xe,Ee),S(H[Q+1],te[ae+0],ie[de+0],xe,Ee+I),Q+=2,++ae,++de,Ee+=2*I;1&Me&&S(H[Q+0],te[ae+0],ie[de+0],xe,Ee)}}function pc(y,S,I){return I==0?y==0?S==0?6:5:S==0?4:0:I}function fd(y,S,I,H,Q){switch(y>>>30){case 3:vl(S,I,H,Q,0);break;case 2:Ls(S,I,H,Q);break;case 1:Hr(S,I,H,Q)}}function kn(y,S){var I,H,Q=S.M,te=S.Nb,ae=y.oc,ie=y.pc+40,de=y.oc,xe=y.pc+584,Ee=y.oc,Me=y.pc+600;for(I=0;16>I;++I)ae[ie+32*I-1]=129;for(I=0;8>I;++I)de[xe+32*I-1]=129,Ee[Me+32*I-1]=129;for(0<Q?ae[ie-1-32]=de[xe-1-32]=Ee[Me-1-32]=129:(i(ae,ie-32-1,127,21),i(de,xe-32-1,127,9),i(Ee,Me-32-1,127,9)),H=0;H<y.za;++H){var pe=S.ya[S.aa+H];if(0<H){for(I=-1;16>I;++I)s(ae,ie+32*I-4,ae,ie+32*I+12,4);for(I=-1;8>I;++I)s(de,xe+32*I-4,de,xe+32*I+4,4),s(Ee,Me+32*I-4,Ee,Me+32*I+4,4)}var Ce=y.Gd,Re=y.Hd+H,Ve=pe.ad,Oe=pe.Hc;if(0<Q&&(s(ae,ie-32,Ce[Re].y,0,16),s(de,xe-32,Ce[Re].f,0,8),s(Ee,Me-32,Ce[Re].ea,0,8)),pe.Za){var Ye=ae,Ze=ie-32+16;for(0<Q&&(H>=y.za-1?i(Ye,Ze,Ce[Re].y[15],4):s(Ye,Ze,Ce[Re+1].y,0,4)),I=0;4>I;I++)Ye[Ze+128+I]=Ye[Ze+256+I]=Ye[Ze+384+I]=Ye[Ze+0+I];for(I=0;16>I;++I,Oe<<=2)Ye=ae,Ze=ie+Ua[I],La[pe.Ob[I]](Ye,Ze),fd(Oe,Ve,16*+I,Ye,Ze)}else if(Ye=pc(H,Q,pe.Ob[0]),Js[Ye](ae,ie),Oe!=0)for(I=0;16>I;++I,Oe<<=2)fd(Oe,Ve,16*+I,ae,ie+Ua[I]);for(I=pe.Gc,Ye=pc(H,Q,pe.Dd),Ni[Ye](de,xe),Ni[Ye](Ee,Me),Oe=Ve,Ye=de,Ze=xe,255&(pe=0|I)&&(170&pe?Un(Oe,256,Ye,Ze):Pr(Oe,256,Ye,Ze)),pe=Ee,Oe=Me,255&(I>>=8)&&(170&I?Un(Ve,320,pe,Oe):Pr(Ve,320,pe,Oe)),Q<y.Ub-1&&(s(Ce[Re].y,0,ae,ie+480,16),s(Ce[Re].f,0,de,xe+224,8),s(Ce[Re].ea,0,Ee,Me+224,8)),I=8*te*y.B,Ce=y.sa,Re=y.ta+16*H+16*te*y.R,Ve=y.qa,pe=y.ra+8*H+I,Oe=y.Ha,Ye=y.Ia+8*H+I,I=0;16>I;++I)s(Ce,Re+I*y.R,ae,ie+32*I,16);for(I=0;8>I;++I)s(Ve,pe+I*y.B,de,xe+32*I,8),s(Oe,Ye+I*y.B,Ee,Me+32*I,8)}}function bi(y,S,I,H,Q,te,ae,ie,de){var xe=[0],Ee=[0],Me=0,pe=de!=null?de.kd:0,Ce=de??new it;if(y==null||12>I)return 7;Ce.data=y,Ce.w=S,Ce.ha=I,S=[S],I=[I],Ce.gb=[Ce.gb];e:{var Re=S,Ve=I,Oe=Ce.gb;if(r(y!=null),r(Ve!=null),r(Oe!=null),Oe[0]=0,12<=Ve[0]&&!a(y,Re[0],"RIFF")){if(a(y,Re[0]+8,"WEBP")){Oe=3;break e}var Ye=ht(y,Re[0]+4);if(12>Ye||4294967286<Ye){Oe=3;break e}if(pe&&Ye>Ve[0]-8){Oe=7;break e}Oe[0]=Ye,Re[0]+=12,Ve[0]-=12}Oe=0}if(Oe!=0)return Oe;for(Ye=0<Ce.gb[0],I=I[0];;){e:{var Ze=y;Ve=S,Oe=I;var ut=xe,at=Ee,Dt=Re=[0];if((_t=Me=[Me])[0]=0,8>Oe[0])Oe=7;else{if(!a(Ze,Ve[0],"VP8X")){if(ht(Ze,Ve[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var St=ht(Ze,Ve[0]+8),cr=1+mt(Ze,Ve[0]+12);if(2147483648<=cr*(Ze=1+mt(Ze,Ve[0]+15))){Oe=3;break e}Dt!=null&&(Dt[0]=St),ut!=null&&(ut[0]=cr),at!=null&&(at[0]=Ze),Ve[0]+=18,Oe[0]-=18,_t[0]=1}Oe=0}}if(Me=Me[0],Re=Re[0],Oe!=0)return Oe;if(Ve=!!(2&Re),!Ye&&Me)return 3;if(te!=null&&(te[0]=!!(16&Re)),ae!=null&&(ae[0]=Ve),ie!=null&&(ie[0]=0),ae=xe[0],Re=Ee[0],Me&&Ve&&de==null){Oe=0;break}if(4>I){Oe=7;break}if(Ye&&Me||!Ye&&!Me&&!a(y,S[0],"ALPH")){I=[I],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{St=y,Oe=S,Ye=I;var _t=Ce.gb;ut=Ce.na,at=Ce.P,Dt=Ce.Sa,cr=22,r(St!=null),r(Ye!=null),Ze=Oe[0];var kr=Ye[0];for(r(ut!=null),r(Dt!=null),ut[0]=null,at[0]=null,Dt[0]=0;;){if(Oe[0]=Ze,Ye[0]=kr,8>kr){Oe=7;break e}var ya=ht(St,Ze+4);if(4294967286<ya){Oe=3;break e}var hr=8+ya+1&-2;if(cr+=hr,0<_t&&cr>_t){Oe=3;break e}if(!a(St,Ze,"VP8 ")||!a(St,Ze,"VP8L")){Oe=0;break e}if(kr[0]<hr){Oe=7;break e}a(St,Ze,"ALPH")||(ut[0]=St,at[0]=Ze+8,Dt[0]=ya),Ze+=hr,kr-=hr}}if(I=I[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Oe!=0)break}I=[I],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(_t=y,Oe=S,Ye=I,ut=Ce.gb[0],at=Ce.Ja,Dt=Ce.xa,St=Oe[0],Ze=!a(_t,St,"VP8 "),cr=!a(_t,St,"VP8L"),r(_t!=null),r(Ye!=null),r(at!=null),r(Dt!=null),8>Ye[0])Oe=7;else{if(Ze||cr){if(_t=ht(_t,St+4),12<=ut&&_t>ut-12){Oe=3;break e}if(pe&&_t>Ye[0]-8){Oe=7;break e}at[0]=_t,Oe[0]+=8,Ye[0]-=8,Dt[0]=cr}else Dt[0]=5<=Ye[0]&&_t[St+0]==47&&!(_t[St+4]>>5),at[0]=Ye[0];Oe=0}if(I=I[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],S=S[0],Oe!=0)break;if(4294967286<Ce.Ja)return 3;if(ie==null||Ve||(ie[0]=Ce.xa?2:1),ae=[ae],Re=[Re],Ce.xa){if(5>I){Oe=7;break}ie=ae,pe=Re,Ve=te,y==null||5>I?y=0:5<=I&&y[S+0]==47&&!(y[S+4]>>5)?(Ye=[0],_t=[0],ut=[0],ve(at=new G,y,S,I),Mn(at,Ye,_t,ut)?(ie!=null&&(ie[0]=Ye[0]),pe!=null&&(pe[0]=_t[0]),Ve!=null&&(Ve[0]=ut[0]),y=1):y=0):y=0}else{if(10>I){Oe=7;break}ie=Re,y==null||10>I||!td(y,S+3,I-3)?y=0:(pe=y[S+0]|y[S+1]<<8|y[S+2]<<16,Ve=16383&(y[S+7]<<8|y[S+6]),y=16383&(y[S+9]<<8|y[S+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=Ce.Ja||!Ve||!y?y=0:(ae&&(ae[0]=Ve),ie&&(ie[0]=y),y=1))}if(!y||(ae=ae[0],Re=Re[0],Me&&(xe[0]!=ae||Ee[0]!=Re)))return 3;de!=null&&(de[0]=Ce,de.offset=S-de.w,r(4294967286>S-de.w),r(de.offset==de.ha-I));break}return Oe==0||Oe==7&&Me&&de==null?(te!=null&&(te[0]|=Ce.na!=null&&0<Ce.na.length),H!=null&&(H[0]=ae),Q!=null&&(Q[0]=Re),0):Oe}function xl(y,S,I){var H=S.width,Q=S.height,te=0,ae=0,ie=H,de=Q;if(S.Da=y!=null&&0<y.Da,S.Da&&(ie=y.cd,de=y.bd,te=y.v,ae=y.j,11>I||(te&=-2,ae&=-2),0>te||0>ae||0>=ie||0>=de||te+ie>H||ae+de>Q))return 0;if(S.v=te,S.j=ae,S.va=te+ie,S.o=ae+de,S.U=ie,S.T=de,S.da=y!=null&&0<y.da,S.da){if(!kt(ie,de,I=[y.ib],te=[y.hb]))return 0;S.ib=I[0],S.hb=te[0]}return S.ob=y!=null&&y.ob,S.Kb=y==null||!y.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*Q/4,S.Kb=0),1}function hd(y){if(y==null)return 2;if(11>y.S){var S=y.f.RGBA;S.fb+=(y.height-1)*S.A,S.A=-S.A}else S=y.f.kb,y=y.height,S.O+=(y-1)*S.fa,S.fa=-S.fa,S.N+=(y-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(y-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(y-1)*S.lb,S.lb=-S.lb);return 0}function yi(y,S,I,H){if(H==null||0>=y||0>=S)return 2;if(I!=null){if(I.Da){var Q=I.cd,te=I.bd,ae=-2&I.v,ie=-2&I.j;if(0>ae||0>ie||0>=Q||0>=te||ae+Q>y||ie+te>S)return 2;y=Q,S=te}if(I.da){if(!kt(y,S,Q=[I.ib],te=[I.hb]))return 2;y=Q[0],S=te[0]}}H.width=y,H.height=S;e:{var de=H.width,xe=H.height;if(y=H.S,0>=de||0>=xe||!(y>=f0&&13>y))y=2;else{if(0>=H.Rd&&H.sd==null){ae=te=Q=S=0;var Ee=(ie=de*N0[y])*xe;if(11>y||(te=(xe+1)/2*(S=(de+1)/2),y==12&&(ae=(Q=de)*xe)),(xe=o(Ee+2*te+ae))==null){y=1;break e}H.sd=xe,11>y?((de=H.f.RGBA).eb=xe,de.fb=0,de.A=ie,de.size=Ee):((de=H.f.kb).y=xe,de.O=0,de.fa=ie,de.Fd=Ee,de.f=xe,de.N=0+Ee,de.Ab=S,de.Cd=te,de.ea=xe,de.W=0+Ee+te,de.Db=S,de.Ed=te,y==12&&(de.F=xe,de.J=0+Ee+2*te),de.Tc=ae,de.lb=Q)}if(S=1,Q=H.S,te=H.width,ae=H.height,Q>=f0&&13>Q)if(11>Q)y=H.f.RGBA,S&=(ie=Math.abs(y.A))*(ae-1)+te<=y.size,S&=ie>=te*N0[Q],S&=y.eb!=null;else{y=H.f.kb,ie=(te+1)/2,Ee=(ae+1)/2,de=Math.abs(y.fa),xe=Math.abs(y.Ab);var Me=Math.abs(y.Db),pe=Math.abs(y.lb),Ce=pe*(ae-1)+te;S&=de*(ae-1)+te<=y.Fd,S&=xe*(Ee-1)+ie<=y.Cd,S=(S&=Me*(Ee-1)+ie<=y.Ed)&de>=te&xe>=ie&Me>=ie,S&=y.y!=null,S&=y.f!=null,S&=y.ea!=null,Q==12&&(S&=pe>=te,S&=Ce<=y.Tc,S&=y.F!=null)}else S=0;y=S?0:2}}return y!=0||I!=null&&I.fd&&(y=hd(H)),y}var Vl=64,un=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xs=24,Mi=32,Bi=8,ml=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];wt("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(y){return y},z.Predictor2=function(y,S,I){return S[I+0]},z.Predictor3=function(y,S,I){return S[I+1]},z.Predictor4=function(y,S,I){return S[I-1]},z.Predictor5=function(y,S,I){return Bt(Bt(y,S[I+1]),S[I+0])},z.Predictor6=function(y,S,I){return Bt(y,S[I-1])},z.Predictor7=function(y,S,I){return Bt(y,S[I+0])},z.Predictor8=function(y,S,I){return Bt(S[I-1],S[I+0])},z.Predictor9=function(y,S,I){return Bt(S[I+0],S[I+1])},z.Predictor10=function(y,S,I){return Bt(Bt(y,S[I-1]),Bt(S[I+0],S[I+1]))},z.Predictor11=function(y,S,I){var H=S[I+0];return 0>=sr(H>>24&255,y>>24&255,(S=S[I-1])>>24&255)+sr(H>>16&255,y>>16&255,S>>16&255)+sr(H>>8&255,y>>8&255,S>>8&255)+sr(255&H,255&y,255&S)?H:y},z.Predictor12=function(y,S,I){var H=S[I+0];return(Vt((y>>24&255)+(H>>24&255)-((S=S[I-1])>>24&255))<<24|Vt((y>>16&255)+(H>>16&255)-(S>>16&255))<<16|Vt((y>>8&255)+(H>>8&255)-(S>>8&255))<<8|Vt((255&y)+(255&H)-(255&S)))>>>0},z.Predictor13=function(y,S,I){var H=S[I-1];return(mr((y=Bt(y,S[I+0]))>>24&255,H>>24&255)<<24|mr(y>>16&255,H>>16&255)<<16|mr(y>>8&255,H>>8&255)<<8|mr(255&y,255&H))>>>0};var xc=z.PredictorAdd0;z.PredictorAdd1=br,wt("Predictor2","PredictorAdd2"),wt("Predictor3","PredictorAdd3"),wt("Predictor4","PredictorAdd4"),wt("Predictor5","PredictorAdd5"),wt("Predictor6","PredictorAdd6"),wt("Predictor7","PredictorAdd7"),wt("Predictor8","PredictorAdd8"),wt("Predictor9","PredictorAdd9"),wt("Predictor10","PredictorAdd10"),wt("Predictor11","PredictorAdd11"),wt("Predictor12","PredictorAdd12"),wt("Predictor13","PredictorAdd13");var mc=z.PredictorAdd2;Pt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Ba,c0=z.ColorIndexInverseTransform,zi=z.MapARGB,Ui=z.VP8LColorIndexInverseTransformAlpha,Ss=z.MapAlpha,gl=z.VP8LPredictorsAdd=[];gl.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var gc,bc,bl,yl,Hi,Eo,An,vl,Ls,Un,Hr,Pr,fa,za,qi,vi,ko,pd,Cu,ah,sh,nh,Tu,Du,Ao,Hn,xd,_n,_o=o(511),d0=o(2041),md=o(225),gd=o(767),u0=0,Nl=d0,bd=md,Rs=gd,Es=_o,f0=0,Fs=1,h0=2,qn=3,yd=4,yc=5,Wl=6,vd=7,p0=8,vc=9,x0=10,Gn=[2,3,7],Nc=[3,3,11],Co=[280,256,256,256,40],m0=[0,1,1,1,0],Nd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$n=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xl=8,Vn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wn=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Cn=null,ih=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],g0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ks=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ba=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Js=[],La=[],Ni=[],Jl=1,Ru=2,wl=[],As=[];fl("UpsampleRgbLinePair",hl,3),fl("UpsampleBgrLinePair",ps,3),fl("UpsampleRgbaLinePair",Ws,4),fl("UpsampleBgraLinePair",Ii,4),fl("UpsampleArgbLinePair",hc,4),fl("UpsampleRgba4444LinePair",Yl,2),fl("UpsampleRgb565LinePair",$l,2);var To=z.UpsampleRgbLinePair,Fu=z.UpsampleBgrLinePair,wc=z.UpsampleRgbaLinePair,b0=z.UpsampleBgraLinePair,Kl=z.UpsampleArgbLinePair,Gi=z.UpsampleRgba4444LinePair,Zl=z.UpsampleRgb565LinePair,Xn=16,jc=1<<Xn-1,Do=-227,Ql=482,y0=6,eo=0,_s=o(256),v0=o(256),oh=o(256),wx=o(256),jx=o(Ql-Do),Sx=o(Ql-Do);pl("YuvToRgbRow",hl,3),pl("YuvToBgrRow",ps,3),pl("YuvToRgbaRow",Ws,4),pl("YuvToBgraRow",Ii,4),pl("YuvToArgbRow",hc,4),pl("YuvToRgba4444Row",Yl,2),pl("YuvToRgb565Row",$l,2);var Ua=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sc=[0,2,8],wd=[8,7,6,4,4,2,2,2,1,1,1,1],jd=1;this.WebPDecodeRGBA=function(y,S,I,H,Q){var te=Fs,ae=new Ke,ie=new ur;ae.ba=ie,ie.S=te,ie.width=[ie.width],ie.height=[ie.height];var de=ie.width,xe=ie.height,Ee=new Ot;if(Ee==null||y==null)var Me=2;else r(Ee!=null),Me=bi(y,S,I,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(Me!=0?de=0:(de!=null&&(de[0]=Ee.width[0]),xe!=null&&(xe[0]=Ee.height[0]),de=1),de){ie.width=ie.width[0],ie.height=ie.height[0],H!=null&&(H[0]=ie.width),Q!=null&&(Q[0]=ie.height);e:{if(H=new al,(Q=new it).data=y,Q.w=S,Q.ha=I,Q.kd=1,S=[0],r(Q!=null),((y=bi(Q.data,Q.w,Q.ha,null,null,null,S,null,Q))==0||y==7)&&S[0]&&(y=4),(S=y)==0){if(r(ae!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=Ht,H.ac=cn,H.bc=di,H.ma=ae,Q.xa){if((y=Pe())==null){ae=1;break e}if((function(pe,Ce){var Re=[0],Ve=[0],Oe=[0];t:for(;;){if(pe==null)return 0;if(Ce==null)return pe.a=2,0;if(pe.l=Ce,pe.a=0,ve(pe.m,Ce.data,Ce.w,Ce.ha),!Mn(pe.m,Re,Ve,Oe)){pe.a=3;break t}if(pe.xb=Ru,Ce.width=Re[0],Ce.height=Ve[0],!Ie(Re[0],Ve[0],1,pe,null))break t;return 1}return r(pe.a!=0),0})(y,H)){if(H=(S=yi(H.width,H.height,ae.Oa,ae.ba))==0){t:{H=y;r:for(;;){if(H==null){H=0;break t}if(r(H.s.yc!=null),r(H.s.Ya!=null),r(0<H.s.Wb),r((I=H.l)!=null),r((Q=I.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,r(H.ca!=null),!xl(Q.Oa,I,qn)){H.a=2;break r}if(!Be(H,I.width)||I.da)break r;if((I.da||Jt(H.ca.S))&&mi(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&mi()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!fe(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Fe(H,H.V,H.Ba,H.c,H.i,I.o,le))break r;Q.Dc=H.Ma,H=1;break t}r(H.a!=0),H=0}H=!H}H&&(S=y.a)}else S=y.a}else{if((y=new hi)==null){ae=1;break e}if(y.Fa=Q.na,y.P=Q.P,y.qc=Q.Sa,Ri(y,H)){if((S=yi(H.width,H.height,ae.Oa,ae.ba))==0){if(y.Aa=0,I=ae.Oa,r((Q=y)!=null),I!=null){if(0<(de=0>(de=I.Md)?0:100<de?255:255*de/100)){for(xe=Ee=0;4>xe;++xe)12>(Me=Q.pb[xe]).lc&&(Me.ia=de*wd[0>Me.lc?0:Me.lc]>>3),Ee|=Me.ia;Ee&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=I.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(pe,Ce){if(pe==null)return 0;if(Ce==null)return Ur(pe,2,"NULL VP8Io parameter in VP8Decode().");if(!pe.cb&&!Ri(pe,Ce))return 0;if(r(pe.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(pe.L=0);var Re=Sc[pe.L];if(pe.L==2?(pe.yb=0,pe.zb=0):(pe.yb=Ce.v-Re>>4,pe.zb=Ce.j-Re>>4,0>pe.yb&&(pe.yb=0),0>pe.zb&&(pe.zb=0)),pe.Va=Ce.o+15+Re>>4,pe.Hb=Ce.va+15+Re>>4,pe.Hb>pe.za&&(pe.Hb=pe.za),pe.Va>pe.Ub&&(pe.Va=pe.Ub),0<pe.L){var Ve=pe.ed;for(Re=0;4>Re;++Re){var Oe;if(pe.Qa.Cb){var Ye=pe.Qa.Lb[Re];pe.Qa.Fb||(Ye+=Ve.Tb)}else Ye=Ve.Tb;for(Oe=0;1>=Oe;++Oe){var Ze=pe.gd[Re][Oe],ut=Ye;if(Ve.Pc&&(ut+=Ve.vd[0],Oe&&(ut+=Ve.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var at=ut;0<Ve.wb&&(at=4<Ve.wb?at>>2:at>>1)>9-Ve.wb&&(at=9-Ve.wb),1>at&&(at=1),Ze.dd=at,Ze.tc=2*ut+at,Ze.ld=40<=ut?2:15<=ut?1:0}else Ze.tc=0;Ze.La=Oe}}}Re=0}else Ur(pe,6,"Frame setup failed"),Re=pe.a;if(Re=Re==0){if(Re){pe.$c=0,0<pe.Aa||(pe.Ic=jd);t:{Re=pe.Ic,Ve=4*(at=pe.za);var Dt=32*at,St=at+1,cr=0<pe.L?at*(0<pe.Aa?2:1):0,_t=(pe.Aa==2?2:1)*at;if((Ze=Ve+832+(Oe=3*(16*Re+Sc[pe.L])/2*Dt)+(Ye=pe.Fa!=null&&0<pe.Fa.length?pe.Kc.c*pe.Kc.i:0))!=Ze)Re=0;else{if(Ze>pe.Vb){if(pe.Vb=0,pe.Ec=o(Ze),pe.Fc=0,pe.Ec==null){Re=Ur(pe,1,"no memory during frame initialization.");break t}pe.Vb=Ze}Ze=pe.Ec,ut=pe.Fc,pe.Ac=Ze,pe.Bc=ut,ut+=Ve,pe.Gd=c(Dt,jn),pe.Hd=0,pe.rb=c(St+1,ta),pe.sb=1,pe.wa=cr?c(cr,Sr):null,pe.Y=0,pe.D.Nb=0,pe.D.wa=pe.wa,pe.D.Y=pe.Y,0<pe.Aa&&(pe.D.Y+=at),r(!0),pe.oc=Ze,pe.pc=ut,ut+=832,pe.ya=c(_t,ui),pe.aa=0,pe.D.ya=pe.ya,pe.D.aa=pe.aa,pe.Aa==2&&(pe.D.aa+=at),pe.R=16*at,pe.B=8*at,at=(Dt=Sc[pe.L])*pe.R,Dt=Dt/2*pe.B,pe.sa=Ze,pe.ta=ut+at,pe.qa=pe.sa,pe.ra=pe.ta+16*Re*pe.R+Dt,pe.Ha=pe.qa,pe.Ia=pe.ra+8*Re*pe.B+Dt,pe.$c=0,ut+=Oe,pe.mb=Ye?Ze:null,pe.nb=Ye?ut:null,r(ut+Ye<=pe.Fc+pe.Vb),rd(pe),i(pe.Ac,pe.Bc,0,Ve),Re=1}}if(Re){if(Ce.ka=0,Ce.y=pe.sa,Ce.O=pe.ta,Ce.f=pe.qa,Ce.N=pe.ra,Ce.ea=pe.Ha,Ce.Vd=pe.Ia,Ce.fa=pe.R,Ce.Rc=pe.B,Ce.F=null,Ce.J=0,!u0){for(Re=-255;255>=Re;++Re)_o[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)d0[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)md[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)gd[255+Re]=0>Re?0:255<Re?255:Re;u0=1}An=pi,vl=ad,Un=Vs,Hr=sd,Pr=nd,Ls=e0,fa=l0,za=dl,qi=Z,vi=ge,ko=o0,pd=D,Cu=je,ah=De,sh=il,nh=ll,Tu=jo,Du=dd,La[0]=n0,La[1]=t0,La[2]=s0,La[3]=od,La[4]=Sn,La[5]=cd,La[6]=ws,La[7]=vo,La[8]=No,La[9]=En,Js[0]=xi,Js[1]=id,Js[2]=ld,Js[3]=a0,Js[4]=sl,Js[5]=yo,Js[6]=Gl,Ni[0]=cc,Ni[1]=r0,Ni[2]=Fi,Ni[3]=i0,Ni[4]=hs,Ni[5]=dc,Ni[6]=Oi,Re=1}else Re=0}Re&&(Re=(function(kr,ya){for(kr.M=0;kr.M<kr.Va;++kr.M){var hr,Et=kr.Jc[kr.M&kr.Xb],vt=kr.m,Ea=kr;for(hr=0;hr<Ea.za;++hr){var Zt=vt,gr=Ea,Jr=gr.Ac,ls=gr.Bc+4*hr,Cs=gr.zc,ha=gr.ya[gr.aa+hr];if(gr.Qa.Bb?ha.$b=_e(Zt,gr.Pa.jb[0])?2+_e(Zt,gr.Pa.jb[2]):_e(Zt,gr.Pa.jb[1]):ha.$b=0,gr.kc&&(ha.Ad=_e(Zt,gr.Bd)),ha.Za=!_e(Zt,145)+0,ha.Za){var Wa=ha.Ob,Os=0;for(gr=0;4>gr;++gr){var Xa,wr=Cs[0+gr];for(Xa=0;4>Xa;++Xa){wr=ks[Jr[ls+Xa]][wr];for(var Mr=g0[_e(Zt,wr[0])];0<Mr;)Mr=g0[2*Mr+_e(Zt,wr[Mr])];wr=-Mr,Jr[ls+Xa]=wr}s(Wa,Os,Jr,ls,4),Os+=4,Cs[0+gr]=wr}}else wr=_e(Zt,156)?_e(Zt,128)?1:3:_e(Zt,163)?2:0,ha.Ob[0]=wr,i(Jr,ls,wr,4),i(Cs,0,wr,4);ha.Dd=_e(Zt,142)?_e(Zt,114)?_e(Zt,183)?1:3:2:0}if(Ea.m.Ka)return Ur(kr,7,"Premature end-of-partition0 encountered.");for(;kr.ja<kr.za;++kr.ja){if(Ea=Et,Zt=(vt=kr).rb[vt.sb-1],Jr=vt.rb[vt.sb+vt.ja],hr=vt.ya[vt.aa+vt.ja],ls=vt.kc?hr.Ad:0)Zt.la=Jr.la=0,hr.Za||(Zt.Na=Jr.Na=0),hr.Hc=0,hr.Gc=0,hr.ia=0;else{var ka,qr;if(Zt=Jr,Jr=Ea,ls=vt.Pa.Xc,Cs=vt.ya[vt.aa+vt.ja],ha=vt.pb[Cs.$b],gr=Cs.ad,Wa=0,Os=vt.rb[vt.sb-1],wr=Xa=0,i(gr,Wa,0,384),Cs.Za)var os=0,Aa=ls[3];else{Mr=o(16);var Br=Zt.Na+Os.Na;if(Br=Cn(Jr,ls[1],Br,ha.Eb,0,Mr,0),Zt.Na=Os.Na=(0<Br)+0,1<Br)An(Mr,0,gr,Wa);else{var Ha=Mr[0]+3>>3;for(Mr=0;256>Mr;Mr+=16)gr[Wa+Mr]=Ha}os=1,Aa=ls[0]}var Kr=15&Zt.la,Ja=15&Os.la;for(Mr=0;4>Mr;++Mr){var Ka=1&Ja;for(Ha=qr=0;4>Ha;++Ha)Kr=Kr>>1|(Ka=(Br=Cn(Jr,Aa,Br=Ka+(1&Kr),ha.Sc,os,gr,Wa))>os)<<7,qr=qr<<2|(3<Br?3:1<Br?2:gr[Wa+0]!=0),Wa+=16;Kr>>=4,Ja=Ja>>1|Ka<<7,Xa=(Xa<<8|qr)>>>0}for(Aa=Kr,os=Ja>>4,ka=0;4>ka;ka+=2){for(qr=0,Kr=Zt.la>>4+ka,Ja=Os.la>>4+ka,Mr=0;2>Mr;++Mr){for(Ka=1&Ja,Ha=0;2>Ha;++Ha)Br=Ka+(1&Kr),Kr=Kr>>1|(Ka=0<(Br=Cn(Jr,ls[2],Br,ha.Qc,0,gr,Wa)))<<3,qr=qr<<2|(3<Br?3:1<Br?2:gr[Wa+0]!=0),Wa+=16;Kr>>=2,Ja=Ja>>1|Ka<<5}wr|=qr<<4*ka,Aa|=Kr<<4<<ka,os|=(240&Ja)<<ka}Zt.la=Aa,Os.la=os,Cs.Hc=Xa,Cs.Gc=wr,Cs.ia=43690&wr?0:ha.ia,ls=!(Xa|wr)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[hr.$b][hr.Za],vt.wa[vt.Y+vt.ja].La|=!ls),Ea.Ka)return Ur(kr,7,"Premature end-of-file encountered.")}if(rd(kr),vt=ya,Ea=1,hr=(Et=kr).D,Zt=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(hr.M=Et.M,hr.uc=Zt,kn(Et,hr),Ea=1,hr=(qr=Et.D).Nb,Zt=(wr=Sc[Et.L])*Et.R,Jr=wr/2*Et.B,Mr=16*hr*Et.R,Ha=8*hr*Et.B,ls=Et.sa,Cs=Et.ta-Zt+Mr,ha=Et.qa,gr=Et.ra-Jr+Ha,Wa=Et.Ha,Os=Et.Ia-Jr+Ha,Ja=(Kr=qr.M)==0,Xa=Kr>=Et.Va-1,Et.Aa==2&&kn(Et,qr),qr.uc)for(Ka=(Br=Et).D.M,r(Br.D.uc),qr=Br.yb;qr<Br.Hb;++qr){os=qr,Aa=Ka;var ra=(Ir=(Za=Br).D).Nb;ka=Za.R;var Ir=Ir.wa[Ir.Y+os],Ps=Za.sa,Ra=Za.ta+16*ra*ka+16*os,Yt=Ir.dd,Wt=Ir.tc;if(Wt!=0)if(r(3<=Wt),Za.L==1)0<os&&nh(Ps,Ra,ka,Wt+4),Ir.La&&Du(Ps,Ra,ka,Wt),0<Aa&&sh(Ps,Ra,ka,Wt+4),Ir.La&&Tu(Ps,Ra,ka,Wt);else{var zr=Za.B,fn=Za.qa,Jn=Za.ra+8*ra*zr+8*os,Ks=Za.Ha,Za=Za.Ia+8*ra*zr+8*os;ra=Ir.ld,0<os&&(za(Ps,Ra,ka,Wt+4,Yt,ra),vi(fn,Jn,Ks,Za,zr,Wt+4,Yt,ra)),Ir.La&&(pd(Ps,Ra,ka,Wt,Yt,ra),ah(fn,Jn,Ks,Za,zr,Wt,Yt,ra)),0<Aa&&(fa(Ps,Ra,ka,Wt+4,Yt,ra),qi(fn,Jn,Ks,Za,zr,Wt+4,Yt,ra)),Ir.La&&(ko(Ps,Ra,ka,Wt,Yt,ra),Cu(fn,Jn,Ks,Za,zr,Wt,Yt,ra))}}if(Et.ia&&alert("todo:DitherRow"),vt.put!=null){if(qr=16*Kr,Kr=16*(Kr+1),Ja?(vt.y=Et.sa,vt.O=Et.ta+Mr,vt.f=Et.qa,vt.N=Et.ra+Ha,vt.ea=Et.Ha,vt.W=Et.Ia+Ha):(qr-=wr,vt.y=ls,vt.O=Cs,vt.f=ha,vt.N=gr,vt.ea=Wa,vt.W=Os),Xa||(Kr-=wr),Kr>vt.o&&(Kr=vt.o),vt.F=null,vt.J=null,Et.Fa!=null&&0<Et.Fa.length&&qr<Kr&&(vt.J=ua(Et,vt,qr,Kr-qr),vt.F=Et.mb,vt.F==null&&vt.F.length==0)){Ea=Ur(Et,3,"Could not decode alpha data.");break t}qr<vt.j&&(wr=vt.j-qr,qr=vt.j,r(!(1&wr)),vt.O+=Et.R*wr,vt.N+=Et.B*(wr>>1),vt.W+=Et.B*(wr>>1),vt.F!=null&&(vt.J+=vt.width*wr)),qr<Kr&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=qr-vt.j,vt.U=vt.va-vt.v,vt.T=Kr-qr,Ea=vt.put(vt))}hr+1!=Et.Ic||Xa||(s(Et.sa,Et.ta-Zt,ls,Cs+16*Et.R,Zt),s(Et.qa,Et.ra-Jr,ha,gr+8*Et.B,Jr),s(Et.Ha,Et.Ia-Jr,Wa,Os+8*Et.B,Jr))}if(!Ea)return Ur(kr,6,"Output aborted.")}return 1})(pe,Ce)),Ce.bc!=null&&Ce.bc(Ce),Re&=1}return Re?(pe.cb=0,Re):0})(y,H)||(S=y.a)}}else S=y.a}S==0&&ae.Oa!=null&&ae.Oa.fd&&(S=hd(ae.ba))}ae=S}te=ae!=0?null:11>te?ie.f.RGBA.eb:ie.f.kb.y}else te=null;return te};var N0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(z,M){for(var C="",U=0;U<4;U++)C+=String.fromCharCode(z[M++]);return C}function p(z,M){return z[M+0]|z[M+1]<<8}function g(z,M){return(z[M+0]|z[M+1]<<8|z[M+2]<<16)>>>0}function b(z,M){return(z[M+0]|z[M+1]<<8|z[M+2]<<16|z[M+3]<<24)>>>0}new h;var m=[0],v=[0],N=[],w=new h,A=t,E=(function(z,M){var C={},U=0,B=!1,X=0,ue=0;if(C.frames=[],!(function(L,G){for(var V=0;V<4;V++)if(L[G+V]!="RIFF".charCodeAt(V))return!0;return!1})(z,M)){for(b(z,M+=4),M+=8;M<z.length;){var J=f(z,M),re=b(z,M+=4);M+=4;var oe=re+(1&re);switch(J){case"VP8 ":case"VP8L":C.frames[U]===void 0&&(C.frames[U]={}),(q=C.frames[U]).src_off=B?ue:M-8,q.src_size=X+re+8,U++,B&&(B=!1,X=0,ue=0);break;case"VP8X":(q=C.header={}).feature_flags=z[M];var ve=M+4;q.canvas_width=1+g(z,ve),ve+=3,q.canvas_height=1+g(z,ve),ve+=3;break;case"ALPH":B=!0,X=oe+8,ue=M-8;break;case"ANIM":(q=C.header).bgcolor=b(z,M),ve=M+4,q.loop_count=p(z,ve),ve+=2;break;case"ANMF":var Ne,q;(q=C.frames[U]={}).offset_x=2*g(z,M),M+=3,q.offset_y=2*g(z,M),M+=3,q.width=1+g(z,M),M+=3,q.height=1+g(z,M),M+=3,q.duration=g(z,M),M+=3,Ne=z[M++],q.dispose=1&Ne,q.blend=Ne>>1&1}J!="ANMF"&&(M+=oe)}return C}})(A,0);E.response=A,E.rgbaoutput=!0,E.dataurl=!1;var T=E.header?E.header:null,_=E.frames?E.frames:null;if(T){T.loop_counter=T.loop_count,m=[T.canvas_height],v=[T.canvas_width];for(var O=0;O<_.length&&_[O].blend!=0;O++);}var W=_[0],F=w.WebPDecodeRGBA(A,W.src_off,W.src_size,v,m);W.rgba=F,W.imgwidth=v[0],W.imgheight=m[0];for(var P=0;P<v[0]*m[0]*4;P++)N[P]=F[P];return this.width=v,this.height=m,this.data=N,this}function cP(){var t,r=this.internal.__metadata__.metadata,a=unescape(encodeURIComponent(r));t=this.internal.__metadata__.rawXml?a:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function dP(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var r,a,s,i,o,c,d,h,f,p=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new c,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new c,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),r=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var g=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=L;Object.defineProperty(this,"pdf",{get:function(){return G}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(fe){V=!!fe}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(fe){K=!!fe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(fe){isNaN(fe)||(ne=fe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(fe){isNaN(fe)||(ye=fe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(fe){var dt;typeof fe=="number"?dt=[fe,fe,fe,fe]:((dt=new Array(4))[0]=fe[0],dt[1]=fe.length>=2?fe[1]:dt[0],dt[2]=fe.length>=3?fe[2]:dt[0],dt[3]=fe.length>=4?fe[3]:dt[1]),f.margin=dt}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(fe){ke=fe}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(fe){Se=fe}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(fe){_e=fe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(fe){fe instanceof p&&(f=fe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(fe){f.path=fe}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(fe){Je=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var dt;dt=b(fe),this.ctx.fillStyle=dt.style,this.ctx.isFillTransparent=dt.a===0,this.ctx.fillOpacity=dt.a,this.pdf.setFillColor(dt.r,dt.g,dt.b,{a:dt.a}),this.pdf.setTextColor(dt.r,dt.g,dt.b,{a:dt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var dt=b(fe);this.ctx.strokeStyle=dt.style,this.ctx.isStrokeTransparent=dt.a===0,this.ctx.strokeOpacity=dt.a,dt.a===0?this.pdf.setDrawColor(255,255,255):(dt.a,this.pdf.setDrawColor(dt.r,dt.g,dt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var nt=null,mt=null,ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(fe){nt=null,mt=null,ht=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var dt;if(this.ctx.font=fe,(dt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var ot=dt[1];dt[2];var kt=dt[3],rt=dt[4];dt[5];var Rt=dt[6],wt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(wt==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:wt==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var qt=(function(Pt){var wa,yr,$t=[],Qt=Pt.trim();if(Qt==="")return bg;if(Qt in SN)return[SN[Qt]];for(;Qt!=="";){switch(yr=null,wa=(Qt=kN(Qt)).charAt(0)){case'"':case"'":yr=aP(Qt.substring(1),wa);break;default:yr=sP(Qt)}if(yr===null||($t.push(yr[0]),(Qt=kN(yr[1]))!==""&&Qt.charAt(0)!==","))return bg;Qt=Qt.replace(/^,/,"")}return $t})(Rt);if(this.fontFaces){var Bt=(function(Pt,wa){var yr=Pt.getFontList(),$t=JSON.stringify(yr);if(nt===null||mt!==$t){var Qt=(function(Nr){var Gt=[];return Object.keys(Nr).forEach(function(Vr){Nr[Vr].forEach(function(Jt){var er=null;switch(Jt){case"bold":er={family:Vr,weight:"bold"};break;case"italic":er={family:Vr,style:"italic"};break;case"bolditalic":er={family:Vr,weight:"bold",style:"italic"};break;case"":case"normal":er={family:Vr}}er!==null&&(er.ref={name:Vr,style:Jt},Gt.push(er))})}),Gt})(yr);nt=(function(Nr){for(var Gt={},Vr=0;Vr<Nr.length;++Vr){var Jt=gg(Nr[Vr]),er=Jt.family,Wr=Jt.stretch,ur=Jt.style,Ot=Jt.weight;Gt[er]=Gt[er]||{},Gt[er][Wr]=Gt[er][Wr]||{},Gt[er][Wr][ur]=Gt[er][Wr][ur]||{},Gt[er][Wr][ur][Ot]=Jt}return Gt})(Qt.concat(wa)),mt=$t}return nt})(this.pdf,this.fontFaces),Vt=qt.map(function(Pt){return{family:Pt,stretch:"normal",weight:kt,style:ot}}),mr=(function(Pt,wa,yr){for(var $t=(yr=yr||{}).defaultFontFamily||"times",Qt=Object.assign({},rP,yr.genericFontFamilies||{}),Nr=null,Gt=null,Vr=0;Vr<wa.length;++Vr)if(Qt[(Nr=gg(wa[Vr])).family]&&(Nr.family=Qt[Nr.family]),Pt.hasOwnProperty(Nr.family)){Gt=Pt[Nr.family];break}if(!(Gt=Gt||Pt[$t]))throw new Error("Could not find a font-family for the rule '"+EN(Nr)+"' and default family '"+$t+"'.");if(Gt=(function(Jt,er){if(er[Jt])return er[Jt];var Wr=Xg[Jt],ur=Wr<=Xg.normal?-1:1,Ot=jN(er,Sj,Wr,ur);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+Jt);return Ot})(Nr.stretch,Gt),Gt=(function(Jt,er){if(er[Jt])return er[Jt];for(var Wr=jj[Jt],ur=0;ur<Wr.length;++ur)if(er[Wr[ur]])return er[Wr[ur]];throw new Error("Could not find a matching font-style for "+Jt)})(Nr.style,Gt),!(Gt=(function(Jt,er){if(er[Jt])return er[Jt];if(Jt===400&&er[500])return er[500];if(Jt===500&&er[400])return er[400];var Wr=tP[Jt],ur=jN(er,Ej,Wr,Jt<400?-1:1);if(!ur)throw new Error("Could not find a matching font-weight for value "+Jt);return ur})(Nr.weight,Gt)))throw new Error("Failed to resolve a font for the rule '"+EN(Nr)+"'.");return Gt})(Bt,Vt);this.pdf.setFont(mr.ref.name,mr.ref.style)}else{var sr="";(kt==="bold"||parseInt(kt,10)>=700||ot==="bold")&&(sr="bold"),ot==="italic"&&(sr+="italic"),sr.length===0&&(sr="normal");for(var br="",ir={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<qt.length;Ft++){if(this.pdf.internal.getFont(qt[Ft],sr,{noFallback:!0,disableWarning:!0})!==void 0){br=qt[Ft];break}if(sr==="bolditalic"&&this.pdf.internal.getFont(qt[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)br=qt[Ft],sr="bold";else if(this.pdf.internal.getFont(qt[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){br=qt[Ft],sr="normal";break}}if(br===""){for(var lr=0;lr<qt.length;lr++)if(ir[qt[lr]]){br=ir[qt[lr]];break}}br=br===""?"Times":br,this.pdf.setFont(br,sr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};g.prototype.setLineDash=function(L){this.lineDash=L},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){_.call(this,"fill",!1)},g.prototype.stroke=function(){_.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(L,G){if(isNaN(L)||isNaN(G))throw Na.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new c(L,G));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new c(L,G)},g.prototype.closePath=function(){var L=new c(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&la(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){L=new c(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(L.x,L.y)},g.prototype.lineTo=function(L,G){if(isNaN(L)||isNaN(G))throw Na.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new c(L,G));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new c(V.x,V.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},g.prototype.quadraticCurveTo=function(L,G,V,K){if(isNaN(V)||isNaN(K)||isNaN(L)||isNaN(G))throw Na.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new c(V,K)),ye=this.ctx.transform.applyToPoint(new c(L,G));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new c(ne.x,ne.y)},g.prototype.bezierCurveTo=function(L,G,V,K,ne,ye){if(isNaN(ne)||isNaN(ye)||isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K))throw Na.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new c(ne,ye)),Se=this.ctx.transform.applyToPoint(new c(L,G)),_e=this.ctx.transform.applyToPoint(new c(V,K));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:_e.x,y2:_e.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new c(ke.x,ke.y)},g.prototype.arc=function(L,G,V,K,ne,ye){if(isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K)||isNaN(ne))throw Na.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new c(L,G));L=ke.x,G=ke.y;var Se=this.ctx.transform.applyToPoint(new c(0,V)),_e=this.ctx.transform.applyToPoint(new c(0,0));V=Math.sqrt(Math.pow(Se.x-_e.x,2)+Math.pow(Se.y-_e.y,2))}Math.abs(ne-K)>=2*Math.PI&&(K=0,ne=2*Math.PI),this.path.push({type:"arc",x:L,y:G,radius:V,startAngle:K,endAngle:ne,counterclockwise:ye})},g.prototype.arcTo=function(L,G,V,K,ne){throw new Error("arcTo not implemented.")},g.prototype.rect=function(L,G,V,K){if(isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K))throw Na.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,G),this.lineTo(L+V,G),this.lineTo(L+V,G+K),this.lineTo(L,G+K),this.lineTo(L,G),this.lineTo(L+V,G),this.lineTo(L,G)},g.prototype.fillRect=function(L,G,V,K){if(isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K))throw Na.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,G,V,K),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},g.prototype.strokeRect=function(L,G,V,K){if(isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K))throw Na.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,G,V,K),this.stroke())},g.prototype.clearRect=function(L,G,V,K){if(isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K))throw Na.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,G,V,K))},g.prototype.save=function(L){L=typeof L!="boolean"||L;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},g.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(G),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(L){var G,V,K,ne;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))G=0,V=0,K=0,ne=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ye!==null)G=parseInt(ye[1]),V=parseInt(ye[2]),K=parseInt(ye[3]),ne=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)G=parseInt(ye[1]),V=parseInt(ye[2]),K=parseInt(ye[3]),ne=parseFloat(ye[4]);else{if(ne=1,typeof L=="string"&&L.charAt(0)!=="#"){var ke=new mj(L);L=ke.ok?ke.toHex():"#000000"}L.length===4?(G=L.substring(1,2),G+=G,V=L.substring(2,3),V+=V,K=L.substring(3,4),K+=K):(G=L.substring(1,3),V=L.substring(3,5),K=L.substring(5,7)),G=parseInt(G,16),V=parseInt(V,16),K=parseInt(K,16)}}return{r:G,g:V,b:K,a:ne,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(L,G,V,K){if(isNaN(G)||isNaN(V)||typeof L!="string")throw Na.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!m.call(this)){var ne=oe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;U.call(this,{text:L,x:G,y:V,scale:ye,angle:ne,align:this.textAlign,maxWidth:K})}},g.prototype.strokeText=function(L,G,V,K){if(isNaN(G)||isNaN(V)||typeof L!="string")throw Na.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){K=isNaN(K)?void 0:K;var ne=oe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;U.call(this,{text:L,x:G,y:V,scale:ye,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:K})}},g.prototype.measureText=function(L){if(typeof L!="string")throw Na.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,V=this.pdf.internal.scaleFactor,K=G.internal.getFontSize(),ne=G.getStringUnitWidth(L)*K/G.internal.scaleFactor;return new function(ye){var ke=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},g.prototype.scale=function(L,G){if(isNaN(L)||isNaN(G))throw Na.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new h(L,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.rotate=function(L){if(isNaN(L))throw Na.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.translate=function(L,G){if(isNaN(L)||isNaN(G))throw Na.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new h(1,0,0,1,L,G);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.transform=function(L,G,V,K,ne,ye){if(isNaN(L)||isNaN(G)||isNaN(V)||isNaN(K)||isNaN(ne)||isNaN(ye))throw Na.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new h(L,G,V,K,ne,ye);this.ctx.transform=this.ctx.transform.multiply(ke)},g.prototype.setTransform=function(L,G,V,K,ne,ye){L=isNaN(L)?1:L,G=isNaN(G)?0:G,V=isNaN(V)?0:V,K=isNaN(K)?1:K,ne=isNaN(ne)?0:ne,ye=isNaN(ye)?0:ye,this.ctx.transform=new h(L,G,V,K,ne,ye)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(L,G,V,K,ne,ye,ke,Se,_e){var Je=this.pdf.getImageProperties(L),nt=1,mt=1,ht=1,fe=1;K!==void 0&&Se!==void 0&&(ht=Se/K,fe=_e/ne,nt=Je.width/K*Se/K,mt=Je.height/ne*_e/ne),ye===void 0&&(ye=G,ke=V,G=0,V=0),K!==void 0&&Se===void 0&&(Se=K,_e=ne),K===void 0&&Se===void 0&&(Se=Je.width,_e=Je.height);var dt=this.ctx.transform.decompose(),ot=oe(dt.rotate.shx),kt=new h,rt=(kt=(kt=(kt=kt.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new d(ye-G*ht,ke-V*fe,K*nt,ne*mt));if(this.autoPaging){for(var Rt,wt=w.call(this,rt),qt=[],Bt=0;Bt<wt.length;Bt+=1)qt.indexOf(wt[Bt])===-1&&qt.push(wt[Bt]);T(qt);for(var Vt=qt[0],mr=qt[qt.length-1],sr=Vt;sr<mr+1;sr++){this.pdf.setPage(sr);var br=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ir=sr===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=sr===1?0:Ft+(sr-2)*lr;if(this.ctx.clip_path.length!==0){var wa=this.path;Rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Rt,this.posX+this.margin[3],-Pt+ir+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=wa}var yr=JSON.parse(JSON.stringify(rt));yr=E([yr],this.posX+this.margin[3],-Pt+ir+this.ctx.prevPageLastElemOffset)[0];var $t=(sr>Vt||sr<mr)&&N.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],br,lr,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",yr.x,yr.y,yr.w,yr.h,null,null,ot),$t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,ot)};var w=function(L,G,V){var K=[];G=G||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":K.push(Math.floor((L.y+ne)/V)+1);break;case"arc":K.push(Math.floor((L.y+ne-L.radius)/V)+1),K.push(Math.floor((L.y+ne+L.radius)/V)+1);break;case"qct":var ye=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);K.push(Math.floor((ye.y+ne)/V)+1),K.push(Math.floor((ye.y+ye.h+ne)/V)+1);break;case"bct":var ke=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);K.push(Math.floor((ke.y+ne)/V)+1),K.push(Math.floor((ke.y+ke.h+ne)/V)+1);break;case"rect":K.push(Math.floor((L.y+ne)/V)+1),K.push(Math.floor((L.y+L.h+ne)/V)+1)}for(var Se=0;Se<K.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<K[Se];)A.call(this);return K},A=function(){var L=this.fillStyle,G=this.strokeStyle,V=this.font,K=this.lineCap,ne=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=G,this.font=V,this.lineCap=K,this.lineWidth=ne,this.lineJoin=ye},E=function(L,G,V){for(var K=0;K<L.length;K++)switch(L[K].type){case"bct":L[K].x2+=G,L[K].y2+=V;case"qct":L[K].x1+=G,L[K].y1+=V;default:L[K].x+=G,L[K].y+=V}return L},T=function(L){return L.sort(function(G,V){return G-V})},_=function(L,G){var V=this.fillStyle,K=this.strokeStyle,ne=this.lineCap,ye=this.lineWidth,ke=Math.abs(ye*this.ctx.transform.scaleX),Se=this.lineJoin;if(this.autoPaging){for(var _e,Je,nt=JSON.parse(JSON.stringify(this.path)),mt=JSON.parse(JSON.stringify(this.path)),ht=[],fe=0;fe<mt.length;fe++)if(mt[fe].x!==void 0)for(var dt=w.call(this,mt[fe]),ot=0;ot<dt.length;ot+=1)ht.indexOf(dt[ot])===-1&&ht.push(dt[ot]);for(var kt=0;kt<ht.length;kt++)for(;this.pdf.internal.getNumberOfPages()<ht[kt];)A.call(this);T(ht);for(var rt=ht[0],Rt=ht[ht.length-1],wt=rt;wt<Rt+1;wt++){this.pdf.setPage(wt),this.fillStyle=V,this.strokeStyle=K,this.lineCap=ne,this.lineWidth=ke,this.lineJoin=Se;var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=wt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],sr=wt===1?0:Vt+(wt-2)*mr;if(this.ctx.clip_path.length!==0){var br=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(_e,this.posX+this.margin[3],-sr+Bt+this.ctx.prevPageLastElemOffset),O.call(this,L,!0),this.path=br}if(Je=JSON.parse(JSON.stringify(nt)),this.path=E(Je,this.posX+this.margin[3],-sr+Bt+this.ctx.prevPageLastElemOffset),G===!1||wt===0){var ir=(wt>rt||wt<Rt)&&N.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,mr,null).clip().discardPath()),O.call(this,L,G),ir&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=nt}else this.lineWidth=ke,O.call(this,L,G),this.lineWidth=ye},O=function(L,G){if((L!=="stroke"||G||!v.call(this))&&(L==="stroke"||G||!m.call(this))){for(var V,K,ne=[],ye=this.path,ke=0;ke<ye.length;ke++){var Se=ye[ke];switch(Se.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Se,deltas:[],abs:[]});break;case"lt":var _e=ne.length;if(ye[ke-1]&&!isNaN(ye[ke-1].x)&&(V=[Se.x-ye[ke-1].x,Se.y-ye[ke-1].y],_e>0)){for(;_e>=0;_e--)if(ne[_e-1].close!==!0&&ne[_e-1].begin!==!0){ne[_e-1].deltas.push(V),ne[_e-1].abs.push(Se);break}}break;case"bct":V=[Se.x1-ye[ke-1].x,Se.y1-ye[ke-1].y,Se.x2-ye[ke-1].x,Se.y2-ye[ke-1].y,Se.x-ye[ke-1].x,Se.y-ye[ke-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var Je=ye[ke-1].x+2/3*(Se.x1-ye[ke-1].x),nt=ye[ke-1].y+2/3*(Se.y1-ye[ke-1].y),mt=Se.x+2/3*(Se.x1-Se.x),ht=Se.y+2/3*(Se.y1-Se.y),fe=Se.x,dt=Se.y;V=[Je-ye[ke-1].x,nt-ye[ke-1].y,mt-ye[ke-1].x,ht-ye[ke-1].y,fe-ye[ke-1].x,dt-ye[ke-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Se)}}K=G?null:L==="stroke"?"stroke":"fill";for(var ot=!1,kt=0;kt<ne.length;kt++)if(ne[kt].arc)for(var rt=ne[kt].abs,Rt=0;Rt<rt.length;Rt++){var wt=rt[Rt];wt.type==="arc"?P.call(this,wt.x,wt.y,wt.radius,wt.startAngle,wt.endAngle,wt.counterclockwise,void 0,G,!ot):B.call(this,wt.x,wt.y),ot=!0}else if(ne[kt].close===!0)this.pdf.internal.out("h"),ot=!1;else if(ne[kt].begin!==!0){var qt=ne[kt].start.x,Bt=ne[kt].start.y;X.call(this,ne[kt].deltas,qt,Bt),ot=!0}K&&z.call(this,K),G&&M.call(this)}},W=function(L){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-V;case"top":return L+G-V;case"hanging":return L+G-2*V;case"middle":return L+G/2-V;default:return L}},F=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(G,V){this.colorStops.push([G,V])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(L,G,V,K,ne,ye,ke,Se,_e){for(var Je=J.call(this,V,K,ne,ye),nt=0;nt<Je.length;nt++){var mt=Je[nt];nt===0&&(_e?C.call(this,mt.x1+L,mt.y1+G):B.call(this,mt.x1+L,mt.y1+G)),ue.call(this,L,G,mt.x2,mt.y2,mt.x3,mt.y3,mt.x4,mt.y4)}Se?M.call(this):z.call(this,ke)},z=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(L,G){this.pdf.internal.out(a(L)+" "+s(G)+" m")},U=function(L){var G;switch(L.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var V,K,ne,ye=this.pdf.getTextDimensions(L.text),ke=W.call(this,L.y),Se=F.call(this,ke)-ye.h,_e=this.ctx.transform.applyToPoint(new c(L.x,ke));if(this.autoPaging){var Je=this.ctx.transform.decompose(),nt=new h;nt=(nt=(nt=nt.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var mt=this.ctx.transform.applyToRectangle(new d(L.x,ke,ye.w,ye.h)),ht=nt.applyToRectangle(new d(L.x,Se,ye.w,ye.h)),fe=w.call(this,ht),dt=[],ot=0;ot<fe.length;ot+=1)dt.indexOf(fe[ot])===-1&&dt.push(fe[ot]);T(dt);for(var kt=dt[0],rt=dt[dt.length-1],Rt=kt;Rt<rt+1;Rt++){this.pdf.setPage(Rt);var wt=Rt===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],Vt=Bt-this.margin[0],mr=this.pdf.internal.pageSize.width-this.margin[1],sr=mr-this.margin[3],br=Rt===1?0:qt+(Rt-2)*Vt;if(this.ctx.clip_path.length!==0){var ir=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(V,this.posX+this.margin[3],-1*br+wt),O.call(this,"fill",!0),this.path=ir}var Ft=E([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-br+wt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*L.scale),ne=this.lineWidth,this.lineWidth=ne*L.scale);var lr=this.autoPaging!=="text";if(lr||Ft.y+Ft.h<=Bt){if(lr||Ft.y>=wt&&Ft.x<=mr){var Pt=lr?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||mr-Ft.x)[0],wa=E([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-br+wt+this.ctx.prevPageLastElemOffset)[0],yr=lr&&(Rt>kt||Rt<rt)&&N.call(this);yr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Vt,null).clip().discardPath()),this.pdf.text(Pt,wa.x,wa.y,{angle:L.angle,align:G,renderingMode:L.renderingMode}),yr&&this.pdf.restoreGraphicsState()}}else Ft.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-Ft.y);L.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ne)}}else L.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*L.scale),ne=this.lineWidth,this.lineWidth=ne*L.scale),this.pdf.text(L.text,_e.x+this.posX,_e.y+this.posY,{angle:L.angle,align:G,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ne)},B=function(L,G,V,K){V=V||0,K=K||0,this.pdf.internal.out(a(L+V)+" "+s(G+K)+" l")},X=function(L,G,V){return this.pdf.lines(L,G,V,null,null)},ue=function(L,G,V,K,ne,ye,ke,Se){this.pdf.internal.out([r(i(V+L)),r(o(K+G)),r(i(ne+L)),r(o(ye+G)),r(i(ke+L)),r(o(Se+G)),"c"].join(" "))},J=function(L,G,V,K){for(var ne=2*Math.PI,ye=Math.PI/2;G>V;)G-=ne;var ke=Math.abs(V-G);ke<ne&&K&&(ke=ne-ke);for(var Se=[],_e=K?-1:1,Je=G;ke>1e-5;){var nt=Je+_e*Math.min(ke,ye);Se.push(re.call(this,L,Je,nt)),ke-=Math.abs(nt-Je),Je=nt}return Se},re=function(L,G,V){var K=(V-G)/2,ne=L*Math.cos(K),ye=L*Math.sin(K),ke=ne,Se=-ye,_e=ke*ke+Se*Se,Je=_e+ke*ne+Se*ye,nt=4/3*(Math.sqrt(2*_e*Je)-Je)/(ke*ye-Se*ne),mt=ke-nt*Se,ht=Se+nt*ke,fe=mt,dt=-ht,ot=K+G,kt=Math.cos(ot),rt=Math.sin(ot);return{x1:L*Math.cos(G),y1:L*Math.sin(G),x2:mt*kt-ht*rt,y2:mt*rt+ht*kt,x3:fe*kt-dt*rt,y3:fe*rt+dt*kt,x4:L*Math.cos(V),y4:L*Math.sin(V)}},oe=function(L){return 180*L/Math.PI},ve=function(L,G,V,K,ne,ye){var ke=L+.5*(V-L),Se=G+.5*(K-G),_e=ne+.5*(V-ne),Je=ye+.5*(K-ye),nt=Math.min(L,ne,ke,_e),mt=Math.max(L,ne,ke,_e),ht=Math.min(G,ye,Se,Je),fe=Math.max(G,ye,Se,Je);return new d(nt,ht,mt-nt,fe-ht)},Ne=function(L,G,V,K,ne,ye,ke,Se){var _e,Je,nt,mt,ht,fe,dt,ot,kt,rt,Rt,wt,qt,Bt,Vt=V-L,mr=K-G,sr=ne-V,br=ye-K,ir=ke-ne,Ft=Se-ye;for(Je=0;Je<41;Je++)kt=(dt=(nt=L+(_e=Je/40)*Vt)+_e*((ht=V+_e*sr)-nt))+_e*(ht+_e*(ne+_e*ir-ht)-dt),rt=(ot=(mt=G+_e*mr)+_e*((fe=K+_e*br)-mt))+_e*(fe+_e*(ye+_e*Ft-fe)-ot),Je==0?(Rt=kt,wt=rt,qt=kt,Bt=rt):(Rt=Math.min(Rt,kt),wt=Math.min(wt,rt),qt=Math.max(qt,kt),Bt=Math.max(Bt,rt));return new d(Math.round(Rt),Math.round(wt),Math.round(qt-Rt),Math.round(Bt-wt))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,G,V=(L=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:G}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(zt.API),(function(t){var r=function(c){var d,h,f,p,g,b,m,v,N,w;for(h=[],f=0,p=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;p>f;f+=4)(g=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(b=(g=((g=((g=((g=(g-(w=g%85))/85)-(N=g%85))/85)-(v=g%85))/85)-(m=g%85))/85)%85,h.push(b+33,m+33,v+33,N+33,w+33)):h.push(122);return(function(A,E){for(var T=E;T>0;T--)A.pop()})(h,d.length),String.fromCharCode.apply(String,h)+"~>"},a=function(c){var d,h,f,p,g,b=String,m="length",v=255,N="charCodeAt",w="slice",A="replace";for(c[w](-2),c=c[w](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),f=[],p=0,g=(c+=d="uuuuu"[w](c[m]%5||5))[m];g>p;p+=5)h=52200625*(c[N](p)-33)+614125*(c[N](p+1)-33)+7225*(c[N](p+2)-33)+85*(c[N](p+3)-33)+(c[N](p+4)-33),f.push(v&h>>24,v&h>>16,v&h>>8,v&h);return(function(E,T){for(var _=T;_>0;_--)E.pop()})(f,d[m]),b.fromCharCode.apply(b,f)},s=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=Hg(d)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(c,d){var h=0,f=c||"",p=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=a(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=r(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(zt.API),(function(t){t.loadFile=function(r,a,s){return(function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(h,f,p){var g=new XMLHttpRequest,b=0,m=function(v){var N=v.length,w=[],A=String.fromCharCode;for(b=0;b<N;b+=1)w.push(A(255&v.charCodeAt(b)));return w.join("")};if(g.open("GET",h,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?p(m(this.responseText)):p(void 0)}),g.send(null),f&&g.status===200)return m(g.responseText)})(i,o,c)}catch{}return d})(r,a,s)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(zt.API),(function(t){function r(){return(dr.html2canvas?Promise.resolve(dr.html2canvas):Qm(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function a(){return(dr.DOMPurify?Promise.resolve(dr.DOMPurify):Qm(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var s=function(d){var h=la(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(d,h){var f=document.createElement(d);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},o=function d(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),g=h.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(d(g,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),p=d.convert(Promise.resolve(),f);return(p=p.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),h){case"string":return this.then(a).then(function(f){return this.set({src:i("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var m=0;m<p.length;++m){var v=p[m],N=v.src.find(function(w){return w.format==="truetype"});N&&f.addFont(N.url,v.ref.name,v.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,f.context2d.save(!0),h(this.prop.container,b)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(s(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(s(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(d=d||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,p){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,p){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(p,g){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return f.updateProgress(null,p),b}).then(p,g).then(function(b){return f.updateProgress(1),b})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var p=this;d&&(d=d.bind(p)),h&&(h=h.bind(p));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),b=f.call(g,d,h);return c.convert(b,p.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,zt.getPageSize=function(d,h,f){if(la(d)==="object"){var p=d;d=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var g,b=(""+f).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+h}var v,N=0,w=0;if(m.hasOwnProperty(b))N=m[b][1]/g,w=m[b][0]/g;else try{N=f[1],w=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",w>N&&(v=w,w=N,N=v);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",N>w&&(v=w,w=N,N=v)}return{width:w,height:N,unit:h,k:g,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(gg):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}})(zt.API),zt.API.addJS=function(t){var r,a,s=t;return this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(r+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+s+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){r!==void 0&&a!==void 0&&this.internal.out("/Names <</JavaScript "+r+" 0 R>>")}),this},(function(t){var r;t.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=a.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],d=s.exec(c);if(d!=null){var h=d[1];a.internal.newObjectDeferredBegin(h,!1)}a.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(o=0;o<f;o++){var g=a.internal.newObject();p.push(g);var b=a.internal.getPageInfo(o+1);a.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=a.internal.newObject();for(a.internal.write("<< /Names [ "),o=0;o<p.length;o++)a.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");a.internal.write(" ] >>","endobj"),r=a.internal.newObject(),a.internal.write("<< /Dests "+m+" 0 R"),a.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,i,o){var c={title:i,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=a.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,i){for(var o=0;o<i.children.length;o++)s.count++,this.count_r(s,i.children[o]);return s.count}}])})(zt.API),(function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(a,s,i,o,c,d){var h,f=this.decode.DCT_DECODE,p=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=c||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,h=(function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),v=g.length,N={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=m,r.indexOf(g.charCodeAt(w+1))!==-1){b=256*g.charCodeAt(w+5)+g.charCodeAt(w+6),N={width:256*g.charCodeAt(w+7)+g.charCodeAt(w+8),height:b,numcomponents:g.charCodeAt(w+9)};break}m=256*g.charCodeAt(w+2)+g.charCodeAt(w+3)}return N})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}p={data:a,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:s,alias:i}}return p}})(zt.API),zt.API.processPNG=function(t,r,a,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=UO(t,{checkCrc:!0}),c=o.width,d=o.height,h=o.channels,f=o.palette,p=o.depth;i=f&&h===1?(function(P){for(var z=P.width,M=P.height,C=P.data,U=P.palette,B=P.depth,X=!1,ue=[],J=[],re=void 0,oe=!1,ve=0,Ne=0;Ne<U.length;Ne++){var q=Lv(U[Ne],4),L=q[0],G=q[1],V=q[2],K=q[3];ue.push(L,G,V),K!=null&&(K===0?(ve++,J.length<1&&J.push(Ne)):K<255&&(oe=!0))}if(oe||ve>1){X=!0,J=void 0;var ne=z*M;re=new Uint8Array(ne);for(var ye=new DataView(C.buffer),ke=0;ke<ne;ke++){var Se=yg(ye,ke,B),_e=Lv(U[Se],4)[3];re[ke]=_e}}else ve===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:C,alphaBytes:re,needSMask:X,palette:ue,mask:J}})(o):h===2||h===4?(function(P){for(var z=P.data,M=P.width,C=P.height,U=P.channels,B=P.depth,X=U===2?"DeviceGray":"DeviceRGB",ue=U-1,J=M*C,re=ue,oe=J*re,ve=1*J,Ne=Math.ceil(oe*B/8),q=Math.ceil(ve*B/8),L=new Uint8Array(Ne),G=new Uint8Array(q),V=new DataView(z.buffer),K=new DataView(L.buffer),ne=new DataView(G.buffer),ye=!1,ke=0;ke<J;ke++){for(var Se=ke*U,_e=0;_e<re;_e++)ON(K,yg(V,Se+_e,B),ke*re+_e,B);var Je=yg(V,Se+re,B);Je<(1<<B)-1&&(ye=!0),ON(ne,Je,1*ke,B)}return{colorSpace:X,colorsPerPixel:ue,sMaskBitsPerComponent:ye?B:void 0,colorBytes:L,alphaBytes:G,needSMask:ye}})(o):(function(P){var z=P.data,M=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?(function(C){for(var U=C.length,B=new Uint8Array(2*U),X=new DataView(B.buffer,B.byteOffset,B.byteLength),ue=0;ue<U;ue++)X.setUint16(2*ue,C[ue],!1);return B})(z):z,needSMask:!1}})(o);var g,b,m,v=i,N=v.colorSpace,w=v.colorsPerPixel,A=v.sMaskBitsPerComponent,E=v.colorBytes,T=v.alphaBytes,_=v.needSMask,O=v.palette,W=v.mask,F=null;return s!==zt.API.image_compression.NONE&&typeof Hg=="function"?(F=(function(P){var z;switch(P){case zt.API.image_compression.FAST:z=11;break;case zt.API.image_compression.MEDIUM:z=13;break;case zt.API.image_compression.SLOW:z=14;break;default:z=12}return z})(s),g=this.decode.FLATE_DECODE,b="/Predictor ".concat(F," /Colors ").concat(w," /BitsPerComponent ").concat(p," /Columns ").concat(c),t=TN(E,Math.ceil(c*w*p/8),w,p,s),_&&(m=TN(T,Math.ceil(c*A/8),1,A,s))):(g=void 0,b=void 0,t=E,_&&(m=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:a,data:t,index:r,filter:g,decodeParameters:b,transparency:W,palette:O,sMask:m,predictor:F,width:c,height:d,bitsPerComponent:p,sMaskBitsPerComponent:A,colorSpace:N}}},(function(t){t.processGIF89A=function(r,a,s,i){var o=new oP(r),c=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},p=new vg(100).encode(f,100);return t.processJPEG.call(this,p,a,s,i)},t.processGIF87A=t.processGIF89A})(zt.API),Ll.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:i,green:s,blue:a,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ll.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,r=this.width*this.height*4;if(r>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(r);try{this[t]()}catch(a){Na.log("bit decode error:"+a)}},Ll.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),a=r%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<r;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*i*4,d=0;d<8&&8*i+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}a!==0&&(this.pos+=4-a)}},Ll.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*i*4,d=o>>4,h=15&o,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}r!==0&&(this.pos+=4-r)}},Ll.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+4*s;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ll.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&r)/r*255|0,d=(o>>5&r)/r*255|0,h=(o>>10&r)/r*255|0,f=o>>15?255:0,p=s*this.width*4+4*i;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=f}this.pos+=t}},Ll.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&r)/r*255|0,h=(c>>5&a)/a*255|0,f=(c>>11)/r*255|0,p=i*this.width*4+4*o;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=d,this.data[p+3]=255}this.pos+=t}},Ll.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*a;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},Ll.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*a;this.data[d]=o,this.data[d+1]=i,this.data[d+2]=s,this.data[d+3]=c}},Ll.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(r,a,s,i){var o=new Ll(r,!1),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new vg(100).encode(h,100);return t.processJPEG.call(this,f,a,s,i)}})(zt.API),IN.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(r,a,s,i){var o=new IN(r),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new vg(100).encode(h,100);return t.processJPEG.call(this,f,a,s,i)}})(zt.API),zt.API.processRGBA=function(t,r,a){for(var s=t.data,i=s.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),d=0,h=0,f=0;f<i;f+=4){var p=s[f],g=s[f+1],b=s[f+2],m=s[f+3];o[d++]=p,o[d++]=g,o[d++]=b,c[h++]=m}var v=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:v,index:r,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},zt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},W0=zt.API,fp=W0.getCharWidthsArray=function(t,r){var a,s,i=(r=r||{}).font||this.internal.getFont(),o=r.fontSize||this.internal.getFontSize(),c=r.charSpace||this.internal.getCharSpace(),d=r.widths?r.widths:i.metadata.Unicode.widths,h=d.fof?d.fof:1,f=r.kerning?r.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,g=r.doKerning!==!1,b=0,m=t.length,v=0,N=d[0]||h,w=[];for(a=0;a<m;a++)s=t.charCodeAt(a),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(b=g&&la(f[s])==="object"&&!isNaN(parseInt(f[s][v],10))?f[s][v]/p:0,w.push((d[s]||N)/h+b)),v=s;return w},AN=W0.getStringUnitWidth=function(t,r){var a=(r=r||{}).fontSize||this.internal.getFontSize(),s=r.font||this.internal.getFont(),i=r.charSpace||this.internal.getCharSpace();return W0.processArabic&&(t=W0.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,a,i)/a:fp.apply(this,arguments).reduce(function(o,c){return o+c},0)},_N=function(t,r,a,s){for(var i=[],o=0,c=t.length,d=0;o!==c&&d+r[o]<a;)d+=r[o],o++;i.push(t.slice(0,o));var h=o;for(d=0;o!==c;)d+r[o]>s&&(i.push(t.slice(h,o)),d=0,h=o),d+=r[o],o++;return h!==o&&i.push(t.slice(h,o)),i},CN=function(t,r,a){a||(a={});var s,i,o,c,d,h,f,p=[],g=[p],b=a.textIndent||0,m=0,v=0,N=t.split(" "),w=fp.apply(this,[" ",a])[0];if(h=a.lineIndent===-1?N[0].length+2:a.lineIndent||0){var A=Array(h).join(" "),E=[];N.map(function(_){(_=_.split(/\s*\n/)).length>1?E=E.concat(_.map(function(O,W){return(W&&O.length?`
`:"")+O})):E.push(_[0])}),N=E,h=AN.apply(this,[A,a])}for(o=0,c=N.length;o<c;o++){var T=0;if(s=N[o],h&&s[0]==`
`&&(s=s.substr(1),T=1),b+m+(v=(i=fp.apply(this,[s,a])).reduce(function(_,O){return _+O},0))>r||T){if(v>r){for(d=_N.apply(this,[s,i,r-(b+m),r]),p.push(d.shift()),p=[d.pop()];d.length;)g.push([d.shift()]);v=i.slice(s.length-(p[0]?p[0].length:0)).reduce(function(_,O){return _+O},0)}else p=[s];g.push(p),b=v+h,m=w}else p.push(s),b+=m+v,m=w}return f=h?function(_,O){return(O?A:"")+_.join(" ")}:function(_){return _.join(" ")},g.map(f)},W0.splitTextToSize=function(t,r,a){var s,i=(a=a||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return g.metadata[b]?{widths:g.metadata[b].widths||{0:1},kerning:g.metadata[b].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*r/i;o.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=a.lineIndent;var d,h,f=[];for(d=0,h=s.length;d<h;d++)f=f.concat(CN.apply(this,[s[d],c,o]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="0123456789abcdef",a="klmnopqrstuvwxyz",s={},i={},o=0;o<16;o++)s[a[o]]=r[o],i[r[o]]=a[o];var c=function(b){return"0x"+parseInt(b,10).toString(16)},d=t.__fontmetrics__.compress=function(b){var m,v,N,w,A=["{"];for(var E in b){if(m=b[E],isNaN(parseInt(E,10))?v="'"+E+"'":(E=parseInt(E,10),v=(v=c(E).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof m=="number")m<0?(N=c(m).slice(3),w="-"):(N=c(m).slice(2),w=""),N=w+N.slice(0,-1)+i[N.slice(-1)];else{if(la(m)!=="object")throw new Error("Don't know what to do with value type "+la(m)+".");N=d(m)}A.push(v+N)}return A.push("}"),A.join("")},h=t.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,v,N,w,A={},E=1,T=A,_=[],O="",W="",F=b.length-1,P=1;P<F;P+=1)(w=b[P])=="'"?m?(N=m.join(""),m=void 0):m=[]:m?m.push(w):w=="{"?(_.push([T,N]),T={},N=void 0):w=="}"?((v=_.pop())[0][v[1]]=T,N=void 0,T=v[0]):w=="-"?E=-1:N===void 0?s.hasOwnProperty(w)?(O+=s[w],N=parseInt(O,16)*E,E=1,O=""):O+=w:s.hasOwnProperty(w)?(W+=s[w],T[N]=parseInt(W,16)*E,E=1,N=void 0,W=""):W+=w;return A},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},g={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(b){var m=b.font,v=g.Unicode[m.postScriptName];v&&(m.metadata.Unicode={},m.metadata.Unicode.widths=v.widths,m.metadata.Unicode.kerning=v.kerning);var N=p.Unicode[m.postScriptName];N&&(m.metadata.Unicode.encoding=N,m.encoding=N.codePages[0])}])})(zt.API),(function(t){var r=function(a){for(var s=a.length,i=new Uint8Array(s),o=0;o<s;o++)i[o]=a.charCodeAt(o);return i};t.API.events.push(["addFont",function(a){var s=void 0,i=a.font,o=a.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?r(d):r(Np(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,s)}}])})(zt),zt.API.addSvgAsImage=function(t,r,a,s,i,o,c,d){if(isNaN(r)||isNaN(a))throw Na.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Na.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(dr.canvg?Promise.resolve(dr.canvg):Qm(()=>import("./index.es-DfL385YS.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),r,a,s,i,c,d)})},zt.API.putTotalPages=function(t){var r,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),a=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(r,a);return this},zt.API.viewerPreferences=function(t,r){var a;t=t||{},r=r||!1;var s,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,p=0,g=0;function b(v,N){var w,A=!1;for(w=0;w<v.length;w+=1)v[w]===N&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var m=d.length;for(g=0;g<m;g+=1)a[d[g]].value=a[d[g]].defaultValue,a[d[g]].explicitSet=!1}if(la(t)==="object"){for(i in t)if(o=t[i],b(d,i)&&o!==void 0){if(a[i].type==="boolean"&&typeof o=="boolean")a[i].value=o;else if(a[i].type==="name"&&b(a[i].valueSet,o))a[i].value=o;else if(a[i].type==="integer"&&Number.isInteger(o))a[i].value=o;else if(a[i].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(p=0;p<o[f].length;p+=1)typeof o[f][p]!="number"&&(s=!1);s===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}a[i].value="["+h.join(" ")+"]"}else a[i].value=a[i].defaultValue;a[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,N=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?N.push("/"+v+" /"+a[v].value):N.push("/"+v+" "+a[v].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},zt.API.addMetadata=function(t,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:r??"http://jspdf.default.namespaceuri/",rawXml:typeof r=="boolean"&&r},this.internal.events.subscribe("putCatalog",dP),this.internal.events.subscribe("postPutResources",cP)),this},(function(t){var r=t.API,a=r.pdfEscape16=function(o,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],g=0,b=o.length;g<b;++g){if(d=c.metadata.characterToGlyph(o.charCodeAt(g)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(g),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return p.join("");d=d.toString(16),p.push(f[4-d.length],d)}return p.join("")},s=function(o){var c,d,h,f,p,g,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],g=0,b=(d=Object.keys(o).sort(function(m,v){return m-v})).length;g<b;g++)c=d[g],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var g=d.metadata.Unicode.widths,b=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),m="",v=0;v<b.length;v++)m+=String.fromCharCode(b[v]);var N=f();p({data:m,addLength1:!0,objectId:N}),h("endobj");var w=f();p({data:s(d.metadata.toUnicode),addLength1:!0,objectId:w}),h("endobj");var A=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+ru(d.fontName)),h("/FontFile2 "+N+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var E=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+ru(d.fontName)),h("/FontDescriptor "+A+" 0 R"),h("/W "+t.API.PDFObject.convert(g)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+w+" 0 R"),h("/BaseFont /"+ru(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+E+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),r.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var g=d.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var v=f();p({data:b,addLength1:!0,objectId:v}),h("endobj");var N=f();p({data:s(d.metadata.toUnicode),addLength1:!0,objectId:N}),h("endobj");var w=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+v+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+ru(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var A=0;A<d.metadata.hmtx.widths.length;A++)d.metadata.hmtx.widths[A]=parseInt(d.metadata.hmtx.widths[A]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+ru(d.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,d=o.text||"",h=o.x,f=o.y,p=o.options||{},g=o.mutex||{},b=g.pdfEscape,m=g.activeFontKey,v=g.fonts,N=m,w="",A=0,E="",T=v[N].encoding;if(v[N].encoding!=="Identity-H")return{text:d,x:h,y:f,options:p,mutex:g};for(E=d,N=m,Array.isArray(d)&&(E=d[0]),A=0;A<E.length;A+=1)v[N].metadata.hasOwnProperty("cmap")&&(c=v[N].metadata.cmap.unicode.codeMap[E[A].charCodeAt(0)]),c||E[A].charCodeAt(0)<256&&v[N].metadata.hasOwnProperty("Unicode")?w+=E[A]:w+="";var _="";return parseInt(N.slice(1))<14||T==="WinAnsiEncoding"?_=b(w,N).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(_=a(w,v[N])),g.isHex=!0,{text:_,x:h,y:f,options:p,mutex:g}};r.events.push(["postProcessText",function(o){var c=o.text||"",d=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([i(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(i(Object.assign({},h,{text:c[f]})).text);o.text=d}else o.text=i(Object.assign({},h,{text:c})).text}])})(zt),(function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0},t.addFileToVFS=function(a,s){return r.call(this),this.internal.vFS[a]=s,this},t.getFileFromVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(zt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var i,o,c,d,h,f,p,g=r,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,T=0;this.__bidiEngine__={};var _=function(C){var U=C.charCodeAt(),B=U>>8,X=N[B];return X!==void 0?g[256*X+(255&U)]:B===252||B===253?"AL":A.test(B)?"L":B===8?"R":"N"},O=function(C){for(var U,B=0;B<C.length;B++){if((U=_(C.charAt(B)))==="L")return!1;if(U==="R")return!0}return!1},W=function(C,U,B,X){var ue,J,re,oe,ve=U[X];switch(ve){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ve="AN");break;case"AL":E=!0,ve="R";break;case"WS":case"BN":ve="N";break;case"CS":X<1||X+1>=U.length||(ue=B[X-1])!=="EN"&&ue!=="AN"||(J=U[X+1])!=="EN"&&J!=="AN"?ve="N":E&&(J="AN"),ve=J===ue?J:"N";break;case"ES":ve=(ue=X>0?B[X-1]:"B")==="EN"&&X+1<U.length&&U[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&B[X-1]==="EN"){ve="EN";break}if(E){ve="N";break}for(re=X+1,oe=U.length;re<oe&&U[re]==="ET";)re++;ve=re<oe&&U[re]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(oe=U.length,re=X+1;re<oe&&U[re]==="NSM";)re++;if(re<oe){var Ne=C[X],q=Ne>=1425&&Ne<=2303||Ne===64286;if(ue=U[re],q&&(ue==="R"||ue==="AL")){ve="R";break}}}ve=X<1||(ue=U[X-1])==="B"?"N":B[X-1];break;case"B":E=!1,i=!0,ve=T;break;case"S":o=!0,ve="N"}return ve},F=function(C,U,B){var X=C.split("");return B&&P(X,B,{hiLevel:T}),X.reverse(),U&&U.reverse(),X.join("")},P=function(C,U,B){var X,ue,J,re,oe,ve=-1,Ne=C.length,q=0,L=[],G=T?m:b,V=[];for(E=!1,i=!1,o=!1,ue=0;ue<Ne;ue++)V[ue]=_(C[ue]);for(J=0;J<Ne;J++){if(oe=q,L[J]=W(C,V,L,J),X=240&(q=G[oe][v[L[J]]]),q&=15,U[J]=re=G[q][5],X>0)if(X===16){for(ue=ve;ue<J;ue++)U[ue]=1;ve=-1}else ve=-1;if(G[q][6])ve===-1&&(ve=J);else if(ve>-1){for(ue=ve;ue<J;ue++)U[ue]=re;ve=-1}V[J]==="B"&&(U[J]=0),B.hiLevel|=re}o&&(function(K,ne,ye){for(var ke=0;ke<ye;ke++)if(K[ke]==="S"){ne[ke]=T;for(var Se=ke-1;Se>=0&&K[Se]==="WS";Se--)ne[Se]=T}})(V,U,Ne)},z=function(C,U,B,X,ue){if(!(ue.hiLevel<C)){if(C===1&&T===1&&!i)return U.reverse(),void(B&&B.reverse());for(var J,re,oe,ve,Ne=U.length,q=0;q<Ne;){if(X[q]>=C){for(oe=q+1;oe<Ne&&X[oe]>=C;)oe++;for(ve=q,re=oe-1;ve<re;ve++,re--)J=U[ve],U[ve]=U[re],U[re]=J,B&&(J=B[ve],B[ve]=B[re],B[re]=J);q=oe}q++}}},M=function(C,U,B){var X=C.split(""),ue={hiLevel:T};return B||(B=[]),P(X,B,ue),(function(J,re,oe){if(oe.hiLevel!==0&&p)for(var ve,Ne=0;Ne<J.length;Ne++)re[Ne]===1&&(ve=w.indexOf(J[Ne]))>=0&&(J[Ne]=w[ve+1])})(X,B,ue),z(2,X,U,B,ue),z(1,X,U,B,ue),X.join("")};return this.__bidiEngine__.doBidiReorder=function(C,U,B){if((function(ue,J){if(J)for(var re=0;re<ue.length;re++)J[re]=re;d===void 0&&(d=O(ue)),f===void 0&&(f=O(ue))})(C,U),c||!h||f)if(c&&h&&d^f)T=d?1:0,C=F(C,U,B);else if(!c&&h&&f)T=d?1:0,C=M(C,U,B),C=F(C,U);else if(!c||d||h||f){if(c&&!h&&d^f)C=F(C,U),d?(T=0,C=M(C,U,B)):(T=1,C=M(C,U,B),C=F(C,U));else if(c&&d&&!h&&f)T=1,C=M(C,U,B),C=F(C,U);else if(!c&&!h&&d^f){var X=p;d?(T=1,C=M(C,U,B),T=0,p=!1,C=M(C,U,B),p=X):(T=0,C=M(C,U,B),C=F(C,U),T=1,p=!1,C=M(C,U,B),p=X,C=F(C,U))}}else T=0,C=M(C,U,B);else T=d?1:0,C=M(C,U,B);return C},this.__bidiEngine__.setOptions=function(C){C&&(c=C.isInputVisual,h=C.isOutputVisual,d=C.isInputRtl,f=C.isOutputRtl,p=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,a.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var d=0;for(c=[],d=0;d<i.length;d+=1)Object.prototype.toString.call(i[d])==="[object Array]"?c.push([a.doBidiReorder(i[d][0]),i[d][1],i[d][2]]):c.push([a.doBidiReorder(i[d])]);s.text=c}else s.text=a.doBidiReorder(i);a.setOptions({isInputVisual:!0})}])})(zt),zt.API.TTFFont=(function(){function t(r){var a;if(this.rawData=r,a=this.contents=new Zc(r),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new EP(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new uP(this.contents),this.head=new hP(this),this.name=new bP(this),this.cmap=new Aj(this),this.toUnicode={},this.hhea=new pP(this),this.maxp=new yP(this),this.hmtx=new vP(this),this.post=new mP(this),this.os2=new xP(this),this.loca=new SP(this),this.glyf=new NP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,a,s,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)r=h[c],f.push(Math.round(r*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),32768&(a=i>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var a;return((a=this.cmap.unicode)!=null?a.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*a},t.prototype.widthOfString=function(r,a,s){var i,o,c,d;for(c=0,o=0,d=(r=""+r).length;0<=d?o<d:o>d;o=0<=d?++o:--o)i=r.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/a)||0;return c*(a/1e3)},t.prototype.lineHeight=function(r,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*r},t})();var Ul,Zc=(function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var a,s;for(s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(r){var a,s,i;for(i=[],a=0,s=r.length;0<=s?a<s:a>s;a=0<=s?++a:--a)i.push(this.writeByte(r.charCodeAt(a)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,a,s,i,o,c,d,h;return r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*r+281474976710656*a+1099511627776*s+4294967296*i+16777216*o+65536*c+256*d+h},t.prototype.writeLongLong=function(r){var a,s;return a=Math.floor(r/4294967296),s=4294967295&r,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var a,s;for(a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push(this.readByte());return a},t.prototype.write=function(r){var a,s,i,o;for(o=[],s=0,i=r.length;s<i;s++)a=r[s],o.push(this.writeByte(a));return o},t})(),uP=(function(){var t;function r(a){var s,i,o;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return r.prototype.encode=function(a){var s,i,o,c,d,h,f,p,g,b,m,v,N;for(N in m=Object.keys(a).length,h=Math.log(2),g=16*Math.floor(Math.log(m)/h),c=Math.floor(g/h),p=16*m-g,(i=new Zc).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(c),i.writeShort(p),o=16*m,f=i.pos+o,d=null,v=[],a)for(b=a[N],i.writeString(N),i.writeInt(t(b)),i.writeInt(f),i.writeInt(b.length),v=v.concat(b),N==="head"&&(d=f),f+=b.length;f%4;)v.push(0),f++;return i.write(v),s=2981146554-t(i.data),i.pos=d+8,i.writeUInt32(s),i.data},t=function(a){var s,i,o,c;for(a=_j.call(a);a.length%4;)a.push(0);for(o=new Zc(a),i=0,s=0,c=a.length;s<c;s=s+=4)i+=o.readUInt32();return 4294967295&i},r})(),fP={}.hasOwnProperty,go=function(t,r){for(var a in r)fP.call(r,a)&&(t[a]=r[a]);function s(){this.constructor=t}return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t};Ul=(function(){function t(r){var a;this.file=r,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var hP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var a;return(a=new Zc).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},t})(),MN=(function(){function t(r,a){var s,i,o,c,d,h,f,p,g,b,m,v,N,w,A,E,T;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=a+r.readInt(),g=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=r.readByte();break;case 4:for(m=r.readUInt16(),b=m/2,r.pos+=6,o=(function(){var _,O;for(O=[],h=_=0;0<=b?_<b:_>b;h=0<=b?++_:--_)O.push(r.readUInt16());return O})(),r.pos+=2,N=(function(){var _,O;for(O=[],h=_=0;0<=b?_<b:_>b;h=0<=b?++_:--_)O.push(r.readUInt16());return O})(),f=(function(){var _,O;for(O=[],h=_=0;0<=b?_<b:_>b;h=0<=b?++_:--_)O.push(r.readUInt16());return O})(),p=(function(){var _,O;for(O=[],h=_=0;0<=b?_<b:_>b;h=0<=b?++_:--_)O.push(r.readUInt16());return O})(),i=(this.length-r.pos+this.offset)/2,d=(function(){var _,O;for(O=[],h=_=0;0<=i?_<i:_>i;h=0<=i?++_:--_)O.push(r.readUInt16());return O})(),h=A=0,T=o.length;A<T;h=++A)for(w=o[h],s=E=v=N[h];v<=w?E<=w:E>=w;s=v<=w?++E:--E)p[h]===0?c=s+f[h]:(c=d[p[h]/2+(s-v)-(b-h)]||0)!==0&&(c+=f[h]),this.codeMap[s]=65535&c}r.pos=g}return t.encode=function(r,a){var s,i,o,c,d,h,f,p,g,b,m,v,N,w,A,E,T,_,O,W,F,P,z,M,C,U,B,X,ue,J,re,oe,ve,Ne,q,L,G,V,K,ne,ye,ke,Se,_e,Je,nt;switch(X=new Zc,c=Object.keys(r).sort(function(mt,ht){return mt-ht}),a){case"macroman":for(N=0,w=(function(){var mt=[];for(v=0;v<256;++v)mt.push(0);return mt})(),E={0:0},o={},ue=0,ve=c.length;ue<ve;ue++)E[Se=r[i=c[ue]]]==null&&(E[Se]=++N),o[i]={old:r[i],new:E[r[i]]},w[i]=E[r[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(w),{charMap:o,subtable:X.data,maxGlyphID:N+1};case"unicode":for(U=[],g=[],T=0,E={},s={},A=f=null,J=0,Ne=c.length;J<Ne;J++)E[O=r[i=c[J]]]==null&&(E[O]=++T),s[i]={old:O,new:E[O]},d=E[O]-i,A!=null&&d===f||(A&&g.push(A),U.push(i),f=d),A=i;for(A&&g.push(A),g.push(65535),U.push(65535),M=2*(z=U.length),P=2*Math.pow(Math.log(z)/Math.LN2,2),b=Math.log(P/2)/Math.LN2,F=2*z-P,h=[],W=[],m=[],v=re=0,q=U.length;re<q;v=++re){if(C=U[v],p=g[v],C===65535){h.push(0),W.push(0);break}if(C-(B=s[C].new)>=32768)for(h.push(0),W.push(2*(m.length+z-v)),i=oe=C;C<=p?oe<=p:oe>=p;i=C<=p?++oe:--oe)m.push(s[i].new);else h.push(B-C),W.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*z+2*m.length),X.writeUInt16(0),X.writeUInt16(M),X.writeUInt16(P),X.writeUInt16(b),X.writeUInt16(F),ye=0,L=g.length;ye<L;ye++)i=g[ye],X.writeUInt16(i);for(X.writeUInt16(0),ke=0,G=U.length;ke<G;ke++)i=U[ke],X.writeUInt16(i);for(_e=0,V=h.length;_e<V;_e++)d=h[_e],X.writeUInt16(d);for(Je=0,K=W.length;Je<K;Je++)_=W[Je],X.writeUInt16(_);for(nt=0,ne=m.length;nt<ne;nt++)N=m[nt],X.writeUInt16(N);return{charMap:s,subtable:X.data,maxGlyphID:T+1}}},t})(),Aj=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="cmap",t.prototype.parse=function(r){var a,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)a=new MN(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(r,a){var s,i;return a==null&&(a="macroman"),s=MN.encode(r,a),(i=new Zc).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t})(),pP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),xP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var a,s;for(s=[],a=0;a<10;++a)s.push(r.readByte());return s})(),this.charRange=(function(){var a,s;for(s=[],a=0;a<4;++a)s.push(r.readInt());return s})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(r.readInt());return s})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),mP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="post",t.prototype.parse=function(r){var a,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)a=r.readByte(),i.push(this.names.push(r.readString(a)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 262144:return this.map=(function(){var c,d,h;for(h=[],o=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;o=0<=d?++c:--c)h.push(r.readUInt32());return h}).call(this)}},t})(),gP=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},bP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="name",t.prototype.parse=function(r){var a,s,i,o,c,d,h,f,p,g,b;for(r.pos=this.offset,r.readShort(),a=r.readShort(),d=r.readShort(),s=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+d+r.readShort()});for(h={},o=p=0,g=s.length;p<g;o=++p)i=s[o],r.pos=i.offset,f=r.readString(i.length),c=new gP(f,i),h[b=i.nameID]==null&&(h[b]=[]),h[i.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t})(),yP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),vP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="hmtx",t.prototype.parse=function(r){var a,s,i,o,c,d,h;for(r.pos=this.offset,this.metrics=[],a=0,d=this.file.hhea.numberOfMetrics;0<=d?a<d:a>d;a=0<=d?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],a=f=0;0<=i?f<i:f>i;a=0<=i?++f:--f)p.push(r.readInt16());return p})(),this.widths=(function(){var f,p,g,b;for(b=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],b.push(o.advance);return b}).call(this),s=this.widths[this.widths.length-1],h=[],a=c=0;0<=i?c<i:c>i;a=0<=i?++c:--c)h.push(this.widths.push(s));return h},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),_j=[].slice,NP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var a,s,i,o,c,d,h,f,p,g;return r in this.cache?this.cache[r]:(o=this.file.loca,a=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+s,c=(d=new Zc(a.read(i))).readShort(),f=d.readShort(),g=d.readShort(),h=d.readShort(),p=d.readShort(),this.cache[r]=c===-1?new jP(d,f,g,h,p):new wP(d,c,f,g,h,p),this.cache[r]))},t.prototype.encode=function(r,a,s){var i,o,c,d,h;for(c=[],o=[],d=0,h=a.length;d<h;d++)i=r[a[d]],o.push(c.length),i&&(c=c.concat(i.encode(s)));return o.push(c.length),{table:c,offsets:o}},t})(),wP=(function(){function t(r,a,s,i,o,c){this.raw=r,this.numberOfContours=a,this.xMin=s,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),jP=(function(){function t(r,a,s,i,o){var c,d;for(this.raw=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var r,a,s;for(a=new Zc(_j.call(this.raw.data)),r=0,s=this.glyphIDs.length;r<s;++r)a.pos=this.glyphOffsets[r];return a.data},t})(),SP=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return go(t,Ul),t.prototype.tag="loca",t.prototype.parse=function(r){var a,s;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,a){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<s.length;++c)if(s[c]=i,o<a.length&&a[o]==c){++o,s[c]=i;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(i+=h)}for(var f=new Array(4*s.length),p=0;p<s.length;++p)f[4*p+3]=255&s[p],f[4*p+2]=(65280&s[p])>>8,f[4*p+1]=(16711680&s[p])>>16,f[4*p]=(4278190080&s[p])>>24;return f},t})(),EP=(function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,a,s,i,o;for(a in i=this.font.cmap.tables[0].codeMap,r={},o=this.subset)s=o[a],r[a]=i[s];return r},t.prototype.glyphsFor=function(r){var a,s,i,o,c,d,h;for(i={},c=0,d=r.length;c<d;c++)i[o=r[c]]=this.font.glyf.glyphFor(o);for(o in a=[],i)(s=i[o])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(o in h=this.glyphsFor(a))s=h[o],i[o]=s;return i},t.prototype.encode=function(r,a){var s,i,o,c,d,h,f,p,g,b,m,v,N,w,A;for(i in s=Aj.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(r),m={0:0},A=s.charMap)m[(h=A[i]).old]=h.new;for(v in b=s.maxGlyphID,c)v in m||(m[v]=b++);return p=(function(E){var T,_;for(T in _={},E)_[E[T]]=T;return _})(m),g=Object.keys(p).sort(function(E,T){return E-T}),N=(function(){var E,T,_;for(_=[],E=0,T=g.length;E<T;E++)d=g[E],_.push(p[d]);return _})(),o=this.font.glyf.encode(c,N,m),f=this.font.loca.encode(o.offsets,N),w={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();zt.API.PDFObject=(function(){var t;function r(){}return t=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},r.convert=function(a){var s,i,o,c;if(Array.isArray(a))return"["+(function(){var d,h,f;for(f=[],d=0,h=a.length;d<h;d++)s=a[d],f.push(r.convert(s));return f})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+t(a.getUTCFullYear(),4)+t(a.getUTCMonth(),2)+t(a.getUTCDate(),2)+t(a.getUTCHours(),2)+t(a.getUTCMinutes(),2)+t(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(i in o=["<<"],a)c=a[i],o.push("/"+i+" "+r.convert(c));return o.push(">>"),o.join(`
`)}return""+a},r})();function Cj(t,r,a,s,i){s=s||{};var o=1.15,c=i.internal.scaleFactor,d=i.internal.getFontSize()/c,h=i.getLineHeightFactor?i.getLineHeightFactor():o,f=d*h,p=/\r\n|\r|\n/g,g="",b=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(g=typeof t=="string"?t.split(p):t,b=g.length||1),a+=d*(2-o),s.valign==="middle"?a-=b/2*f:s.valign==="bottom"&&(a-=b*f),s.halign==="center"||s.halign==="right"){var m=d;if(s.halign==="center"&&(m*=.5),g&&b>=1){for(var v=0;v<g.length;v++)i.text(g[v],r-i.getStringUnitWidth(g[v])*m,a),a+=f;return i}r-=i.getStringUnitWidth(t)*m}return s.halign==="justify"?i.text(t,r,a,{maxWidth:s.maxWidth||100,align:"justify"}):i.text(t,r,a),i}var BN={},hu=(function(){function t(r){this.jsPDFDocument=r,this.userStyles={textColor:r.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:r.internal.getFontSize(),fontStyle:r.internal.getFont().fontStyle,font:r.internal.getFont().fontName,lineWidth:r.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:r.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(r,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=r:BN=r},t.unifyColor=function(r){return Array.isArray(r)?r:typeof r=="number"?[r,r,r]:typeof r=="string"?[r]:null},t.prototype.applyStyles=function(r,a){var s,i,o;a===void 0&&(a=!1),r.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(r.fontStyle);var c=this.jsPDFDocument.internal.getFont(),d=c.fontStyle,h=c.fontName;if(r.font&&(h=r.font),r.fontStyle){d=r.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),d=f[0])}if(this.jsPDFDocument.setFont(h,d),r.fontSize&&this.jsPDFDocument.setFontSize(r.fontSize),!a){var p=t.unifyColor(r.fillColor);p&&(s=this.jsPDFDocument).setFillColor.apply(s,p),p=t.unifyColor(r.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=t.unifyColor(r.lineColor),p&&(o=this.jsPDFDocument).setDrawColor.apply(o,p),typeof r.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(r.lineWidth)}},t.prototype.splitTextToSize=function(r,a,s){return this.jsPDFDocument.splitTextToSize(r,a,s)},t.prototype.rect=function(r,a,s,i,o){return this.jsPDFDocument.rect(r,a,s,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(r){return this.jsPDFDocument.getTextWidth(r)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(r){this.jsPDFDocument.setPage(r)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return BN||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var r=this.jsPDFDocument.internal.pageSize;return r.width==null&&(r={width:r.getWidth(),height:r.getHeight()}),r},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var r=this.jsPDFDocument;return r.getLineHeightFactor?r.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(r){return r/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var r=this.jsPDFDocument.internal.getCurrentPageInfo();return r?r.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),Jg=function(t,r){return Jg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},Jg(t,r)};function Tj(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Jg(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}var Dj=(function(t){Tj(r,t);function r(a){var s=t.call(this)||this;return s._element=a,s}return r})(Array);function kP(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function AP(t){var r={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return r[t]}function Zp(t,r,a){a.applyStyles(r,!0);var s=Array.isArray(t)?t:[t],i=s.map(function(o){return a.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return i}function Lj(t,r,a,s){var i=r.settings.tableLineWidth,o=r.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var c=Rj(i,!1);c&&t.rect(a.x,a.y,r.getWidth(t.pageSize().width),s.y-a.y,c)}function Rj(t,r){var a=t>0,s=r||r===0;return a&&s?"DF":a?"S":s?"F":null}function vx(t,r){var a,s,i,o;if(t=t||r,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=r}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(a=t.left)!==null&&a!==void 0?a:r,top:(s=t.top)!==null&&s!==void 0?s:r,right:(i=t.right)!==null&&i!==void 0?i:r,bottom:(o=t.bottom)!==null&&o!==void 0?o:r}):(typeof t!="number"&&(t=r),{top:t,right:t,bottom:t,left:t})}function Fj(t,r){var a=vx(r.settings.margin,0);return t.pageSize().width-(a.left+a.right)}function _P(t,r,a,s,i){var o={},c=1.3333333333333333,d=Ng(r,function(T){return i.getComputedStyle(T).backgroundColor});d!=null&&(o.fillColor=d);var h=Ng(r,function(T){return i.getComputedStyle(T).color});h!=null&&(o.textColor=h);var f=TP(s,a);f&&(o.cellPadding=f);var p="borderTopColor",g=c*a,b=s.borderTopWidth;if(s.borderBottomWidth===b&&s.borderRightWidth===b&&s.borderLeftWidth===b){var m=(parseFloat(b)||0)/g;m&&(o.lineWidth=m)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/g,right:(parseFloat(s.borderRightWidth)||0)/g,bottom:(parseFloat(s.borderBottomWidth)||0)/g,left:(parseFloat(s.borderLeftWidth)||0)/g},o.lineWidth.top||(o.lineWidth.right?p="borderRightColor":o.lineWidth.bottom?p="borderBottomColor":o.lineWidth.left&&(p="borderLeftColor"));var v=Ng(r,function(T){return i.getComputedStyle(T)[p]});v!=null&&(o.lineColor=v);var N=["left","right","center","justify"];N.indexOf(s.textAlign)!==-1&&(o.halign=s.textAlign),N=["middle","bottom","top"],N.indexOf(s.verticalAlign)!==-1&&(o.valign=s.verticalAlign);var w=parseInt(s.fontSize||"");isNaN(w)||(o.fontSize=w/c);var A=CP(s);A&&(o.fontStyle=A);var E=(s.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(o.font=E),o}function CP(t){var r="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(r="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(r+="italic"),r}function Ng(t,r){var a=Oj(t,r);if(!a)return null;var s=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var i=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],o=parseInt(s[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Oj(t,r){var a=r(t);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?t.parentElement==null?null:Oj(t.parentElement,r):a}function TP(t,r){var a=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/r),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/r/2,o=a.map(function(d){return parseInt(d||"0")/s}),c=vx(o,0);return i>c.top&&(c.top=i),i>c.bottom&&(c.bottom=i),c}function Pj(t,r,a,s,i){var o,c;s===void 0&&(s=!1),i===void 0&&(i=!1);var d;typeof r=="string"?d=a.document.querySelector(r):d=r;var h=Object.keys(t.getFontList()),f=t.scaleFactor(),p=[],g=[],b=[];if(!d)return console.error("Html table could not be found with input: ",r),{head:p,body:g,foot:b};for(var m=0;m<d.rows.length;m++){var v=d.rows[m],N=(c=(o=v?.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),w=DP(h,f,a,v,s,i);w&&(N==="thead"?p.push(w):N==="tfoot"?b.push(w):g.push(w))}return{head:p,body:g,foot:b}}function DP(t,r,a,s,i,o){for(var c=new Dj(s),d=0;d<s.cells.length;d++){var h=s.cells[d],f=a.getComputedStyle(h);if(i||f.display!=="none"){var p=void 0;o&&(p=_P(t,h,r,f,a)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:p,_element:h,content:LP(h)})}}var g=a.getComputedStyle(s);if(c.length>0&&(i||g.display!=="none"))return c}function LP(t){var r=t.cloneNode(!0);return r.innerHTML=r.innerHTML.replace(/\n/g,"").replace(/ +/g," "),r.innerHTML=r.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),r.innerText||r.textContent||""}function RP(t,r,a){for(var s=0,i=[t,r,a];s<i.length;s++){var o=i[s];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Xo(t,r,a,s,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}return o}function Ij(t,r){var a=new hu(t),s=a.getDocumentOptions(),i=a.getGlobalOptions();RP(i,s,r);var o=Xo({},i,s,r),c;typeof window<"u"&&(c=window);var d=FP(i,s,r),h=OP(i,s,r),f=PP(a,o),p=MP(a,o,c);return{id:r.tableId,content:p,hooks:h,styles:d,settings:f}}function FP(t,r,a){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(h){if(h==="columnStyles"){var f=t[h],p=r[h],g=a[h];s.columnStyles=Xo({},f,p,g)}else{var b=[t,r,a],m=b.map(function(v){return v[h]||{}});s[h]=Xo({},m[0],m[1],m[2])}},o=0,c=Object.keys(s);o<c.length;o++){var d=c[o];i(d)}return s}function OP(t,r,a){for(var s=[t,r,a],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=s;o<c.length;o++){var d=c[o];d.didParseCell&&i.didParseCell.push(d.didParseCell),d.willDrawCell&&i.willDrawCell.push(d.willDrawCell),d.didDrawCell&&i.didDrawCell.push(d.didDrawCell),d.willDrawPage&&i.willDrawPage.push(d.willDrawPage),d.didDrawPage&&i.didDrawPage.push(d.didDrawPage)}return i}function PP(t,r){var a,s,i,o,c,d,h,f,p,g,b,m,v=vx(r.margin,40/t.scaleFactor()),N=(a=IP(t,r.startY))!==null&&a!==void 0?a:v.top,w;r.showFoot===!0?w="everyPage":r.showFoot===!1?w="never":w=(s=r.showFoot)!==null&&s!==void 0?s:"everyPage";var A;r.showHead===!0?A="everyPage":r.showHead===!1?A="never":A=(i=r.showHead)!==null&&i!==void 0?i:"everyPage";var E=(o=r.useCss)!==null&&o!==void 0?o:!1,T=r.theme||(E?"plain":"striped"),_=!!r.horizontalPageBreak,O=(c=r.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(d=r.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:E,theme:T,startY:N,margin:v,pageBreak:(h=r.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=r.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=r.tableWidth)!==null&&p!==void 0?p:"auto",showHead:A,showFoot:w,tableLineWidth:(g=r.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(b=r.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:_,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(m=r.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function IP(t,r){var a=t.getLastAutoTable(),s=t.scaleFactor(),i=t.pageNumber(),o=!1;if(a&&a.startPageNumber){var c=a.startPageNumber+a.pageNumber-1;o=c===i}return typeof r=="number"?r:(r==null||r===!1)&&o&&a?.finalY!=null?a.finalY+20/s:null}function MP(t,r,a){var s=r.head||[],i=r.body||[],o=r.foot||[];if(r.html){var c=r.includeHiddenHtml;if(a){var d=Pj(t,r.html,a,c,r.useCss)||{};s=d.head||s,i=d.body||s,o=d.foot||s}else console.error("Cannot parse html in non browser environment")}var h=r.columns||BP(s,i,o);return{columns:h,head:s,body:i,foot:o}}function BP(t,r,a){var s=t[0]||r[0]||a[0]||[],i=[];return Object.keys(s).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,d;Array.isArray(s)?d=s[parseInt(o)]:d=s[o],typeof d=="object"&&!Array.isArray(d)&&(c=d?.colSpan||1);for(var h=0;h<c;h++){var f=void 0;Array.isArray(s)?f=i.length:f=o+(h>0?"_".concat(h):"");var p={dataKey:f};i.push(p)}}),i}var Kg=(function(){function t(r,a,s){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=s,this.doc=r.getDocument()}return t})(),zP=(function(t){Tj(r,t);function r(a,s,i,o,c,d){var h=t.call(this,a,s,d)||this;return h.cell=i,h.row=o,h.column=c,h.section=o.section,h}return r})(Kg),UP=(function(){function t(r,a){this.pageNumber=1,this.id=r.id,this.settings=r.settings,this.styles=r.styles,this.hooks=r.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return t.prototype.getHeadHeight=function(r){return this.head.reduce(function(a,s){return a+s.getMaxCellHeight(r)},0)},t.prototype.getFootHeight=function(r){return this.foot.reduce(function(a,s){return a+s.getMaxCellHeight(r)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(r,a,s,i,o,c){for(var d=0,h=a;d<h.length;d++){var f=h[d],p=new zP(r,this,s,i,o,c),g=f(p)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(r,a){r.applyStyles(r.userStyles);for(var s=0,i=this.hooks.didDrawPage;s<i.length;s++){var o=i[s];o(new Kg(r,this,a))}},t.prototype.callWillDrawPageHooks=function(r,a){for(var s=0,i=this.hooks.willDrawPage;s<i.length;s++){var o=i[s];o(new Kg(r,this,a))}},t.prototype.getWidth=function(r){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return a}else{var s=this.settings.margin;return r-s.left-s.right}},t})(),Mj=(function(){function t(r,a,s,i,o){o===void 0&&(o=!1),this.height=0,this.raw=r,r instanceof Dj&&(this.raw=r._element,this.element=r._element),this.index=a,this.section=s,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(r){var a=this;return r.reduce(function(s,i){var o;return Math.max(s,((o=a.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(r){var a=this;return r.filter(function(s){var i=a.cells[s.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(r,a){return this.getMaxCellHeight(a)<=r},t.prototype.getMinimumRowHeight=function(r,a){var s=this;return r.reduce(function(i,o){var c=s.cells[o.index];if(!c)return 0;var d=a.getLineHeight(c.styles.fontSize),h=c.padding("vertical"),f=h+d;return f>i?f:i},0)},t})(),Bj=(function(){function t(r,a,s){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=s,this.raw=r;var o=r;r!=null&&typeof r=="object"&&!Array.isArray(r)?(this.rowSpan=r.rowSpan||1,this.colSpan=r.colSpan||1,o=(i=r.content)!==null&&i!==void 0?i:r,r._element&&(this.raw=r._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",d=/\r\n|\r|\n/g;this.text=c.split(d)}return t.prototype.getTextPos=function(){var r;if(this.styles.valign==="top")r=this.y+this.padding("top");else if(this.styles.valign==="bottom")r=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");r=this.y+a/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");s=this.x+i/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:r}},t.prototype.getContentHeight=function(r,a){a===void 0&&(a=1.15);var s=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/r*a,o=s*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(r){var a=vx(this.styles.cellPadding,0);return r==="vertical"?a.top+a.bottom:r==="horizontal"?a.left+a.right:a[r]},t})(),HP=(function(){function t(r,a,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=r,this.raw=a,this.index=s}return t.prototype.getMaxCustomCellWidth=function(r){for(var a=0,s=0,i=r.allRows();s<i.length;s++){var o=i[s],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(a=Math.max(a,c.styles.cellWidth))}return a},t})();function qP(t,r){GP(t,r);var a=[],s=0;r.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(r);c?o.width=c:(o.width=o.wrappedWidth,a.push(o)),s+=o.width});var i=r.getWidth(t.pageSize().width)-s;i&&(i=Zg(a,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=Zg(a,i,function(o){return o.minWidth})),i=Math.abs(i),!r.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),YP(r),VP(r,t),$P(r)}function GP(t,r){var a=t.scaleFactor(),s=r.settings.horizontalPageBreak,i=Fj(t,r);r.allRows().forEach(function(o){for(var c=0,d=r.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f){var p=r.hooks.didParseCell;r.callCellHooks(t,p,f,o,h,null);var g=f.padding("horizontal");f.contentWidth=Zp(f.text,f.styles,t)+g;var b=Zp(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||s===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var m=10/a;f.minWidth=f.styles.minCellWidth||m,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),r.allRows().forEach(function(o){for(var c=0,d=r.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var p=r.styles.columnStyles[h.dataKey]||r.styles.columnStyles[h.index]||{},g=p.cellWidth||p.minCellWidth;g&&typeof g=="number"&&(h.minWidth=g,h.wrappedWidth=g)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function Zg(t,r,a){for(var s=r,i=t.reduce(function(m,v){return m+v.wrappedWidth},0),o=0;o<t.length;o++){var c=t[o],d=c.wrappedWidth/i,h=s*d,f=c.width+h,p=a(c),g=f<p?p:f;r-=g-c.width,c.width=g}if(r=Math.round(r*1e10)/1e10,r){var b=t.filter(function(m){return r<0?m.width>a(m):!0});b.length&&(r=Zg(b,r,a))}return r}function $P(t){for(var r={},a=1,s=t.allRows(),i=0;i<s.length;i++)for(var o=s[i],c=0,d=t.columns;c<d.length;c++){var h=d[c],f=r[h.index];if(a>1)a--,delete o.cells[h.index];else if(f)f.cell.height+=o.height,a=f.cell.colSpan,delete o.cells[h.index],f.left--,f.left<=1&&delete r[h.index];else{var p=o.cells[h.index];if(!p)continue;if(p.height=o.height,p.rowSpan>1){var g=s.length-i,b=p.rowSpan>g?g:p.rowSpan;r[h.index]={cell:p,left:b,row:o}}}}}function YP(t){for(var r=t.allRows(),a=0;a<r.length;a++)for(var s=r[a],i=null,o=0,c=0,d=0;d<t.columns.length;d++){var h=t.columns[d];if(c-=1,c>1&&t.columns[d+1])o+=h.width,delete s.cells[h.index];else if(i){var f=i;delete s.cells[h.index],i=null,f.width=h.width+o}else{var f=s.cells[h.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){i=f,o+=h.width;continue}f.width=h.width+o}}}function VP(t,r){for(var a={count:0,height:0},s=0,i=t.allRows();s<i.length;s++){for(var o=i[s],c=0,d=t.columns;c<d.length;c++){var h=d[c],f=o.cells[h.index];if(f){r.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=r.splitTextToSize(f.text,p+1/r.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=zN(f.text,p,f.styles,r,"...");else if(f.styles.overflow==="hidden")f.text=zN(f.text,p,f.styles,r,"");else if(typeof f.styles.overflow=="function"){var g=f.styles.overflow(f.text,p);typeof g=="string"?f.text=[g]:f.text=g}f.contentHeight=f.getContentHeight(r.scaleFactor(),r.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&a.count*a.height<b*f.rowSpan?a={height:b,count:f.rowSpan}:a&&a.count>0&&a.height>b&&(b=a.height),b>o.height&&(o.height=b)}}a.count--}}function zN(t,r,a,s,i){return t.map(function(o){return WP(o,r,a,s,i)})}function WP(t,r,a,s,i){var o=1e4*s.scaleFactor();if(r=Math.ceil(r*o)/o,r>=Zp(t,a,s))return t;for(;r<Zp(t+i,a,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function zj(t,r){var a=new hu(t),s=XP(r,a.scaleFactor()),i=new UP(r,s);return qP(a,i),a.applyStyles(a.userStyles),i}function XP(t,r){var a=t.content,s=KP(a.columns);if(a.head.length===0){var i=UN(s,"head");i&&a.head.push(i)}if(a.foot.length===0){var i=UN(s,"foot");i&&a.foot.push(i)}var o=t.settings.theme,c=t.styles;return{columns:s,head:wg("head",a.head,s,c,o,r),body:wg("body",a.body,s,c,o,r),foot:wg("foot",a.foot,s,c,o,r)}}function wg(t,r,a,s,i,o){var c={},d=r.map(function(h,f){for(var p=0,g={},b=0,m=0,v=0,N=a;v<N.length;v++){var w=N[v];if(c[w.index]==null||c[w.index].left===0)if(m===0){var A=void 0;Array.isArray(h)?A=h[w.index-b-p]:A=h[w.dataKey];var E={};typeof A=="object"&&!Array.isArray(A)&&(E=A?.styles||{});var T=ZP(t,w,f,i,s,o,E),_=new Bj(A,T,t);g[w.dataKey]=_,g[w.index]=_,m=_.colSpan-1,c[w.index]={left:_.rowSpan-1,times:m}}else m--,b++;else c[w.index].left--,m=c[w.index].times,p++}return new Mj(h,f,t,g)});return d}function UN(t,r){var a={};return t.forEach(function(s){if(s.raw!=null){var i=JP(r,s.raw);i!=null&&(a[s.dataKey]=i)}}),Object.keys(a).length>0?a:null}function JP(t,r){if(t==="head"){if(typeof r=="object")return r.header||null;if(typeof r=="string"||typeof r=="number")return r}else if(t==="foot"&&typeof r=="object")return r.footer;return null}function KP(t){return t.map(function(r,a){var s,i;return typeof r=="object"?i=(s=r.dataKey)!==null&&s!==void 0?s:a:i=a,new HP(i,r,a)})}function ZP(t,r,a,s,i,o,c){var d=AP(s),h;t==="head"?h=i.headStyles:t==="body"?h=i.bodyStyles:t==="foot"&&(h=i.footStyles);var f=Xo({},d.table,d[t],i.styles,h),p=i.columnStyles[r.dataKey]||i.columnStyles[r.index]||{},g=t==="body"?p:{},b=t==="body"&&a%2===0?Xo({},d.alternateRow,i.alternateRowStyles):{},m=kP(o),v=Xo({},m,f,b,g);return Xo(v,c)}function QP(t,r,a){var s;a===void 0&&(a={});var i=Fj(t,r),o=new Map,c=[],d=[],h=[];Array.isArray(r.settings.horizontalPageBreakRepeat)?h=r.settings.horizontalPageBreakRepeat:(typeof r.settings.horizontalPageBreakRepeat=="string"||typeof r.settings.horizontalPageBreakRepeat=="number")&&(h=[r.settings.horizontalPageBreakRepeat]),h.forEach(function(b){var m=r.columns.find(function(v){return v.dataKey===b||v.index===b});m&&!o.has(m.index)&&(o.set(m.index,!0),c.push(m.index),d.push(r.columns[m.index]),i-=m.wrappedWidth)});for(var f=!0,p=(s=a?.start)!==null&&s!==void 0?s:0;p<r.columns.length;){if(o.has(p)){p++;continue}var g=r.columns[p].wrappedWidth;if(f||i>=g)f=!1,c.push(p),d.push(r.columns[p]),i-=g;else break;p++}return{colIndexes:c,columns:d,lastIndex:p-1}}function eI(t,r){for(var a=[],s=0;s<r.columns.length;s++){var i=QP(t,r,{start:s});i.columns.length&&(a.push(i),s=i.lastIndex)}return a}function Uj(t,r){var a=r.settings,s=a.startY,i=a.margin,o={x:i.left,y:s},c=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),d=s+i.bottom+c;if(a.pageBreak==="avoid"){var h=r.body,f=h.reduce(function(b,m){return b+m.height},0);d+=f}var p=new hu(t);(a.pageBreak==="always"||a.startY!=null&&d>p.pageSize().height)&&(qj(p),o.y=i.top),r.callWillDrawPageHooks(p,o);var g=Xo({},o);r.startPageNumber=p.pageNumber(),a.horizontalPageBreak?tI(p,r,g,o):(p.applyStyles(p.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&r.head.forEach(function(b){return sc(p,r,b,o,r.columns)}),p.applyStyles(p.userStyles),r.body.forEach(function(b,m){var v=m===r.body.length-1;Qp(p,r,b,v,g,o,r.columns)}),p.applyStyles(p.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&r.foot.forEach(function(b){return sc(p,r,b,o,r.columns)})),Lj(p,r,g,o),r.callEndPageHooks(p,o),r.finalY=o.y,t.lastAutoTable=r,p.applyStyles(p.userStyles)}function tI(t,r,a,s){var i=eI(t,r),o=r.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,p){t.applyStyles(t.userStyles),p>0?_f(t,r,a,s,f.columns,!0):HN(t,r,s,f.columns),rI(t,r,a,s,f.columns),jg(t,r,s,f.columns)});else for(var c=-1,d=i[0],h=function(){var f=c;if(d){t.applyStyles(t.userStyles);var p=d.columns;c>=0?_f(t,r,a,s,p,!0):HN(t,r,s,p),f=qN(t,r,c+1,s,p),jg(t,r,s,p)}var g=f-c;i.slice(1).forEach(function(b){t.applyStyles(t.userStyles),_f(t,r,a,s,b.columns,!0),qN(t,r,c+1,s,b.columns,g),jg(t,r,s,b.columns)}),c=f};c<r.body.length-1;)h()}function HN(t,r,a,s){var i=r.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&r.head.forEach(function(o){return sc(t,r,o,a,s)})}function rI(t,r,a,s,i){t.applyStyles(t.userStyles),r.body.forEach(function(o,c){var d=c===r.body.length-1;Qp(t,r,o,d,a,s,i)})}function qN(t,r,a,s,i,o){t.applyStyles(t.userStyles),o=o??r.body.length;var c=Math.min(a+o,r.body.length),d=-1;return r.body.slice(a,c).forEach(function(h,f){var p=a+f===r.body.length-1,g=Hj(t,r,p,s);h.canEntireRowFit(g,i)&&(sc(t,r,h,s,i),d=a+f)}),d}function jg(t,r,a,s){var i=r.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&r.foot.forEach(function(o){return sc(t,r,o,a,s)})}function aI(t,r,a){var s=a.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((r-i)/s);return Math.max(0,o)}function sI(t,r,a,s){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,c=0,d=a.columns;c<d.length;c++){var h=d[c],f=t.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new Bj(f.raw,f.styles,f.section);p=Xo(p,f),p.text=[];var g=aI(f,r,s);f.text.length>g&&(p.text=f.text.splice(g,f.text.length));var b=s.scaleFactor(),m=s.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,m),f.contentHeight>=r&&(f.contentHeight=r,p.styles.minCellHeight-=r),f.contentHeight>t.height&&(t.height=f.contentHeight),p.contentHeight=p.getContentHeight(b,m),p.contentHeight>o&&(o=p.contentHeight),i[h.index]=p}}var v=new Mj(t.raw,-1,t.section,i,!0);v.height=o;for(var N=0,w=a.columns;N<w.length;N++){var h=w[N],p=v.cells[h.index];p&&(p.height=v.height);var f=t.cells[h.index];f&&(f.height=t.height)}return v}function nI(t,r,a,s){var i=t.pageSize().height,o=s.settings.margin,c=o.top+o.bottom,d=i-c;r.section==="body"&&(d-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var h=r.getMinimumRowHeight(s.columns,t),f=h<a;if(h>d)return console.log("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=r.hasRowSpan(s.columns),g=r.getMaxCellHeight(s.columns)>d;return g?(p&&console.log("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||s.settings.rowPageBreak==="avoid")}function Qp(t,r,a,s,i,o,c){var d=Hj(t,r,s,o);if(a.canEntireRowFit(d,c))sc(t,r,a,o,c);else if(nI(t,a,d,r)){var h=sI(a,d,r,t);sc(t,r,a,o,c),_f(t,r,i,o,c),Qp(t,r,h,s,i,o,c)}else _f(t,r,i,o,c),Qp(t,r,a,s,i,o,c)}function sc(t,r,a,s,i){s.x=r.settings.margin.left;for(var o=0,c=i;o<c.length;o++){var d=c[o],h=a.cells[d.index];if(!h){s.x+=d.width;continue}t.applyStyles(h.styles),h.x=s.x,h.y=s.y;var f=r.callCellHooks(t,r.hooks.willDrawCell,h,a,d,s);if(f===!1){s.x+=d.width;continue}iI(t,h,s);var p=h.getTextPos();Cj(h.text,p.x,p.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},t.getDocument()),r.callCellHooks(t,r.hooks.didDrawCell,h,a,d,s),s.x+=d.width}s.y+=a.height}function iI(t,r,a){var s=r.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof s.lineWidth=="number"){var i=Rj(s.lineWidth,s.fillColor);i&&t.rect(r.x,a.y,r.width,r.height,i)}else typeof s.lineWidth=="object"&&(s.fillColor&&t.rect(r.x,a.y,r.width,r.height,"F"),lI(t,r,a,s.lineWidth))}function lI(t,r,a,s){var i,o,c,d;s.top&&(i=a.x,o=a.y,c=a.x+r.width,d=a.y,s.right&&(c+=.5*s.right),s.left&&(i-=.5*s.left),h(s.top,i,o,c,d)),s.bottom&&(i=a.x,o=a.y+r.height,c=a.x+r.width,d=a.y+r.height,s.right&&(c+=.5*s.right),s.left&&(i-=.5*s.left),h(s.bottom,i,o,c,d)),s.left&&(i=a.x,o=a.y,c=a.x,d=a.y+r.height,s.top&&(o-=.5*s.top),s.bottom&&(d+=.5*s.bottom),h(s.left,i,o,c,d)),s.right&&(i=a.x+r.width,o=a.y,c=a.x+r.width,d=a.y+r.height,s.top&&(o-=.5*s.top),s.bottom&&(d+=.5*s.bottom),h(s.right,i,o,c,d));function h(f,p,g,b,m){t.getDocument().setLineWidth(f),t.getDocument().line(p,g,b,m,"S")}}function Hj(t,r,a,s){var i=r.settings.margin.bottom,o=r.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&a)&&(i+=r.getFootHeight(r.columns)),t.pageSize().height-s.y-i}function _f(t,r,a,s,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),r.settings.showFoot==="everyPage"&&!o&&r.foot.forEach(function(d){return sc(t,r,d,s,i)}),r.callEndPageHooks(t,s);var c=r.settings.margin;Lj(t,r,a,s),qj(t),r.pageNumber++,s.x=c.left,s.y=c.top,a.y=c.top,r.callWillDrawPageHooks(t,s),r.settings.showHead==="everyPage"&&(r.head.forEach(function(d){return sc(t,r,d,s,i)}),t.applyStyles(t.userStyles))}function qj(t){var r=t.pageNumber();t.setPage(r+1);var a=t.pageNumber();return a===r?(t.addPage(),!0):!1}function oI(t){t.API.autoTable=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=r[0],i=Ij(this,s),o=zj(this,i);return Uj(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(r,a,s,i){Cj(r,a,s,i,this)},t.API.autoTableSetDefaults=function(r){return hu.setDefaults(r,this),this},t.autoTableSetDefaults=function(r,a){hu.setDefaults(r,a)},t.API.autoTableHtmlToJson=function(r,a){var s;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new hu(this),o=Pj(i,r,window,a,!1),c=o.head,d=o.body,h=((s=c[0])===null||s===void 0?void 0:s.map(function(f){return f.content}))||[];return{columns:h,rows:d,data:d}}}var Sg;function GN(t,r){var a=Ij(t,r),s=zj(t,a);Uj(t,s)}try{if(typeof window<"u"&&window){var $N=window,YN=$N.jsPDF||((Sg=$N.jspdf)===null||Sg===void 0?void 0:Sg.jsPDF);YN&&oI(YN)}}catch(t){console.error("Could not apply autoTable plugin",t)}const cI=(t,r="export",a="Sheet1")=>{const s=ar.json_to_sheet(t),i=ar.book_new();ar.book_append_sheet(i,s,a),on(i,`${r}.xlsx`)},dI=(t,r,a="export",s="Data Export")=>{const i=new zt;i.setFontSize(18),i.text(s,14,22),i.setFontSize(11),i.setTextColor(100);const o=r.map(d=>t.map(h=>d[h.accessor])),c=[t.map(d=>d.header)];i.autoTable({head:c,body:o,startY:30,styles:{fontSize:8},headStyles:{fillStyle:"darkblue",textColor:255}}),i.save(`${a}.pdf`)},uI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(null),[o,c]=R.useState(""),[d,h]=R.useState("Personal"),[f]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[p,g]=R.useState({employeeId:"",firstName:"",lastName:"",middleName:"",email:"",phone:"",dob:"",gender:"Male",maritalStatus:"Single",street:"",city:"",parish:"",country:"Jamaica",trn:"",nisNumber:"",nhtNumber:"",emergencyName:"",emergencyRelationship:"",emergencyPhone:"",department:"",designation:"",joinDate:"",status:"Active",employmentType:"Full-Time",payFrequency:"Monthly",currency:"JMD",paymentMethod:"Bank Transfer",bankName:"",bankAccount:"",salaryType:"Salaried",baseSalary:"0",hourlyRate:"0",lunchAllowance:"0",travelAllowance:"0",healthInsurance:"0",pensionPercent:"0",unionDues:"0"}),[b,m]=R.useState(!1),[v,N]=R.useState([]),[w,A]=R.useState([]),[E,T]=R.useState([]),[_,O]=R.useState([]),[W,F]=R.useState(null),[P,z]=R.useState({username:"",password:"",role:"STAFF"}),M=async()=>{if(f.id){m(!0);try{const q=await Te.fetchEmployees(f.id);q.success&&N(q.data);const L=await Te.fetchDepartments(f.id);L.success&&A(L.data);const G=await Te.fetchUsers();G.success&&O(G.data)}catch(q){console.error(q)}finally{m(!1)}}};R.useEffect(()=>{M()},[f.id]);const C=async q=>{try{const L=await Te.fetchPayrolls({employeeId:q});L.success&&T(L.data)}catch(L){console.error(L)}},U=async()=>{if(f.id)try{const q=await Te.fetchEmployees(f.id);q.success&&N(q.data)}catch(q){console.error(q)}},B=(q,L)=>g(G=>({...G,[q]:L})),X=()=>{g({employeeId:"",firstName:"",lastName:"",middleName:"",email:"",phone:"",dob:"",gender:"Male",maritalStatus:"Single",street:"",city:"",parish:"",country:"Jamaica",trn:"",nisNumber:"",nhtNumber:"",emergencyName:"",emergencyRelationship:"",emergencyPhone:"",department:"",designation:"",joinDate:"",status:"Active",employmentType:"Full-Time",payFrequency:"Monthly",currency:"JMD",paymentMethod:"Bank Transfer",bankName:"",bankAccount:"",salaryType:"Salaried",baseSalary:"0",hourlyRate:"0",lunchAllowance:"0",travelAllowance:"0",healthInsurance:"0",pensionPercent:"0",unionDues:"0"}),i(null),T([]),a(!0)},ue=async()=>{if(!p.employeeId||!p.firstName||!p.lastName){alert("Employee ID, First Name, and Last Name are required.");return}if(!f.id){alert("Session error: No company context found. Please re-select company.");return}m(!0);try{const q={...p,companyId:f.id};let L;s?L=await Te.updateEmployee(s,q):L=await Te.createEmployee(q),L.success?(await U(),a(!1)):alert(L.message)}catch(q){alert(q.message||"Action failed. Please check your network connection.")}finally{m(!1)}},J=q=>{i(q.id),C(q.id),g({...{employeeId:"",firstName:"",lastName:"",middleName:"",email:"",phone:"",dob:"",gender:"Male",maritalStatus:"Single",street:"",city:"",parish:"",country:"Jamaica",trn:"",nisNumber:"",nhtNumber:"",emergencyName:"",emergencyRelationship:"",emergencyPhone:"",department:"",designation:"",joinDate:"",status:"Active",employmentType:"Full-Time",payFrequency:"Monthly",currency:"JMD",paymentMethod:"Bank Transfer",bankName:"",bankAccount:"",salaryType:"Salaried",baseSalary:"0",hourlyRate:"0",lunchAllowance:"0",travelAllowance:"0",healthInsurance:"0",pensionPercent:"0",unionDues:"0"},...q,dob:q.dob?q.dob.split("T")[0]:"",joinDate:q.joinDate?q.joinDate.split("T")[0]:"",department:q.departmentId||"",baseSalary:q.baseSalary?q.baseSalary.toString():"0",hourlyRate:q.hourlyRate?q.hourlyRate.toString():"0",lunchAllowance:q.lunchAllowance?q.lunchAllowance.toString():"0",travelAllowance:q.travelAllowance?q.travelAllowance.toString():"0",healthInsurance:q.healthInsurance?q.healthInsurance.toString():"0",pensionPercent:q.pensionPercent?q.pensionPercent.toString():"0",unionDues:q.unionDues?q.unionDues.toString():"0"});const G=_.find(V=>V.email===q.email);F(G||null),z({username:G?G.username:`${q.firstName} ${q.lastName}`,password:"",role:G?G.role:"STAFF"}),a(!1)},re=v.filter(q=>q.lastName.toLowerCase().includes(o.toLowerCase())||q.firstName.toLowerCase().includes(o.toLowerCase())||q.employeeId.toLowerCase().includes(o.toLowerCase())),oe=q=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2}).format(q||0),ve=()=>{const q=v.map(L=>({"Employee ID":L.employeeId,"First Name":L.firstName,"Last Name":L.lastName,Email:L.email,Phone:L.phone,Designation:L.designation,Department:w.find(G=>G.id===L.departmentId)?.name||"N/A","Join Date":L.joinDate?new Date(L.joinDate).toLocaleDateString():"N/A",Status:L.status}));cI(q,`Employee_Directory_${new Date().toISOString().split("T")[0]}`)},Ne=()=>{dI([{header:"ID",accessor:"employeeId"},{header:"First Name",accessor:"firstName"},{header:"Last Name",accessor:"lastName"},{header:"Designation",accessor:"designation"},{header:"Status",accessor:"status"}],v,`Employee_Directory_${new Date().toISOString().split("T")[0]}`,"Personnel Directory Master List")};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-gray-900",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex flex-col md:flex-row md:items-center justify-between sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Personnel Directory"}),e.jsx("p",{className:"text-gray-400 text-[9px] uppercase font-bold tracking-widest",children:"Master Employee Files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 p-1 rounded-md mr-2 border border-gray-200",children:[e.jsx("button",{onClick:ve,title:"Export to Excel",className:"p-2 text-green-700 hover:bg-white hover:shadow-sm rounded transition-all group border border-transparent hover:border-green-200",children:e.jsx(_p,{size:16})}),e.jsx("button",{onClick:Ne,title:"Export to PDF",className:"p-2 text-red-700 hover:bg-white hover:shadow-sm rounded transition-all group border border-transparent hover:border-red-200",children:e.jsx(rr,{size:16})})]}),e.jsx("button",{onClick:X,className:"px-4 py-2 bg-gray-800 text-white rounded text-[10px] font-bold uppercase tracking-widest hover:bg-gray-900 transition-colors",children:"Add Record"}),r?e.jsx("button",{onClick:ue,className:"px-4 py-2 bg-gray-800 text-white rounded text-[10px] font-bold uppercase tracking-widest hover:bg-gray-900 transition-colors",children:"Commit Changes"}):e.jsx("button",{onClick:()=>{s&&a(!0)},className:`px-4 py-2 rounded text-[10px] font-bold uppercase tracking-widest transition-colors ${s?"bg-gray-800 text-white hover:bg-gray-900":"border border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Modify Data"}),e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col shrink-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ga,{className:"absolute left-3 top-2.5 text-gray-300",size:12}),e.jsx("input",{type:"text",placeholder:"Search by ID or Name...",value:o,onChange:q=>c(q.target.value),className:"w-full pl-8 pr-4 py-2 border border-gray-200 rounded text-[11px] focus:outline-none focus:border-gray-400 text-gray-700 font-medium"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[b&&v.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(sn,{className:"animate-spin mx-auto text-gray-300 mb-2",size:20}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Synchronizing..."})]}),re.map(q=>e.jsxs("div",{onClick:()=>J(q),className:`p-4 border-b border-gray-50 cursor-pointer transition-colors ${s===q.id?"bg-gray-800 text-white":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"font-bold text-[11px] uppercase truncate",children:[q.firstName," ",q.lastName]}),e.jsx("span",{className:`text-[8px] font-black uppercase tracking-tighter shrink-0 ${q.status==="Active"?"text-green-500":"text-gray-400"}`,children:q.status})]}),e.jsxs("div",{className:`text-[9px] font-bold uppercase tracking-widest ${s===q.id,"text-gray-400"}`,children:[q.employeeId,"  ",q.designation]})]},q.id))]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border border-gray-200 shadow-sm rounded overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-gray-200 bg-gray-50 px-2",children:[{id:"Personal",label:"Identity"},{id:"Employment",label:"Job Role"},{id:"Payroll",label:"Salary Config"},{id:"Statutory",label:"Taxation"},{id:"Security",label:"Login Access"},{id:"History",label:"Ledger Audit"}].map(q=>e.jsx("button",{onClick:()=>h(q.id),className:`px-6 py-3 text-[10px] font-bold uppercase tracking-widest transition-colors ${d===q.id?"text-gray-900 border-b-2 border-gray-900":"text-gray-400 hover:text-gray-600"}`,children:q.label},q.id))}),e.jsxs("div",{className:"p-8 min-h-[500px]",children:[d==="Personal"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Cd,{title:"Identity"}),e.jsx(ri,{label:"First Name",value:p.firstName,onChange:q=>B("firstName",q),disabled:!r}),e.jsx(ri,{label:"Last Name",value:p.lastName,onChange:q=>B("lastName",q),disabled:!r}),e.jsx(ri,{label:"Employee ID",value:p.employeeId,onChange:q=>B("employeeId",q),disabled:!r}),e.jsx(ri,{label:"DOB",type:"date",value:p.dob,onChange:q=>B("dob",q),disabled:!r}),e.jsx(Cd,{title:"Communication"}),e.jsx(ri,{label:"Email",type:"email",value:p.email,onChange:q=>B("email",q),disabled:!r}),e.jsx(ri,{label:"Phone",value:p.phone,onChange:q=>B("phone",q),disabled:!r}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:"Street Address"}),e.jsx("input",{type:"text",value:p.street,onChange:q=>B("street",q.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none"})]}),e.jsx(ri,{label:"Parish",value:p.parish,onChange:q=>B("parish",q),disabled:!r}),e.jsx(ri,{label:"City",value:p.city,onChange:q=>B("city",q),disabled:!r})]}),d==="Employment"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Cd,{title:"Job Profile"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:"Department"}),e.jsxs("select",{value:p.department,onChange:q=>B("department",q.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none disabled:bg-gray-50 disabled:text-gray-400 transition-colors",children:[e.jsx("option",{value:"",children:"Select..."}),w.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]})]}),e.jsx(ri,{label:"Designation",value:p.designation,onChange:q=>B("designation",q),disabled:!r}),e.jsx(ri,{label:"Join Date",type:"date",value:p.joinDate,onChange:q=>B("joinDate",q),disabled:!r}),e.jsx(X0,{label:"Status",value:p.status,onChange:q=>B("status",q),options:["Active","On Leave","Resigned"],disabled:!r})]}),d==="Payroll"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Cd,{title:"Disbursement"}),e.jsx(X0,{label:"Method",value:p.paymentMethod,onChange:q=>B("paymentMethod",q),options:["Bank Transfer","Cheque"],disabled:!r}),e.jsx(X0,{label:"Frequency",value:p.payFrequency,onChange:q=>B("payFrequency",q),options:["Weekly","Monthly"],disabled:!r}),e.jsxs("div",{className:"col-span-2 p-4 bg-gray-50 border border-gray-200 rounded grid grid-cols-2 gap-8",children:[e.jsx(X0,{label:"Salary Type",value:p.salaryType,onChange:q=>B("salaryType",q),options:["Salaried","Hourly"],disabled:!r}),e.jsx(ri,{label:"Base Rate (JMD)",type:"number",value:p.salaryType==="Salaried"?p.baseSalary:p.hourlyRate,onChange:q=>B(p.salaryType==="Salaried"?"baseSalary":"hourlyRate",q),disabled:!r})]}),e.jsx(Cd,{title:"Bank Integration"}),e.jsx(X0,{label:"Bank",value:p.bankName,onChange:q=>B("bankName",q),options:["NCB","Scotiabank","JN Bank"],disabled:!r}),e.jsx(ri,{label:"Account #",value:p.bankAccount,onChange:q=>B("bankAccount",q),disabled:!r})]}),d==="Statutory"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Cd,{title:"Government Identifiers"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50/50 p-4 border border-blue-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-1.5 h-6 bg-blue-600 rounded-full"}),e.jsx("label",{className:"block text-[11px] font-black text-blue-900 uppercase tracking-[0.2em]",children:"TRN (Taxpayer Registration Number)"})]}),e.jsx("input",{type:"text",value:p.trn,onChange:q=>B("trn",q.target.value),disabled:!r,placeholder:"XXX-XXX-XXX",className:"w-full p-2.5 border border-gray-300 rounded bg-white text-sm font-bold focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100/50 disabled:text-gray-500 transition-all font-mono"}),e.jsxs("p",{className:"mt-2 text-[9px] text-gray-500 font-bold uppercase tracking-wider leading-relaxed",children:["Essential for payroll tax compliance. Issued by ",e.jsx("span",{className:"text-blue-700",children:"Tax Administration Jamaica (TAJ)"}),"."]})]}),e.jsxs("div",{className:"bg-green-50/50 p-4 border border-green-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-1.5 h-6 bg-green-600 rounded-full"}),e.jsx("label",{className:"block text-[11px] font-black text-green-900 uppercase tracking-[0.2em]",children:"NIS Number (Social Security)"})]}),e.jsx("input",{type:"text",value:p.nisNumber,onChange:q=>B("nisNumber",q.target.value),disabled:!r,placeholder:"X-XX-XX-XX-X",className:"w-full p-2.5 border border-gray-300 rounded bg-white text-sm font-bold focus:ring-2 focus:ring-green-500 outline-none disabled:bg-gray-100/50 disabled:text-gray-500 transition-all font-mono"}),e.jsx("p",{className:"mt-2 text-[9px] text-green-700 font-bold uppercase tracking-wider leading-relaxed",children:"National Insurance Scheme reference for social security benefits and pension tracking."})]}),e.jsxs("div",{className:"bg-orange-50/50 p-4 border border-orange-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-1.5 h-6 bg-orange-600 rounded-full"}),e.jsx("label",{className:"block text-[11px] font-black text-orange-900 uppercase tracking-[0.2em]",children:"NHT Number (Housing Trust)"})]}),e.jsx("input",{type:"text",value:p.nhtNumber,onChange:q=>B("nhtNumber",q.target.value),disabled:!r,placeholder:"XXXXXXXXX",className:"w-full p-2.5 border border-gray-300 rounded bg-white text-sm font-bold focus:ring-2 focus:ring-orange-500 outline-none disabled:bg-gray-100/50 disabled:text-gray-500 transition-all font-mono"}),e.jsx("p",{className:"mt-2 text-[9px] text-orange-700 font-bold uppercase tracking-wider leading-relaxed",children:"National Housing Trust identification for housing contribution deductions."})]})]})]}),d==="Security"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(Cd,{title:"Login Provisioning"}),p.email?e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsxs("div",{className:"col-span-2 flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${W?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:e.jsx(rs,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-800 uppercase tracking-widest",children:W?"LOGIN ACTIVE":"NO LOGIN DETECTED"}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400",children:W?`System account linked to ${p.email}`:`Click "Provision" to enable dashboard access for ${p.email}`})]})]}),e.jsx(ri,{label:"System Username",value:P.username,onChange:q=>z({...P,username:q}),disabled:!r}),e.jsx(X0,{label:"Access Role",value:P.role,onChange:q=>z({...P,role:q}),options:["STAFF","FINANCE","HR_MANAGER","ADMIN"],disabled:!r}),e.jsx("div",{className:"col-span-2",children:e.jsx(ri,{label:W?"Reset Password (Leave blank to keep current)":"Initial Password",type:"password",value:P.password,onChange:q=>z({...P,password:q}),disabled:!r})}),r&&e.jsx("div",{className:"col-span-2 flex justify-end",children:e.jsx("button",{onClick:async()=>{try{m(!0);const q={...P,email:p.email};let L;if(W)L=await Te.updateSystemUser(W.id,q);else{if(!P.password){alert("Password is required for new accounts."),m(!1);return}L=await Te.createSystemUser(q)}if(L.success){alert(W?"User updated successfully.":"User provisioned successfully!");const G=await Te.fetchUsers();if(G.success){O(G.data);const V=G.data.find(K=>K.email===p.email);F(V)}}else alert(L.message)}catch(q){console.error(q),alert("Login provisioning failed.")}finally{m(!1)}},className:"px-6 py-2 bg-blue-600 text-white rounded text-[10px] font-black uppercase tracking-widest hover:bg-blue-700 shadow-lg transition-all active:scale-95",children:W?"Update Identity":"Provision Login"})})]}):e.jsxs("div",{className:"p-12 text-center bg-gray-50 border-2 border-dashed border-gray-200 rounded",children:[e.jsx(cx,{className:"mx-auto text-gray-300 mb-2",size:32}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Email required to provision login"})]})]}),d==="History"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Payroll Audit Log"})}),e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full text-[10px] text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-400 font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Period"}),e.jsx("th",{className:"px-4 py-3",children:"Posted"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Gross"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Net"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 font-medium text-gray-700",children:E.length>0?E.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 uppercase",children:[q.month," ",q.year]}),e.jsx("td",{className:"px-4 py-3",children:new Date(q.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-right",children:oe(q.grossSalary)}),e.jsx("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:oe(q.netSalary)})]},q.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-400 italic",children:"No payroll history recorded for this employee."})})})]})})]})]})]})})]})]})},Cd=({title:t})=>e.jsx("div",{className:"col-span-2 pb-2 border-b border-gray-100 mb-2 mt-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:t}),ri=({label:t,value:r,onChange:a,type:s="text",disabled:i=!1,placeholder:o=""})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:t}),e.jsx("input",{type:s,value:r,onChange:c=>a(c.target.value),disabled:i,placeholder:o,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none disabled:bg-gray-50 disabled:text-gray-400 transition-colors"})]}),X0=({label:t,value:r,onChange:a,options:s,disabled:i=!1})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:t}),e.jsxs("select",{value:r,onChange:o=>a(o.target.value),disabled:i,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none disabled:bg-gray-50 disabled:text-gray-400 transition-colors",children:[e.jsx("option",{value:"",children:"Select..."}),s.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),fI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(null),[o,c]=R.useState(new Date().toISOString().split("T")[0]),[d,h]=R.useState(""),[f,p]=R.useState({employeeId:"",employeeName:"",date:o,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}),[g,b]=R.useState(!1),[m,v]=R.useState([]),[N,w]=R.useState([]),A=async()=>{b(!0);try{const M=localStorage.getItem("selectedCompany"),C=M?JSON.parse(M):null,U=await Te.fetchAttendance({date:o,companyId:C?.id});U.success&&v(U.data.map(B=>({...B,employeeId:B.employee.employeeId,employeeName:`${B.employee.firstName} ${B.employee.lastName}`,hoursWorked:B.hours.toString()})))}catch(M){console.error(M)}finally{b(!1)}},E=async()=>{try{const M=localStorage.getItem("selectedCompany"),C=M?JSON.parse(M):null;if(console.log("Selected Company:",C),C){console.log("Fetching employees for company ID:",C.id);const U=await Te.fetchEmployees(C.id);console.log("API Response:",U),U.success?(console.log("Employees loaded:",U.data),console.log("Employee count:",U.data.length),U.data.length>0&&(console.log("First employee structure:",U.data[0]),console.log("First employee ID:",U.data[0].employeeId),console.log("First employee name:",U.data[0].firstName,U.data[0].lastName)),w(U.data)):console.error("Failed to fetch employees:",U.message)}else console.error("No company selected")}catch(M){console.error("Error fetching employees:",M)}};qa.useEffect(()=>{E()},[]),qa.useEffect(()=>{A()},[o]);const T=(M,C)=>{if(!M||!C)return"0.00";const U=new Date(`2000-01-01 ${M}`),B=new Date(`2000-01-01 ${C}`);return B<U?"0.00":((B-U)/(1e3*60*60)).toFixed(2)},_=(M,C)=>{p(U=>{const B={...U,[M]:C};if(M==="employeeId"){const X=N.find(ue=>ue.employeeId===C);X&&(B.employeeName=`${X.firstName} ${X.lastName}`)}return(M==="checkIn"||M==="checkOut")&&(B.hoursWorked=T(B.checkIn,B.checkOut)),B})},O=()=>{p({employeeId:"",employeeName:"",date:o,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}),i(null),a(!0)},W=async()=>{if(!f.employeeId){alert("REQUIRED: Staff ID is mandatory.");return}b(!0);try{const M={employeeId:f.employeeId,date:f.date,checkIn:f.checkIn,checkOut:f.checkOut,hours:f.hoursWorked,status:f.status,remarks:f.remarks};let C;s?C=await Te.updateAttendance(s,M):C=await Te.createAttendance(M),C.success?(await A(),a(!1),p({employeeId:"",employeeName:"",date:o,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}),i(null)):alert(C.message)}catch(M){alert(M.message||"Failed to save record")}finally{b(!1)}},F=async()=>{if(s&&window.confirm("DELETE: Remove this attendance record from the register?")){b(!0);try{(await Te.deleteAttendance(s)).success&&(await A(),i(null),p({employeeId:"",employeeName:"",date:o,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}))}catch(M){alert(M.message||"Failed to delete record")}finally{b(!1)}}},P=M=>{i(M);const C=m.find(U=>U.id===M);C&&(p(C),a(!0))},z=m.filter(M=>M.employeeId.toLowerCase().includes(d.toLowerCase())||M.employeeName.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-gray-900",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex items-center justify-between sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Attendance Register"}),e.jsx("p",{className:"text-gray-400 text-[9px] uppercase font-bold tracking-widest",children:"Timesheet & Presence Control"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Review Date"}),e.jsx("input",{type:"date",value:o,onChange:M=>c(M.target.value),className:"p-1.5 border border-gray-200 rounded text-[10px] font-bold text-gray-700 outline-none"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-hidden p-6 flex gap-6",children:[e.jsxs("section",{className:"w-[380px] flex flex-col gap-4 shrink-0",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Shift Parameters"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(J0,{label:`Staff ID (${N.length} employees)`,children:e.jsxs("select",{value:f.employeeId,onChange:M=>_("employeeId",M.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select..."}),N.length===0?e.jsx("option",{disabled:!0,children:"No employees found"}):N.map(M=>e.jsxs("option",{value:M.employeeId,children:[M.employeeId," - ",M.firstName," ",M.lastName]},M.id))]})}),e.jsx(J0,{label:"Staff Name",children:e.jsx("input",{type:"text",value:f.employeeName,onChange:M=>_("employeeName",M.target.value),disabled:!0,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none focus:border-gray-500 bg-gray-50"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(J0,{label:"In Location",children:e.jsx("input",{type:"time",value:f.checkIn,onChange:M=>_("checkIn",M.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none"})}),e.jsx(J0,{label:"Out Location",children:e.jsx("input",{type:"time",value:f.checkOut,onChange:M=>_("checkOut",M.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none"})})]}),e.jsx(J0,{label:"Status",children:e.jsxs("select",{value:f.status,onChange:M=>_("status",M.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-700 outline-none appearance-none",children:[e.jsx("option",{value:"Present",children:"PRESENT / NORMAL"}),e.jsx("option",{value:"Absent",children:"ABSENT / UNAUTH"}),e.jsx("option",{value:"Late",children:"LATE ARRIVAL"}),e.jsx("option",{value:"Leave",children:"APPROVED LEAVE"})]})}),e.jsx(J0,{label:"Operation Remarks",children:e.jsx("textarea",{value:f.remarks,onChange:M=>_("remarks",M.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-medium text-gray-700 outline-none h-20"})})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:W,className:"w-full p-3 bg-blue-600 border border-blue-700 rounded text-[10px] font-black text-white uppercase tracking-widest hover:bg-blue-700 transition-all shadow-md active:translate-y-0.5",children:s?"Update Record":"Save Record"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:O,className:"p-3 bg-white border border-gray-300 rounded text-[10px] font-bold text-gray-600 uppercase tracking-widest hover:bg-gray-50 transition-colors shadow-sm",children:"New / Clear"}),e.jsx("button",{onClick:F,disabled:!s,className:`p-3 border rounded text-[10px] font-bold uppercase tracking-widest transition-all ${s?"bg-red-50 border-red-200 text-red-600 hover:bg-red-100 shadow-sm":"bg-gray-50 border-gray-200 text-gray-300 cursor-not-allowed"}`,children:"Delete"})]})]})]}),e.jsxs("section",{className:"flex-1 bg-white border border-gray-200 rounded shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{className:"relative w-64",children:[e.jsx(Ga,{className:"absolute left-3 top-2.5 text-gray-300",size:12}),e.jsx("input",{type:"text",placeholder:"Quick Search Employees...",value:d,onChange:M=>h(M.target.value),className:"w-full pl-8 pr-4 py-2 bg-white border border-gray-200 rounded text-[10px] font-medium outline-none"})]}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest italic pr-2",children:"Daily Presence Log"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-[#F8F9FA] text-[9px] font-black text-gray-400 uppercase tracking-wider border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 w-24",children:"Emp ID"}),e.jsx("th",{className:"px-6 py-4",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-4 w-24",children:"Login"}),e.jsx("th",{className:"px-6 py-4 w-24",children:"Logout"}),e.jsx("th",{className:"px-6 py-4 w-32 text-right",children:"Computed Hrs"}),e.jsx("th",{className:"px-6 py-4 w-32 text-center",children:"Record Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 bg-white",children:[z.map(M=>e.jsxs("tr",{onClick:()=>P(M.id),className:`cursor-pointer transition-all ${s===M.id?"bg-gray-800 text-white":"hover:bg-blue-50/50"}`,children:[e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold font-mono text-blue-900 group-hover:text-blue-600",children:M.employeeId}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-tight",children:M.employeeName}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-mono opacity-60",children:M.checkIn||"--:--"}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-mono opacity-60",children:M.checkOut||"--:--"}),e.jsx("td",{className:"px-6 py-4 text-[11px] font-black text-right tabular-nums",children:M.hoursWorked}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-[8px] font-black tracking-widest uppercase shadow-sm border ${M.status==="Present"?"bg-green-100 text-green-700 border-green-200":M.status==="Absent"?"bg-red-100 text-red-700 border-red-200":M.status==="Late"?"bg-amber-100 text-amber-700 border-amber-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:M.status})})]},M.id)),[...Array(Math.max(0,8-z.length))].map((M,C)=>e.jsx("tr",{className:"border-b border-gray-50 opacity-20",children:e.jsx("td",{colSpan:6,className:"py-6"})},`filler-${C}`))]})]})})]})]}),e.jsx("div",{className:"bg-gray-100 border-t border-gray-200 p-4 flex justify-end gap-3 sticky bottom-0",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})})]})},J0=({label:t,children:r})=>e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:t}),r]}),hI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(null),[o,c]=R.useState({employeeId:"",employeeName:"",leaveType:"",startDate:"",endDate:"",days:"0",reason:"",status:"Pending",approvedBy:"",remarks:""}),[d,h]=R.useState(""),[f,p]=R.useState(!1),[g,b]=R.useState([]),[m,v]=R.useState([]),[N,w]=R.useState(null),A=async()=>{p(!0);try{const C=localStorage.getItem("selectedCompany"),U=C?JSON.parse(C):null,B=await Te.fetchLeaves({companyId:U?.id});B.success&&b(B.data.map(X=>({...X,employeeId:X.employee.employeeId,employeeName:`${X.employee.firstName} ${X.employee.lastName}`,leaveType:X.type,startDate:X.startDate.split("T")[0],endDate:X.endDate.split("T")[0]})))}catch(C){console.error(C)}finally{p(!1)}},E=async()=>{try{const C=localStorage.getItem("selectedCompany"),U=C?JSON.parse(C):null;if(U){const B=await Te.fetchEmployees(U.id);B.success&&v(B.data)}}catch(C){console.error(C)}};qa.useEffect(()=>{E(),A()},[]);const T=(C,U)=>{c(B=>{const X={...B,[C]:U};if(C==="employeeId"){const ue=m.find(J=>J.employeeId===U);ue?(X.employeeName=`${ue.firstName} ${ue.lastName}`,Te.fetchLeaveBalances(ue.id).then(J=>{J.success&&w(J.data)}).catch(()=>w(null))):w(null)}if((C==="startDate"||C==="endDate")&&X.startDate&&X.endDate){const ue=new Date(X.startDate),J=new Date(X.endDate);if(J>=ue){const re=Math.abs(J-ue),oe=Math.ceil(re/(1e3*60*60*24))+1;X.days=oe.toString()}else X.days="0"}return X})},_=()=>{c({employeeId:"",employeeName:"",leaveType:"",startDate:"",endDate:"",days:"0",reason:"",status:"Pending",approvedBy:"",remarks:""}),i(null),a(!0)},O=async()=>{if(!o.employeeId||!o.leaveType){alert("VALIDATION ERROR: Please ensure Staff ID and Leave Type are provided.");return}p(!0);try{const C={employeeId:o.employeeId,type:o.leaveType,startDate:o.startDate,endDate:o.endDate,status:o.status,reason:o.reason};let U;s?U=await Te.updateLeave(s,C):U=await Te.createLeave(C),U.success?(await A(),a(!1),i(null),_(),alert("SUCCESS: System ledger updated.")):alert(U.message)}catch(C){alert(C.message||"Failed to commit leave record")}finally{p(!1)}},W=async()=>{if(!s){alert("SELECTION REQUIRED: Select a record to drop/delete.");return}if(window.confirm("CRITICAL ACTION: Are you sure you want to drop this record from the ledger?")){p(!0);try{(await Te.deleteLeave(s)).success&&(await A(),i(null),_())}catch(C){alert(C.message||"Failed to delete record")}finally{p(!1)}}},F=()=>{const C=prompt("FIND RECORD: Enter Staff ID or Name to search:");C&&h(C)},P=()=>{h(""),alert("SYSTEM SYNC: Data view refreshed.")},z=C=>{i(C);const U=g.find(B=>B.id===C);U&&(c(U),a(!0))},M=g.filter(C=>C.employeeId.toLowerCase().includes(d.toLowerCase())||C.employeeName.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs selection:bg-blue-200",children:[e.jsxs("header",{className:"bg-gradient-to-b from-[#EEEEEE] to-[#D4D0C8] border-b border-gray-400 p-2 flex items-center justify-between no-print shrink-0 shadow-sm z-20",children:[e.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[e.jsx(On,{className:"text-blue-800 drop-shadow-sm",size:18}),e.jsxs("h1",{className:"font-black text-gray-700 uppercase italic tracking-tight text-xs sm:text-sm",children:["Leave Management ",e.jsx("span",{className:"text-blue-700 tracking-widest ml-1 hidden xs:inline",children:"v2.0"})]})]}),e.jsx("div",{className:"flex items-center gap-3 pr-2",children:e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-2 py-0.5 bg-white/50 border border-white/60 rounded text-[10px] font-bold text-gray-500 italic",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_5px_rgba(34,197,94,0.5)]"}),"LV-SYSTEM-ACTIVE"]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto px-2 sm:px-4 py-4 sm:py-6 overflow-x-hidden",children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col xl:flex-row gap-4 sm:gap-6 min-h-full",children:[e.jsxs("section",{className:"flex flex-col gap-4 w-full xl:w-[400px] shrink-0",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-[4px_4px_0px_rgba(0,0,0,0.1)] relative pt-6 p-4",children:[e.jsx("div",{className:"absolute -top-3 left-4 bg-[#316AC5] text-white px-3 py-1 text-[10px] font-black uppercase italic border border-blue-900 shadow-md transform -skew-x-12 z-10 font-sans",children:"Application Input"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4",children:[e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"ID Tag"}),e.jsxs("select",{value:o.employeeId,onChange:C=>T("employeeId",C.target.value),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none",disabled:!r,children:[e.jsx("option",{value:"",children:"-- SELECT --"}),m.map(C=>e.jsxs("option",{value:C.employeeId,children:[C.employeeId," - ",C.firstName," ",C.lastName]},C.id))]})]}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Identity"}),e.jsx("input",{type:"text",value:o.employeeName,onChange:C=>T("employeeName",C.target.value),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none shadow-inner",readOnly:!0,placeholder:"Full Name..."})]}),N&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 flex gap-4",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-blue-400 uppercase tracking-widest",children:"Vacation Balance"}),e.jsxs("p",{className:"text-lg font-black text-blue-700",children:[N.vacationBalance,e.jsx("span",{className:"text-[9px] ml-1 font-bold text-blue-400",children:"hrs"})]})]}),e.jsx("div",{className:"w-px bg-blue-200"}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-blue-400 uppercase tracking-widest",children:"Sick Balance"}),e.jsxs("p",{className:"text-lg font-black text-blue-700",children:[N.sickBalance,e.jsx("span",{className:"text-[9px] ml-1 font-bold text-blue-400",children:"hrs"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Class"}),e.jsxs("select",{value:o.leaveType,onChange:C=>T("leaveType",C.target.value),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none",disabled:!r,children:[e.jsx("option",{value:"",children:"-- SELECT CLASS --"}),e.jsx("option",{value:"Annual Leave",children:"Annual (Full Paid)"}),e.jsx("option",{value:"Sick Leave",children:"Sick (Medical)"}),e.jsx("option",{value:"Casual Leave",children:"Casual (Unpaid)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase ml-1 tracking-widest",children:"Start Block"}),e.jsx("input",{type:"date",value:o.startDate,onChange:C=>T("startDate",C.target.value),className:"w-full p-2 border border-gray-300 bg-blue-50/50 text-blue-900 font-bold outline-none",readOnly:!r})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase ml-1 tracking-widest",children:"End Block"}),e.jsx("input",{type:"date",value:o.endDate,onChange:C=>T("endDate",C.target.value),className:"w-full p-2 border border-gray-300 bg-blue-50/50 text-blue-900 font-bold outline-none",readOnly:!r})]})]}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Net Total"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-2 text-yellow-800 font-black text-sm text-center shadow-inner italic",children:[o.days||"0"," DAYS"]})]}),e.jsx("div",{className:"h-px bg-gray-200 my-1"}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Status"}),e.jsxs("select",{value:o.status,onChange:C=>T("status",C.target.value),className:`w-full p-2 border font-black outline-none ${o.status==="Approved"?"border-green-400 bg-green-50 text-green-700":o.status==="Rejected"?"border-red-400 bg-red-50 text-red-700":"border-gray-300 bg-gray-50 text-gray-700"}`,disabled:!r,children:[e.jsx("option",{value:"Pending",children:"PENDING"}),e.jsx("option",{value:"Approved",children:"APPROVED"}),e.jsx("option",{value:"Rejected",children:"REJECTED"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 xl:grid-cols-2 gap-2 mt-auto",children:[{icon:Ga,label:"Find",color:"blue",action:F},{icon:$a,label:"Drop",color:"red",action:W},{icon:sn,label:"Sync",color:"green",action:P},{icon:qs,label:"Enter",color:"blue",action:O},{icon:yf,label:"Log",color:"gray",action:P},{icon:ic,label:"Init",color:"amber",action:_,primary:!0}].map((C,U)=>e.jsxs("button",{onClick:C.action,className:`flex flex-col items-center justify-center p-2 border-b-2 border-r-2 rounded-sm transition-all active:scale-95 active:border-0 shadow-sm ${C.primary?"ring-2 ring-amber-400 ring-offset-1 bg-[#F9F7F2]":"bg-[#E0DCCF]"} border-gray-500/50 hover:bg-white/80`,children:[e.jsx(C.icon,{className:`text-${C.color}-600 mb-1`,size:16}),e.jsx("span",{className:"font-black text-[8px] uppercase tracking-widest",children:C.label})]},U))})]}),e.jsx("section",{className:"flex-1 min-w-0 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-[4px_4px_0px_rgba(0,0,0,0.1)] flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 p-2 flex items-center justify-between shrink-0",children:[e.jsx("span",{className:"font-black text-gray-600 uppercase text-[10px] italic tracking-widest pl-2",children:"System Ledger"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-100 border-b border-gray-300 sticky top-0 z-10 shadow-sm",children:["ID CODE","STAFF IDENTITY","CATEGORY","START","END","QTY","STATE"].map(C=>e.jsx("th",{className:"p-3 text-left font-black text-[9px] text-gray-400 uppercase tracking-widest border-r border-gray-200 last:border-0 whitespace-nowrap",children:C},C))})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map(C=>e.jsxs("tr",{onClick:()=>z(C.id),className:`group cursor-pointer transition-colors duration-75 ${s===C.id?"bg-[#316AC5] text-white":"hover:bg-blue-50 odd:bg-white even:bg-gray-50/50"}`,children:[e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40",children:C.employeeId}),e.jsx("td",{className:"p-3 font-black text-[10px] uppercase truncate max-w-[120px] border-r border-gray-200/40 italic",children:C.employeeName}),e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40",children:C.leaveType}),e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40 text-gray-400 group-hover:text-blue-600",children:C.startDate}),e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40 text-gray-400 group-hover:text-blue-600",children:C.endDate}),e.jsx("td",{className:"p-3 text-center border-r border-gray-200/40 shrink-0",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full font-black text-[9px] ${s===C.id?"bg-white/20":"bg-gray-200 text-gray-600"}`,children:C.days})}),e.jsx("td",{className:"p-3 shrink-0",children:e.jsx("span",{className:`font-black text-[9px] uppercase tracking-widest ${C.status==="Approved"?"text-green-500":C.status==="Rejected"?"text-red-500":"text-amber-500"} ${s===C.id?"text-white":""}`,children:C.status})})]},C.id))})]})})]})}),e.jsxs("div",{className:"flex flex-row xl:flex-col gap-3 w-full xl:w-32 shrink-0 z-30 no-print",children:[e.jsx("div",{className:"hidden xl:block xl:flex-1"}),e.jsxs("button",{onClick:O,className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 bg-gradient-to-br from-blue-600 to-blue-800 border-b-4 border-r-4 border-blue-900 rounded-sm text-white hover:brightness-110 active:scale-95 transition-all shadow-xl",children:[e.jsx(qs,{className:`mb-2 drop-shadow-md ${r?"animate-bounce":""}`,size:28}),e.jsx("span",{className:"font-black text-[10px] uppercase italic tracking-[0.2em] leading-none text-center",children:"Commit App"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})]})]})})]})},pI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(null),[o,c]=R.useState({employeeId:"",employeeName:"",basicSalary:"",allowances:"",deductions:"",netSalary:"",month:"",year:"",status:"Pending"}),[d,h]=R.useState(!1),[f,p]=R.useState([]),[g,b]=R.useState([]),m=async()=>{h(!0);try{const T=localStorage.getItem("selectedCompany"),_=T?JSON.parse(T):null,O=await Te.fetchPayrolls({companyId:_?.id});O.success&&p(O.data.map(W=>({...W,employeeId:W.employee.employeeId,employeeName:`${W.employee.firstName} ${W.employee.lastName}`,basicSalary:W.grossSalary.toString(),allowances:(parseFloat(W.grossSalary)-parseFloat(W.netSalary)+parseFloat(W.deductions)).toString(),deductions:W.deductions.toString(),netSalary:W.netSalary.toString(),month:W.period.split("-")[0],year:W.period.split("-")[1]})))}catch(T){console.error(T)}finally{h(!1)}},v=async()=>{try{const T=localStorage.getItem("selectedCompany"),_=T?JSON.parse(T):null;if(_){const O=await Te.fetchEmployees(_.id);O.success&&b(O.data)}}catch(T){console.error(T)}};qa.useEffect(()=>{v(),m()},[]);const N=(T,_)=>{c(O=>{const W={...O,[T]:_};if(T==="employeeId"){const F=g.find(P=>P.employeeId===_);F&&(W.employeeName=`${F.firstName} ${F.lastName}`)}return["basicSalary","allowances","deductions"].includes(T)&&(W.netSalary=((parseFloat(W.basicSalary)||0)+(parseFloat(W.allowances)||0)-(parseFloat(W.deductions)||0)).toFixed(2)),W})},w=()=>{c({employeeId:"",employeeName:"",basicSalary:"",allowances:"",deductions:"",netSalary:"0.00",month:new Date().toLocaleString("default",{month:"long"}),year:new Date().getFullYear().toString(),status:"Pending"}),i(null),a(!0)},A=async()=>{if(!o.employeeId){alert("VALIDATION ERROR: Please select an employee from the directory first.");return}h(!0);try{const T={employeeId:o.employeeId,period:`${o.month.substring(0,3).toUpperCase()}-${o.year}`,grossSalary:o.basicSalary,netSalary:o.netSalary,deductions:o.deductions,tax:"0",status:o.status};let _;s?_=await Te.updatePayroll(s,T):_=await Te.createPayroll(T),_.success?(await m(),a(!1),w(),alert("SUCCESS: Payroll record updated.")):alert(_.message)}catch(T){alert(T.message||"Failed to commit pay record")}finally{h(!1)}},E=T=>{i(T);const _=f.find(O=>O.id===T);_&&(c(_),a(!0))};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-gray-900",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex items-center justify-between sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Payroll Disbursement"}),e.jsx("p",{className:"text-gray-400 text-[9px] uppercase font-bold tracking-widest",children:"Execution & Ledger Control"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest border border-gray-200 px-2 py-1 rounded",children:"Terminal Status: Secure"})})]}),e.jsxs("main",{className:"flex-1 overflow-hidden p-6 flex gap-6",children:[e.jsxs("section",{className:"w-[400px] flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Payroll Parameters"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($c,{label:"Employee Link",children:e.jsxs("select",{value:o.employeeId,onChange:T=>N("employeeId",T.target.value),disabled:!r,className:"w-full p-2 bg-gray-50 border border-gray-200 rounded text-[11px] font-bold text-gray-700 outline-none",children:[e.jsx("option",{value:"",children:"Select from Directory"}),g.map(T=>e.jsxs("option",{value:T.employeeId,children:[T.employeeId,"  ",T.firstName," ",T.lastName]},T.id))]})}),e.jsx($c,{label:"Employee Name",children:e.jsx("input",{type:"text",value:o.employeeName,readOnly:!0,className:"w-full p-2 bg-gray-50 border border-gray-200 rounded text-[11px] font-bold text-gray-500 outline-none"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx($c,{label:"Month",children:e.jsxs("select",{value:o.month,onChange:T=>N("month",T.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none",children:[e.jsx("option",{value:"January",children:"January"}),e.jsx("option",{value:"February",children:"February"}),e.jsx("option",{value:"March",children:"March"}),e.jsx("option",{value:"April",children:"April"}),e.jsx("option",{value:"May",children:"May"}),e.jsx("option",{value:"June",children:"June"}),e.jsx("option",{value:"July",children:"July"}),e.jsx("option",{value:"August",children:"August"}),e.jsx("option",{value:"September",children:"September"}),e.jsx("option",{value:"October",children:"October"}),e.jsx("option",{value:"November",children:"November"}),e.jsx("option",{value:"December",children:"December"})]})}),e.jsx($c,{label:"Year",children:e.jsx("select",{value:o.year,onChange:T=>N("year",T.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none",children:Array.from({length:3},(T,_)=>new Date().getFullYear()-_).map(T=>e.jsx("option",{value:T,children:T},T))})})]}),e.jsx($c,{label:"Base Pay (JMD)",children:e.jsx("input",{type:"number",value:o.basicSalary,onChange:T=>N("basicSalary",T.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 focus:border-gray-500 outline-none"})}),e.jsx($c,{label:"Allowances",children:e.jsx("input",{type:"number",value:o.allowances,onChange:T=>N("allowances",T.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 focus:border-gray-500 outline-none"})}),e.jsx($c,{label:"Deductions",children:e.jsx("input",{type:"number",value:o.deductions,onChange:T=>N("deductions",T.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 focus:border-gray-500 outline-none"})}),e.jsxs("div",{className:"p-4 bg-gray-900 rounded text-right",children:[e.jsx("span",{className:"block text-[8px] font-black text-gray-500 uppercase tracking-[0.2em] mb-1",children:"Total Net Payable"}),e.jsxs("span",{className:"text-xl font-bold text-white font-mono",children:["$",parseFloat(o.netSalary||0).toLocaleString()]})]}),e.jsx($c,{label:"Status",children:e.jsxs("select",{value:o.status,onChange:T=>N("status",T.target.value),disabled:!r,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-700 outline-none appearance-none",children:[e.jsx("option",{value:"Pending",children:"PENDING DISPATCH"}),e.jsx("option",{value:"Paid",children:"CLEARED / PAID"}),e.jsx("option",{value:"Hold",children:"ON HOLD"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:w,className:"p-3 bg-white border border-gray-300 rounded text-[10px] font-bold text-gray-600 uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Reset Form"}),e.jsx("button",{onClick:A,className:"p-3 bg-gray-800 border border-gray-800 rounded text-[10px] font-bold text-white uppercase tracking-widest hover:bg-gray-900 transition-colors shadow-sm",children:"Commit Pay"})]})]}),e.jsxs("section",{className:"flex-1 bg-white border border-gray-200 rounded shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Master Payroll Ledger"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"System Sync: Live"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-[#F8F9FA] text-[9px] font-black text-gray-400 uppercase tracking-wider border-b border-gray-100",children:e.jsx("tr",{children:["ID","Employee","Period","Gross","Extras","Deduct","Net Disbursement"].map(T=>e.jsx("th",{className:"px-6 py-4",children:T},T))})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:f.map(T=>e.jsxs("tr",{onClick:()=>E(T.id),className:`cursor-pointer transition-colors ${s===T.id?"bg-gray-800 text-white":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold",children:T.employeeId}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold uppercase",children:T.employeeName}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold uppercase",children:T.month}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right",children:["$",parseFloat(T.basicSalary).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right text-green-500",children:["$",parseFloat(T.allowances).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right text-red-500",children:["$",parseFloat(T.deductions).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right font-bold text-gray-900 group-selected:text-white tabular-nums",children:["$",parseFloat(T.netSalary).toLocaleString()]})]},T.id))})]})})]})]}),e.jsx("div",{className:"bg-gray-100 border-t border-gray-200 p-4 flex justify-end gap-3 sticky bottom-0",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})})]})},$c=({label:t,children:r})=>e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:t}),r]}),xI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState([]),[o]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));R.useEffect(()=>{(async()=>{if(o.id)try{a(!0);const h=await Te.fetchEmployees(o.id);h.success&&i(h.data)}catch(h){console.error(h)}finally{a(!1)}})()},[o.id]);const c=()=>{if(s.length===0)return;const d=s.map(p=>({"Employee ID":p.employeeId,Name:`${p.firstName} ${p.lastName}`,Department:p.department?.name||"-",Designation:p.designation,Status:p.status})),h=ar.json_to_sheet(d),f=ar.book_new();ar.book_append_sheet(f,h,"Employee Report"),on(f,`Employee_Report_${new Date().toISOString().split("T")[0]}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1",children:e.jsx("span",{className:"font-bold text-gray-700",children:"Employee Report"})}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto relative",children:[r&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-10 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsx("div",{className:"bg-white border border-gray-400 shadow-inner p-4 min-h-[400px]",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-[#D4D0C8]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Employee ID"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Name"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Department"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Designation"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Status"})]})}),e.jsx("tbody",{className:"font-bold",children:s.length>0?s.map(d=>e.jsxs("tr",{className:"odd:bg-blue-50 hover:bg-yellow-50 transition-colors",children:[e.jsx("td",{className:"border p-2",children:d.employeeId}),e.jsxs("td",{className:"border p-2",children:[d.firstName," ",d.lastName]}),e.jsx("td",{className:"border p-2",children:d.department?.name||"-"}),e.jsx("td",{className:"border p-2",children:d.designation}),e.jsx("td",{className:"border p-2",children:e.jsx("span",{className:d.status==="Active"?"text-green-700":"text-red-600",children:d.status})})]},d.id)):!r&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"border p-8 text-center text-gray-400 italic",children:"No employee records found for this company."})})})]})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-green-700 border border-green-800 text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(Er,{size:16}),"Export"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-6 py-2 bg-[#316AC5] border border-[#26539a] text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(ea,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-6 py-2 bg-gray-600 border border-gray-700 text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(_r,{size:16}),"Exit"]})]})]})]})},mI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState([]),[o]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));R.useEffect(()=>{(async()=>{if(o.id)try{a(!0);const p=await Te.fetchAttendance({companyId:o.id});p.success&&i(p.data)}catch(p){console.error(p)}finally{a(!1)}})()},[o.id]);const c=f=>f?new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",d=f=>f?new Date(f).toLocaleDateString():"-",h=()=>{if(s.length===0)return;const f=s.map(b=>({"Employee ID":b.employee?.employeeId||"-","Full Name":`${b.employee?.firstName} ${b.employee?.lastName}`,"Report Date":d(b.date),"Time In":c(b.checkIn),"Time Out":c(b.checkOut),"Total Hrs":b.totalHours||"0",Status:b.status})),p=ar.json_to_sheet(f),g=ar.book_new();ar.book_append_sheet(g,p,"Attendance"),on(g,`Attendance_Report_${new Date().toISOString().split("T")[0]}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans relative",children:[r&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-2.5 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"text-blue-800",size:18}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Attendance Performance Report"})]})}),e.jsxs("div",{className:"flex-1 p-2 sm:p-6 overflow-auto bg-[#333333]/5",children:[e.jsx("div",{className:"bg-white border border-gray-400 shadow-[4px_4px_0_rgba(0,0,0,0.1)] rounded-sm overflow-hidden flex flex-col min-h-[400px]",children:e.jsx("div",{className:"overflow-x-auto overscroll-contain no-scrollbar",children:e.jsxs("table",{className:"w-full border-collapse text-left min-w-[700px]",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 border-b border-gray-400 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest whitespace-nowrap",children:"Employee ID"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest whitespace-nowrap",children:"Full Name"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Report Date"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Total Hrs"}),e.jsx("th",{className:"px-4 py-3 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Status"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:s.length>0?s.map(f=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 font-mono text-blue-800 tracking-tighter whitespace-nowrap uppercase",children:f.employee?.employeeId||"-"}),e.jsxs("td",{className:"px-4 py-3 border-r border-gray-100 uppercase tracking-tight whitespace-nowrap",children:[f.employee?.firstName," ",f.employee?.lastName]}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center font-mono whitespace-nowrap",children:d(f.date)}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center text-green-700 whitespace-nowrap",children:c(f.checkIn)}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center text-red-600 whitespace-nowrap",children:c(f.checkOut)}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center font-black whitespace-nowrap",children:f.totalHours||"0"}),e.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] uppercase font-black border shadow-sm ${f.status==="Present"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:f.status})})]},f.id)):!r&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-12 text-center text-gray-400 italic font-medium uppercase tracking-widest bg-gray-50/30",children:"No attendance records found for this period."})})})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[e.jsxs("button",{onClick:h,className:"flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-3 bg-green-700 hover:bg-green-600 text-white font-black text-[11px] uppercase tracking-[0.2em] shadow-lg border-b-4 border-r-4 border-green-900 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:[e.jsx(Er,{size:16}),"Export Excel"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-3 bg-[#0055E5] text-white font-black text-[11px] uppercase tracking-[0.2em] shadow-lg border-b-4 border-r-4 border-blue-900 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:[e.jsx(ea,{size:16}),"Run Print Batch"]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-8 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:16,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"bg-white border border-gray-400 px-4 py-3 flex flex-col justify-center rounded-sm shadow-inner sm:w-48",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:"Total Capacity"}),e.jsx("span",{className:"text-xl font-black text-gray-800 tracking-tighter leading-none mt-1",children:"100% Verified"})]})]})]})]})},gI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState([]),[o]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));R.useEffect(()=>{(async()=>{if(o.id)try{a(!0);const f=await Te.fetchPayrolls({companyId:o.id});f.success&&i(f.data)}catch(f){console.error(f)}finally{a(!1)}})()},[o.id]);const c=h=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(h||0),d=()=>{if(s.length===0)return;const h=s.map(g=>({"Employee ID":g.employee?.employeeId||"-",Name:`${g.employee?.firstName} ${g.employee?.lastName}`,Period:g.period,"Gross Salary":g.grossSalary,"Tax / Stat":g.tax,"Other Deduct":g.deductions,"Net Salary":g.netSalary})),f=ar.json_to_sheet(h),p=ar.book_new();ar.book_append_sheet(p,f,"Salary Report"),on(p,`Salary_Report_${new Date().toISOString().split("T")[0]}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1",children:e.jsx("span",{className:"font-bold text-gray-700",children:"Salary Report"})}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[r&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsx("div",{className:"bg-white border border-gray-400 shadow-inner p-4 min-h-[400px]",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-[#D4D0C8]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Employee ID"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Name"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Period"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Gross Salary"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Tax / Stat"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Other Deduct"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter font-black",children:"Net Salary"})]})}),e.jsx("tbody",{className:"font-bold",children:s.length>0?s.map(h=>e.jsxs("tr",{className:"odd:bg-blue-50 hover:bg-yellow-50 transition-colors",children:[e.jsx("td",{className:"border p-2",children:h.employee?.employeeId||"-"}),e.jsxs("td",{className:"border p-2",children:[h.employee?.firstName," ",h.employee?.lastName]}),e.jsx("td",{className:"border p-2",children:h.period}),e.jsx("td",{className:"border p-2 text-right",children:c(h.grossSalary)}),e.jsxs("td",{className:"border p-2 text-right text-red-600",children:["(",c(h.tax),")"]}),e.jsx("td",{className:"border p-2 text-right text-red-600",children:c(h.deductions)}),e.jsx("td",{className:"border p-2 text-right text-blue-900 font-black",children:c(h.netSalary)})]},h.id)):!r&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"border p-12 text-center text-gray-400 italic",children:"No payroll records discovered for this company."})})})]})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-6 py-2 bg-green-700 border border-green-800 text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(Er,{size:16}),"Export"]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 bg-[#316AC5] border border-[#26539a] text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(ea,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-6 py-2 bg-gray-600 border border-gray-700 text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(_r,{size:16}),"Exit"]})]})]})]})},bI=()=>{const t=jt(),[r,a]=R.useState("general"),[s,i]=R.useState(!1),o={systemName:"HRM Payroll Pro",language:"English (US)",timezone:"GMT-5 (Jamaica)",dateFormat:"DD/MM/YYYY",currency:"JMD",enableNotifications:!0,autoBackup:!0,backupFrequency:"Daily",theme:"Classic Win98",sessionTimeout:"30",loginSecurity:"High",passwordExpiry:"90",allowMultiFactor:!1,emailAlerts:!0,desktopAlerts:!0},[c,d]=R.useState(o);R.useEffect(()=>{(async()=>{try{i(!0);const b=await Te.fetchSystemSettings();b.success&&b.data&&(d({...o,...b.data}),b.data.theme==="Dark Mode (Night Owl)"&&document.body.classList.add("dark-theme"))}catch(b){console.error(b)}finally{i(!1)}})()},[]);const h=(g,b)=>{d(m=>({...m,[g]:b}))},f=async()=>{try{i(!0),(await Te.updateSystemSettings(c)).success&&(c.theme==="Dark Mode (Night Owl)"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),alert("Settings saved successfully!"))}catch(g){console.error(g),alert("Failed to save settings.")}finally{i(!1)}},p=[{id:"general",label:"General Settings",icon:e.jsx(Rn,{size:16})},{id:"security",label:"Security & Access",icon:e.jsx(Df,{size:16})},{id:"localization",label:"Localization",icon:e.jsx(h1,{size:16})},{id:"notifications",label:"Notifications",icon:e.jsx(Rk,{size:16})},{id:"database",label:"Database & Backup",icon:e.jsx(Zi,{size:16})}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rn,{size:14,className:"text-gray-700"}),e.jsx("span",{className:"font-bold text-gray-700",children:"System Configuration & Settings"})]})}),e.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col md:flex-row gap-4 overflow-auto",children:[e.jsxs("div",{className:"w-full md:w-48 bg-[#D4D0C8] border border-gray-400 flex flex-row md:flex-col overflow-x-auto shrink-0",children:[p.map(g=>e.jsxs("button",{onClick:()=>a(g.id),className:`flex items-center gap-2 px-3 py-2 text-left border-b border-gray-300 transition-none ${r===g.id?"bg-[#316AC5] text-white font-bold border-r-4 border-r-yellow-400":"text-black hover:bg-gray-300"}`,children:[g.icon,e.jsx("span",{children:g.label})]},g.id)),e.jsx("div",{className:"flex-1 min-h-[10px]"}),e.jsx("div",{className:"p-2 border-t border-gray-400 bg-gray-200",children:e.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase italic",children:"Version 4.0.2"})})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-inner p-6 overflow-auto",children:[r==="general"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-blue-800",children:"General System Preferences"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"System Display Name"}),e.jsx("input",{type:"text",value:c.systemName,onChange:g=>h("systemName",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner focus:outline-blue-500 font-bold"}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"UI Theme Style"}),e.jsxs("select",{value:c.theme,onChange:g=>h("theme",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner focus:outline-blue-500 font-bold",children:[e.jsx("option",{children:"Classic Win98"}),e.jsx("option",{children:"Modern Professional"}),e.jsx("option",{children:"Dark Mode (Night Owl)"}),e.jsx("option",{children:"High Contrast"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Session Timeout (m)"}),e.jsx("input",{type:"number",value:c.sessionTimeout,onChange:g=>h("sessionTimeout",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner w-32 font-bold"}),e.jsx("div",{className:"col-start-2 pt-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:c.enableNotifications,onChange:g=>h("enableNotifications",g.target.checked),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-blue-600 transition-colors",children:"Enable In-App System Alerts & Notifications"})]})})]})]}),r==="security"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-amber-800",children:"Security & Access Control"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Minimum Security Level"}),e.jsxs("select",{value:c.loginSecurity,onChange:g=>h("loginSecurity",g.target.value),className:"p-1.5 border border-gray-400 font-bold",children:[e.jsx("option",{children:"Standard"}),e.jsx("option",{children:"High"}),e.jsx("option",{children:"Strict (Locked Down)"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Password Expiry (Days)"}),e.jsx("input",{type:"number",value:c.passwordExpiry,onChange:g=>h("passwordExpiry",g.target.value),className:"p-1.5 border border-gray-400 font-bold w-32"}),e.jsxs("div",{className:"col-start-2 flex flex-col gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.allowMultiFactor,onChange:g=>h("allowMultiFactor",g.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-gray-700",children:"Enforce Multi-Factor Authentication (MFA)"})]}),e.jsx("p",{className:"text-[10px] text-gray-400 italic ml-6",children:"Requires valid email server integration for SMS/OTP codes."})]})]})]}),r==="localization"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-blue-800",children:"Regional & Language Settings"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"System Language"}),e.jsxs("select",{value:c.language,onChange:g=>h("language",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",children:[e.jsx("option",{children:"English (US)"}),e.jsx("option",{children:"English (UK)"}),e.jsx("option",{children:"Spanish"}),e.jsx("option",{children:"French"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Time Zone"}),e.jsxs("select",{value:c.timezone,onChange:g=>h("timezone",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",children:[e.jsx("option",{children:"GMT-5 (Jamaica)"}),e.jsx("option",{children:"GMT-4 (Eastern)"}),e.jsx("option",{children:"GMT+0 (London)"}),e.jsx("option",{children:"GMT+5:30 (India)"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Date Format"}),e.jsxs("select",{value:c.dateFormat,onChange:g=>h("dateFormat",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",children:[e.jsx("option",{children:"DD/MM/YYYY"}),e.jsx("option",{children:"MM/DD/YYYY"}),e.jsx("option",{children:"YYYY-MM-DD"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Default Currency"}),e.jsx("input",{type:"text",value:c.currency,onChange:g=>h("currency",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner w-32 font-bold"})]})]}),r==="notifications"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-green-800",children:"Notification Channels"}),e.jsxs("div",{className:"space-y-4 text-xs",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded cursor-pointer hover:bg-white group",children:[e.jsx("input",{type:"checkbox",checked:c.emailAlerts,onChange:g=>h("emailAlerts",g.target.checked),className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 uppercase",children:"Enable Email Alerts"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Send critical system events to administrator email address."})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded cursor-pointer hover:bg-white group",children:[e.jsx("input",{type:"checkbox",checked:c.desktopAlerts,onChange:g=>h("desktopAlerts",g.target.checked),className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 uppercase",children:"Browser Notifications"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Show desktop push notifications for status updates and tasks."})]})]})]})]}),r==="database"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-blue-800",children:"Data Management & Backups"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("div",{className:"col-start-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer font-bold text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:c.autoBackup,onChange:g=>h("autoBackup",g.target.checked),className:"w-4 h-4 cursor-pointer"}),"Enable Autonomous Database Backups"]})}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Backup Frequency"}),e.jsxs("select",{value:c.backupFrequency,onChange:g=>h("backupFrequency",g.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",disabled:!c.autoBackup,children:[e.jsx("option",{children:"Every Hour"}),e.jsx("option",{children:"Daily"}),e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Monthly"})]}),e.jsxs("div",{className:"col-start-2 pt-6 flex gap-4",children:[e.jsx("button",{onClick:()=>alert("BACKUP INITIALIZED: System snapshot is being synchronized..."),className:"px-4 py-2 bg-blue-600 text-white font-bold border border-blue-800 shadow-[2px_2px_0_rgba(0,0,0,0.2)] active:translate-y-0.5",children:"Run Manual Backup Now"}),e.jsx("button",{onClick:()=>alert("SYSTEM PURGE: Old logs have been cleared from disk."),className:"px-4 py-2 border border-red-500 text-red-600 font-bold bg-white shadow-[2px_2px_0_rgba(0,0,0,0.1)] active:translate-y-0.5",children:"Purge Old Log Files"})]})]})]})]}),e.jsxs("div",{className:"flex flex-row md:flex-col gap-2 w-full md:w-20 shrink-0 justify-end md:justify-start relative",children:[s&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-10 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:24})}),e.jsxs("button",{onClick:f,disabled:s,className:`flex flex-col items-center justify-center p-2 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:border-0 active:translate-y-0.5 ${s?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(qs,{className:"text-blue-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:s?"SAVING...":"SAVE ALL"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex flex-col items-center justify-center p-2 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:border-0 active:translate-y-0.5",children:[e.jsx(_r,{className:"text-red-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"CLOSE"})]})]})]})]})},yI=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Ln,{size:18}),r==="error"&&e.jsx(nc,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},vI=({isOpen:t,onClose:r,title:a,children:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,NI=()=>{const t=jt(),[r,a]=R.useState(new Date().toLocaleTimeString()),[s,i]=R.useState([]),[o,c]=R.useState({active:0,lunch:0,off:0}),[d,h]=R.useState(!0),[f,p]=R.useState(!1),[g,b]=R.useState("All Departments"),[m,v]=R.useState([]),[N,w]=R.useState(null),[A,E]=R.useState(!1),[T,_]=R.useState(new Date().toISOString().split("T")[0]),[O,W]=R.useState(!1),[F,P]=R.useState(!1),z=R.useRef(null),[M,C]=R.useState(()=>{try{return JSON.parse(localStorage.getItem("selectedCompany")||"{}")}catch{return{}}}),U=(Ne,q="success")=>{w({message:Ne,type:q})};R.useEffect(()=>{const Ne=setInterval(()=>a(new Date().toLocaleTimeString()),1e3);return()=>clearInterval(Ne)},[]),R.useEffect(()=>{const Ne=Array.from(new Set(s.map(q=>q.department))).sort();v(Ne)},[s]);const B=async(Ne=!1)=>{Ne||W(!0);try{const q=await Te.fetchLiveAttendance(M?.id);q.data&&(i(q.data.entries||[]),c(q.data.stats||{active:0,lunch:0,off:0}),Ne||U("Data Synced Successfully","success"))}catch(q){console.error("Failed to fetch live attendance",q),Ne||U("Failed to sync data","error")}finally{h(!1),Ne||W(!1)}};R.useEffect(()=>{B(!0)},[M]),R.useEffect(()=>(f?z.current=setInterval(()=>{B(!0)},5e3):z.current&&clearInterval(z.current),()=>{z.current&&clearInterval(z.current)}),[f,M]);const X=()=>{P(!0),setTimeout(()=>{P(!1),U("Monitoring logs saved to database","success")},1500)},ue=()=>{E(!0)},J=()=>{E(!1),U(`Fetching archives for ${T}...`,"info")},re=()=>{p(!0),B(!0),U("Live Monitoring Started","success")},oe=()=>{p(!1),U("Live Monitoring Paused","info")},ve=s.filter(Ne=>g==="All Departments"||Ne.department===g);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[N&&e.jsx(yI,{message:N.message,type:N.type,onClose:()=>w(null)}),e.jsx(vI,{isOpen:A,onClose:()=>E(!1),title:"Select Archive Date",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-600",children:"Date to retrieve:"}),e.jsx("input",{type:"date",value:T,onChange:Ne=>_(Ne.target.value),className:"p-2 border border-gray-400 rounded-sm font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:J,className:"px-4 py-2 bg-blue-600 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-700 transition-colors shadow-sm",children:"Retrieve"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-2 flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(xu,{size:16,className:"text-blue-700 shrink-0"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter truncate",children:"Time Keeper - Real Time Monitoring"})]}),e.jsx("div",{className:"text-blue-800 font-black text-xs sm:text-sm italic whitespace-nowrap bg-white/50 px-3 py-1 rounded shadow-inner",children:r})]}),e.jsxs("div",{className:"flex-1 p-2 sm:p-4 flex flex-col lg:flex-row gap-4 overflow-y-auto lg:overflow-hidden min-w-0",children:[e.jsxs("div",{className:"w-full lg:w-64 bg-[#D4D0C8] border border-gray-400 p-3 shadow-[inset_1px_1px_0_white] shrink-0",children:[e.jsxs("div",{className:"bg-[#316AC5] text-white px-3 py-1.5 font-bold mb-4 shadow-[inset_0_1px_1px_rgba(255,255,255,0.4)] flex items-center justify-between",children:[e.jsx("span",{children:"CONTROLS"}),e.jsx("div",{className:"lg:hidden text-[9px] font-black opacity-75",children:"MANUAL OVERRIDE"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-1 gap-3",children:[e.jsxs("button",{onClick:re,disabled:f,className:`flex items-center gap-3 w-full bg-white border border-gray-500 p-2.5 shadow-sm transition-all rounded-sm group relative overflow-hidden ${f?"bg-green-50 border-green-500":"hover:bg-green-50 active:translate-y-0.5"}`,children:[e.jsx(x1,{size:18,className:`text-green-600 ${f?"animate-pulse":"group-hover:scale-110"} transition-transform`}),e.jsx("span",{className:"font-black text-[11px] uppercase tracking-tighter text-left z-10",children:f?"MONITORING ACTIVE":"START SHIFT LOG"}),f&&e.jsx("div",{className:"absolute inset-0 bg-green-100 opacity-20 animate-pulse"})]}),e.jsxs("button",{onClick:oe,disabled:!f,className:`flex items-center gap-3 w-full bg-white border border-gray-400 p-2.5 shadow-sm transition-all rounded-sm group ${f?"hover:bg-yellow-50 active:translate-y-0.5":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(YA,{size:18,className:"text-yellow-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-black text-[11px] uppercase tracking-tighter",children:"PAUSE MONITORING"})]}),e.jsxs("button",{onClick:()=>B(!1),disabled:O,className:"flex items-center gap-3 w-full bg-white border border-gray-400 p-2.5 hover:bg-blue-50 active:translate-y-0.5 shadow-sm transition-all rounded-sm group",children:[e.jsx(sn,{size:18,className:`text-blue-600 transition-transform ${O?"animate-spin":"group-hover:rotate-180"}`}),e.jsx("span",{className:"font-black text-[11px] uppercase tracking-tighter",children:O?"SYNCING...":"SYNC BIOMETRIC"})]})]}),e.jsxs("div",{className:"mt-6 lg:mt-8 border-t border-gray-400 pt-4",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-2 tracking-widest",children:"Filters / Views"}),e.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{value:g,onChange:Ne=>b(Ne.target.value),className:"w-full p-2 pr-8 border border-gray-400 font-bold bg-white text-[10px] focus:ring-1 focus:ring-blue-500 outline-none appearance-none rounded-sm",children:[e.jsx("option",{children:"All Departments"}),m.map(Ne=>e.jsx("option",{children:Ne},Ne))]}),e.jsx(zd,{size:14,className:"absolute right-2 top-2.5 text-gray-500 pointer-events-none"})]}),e.jsxs("div",{className:"flex-1 bg-white p-3 border border-gray-400 text-[10px] sm:text-[11px] font-black shadow-inner grid grid-cols-3 sm:grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex justify-between border-b lg:border-none border-gray-100 pb-1",children:[e.jsx("span",{children:"ACTIVE:"})," ",e.jsx("span",{className:"text-green-600",children:o.active})]}),e.jsxs("div",{className:"flex justify-between border-b lg:border-none border-gray-100 pb-1",children:[e.jsx("span",{children:"LUNCH:"})," ",e.jsx("span",{className:"text-yellow-600",children:o.lunch})]}),e.jsxs("div",{className:"flex justify-between border-b lg:border-none border-gray-100 pb-1",children:[e.jsx("span",{children:"OFF:"})," ",e.jsx("span",{className:"text-gray-400",children:o.off})]})]})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col border border-gray-400 bg-white shadow-inner overflow-hidden min-h-[400px] sm:min-h-0 relative",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-20 flex items-center justify-center backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(sn,{className:"animate-spin text-blue-600",size:32}),e.jsx("span",{className:"text-xs font-bold text-blue-800 uppercase tracking-widest animate-pulse",children:"Connecting to time server..."})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] p-2 border-b border-gray-400 flex items-center justify-between px-3 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full shadow-[0_0_8px_rgba(34,197,94,0.6)] ${f?"bg-green-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"font-black uppercase tracking-wider text-[11px]",children:f?"Live Status Feed":"Feed Paused"})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded border transition-colors duration-300 ${f?"text-green-700 bg-green-100 border-green-200":"text-gray-500 bg-gray-100 border-gray-200"}`,children:f?"System Online":"Standby"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 border-b border-gray-300 z-10",children:e.jsxs("tr",{className:"text-[10px] uppercase font-black text-gray-500 italic",children:[e.jsx("th",{className:"p-3 border-r border-gray-200",children:"ID"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Employee Name"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Dept"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Clock In"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Break Status"}),e.jsx("th",{className:"p-3",children:"Current Status"})]})}),e.jsx("tbody",{children:ve.length===0&&!d?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Pn,{size:32,className:"opacity-20"}),e.jsx("span",{className:"text-xs font-bold italic",children:"No active employees found in this sector."})]})})}):ve.map(Ne=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50/50 transition-colors group cursor-default",children:[e.jsxs("td",{className:"p-3 font-mono text-gray-400 group-hover:text-blue-600 transition-colors",children:["#",Ne.id]}),e.jsxs("td",{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center shrink-0 border border-blue-200 group-hover:scale-110 group-hover:shadow-sm transition-all duration-300",children:e.jsx(Pn,{size:14,className:"text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-blue-900 leading-none group-hover:text-blue-700 transition-colors",children:Ne.name}),e.jsx("span",{className:"text-[9px] text-gray-400 font-bold sm:hidden",children:Ne.department})]})]}),e.jsx("td",{className:"p-3 font-bold text-gray-600",children:Ne.department}),e.jsx("td",{className:"p-3 font-mono text-gray-500 italic",children:Ne.clockIn}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2.5 py-1 rounded-sm text-[9px] font-black tracking-widest shadow-sm ${Ne.breakStatus==="OUT"?"bg-orange-100 text-orange-700 border border-orange-200":"bg-green-100 text-green-700 border border-green-200"}`,children:Ne.breakStatus})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${Ne.status==="WORKING"?"bg-green-500":Ne.status==="ON BREAK"?"bg-orange-500":"bg-gray-400"} group-hover:scale-125 transition-transform`}),e.jsx("span",{className:"font-black text-[11px] uppercase group-hover:tracking-wider transition-all duration-300",children:Ne.status})]})})]},Ne.id))})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] p-3 border-t border-gray-400 flex flex-col sm:flex-row justify-between items-center px-4 text-[10px] font-black text-gray-500 gap-2 shrink-0",children:[e.jsxs("span",{className:"uppercase tracking-widest",children:["LAST SYNC: ",new Date().toLocaleTimeString()]}),e.jsx("div",{className:"flex gap-6 uppercase tracking-widest bg-white/30 px-3 py-1 rounded text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("span",{children:"Total Employees:"})," ",e.jsx("span",{className:"text-gray-900",children:s.length})]})})]})]}),e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 w-full lg:w-20 lg:h-full shrink-0 items-stretch",children:[e.jsxs("button",{onClick:X,disabled:F,className:"flex-1 flex flex-col items-center justify-center p-3 sm:p-4 border-2 border-white border-b-gray-600 border-r-gray-600 bg-[#E0DCCF] hover:bg-white active:bg-gray-100 active:translate-y-0.5 transition-all shadow-md group relative overflow-hidden",children:[F?e.jsx(sn,{className:"text-blue-600 mb-1 animate-spin",size:24}):e.jsx(qs,{className:"text-blue-600 mb-1 group-hover:scale-110 transition-transform",size:24}),e.jsx("span",{className:"font-black text-[10px] uppercase text-center",children:F?"SAVING...":"SAVE LOGS"})]}),e.jsxs("button",{onClick:ue,className:"flex-1 flex flex-col items-center justify-center p-3 sm:p-4 border-2 border-white border-b-gray-600 border-r-gray-600 bg-[#E0DCCF] hover:bg-white active:bg-gray-100 active:translate-y-0.5 transition-all shadow-md group",children:[e.jsx(On,{className:"text-gray-700 mb-1 group-hover:scale-110 transition-transform",size:24}),e.jsx("span",{className:"font-black text-[10px] uppercase",children:"History"})]}),e.jsx("div",{className:"hidden lg:block flex-1"}),e.jsxs("button",{onClick:()=>t(-1),className:"flex-1 flex flex-col items-center justify-center p-3 sm:p-4 border-2 border-white border-b-gray-600 border-r-gray-600 bg-[#E0DCCF] hover:bg-red-50 active:bg-red-100 active:translate-y-0.5 transition-all shadow-md group",children:[e.jsx(_r,{className:"text-red-600 mb-1 group-hover:rotate-12 transition-transform",size:24}),e.jsx("span",{className:"font-black text-[10px] uppercase text-red-700",children:"EXIT"})]})]})]})]})},wI=()=>{jt();const t=oi(),a=new URLSearchParams(t.search).get("period")||new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase(),[s,i]=R.useState(a),[o,c]=R.useState(!1),[d,h]=R.useState(""),[f,p]=R.useState("All Departments"),[g,b]=R.useState([]),[m,v]=R.useState(!1),[N]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[w,A]=R.useState([]),E=async()=>{if(N.id)try{const B=await Te.fetchDepartments(N.id);B.success&&b(B.data)}catch(B){console.error("Failed to fetch departments",B)}},T=async()=>{if(N.id)try{v(!0);const B={companyId:N.id,period:s};f!=="All Departments"&&(B.departmentId=f);const X=await Te.fetchPayrolls(B);X.success&&A(X.data)}catch(B){console.error(B)}finally{v(!1)}};R.useEffect(()=>{E()},[N.id]),R.useEffect(()=>{T()},[N.id,s,f]);const _=async()=>{if(N.id)try{v(!0),h("Synchronizing with Personnel Directory...");const B=await Te.syncPayrolls({companyId:N.id,period:s});B.success?(await T(),alert(` HRM Sync Complete
${B.data.created} new employee(s) imported to ${s}.
${B.data.existing} record(s) already synchronized.`)):alert("Sync failed: "+B.message)}catch(B){console.error(B)}finally{v(!1),h("")}},O=()=>{if(w.length===0)return;const B=`Staff,Department,Gross,NIS,NHT,EdTax,PAYE,Net,Status
`+w.map(re=>`"${re.employee?.firstName} ${re.employee?.lastName}","${re.employee?.department?.name||"N/A"}",${re.grossSalary},${re.nis},${re.nht},${re.edTax},${re.paye},${re.netSalary},"${re.status}"`).join(`
`),X=new Blob([B],{type:"text/csv;charset=utf-8;"}),ue=URL.createObjectURL(X),J=document.createElement("a");J.setAttribute("href",ue),J.setAttribute("download",`Payroll_Export_${s}_${f}.csv`),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)},W=()=>{window.print()},F=async()=>{if(N.id)try{c(!0),h("Initializing calculation engine...");const B=await Te.generatePayrolls({companyId:N.id,period:s});B.success?(h("Applying statutory rules (NIS/NHT/PAYE)..."),setTimeout(()=>{h("Finalizing individual tallies..."),setTimeout(()=>{T(),c(!1),h(""),alert(` SUCCESS: ${B.data.count} payroll records processed for ${s}.`)},1e3)},1e3)):(alert("Calculation failed: "+B.message),c(!1))}catch(B){console.error(B),c(!1)}},P=async()=>{if(w.filter(J=>J.status==="Calculated").length,w.length===0){alert("No payroll records found for this period. Run 'Step 2: Calculate' first.");return}const X=w.filter(J=>J.status==="Pending").length;if(X>0){alert(` FINALIZATION BLOCKED

Cannot finalize payroll batch!

Reason: ${X} employees are still in 'Pending' status.

Please run "Step 2: Calculate" to process all employees before finalizing.`);return}if(window.confirm(` FINALIZE PAYROLL BATCH - ${s}

This will lock all records and Mark them as ready for disbursement.

Proceed?`))try{const J=await Te.finalizeBatch({companyId:N.id,period:s});J.success?(alert(` SUCCESS: ${J.data.count} records finalized.`),T()):alert("Finalization failed: "+J.message)}catch(J){console.error(J)}},z=w.reduce((B,X)=>B+parseFloat(X.grossSalary||0),0),M=w.reduce((B,X)=>B+parseFloat(X.netSalary||0),0),C=w.reduce((B,X)=>B+parseFloat(X.deductions||0),0),U=w.reduce((B,X)=>B+parseFloat(X.paye||0),0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-3 sm:px-4 py-3 sm:py-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-2 no-print",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full sm:w-auto",children:[e.jsx(Od,{className:"text-gray-600 shrink-0",size:16}),e.jsxs("span",{className:"font-bold text-gray-800 text-xs uppercase tracking-wider border-l-2 border-gray-300 pl-2 leading-tight",children:["Payroll Execution Terminal ",e.jsx("span",{className:"hidden xs:inline",children:" Jamaica Statutory Engine"})]})]}),e.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:e.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-300 px-3 py-2 shadow-sm group hover:border-blue-500 transition-all w-full sm:w-72 lg:w-64",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter shrink-0 border-r border-gray-200 pr-3 h-4 flex items-center",children:"Tax Period"}),e.jsx("input",{type:"text",value:s,readOnly:!0,className:"text-xs font-black text-blue-900 focus:outline-none bg-transparent cursor-pointer flex-1 text-right focus:ring-0 appearance-none border-none p-0 uppercase"})]})})]}),e.jsxs("div",{className:"flex-1 p-2 sm:p-4 flex flex-col gap-4 overflow-y-auto min-w-0",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[{step:"Step 1: HRM Sync",icon:e.jsx(sn,{size:32,className:"text-blue-500"}),btnText:"Sync HRM Data",desc:"Refresh employee data & base rates",color:"gray",action:_,disabled:m||o},{step:"Step 2: Calculate",icon:e.jsx(x1,{size:32,className:"text-emerald-500"}),btnText:o?"Processing...":"Run Master Engine",desc:"Calculate Statutories & Net Pay",color:"primary",action:F,disabled:o||m},{step:"Step 3: Audit",icon:e.jsx(rr,{size:32,className:"text-amber-500"}),btnText:"Review Summary",desc:"Check for discrepancies before locking",color:"gray",action:()=>{const B=w.reduce((J,re)=>J+parseFloat(re.nis||0),0),X=w.reduce((J,re)=>J+parseFloat(re.nht||0),0),ue=w.reduce((J,re)=>J+parseFloat(re.edTax||0),0);alert(` PAYROLL AUDIT SUMMARY - ${s.toUpperCase()}

Scope: ${f}
Total Population: ${w.length}

Gross Payroll:        $${z.toLocaleString(void 0,{minimumFractionDigits:2})}
Total Income Tax:     $${U.toLocaleString(void 0,{minimumFractionDigits:2})}
NIS Contributions:    $${B.toLocaleString(void 0,{minimumFractionDigits:2})}
NHT Contributions:    $${X.toLocaleString(void 0,{minimumFractionDigits:2})}
Education Tax:        $${ue.toLocaleString(void 0,{minimumFractionDigits:2})}
Other Deductions:     $${C.toLocaleString(void 0,{minimumFractionDigits:2})}

NET DISBURSEMENT:    $${M.toLocaleString(void 0,{minimumFractionDigits:2})}`)},disabled:w.length===0},{step:"Step 4: Finalize",icon:e.jsx(Nn,{size:32,className:"text-gray-400"}),btnText:"Finalize Batch",desc:"Lock period & generate payslips",color:"gray",action:P,disabled:w.length===0||o}].map((B,X)=>e.jsxs("div",{className:"bg-white border border-gray-300 p-4 shadow-sm flex flex-col gap-2 relative overflow-hidden group hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h4",{className:"text-[10px] font-bold uppercase text-gray-500 tracking-widest",children:B.step}),e.jsx("div",{className:"opacity-20",children:B.icon})]}),e.jsx("button",{disabled:B.disabled,onClick:B.action,className:`p-2.5 text-[10px] font-bold uppercase border transition-all flex items-center justify-center gap-2 rounded
                                    ${B.color==="primary"?"bg-gray-800 text-white hover:bg-black":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:B.btnText}),e.jsx("p",{className:"text-[9px] text-gray-500 mt-1 leading-tight",children:B.desc})]},X))}),(o||m)&&e.jsx("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-l-4 border-blue-500 shadow-lg animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-4 text-white",children:[e.jsx(Ut,{className:"animate-spin text-blue-400",size:16}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:d||"Loading context..."})]})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-inner overflow-hidden flex flex-col min-h-0",children:[e.jsxs("div",{className:"bg-gray-100 p-2 sm:p-3 border-b border-gray-300 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase",children:"Filter:"}),e.jsxs("select",{value:f,onChange:B=>p(B.target.value),className:"text-[10px] font-bold text-blue-900 border border-gray-300 bg-white p-1.5 rounded-sm focus:ring-1 focus:ring-blue-500 outline-none",children:[e.jsx("option",{value:"All Departments",children:"All Departments"}),g.map(B=>e.jsx("option",{value:B.id,children:B.name},B.id))]}),e.jsxs("span",{className:"text-[9px] text-gray-400 ml-2 italic",children:["Found ",w.length," records"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:O,className:"p-1.5 px-4 bg-white border border-gray-300 text-[9px] font-black uppercase flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[e.jsx(Er,{size:14})," Export CSV"]}),e.jsxs("button",{onClick:W,className:"p-1.5 px-4 bg-gray-700 text-white border border-gray-800 text-[9px] font-black uppercase flex items-center gap-1.5 hover:bg-gray-900 transition-colors",children:[e.jsx(rr,{size:14})," Print PDF"]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[1000px]",children:[e.jsx("thead",{className:"bg-[#F8F9FA] border-b border-gray-300 text-[10px] font-bold text-gray-700 uppercase sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Staff Member"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Dept"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"Gross Pay"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"NIS EE"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"NHT EE"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"ED TAX"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"PAYE"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right font-bold",children:"Net Pay"}),e.jsx("th",{className:"p-3",children:"Status"})]})}),e.jsx("tbody",{className:"text-[11px] font-medium text-gray-700",children:m&&w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"p-10 text-center text-gray-400 uppercase tracking-widest",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Ut,{className:"animate-spin",size:24}),e.jsx("span",{children:"Streaming payroll data..."})]})})}):w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"p-10 text-center text-gray-400 uppercase tracking-widest",children:"No records found for this period. Click 'Run Master Engine' to start."})}):w.map(B=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors group",children:[e.jsxs("td",{className:"p-3 border-r border-gray-200 uppercase",children:[e.jsxs("span",{className:"text-gray-800 font-bold group-hover:text-blue-700 transition-colors",children:[B.employee?.firstName," ",B.employee?.lastName]}),e.jsxs("div",{className:"text-[9px] text-gray-400 font-mono tracking-tighter",children:["ID: ",B.employee?.employeeId," | TRN: ",B.employee?.trn||"PENDING"]})]}),e.jsx("td",{className:"p-3 border-r border-gray-200",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[9px] text-gray-600 font-bold uppercase",children:B.employee?.department?.name||"N/A"})}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono",children:["$",parseFloat(B.grossSalary).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-gray-500",children:["$",parseFloat(B.nis).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-gray-500",children:["$",parseFloat(B.nht).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-gray-500",children:["$",parseFloat(B.edTax).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-amber-700 font-bold",children:["$",parseFloat(B.paye).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-bold bg-gray-50 text-[13px] font-mono text-blue-900",children:["$",parseFloat(B.netSalary).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-[8px] font-black uppercase tracking-tighter shadow-sm
                                                ${B.status==="Finalized"?"bg-green-600 text-white":B.status==="Calculated"?"bg-blue-600 text-white":"bg-gray-400 text-white"}`,children:B.status})})]},B.id))})]})}),e.jsxs("div",{className:"bg-gray-100 p-4 border-t border-gray-300 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 no-print",children:[e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 shadow-sm border-l-4 border-l-gray-400",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Batch Gross Payroll"}),e.jsxs("div",{className:"text-sm font-bold text-gray-800 mt-1",children:["$",z.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 shadow-sm border-l-4 border-l-amber-400",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Total Income Tax (PAYE)"}),e.jsxs("div",{className:"text-sm font-bold text-amber-700 mt-1",children:["$",U.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 shadow-sm border-l-4 border-l-blue-400",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Other Deductions & Statutories"}),e.jsxs("div",{className:"text-sm font-bold text-gray-800 mt-1",children:["$",(z-M-U).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gray-800 p-3 rounded text-white shadow-lg border-l-4 border-l-emerald-400",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Net Disbursement"}),e.jsxs("div",{className:"text-xl font-bold tracking-tight",children:["$",M.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 flex justify-between items-center text-[9px] font-bold uppercase tracking-widest no-print",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(nc,{size:14,className:"text-amber-500"})," Compliance: Jamaica Income Tax Act 2024"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Nn,{size:14,className:"text-emerald-500"})," NIS & NHT Thresholds Verified"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-400",children:"Environment: Production"}),e.jsxs("span",{className:"border-l border-gray-600 pl-3",children:["Session Time: ",new Date().toLocaleTimeString()]})]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    .no-print { display: none !important; }
                    body { background: white !important; }
                    .flex-1 { overflow: visible !important; }
                    table { min-width: 100% !important; border: 1px solid #ccc !important; }
                }
            `}})]})},jI=()=>{const t=jt(),[r,a]=R.useState(null),[s,i]=R.useState(""),[o,c]=R.useState(""),[d,h]=R.useState("1 Month (Full Deduction)"),[f,p]=R.useState(null),[g,b]=R.useState(null),[m,v]=R.useState(()=>JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[N,w]=R.useState([]),[A,E]=R.useState([]),[T,_]=R.useState(!1),[O]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),W=async()=>{const re=JSON.parse(localStorage.getItem("selectedCompany")||"{}");if(re.id)try{_(!0);const[oe,ve]=await Promise.all([Te.fetchEmployees(re.id),Te.fetchAdvancePayments({companyId:re.id})]);if(oe.success&&ve.success){const Ne=ve.data||[];v(re),w((oe.data||[]).map(q=>{const G=Ne.filter(V=>V.employeeId===q.id&&V.status==="PAID").reduce((V,K)=>V+parseFloat(K.amount||0),0);return{id:q.id,employeeId:q.employeeId,name:`${q.firstName} ${q.lastName}`,limit:q.baseSalary?parseFloat(q.baseSalary)*.5:5e4,balance:G}})),E(Ne.slice(0,10).map(q=>({id:q.id,date:new Date(q.requestDate).toLocaleDateString(),employee:q.employee?`${q.employee.firstName} ${q.employee.lastName}`:"Unknown",amount:parseFloat(q.amount),status:q.status,color:q.status==="PAID"?"text-green-600":q.status==="APPROVED"?"text-blue-600":q.status==="REJECTED"?"text-red-600":"text-yellow-600"})))}}catch(oe){console.error(oe)}finally{_(!1)}};R.useEffect(()=>{W()},[m.id]);const F=N.filter(re=>re.name.toLowerCase().includes(s.toLowerCase())||re.employeeId.toLowerCase().includes(s.toLowerCase())),P=o?parseFloat(o)*.01:0,z=o?parseFloat(o)+P:0,M=()=>d.includes("1 Month")?1:d.includes("2 Months")?2:d.includes("3 Months")?3:d.includes("6 Months")?6:1,C=()=>{const re=new Date;return re.setMonth(re.getMonth()+1),`${["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][re.getMonth()]}-${re.getFullYear()}`},U=async()=>{if(!(!r||!o))try{p("saving");const re={companyId:m.id,employeeId:r.id,amount:parseFloat(o),reason:`Advance Payment - ${d}`,status:"PENDING",requestDate:new Date,installments:M(),deductionStart:C()};(await Te.createAdvancePayment(re)).success&&(p("success"),setTimeout(()=>p(null),3e3),W())}catch(re){console.error(re),p(null)}},B=async()=>{if(!r)return;if(!o||parseFloat(o)<=0){alert("INVALID: Please enter a disbursement amount.");return}if(window.confirm(`AUTHORIZE DISBURSEMENT of $${z.toLocaleString()} for ${r.name}?

This will create an approved and PAID record immediately.`))try{b("processing");const oe={companyId:m.id,employeeId:r.id,amount:parseFloat(o),purpose:`Immediate Advance - ${d}`,status:"PAID",requestedBy:O.email,approvedBy:O.email,paymentDate:new Date().toISOString(),installments:M(),deductionStart:C()};(await Te.createAdvancePayment(oe)).success&&(b("success"),setTimeout(()=>{b(null),c(""),a(null)},2e3),W())}catch(oe){console.error(oe),b(null)}},X=async re=>{if(window.confirm(`APPROVE REQUEST: Are you sure you want to approve this advance for ${re.employee}?`))try{_(!0),(await Te.approveAdvancePayment(re.id,{approvedBy:O.email})).success&&(alert("REQUEST APPROVED: The status is now set to APPROVED. Final disbursement is required to release funds."),W())}catch(ve){console.error(ve),alert("Error approving request.")}finally{_(!1)}},ue=async re=>{if(window.confirm(`EXECUTE DISBURSEMENT: Confirm bank transfer and ledger update for ${re.employee}?`))try{_(!0),(await Te.markAdvancePaymentAsPaid(re.id,{paymentDate:new Date().toISOString()})).success&&(alert("SETTLEMENT FINALIZED: Bank transfer initiated and payroll deductions scheduled."),W())}catch(ve){console.error(ve),alert("Error processing payment.")}finally{_(!1)}},J=async re=>{const oe=window.prompt("Reason for rejection:");if(oe!==null)try{_(!0),(await Te.rejectAdvancePayment(re.id,{rejectionReason:oe})).success&&W()}catch(ve){console.error(ve)}finally{_(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#0055E5] text-white h-10 flex items-center justify-between px-4 text-[11px] font-black italic tracking-widest uppercase shadow-md border-b-2 border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wo,{size:18}),e.jsx("span",{children:"Advance Payment & Loan Disbursement Module"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[T&&e.jsxs("div",{className:"text-[9px] font-bold text-blue-200 flex items-center gap-1 animate-pulse",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," SYNCHRONIZING WITH CORE..."]}),e.jsxs("div",{className:"flex items-center gap-4 border-l border-white/20 pl-4",children:[e.jsx("span",{children:"Station: PAY-042"}),e.jsxs("span",{className:"text-blue-200",children:["User: ",O.email?.split("@")[0].toUpperCase()]})]})]})]}),e.jsxs("div",{className:"flex-1 p-3 md:p-6 flex flex-col md:flex-row gap-6 md:gap-8 overflow-auto md:overflow-hidden pb-20 md:pb-6",children:[e.jsxs("div",{className:"w-full md:w-80 shrink-0 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-4 shadow-2xl rounded-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2.5 border-2 border-gray-200 mb-6 shadow-inner focus-within:border-blue-400 transition-colors",children:[e.jsx(Ga,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"LOOKUP RECIPIENT...",className:"bg-transparent outline-none font-black placeholder:italic w-full italic uppercase tracking-tighter",value:s,onChange:re=>i(re.target.value)})]}),e.jsx("div",{className:"space-y-2 overflow-auto max-h-[250px] md:max-h-[450px] scrollbar-thin scrollbar-thumb-gray-200 pr-1",children:F.map(re=>e.jsxs("button",{onClick:()=>a(re),className:`w-full text-left p-4 border-2 font-black italic flex items-center justify-between group transition-all rounded-sm ${r?.id===re.id?"bg-[#0055E5] text-white border-white shadow-xl translate-x-1":"bg-white text-gray-700 border-gray-100 hover:border-blue-200 hover:bg-blue-50/50"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`text-[9px] uppercase tracking-widest ${r?.id===re.id?"text-blue-200":"text-gray-400"}`,children:re.employeeId}),e.jsx("span",{className:"tracking-tight uppercase",children:re.name})]}),e.jsx(xo,{size:18,className:`${r?.id===re.id?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-all`})]},re.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 text-white p-5 italic font-black text-center shadow-2xl uppercase tracking-[0.2em] text-[10px] border-2 border-white border-r-black border-b-black rounded-sm",children:"Corporate Funds Management System"})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-4 md:p-10 shadow-2xl flex-1 overflow-auto rounded-sm relative",children:r?e.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500 translate-none",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 border-b-2 border-gray-50 pb-10",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-50 border-4 border-white shadow-2xl rounded-2xl flex items-center justify-center text-blue-600 group hover:rotate-6 transition-transform",children:e.jsx(Pn,{size:48,className:"group-hover:scale-110 transition-transform"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-4xl font-black text-blue-900 italic uppercase leading-none tracking-tighter mb-2",children:r.name}),e.jsxs("div",{className:"flex gap-4 justify-center md:justify-start",children:[e.jsxs("span",{className:"text-gray-400 font-black uppercase tracking-[0.2em] text-[10px] border px-2 py-1 rounded",children:["REF: ",r.employeeId]}),e.jsx("span",{className:"text-green-600 font-black uppercase tracking-[0.2em] text-[10px] border border-green-100 px-2 py-1 rounded bg-green-50",children:"STATUS: ELIGIBLE"})]})]}),e.jsxs("div",{className:"ml-auto text-center md:text-right bg-gray-50 p-6 border-2 border-white border-r-gray-100 border-b-gray-100 shadow-inner rounded-xl min-w-[200px]",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest italic mb-2",children:"Available Credit Ceiling"}),e.jsxs("p",{className:"text-4xl font-black text-blue-800 italic leading-none tabular-nums tracking-tighter",children:["$",(r.limit-r.balance).toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-16",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"font-black text-blue-800 uppercase italic text-[10px] tracking-widest ml-1",children:"Proposed Disbursement Amount"}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50/50 border-2 border-gray-100 rounded-sm shadow-inner focus-within:border-blue-600 focus-within:bg-white transition-all overflow-hidden pr-4",children:[e.jsx("div",{className:"pl-4 text-blue-400 shrink-0",children:e.jsx(Wo,{size:20,strokeWidth:3})}),e.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-transparent py-4 text-2xl font-black italic text-blue-900 outline-none",value:o,onChange:re=>c(re.target.value)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"font-black text-gray-600 uppercase italic text-[10px] tracking-widest ml-1",children:"Settlement Amortization (Terms)"}),e.jsxs("select",{className:"w-full p-5 border-2 border-gray-100 bg-gray-50 font-black italic text-gray-700 outline-none focus:border-blue-600 focus:bg-white transition-all rounded-sm appearance-none shadow-inner cursor-pointer",value:d,onChange:re=>h(re.target.value),children:[e.jsx("option",{children:"1 Month (Full Deduction)"}),e.jsx("option",{children:"2 Months (Split 50/50)"}),e.jsx("option",{children:"3 Months (Installments)"}),e.jsx("option",{children:"6 Months (Long Term Relief)"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 p-8 border-2 border-dashed border-gray-200 rounded-sm relative group overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 text-blue-100 opacity-20 group-hover:scale-150 transition-transform duration-1000",children:e.jsx(Wo,{size:100})}),e.jsxs("h3",{className:"font-black text-gray-500 uppercase italic text-[11px] mb-6 flex items-center gap-2 relative z-10 tracking-widest border-b pb-2 border-gray-200",children:[e.jsx(lx,{size:16})," Transaction Calculation Detail"]}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 border border-gray-100 shadow-sm rounded",children:[e.jsx("span",{className:"font-black text-[10px] text-gray-400 uppercase italic",children:"Outstanding Liability"}),e.jsxs("span",{className:"font-black text-red-600 italic text-sm tabular-nums",children:["$",r.balance.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 border border-gray-100 shadow-sm rounded",children:[e.jsx("span",{className:"font-black text-[10px] text-gray-400 uppercase italic",children:"Administrative Fee (1%)"}),e.jsxs("span",{className:"font-black text-blue-600 italic text-sm tabular-nums",children:["$",P.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"pt-4 border-t-2 border-gray-200 flex justify-between items-center bg-blue-100/30 -mx-4 px-4 pb-2 rounded",children:[e.jsx("span",{className:"font-black text-blue-900 uppercase italic text-[11px] tracking-widest",children:"Aggregate Payload"}),e.jsxs("span",{className:"text-3xl font-black text-blue-900 italic tabular-nums tracking-tighter",children:["$",z.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),e.jsxs("button",{onClick:B,disabled:!r||g==="processing"||g==="success",className:`w-full p-6 font-black italic uppercase tracking-[0.3em] transition-all shadow-2xl flex items-center justify-center gap-4 rounded-sm border-2 border-white border-r-[#000040] border-b-[#000040] relative overflow-hidden group ${r?g==="processing"?"bg-[#000080] animate-pulse":g==="success"?"bg-green-700":"bg-[#000080] hover:bg-blue-800":"bg-gray-200 text-gray-400 border-none opacity-50 grayscale"} text-white`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform"}),g==="processing"?e.jsxs(e.Fragment,{children:[e.jsx(Ut,{size:24,className:"animate-spin"})," DISPATCHING PAYLOAD..."]}):g==="success"?e.jsx(e.Fragment,{children:" SETTLEMENT COMPLETE"}):e.jsxs(e.Fragment,{children:[e.jsx(Wo,{size:24,className:"group-hover:rotate-12 transition-transform"})," EXECUTE DISBURSEMENT"]})]})]})]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 italic font-black uppercase tracking-[0.3em] opacity-40 select-none",children:[e.jsx(Pn,{size:120,className:"mb-6 animate-bounce duration-[3000ms]",strokeWidth:.5}),"SELECT ELIGIBLE AGENT TO INITIALIZE DISBURSEMENT"]})}),e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl overflow-hidden rounded-sm h-64 flex flex-col",children:[e.jsxs("div",{className:"bg-[#1a1a1a] text-white p-3 text-[11px] font-black uppercase flex justify-between items-center italic tracking-widest shrink-0",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(po,{size:14,className:"text-blue-400"})," Secure Disbursement Activity Feed"]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"opacity-50 text-[9px]",children:"UPLINK_STABLE"})]}),e.jsx("span",{className:"opacity-30 border-l border-white/20 pl-4",children:T?"SCANNING...":"BUFFER_OK"})]})]}),e.jsx("div",{className:"overflow-auto flex-1 scrollbar-thin scrollbar-thumb-gray-200",children:e.jsxs("table",{className:"w-full text-left text-[10px] border-collapse relative",children:[e.jsx("thead",{className:"bg-[#F8F9FA] border-b-2 border-gray-100 sticky top-0 z-10 glass",children:e.jsxs("tr",{className:"font-black text-gray-400 uppercase italic tracking-tighter",children:[e.jsx("th",{className:"p-4 border-r border-gray-50",children:"Settlement Date"}),e.jsx("th",{className:"p-4 border-r border-gray-50",children:"Agent Name"}),e.jsx("th",{className:"p-4 text-right border-r border-gray-50",children:"Gross Amount"}),e.jsx("th",{className:"p-4 text-center border-r border-gray-50",children:"Protocol Status"}),e.jsx("th",{className:"p-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"font-bold",children:A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-300 italic font-black uppercase tracking-[0.4em] select-none",children:"Buffer is currently empty"})}):A.map(re=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-blue-50/50 transition-colors group",children:[e.jsx("td",{className:"p-4 text-gray-400 font-mono tracking-tighter",children:re.date}),e.jsx("td",{className:"p-4 text-blue-900 uppercase font-black tracking-tight group-hover:underline",children:re.employee}),e.jsxs("td",{className:"p-4 text-right font-black italic tabular-nums text-blue-800 tracking-tighter group-hover:scale-105 transition-transform origin-right",children:["$ ",re.amount.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-4 text-center border-r border-gray-50",children:e.jsx("span",{className:`px-3 py-1 bg-white border rounded-full font-black italic uppercase text-[8px] tracking-widest shadow-sm ${re.color} border-current opacity-80 group-hover:opacity-100 transition-opacity`,children:re.status})}),e.jsx("td",{className:"p-4 text-center",children:re.status==="PENDING"?O.role==="ADMIN"||O.role==="FINANCE"?e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>X(re),className:"px-2 py-1 bg-blue-600 text-white rounded text-[8px] font-black uppercase hover:bg-blue-700 transition-colors shadow-sm",children:"Approve"}),e.jsx("button",{onClick:()=>J(re),className:"px-2 py-1 bg-red-600 text-white rounded text-[8px] font-black uppercase hover:bg-red-700 transition-colors shadow-sm",children:"Reject"})]}):e.jsx("span",{className:"text-[8px] font-black text-orange-500 italic uppercase",children:"Awaiting Approval"}):re.status==="APPROVED"?O.role==="ADMIN"||O.role==="FINANCE"?e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>ue(re),className:"px-2 py-1 bg-green-600 text-white rounded text-[8px] font-black uppercase hover:bg-green-700 transition-colors shadow-sm",children:"Disburse / Pay"})}):e.jsx("span",{className:"text-[8px] font-black text-blue-500 italic uppercase",children:"Pending Payout"}):re.status==="REJECTED"?e.jsx("span",{className:"text-[8px] font-black text-red-600 italic uppercase",children:"Refused"}):e.jsx("span",{className:"text-[8px] font-black text-gray-300 italic uppercase",children:"Locked"})})]},re.id))})]})})]}),e.jsxs("div",{className:"flex justify-end gap-6 no-print shrink-0 px-4",children:[e.jsx("button",{onClick:U,disabled:!r||f==="saving",className:`flex items-center gap-3 px-10 py-4 border-2 shadow-xl font-black italic transition-all uppercase tracking-widest text-[11px] rounded-sm transform active:scale-95 ${r?f==="saving"?"bg-blue-100 text-blue-800 border-blue-200":f==="success"?"bg-green-100 text-green-800 border-green-200":"bg-[#E0DCCF] hover:bg-white text-blue-900 border-white border-r-gray-600 border-b-gray-600":"bg-gray-100 text-gray-400 border-none grayscale opacity-50 cursor-not-allowed"}`,children:f==="saving"?e.jsxs(e.Fragment,{children:[e.jsx(Ut,{size:18,className:"animate-spin"})," COMMITTING..."]}):f==="success"?e.jsx(e.Fragment,{children:" UPLOAD SUCCESS"}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{size:18,className:r?"text-blue-600":"text-gray-400"})," STAGE TRANSACTION"]})}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-3 px-10 py-4 bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 font-black italic hover:bg-white text-red-700 shadow-xl transition-all uppercase tracking-widest text-[11px] rounded-sm transform active:scale-95 active:border-r-0 active:border-b-0",children:[e.jsx(_r,{size:18})," Abort Module"]})]})]})]})]})},SI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState({total:0,pending:0,completed:0,failed:0}),[o]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[c]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[d,h]=R.useState([]),f=async()=>{if(c.id)try{a(!0);const[p,g]=await Promise.all([Te.fetchProcessingStatus({companyId:c.id}),Te.fetchProcessingStatistics({companyId:c.id})]);if(p.success){const{activeProcesses:b,recentCompleted:m}=p.data,v=[...b,...m];if(v.length>0){const N=v.map(w=>({name:w.processType.replace(/_/g," "),status:w.status==="STARTED"||w.status==="IN_PROGRESS"?"In Progress":w.status==="COMPLETED"?"Completed":"Failed",time:new Date(w.startedAt).toLocaleTimeString(),details:w.status==="IN_PROGRESS"?`Processed ${w.recordsProcessed} of ${w.recordsTotal}`:w.errorMessage||`Executed by ${w.processedBy}`,progress:w.recordsTotal>0?w.recordsProcessed/w.recordsTotal*100:w.status==="COMPLETED"?100:0,icon:w.status==="COMPLETED"?e.jsx(Nn,{className:"text-green-500"}):w.status==="FAILED"?e.jsx(el,{className:"text-red-500"}):e.jsx(sn,{className:"text-blue-500 animate-spin"})}));h(N)}else h([{name:"SYSTEM_IDLE",status:"Standby",time:"-",details:"No active or recent processing tasks detected.",icon:e.jsx(Nn,{className:"text-gray-300"})}])}if(g.success){const b=g.data;i({total:b.totalRecordsProcessed||0,pending:(b.byStatus?.started||0)+(b.byStatus?.inProgress||0),completed:b.byStatus?.completed||0,failed:b.byStatus?.failed||0})}}catch(p){console.error(p)}finally{a(!1)}};return R.useEffect(()=>{f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[c.id]),e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs min-w-0",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 sm:px-6 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-2 border border-gray-400 shadow-inner rounded-sm",children:e.jsx(tc,{size:20,className:"text-blue-700 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-black text-blue-900 leading-tight italic uppercase text-base sm:text-lg tracking-tight underline decoration-blue-500/20 underline-offset-4",children:"System Telemetry Interface"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Station 042 :: Real-time Processing Monitor"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[r&&e.jsx("div",{className:"text-[10px] font-black text-blue-700 animate-bounce tracking-widest mr-2",children:"POLLING_DRIVERS..."}),e.jsxs("button",{onClick:f,disabled:r,className:"bg-[#E0DCCF] border-2 border-white border-r-gray-600 border-b-gray-600 px-6 py-2 flex items-center gap-2 text-blue-900 font-black hover:bg-white text-[10px] sm:text-xs tracking-widest shadow-md active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 transition-all uppercase italic",children:[e.jsx(sn,{size:14,className:`text-blue-600 ${r?"animate-spin":""}`}),e.jsx("span",{children:"Force Telemetry Update"})]})]})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-8 overflow-auto scrollbar-thin scrollbar-thumb-gray-400",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-8",children:[e.jsx("div",{className:"space-y-4 sm:space-y-6",children:d.map((p,g)=>e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-4 sm:p-6 shadow-2xl flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-8 group hover:border-blue-500 hover:scale-[1.01] transition-all rounded-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50/50 -translate-y-1/2 translate-x-1/2 rounded-full pointer-events-none group-hover:bg-blue-50/50 transition-colors"}),e.jsxs("div",{className:"flex items-center gap-6 flex-1 relative z-10",children:[e.jsx("div",{className:"p-4 sm:p-5 bg-gray-50 border-2 border-white border-r-gray-200 border-b-gray-200 shadow-inner group-hover:bg-blue-50 group-hover:border-blue-100 shrink-0 transition-colors rounded-xl",children:p.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-start sm:items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-blue-900 italic uppercase tracking-tighter group-hover:translate-x-1 transition-transform",children:p.name}),e.jsx("span",{className:`text-[10px] font-black italic uppercase px-3 py-1 rounded shadow-sm border-2 ${p.status==="Completed"?"bg-green-50 border-green-200 text-green-700":p.status==="In Progress"?"bg-blue-50 border-blue-200 text-blue-700 animate-pulse":p.status==="Failed"?"bg-red-50 border-red-200 text-red-700":"bg-gray-50 border-gray-300 text-gray-500"}`,children:p.status})]}),e.jsx("p",{className:"text-[10px] sm:text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-4 italic",children:p.details}),p.progress>0&&e.jsx("div",{className:"w-full h-2.5 bg-gray-100 border-2 border-white border-r-gray-200 border-b-gray-200 rounded-full overflow-hidden shadow-inner font-mono text-[8px] text-blue-900 font-bold relative",children:e.jsx("div",{className:"h-full bg-blue-600 shadow-[0_0_10px_rgba(37,99,235,0.5)] transition-all duration-1000",style:{width:`${p.progress}%`}})})]})]}),e.jsxs("div",{className:"flex sm:flex-col justify-between sm:justify-center sm:text-right border-t-2 sm:border-t-0 border-gray-50 pt-4 sm:pt-0 sm:border-l-2 sm:pl-8 min-w-[120px] relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase italic tracking-widest",children:"Protocol Pulse"}),e.jsx("p",{className:"text-sm sm:text-base font-black text-blue-800 italic tabular-nums tracking-tighter uppercase",children:p.time})]})]},g))}),e.jsxs("div",{className:"space-y-6 lg:max-w-[350px] lg:w-full",children:[e.jsxs("div",{className:"bg-[#000080] text-white p-6 sm:p-8 shadow-2xl border-4 border-white flex flex-col gap-6 rounded-sm relative group overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-900 opacity-50 group-hover:opacity-30 transition-opacity"}),e.jsxs("h3",{className:"font-black italic text-sm sm:text-base mb-2 border-b-2 border-blue-400/30 pb-3 uppercase tracking-[0.2em] flex items-center gap-3 relative z-10",children:[e.jsx(qk,{size:18,className:"text-blue-300"})," Station Load Matrix"]}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Total Records"}),e.jsx("span",{className:"font-black italic text-lg tabular-nums text-green-400",children:s.total})]}),e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Pending Tasks"}),e.jsx("span",{className:"font-black italic text-sm tracking-tight text-blue-200",children:s.pending})]}),e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Completed"}),e.jsx("span",{className:"font-black italic text-lg tabular-nums text-blue-400 tracking-tighter",children:s.completed})]}),e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Failed"}),e.jsx("span",{className:"font-black italic text-sm tracking-tight text-red-400",children:s.failed})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-6 shadow-xl italic rounded-sm hover:-translate-y-1 transition-transform border-l-4 border-l-blue-900",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(el,{size:16,className:"text-blue-900"}),e.jsx("p",{className:"font-black text-blue-900 uppercase italic text-[10px] sm:text-[11px] tracking-widest",children:"Admin Directive"})]}),e.jsxs("p",{className:"text-[10px] sm:text-[11px] text-gray-400 font-bold leading-relaxed uppercase tracking-tighter italic",children:["SYSTEM_READY: All core redundancy protocols verified for ",new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-")," calc session. Please monitor bank handshake latency."]})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 px-8 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 no-print shadow-[inset_0_4px_10px_rgba(0,0,0,0.1)] z-20",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{className:"flex items-center gap-3 bg-white px-4 py-1.5 border-2 border-white border-r-gray-200 border-b-gray-200 rounded-full shadow-inner",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),e.jsx("span",{className:"font-black text-green-800 italic uppercase text-[10px] sm:text-[11px] tracking-widest",children:"Security Link Cache: Verified"})]})}),e.jsxs("button",{onClick:()=>t(-1),className:"bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 px-10 py-3 font-black italic hover:bg-white text-red-700 transition-all flex items-center justify-center gap-3 text-[11px] uppercase tracking-widest shadow-xl active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0",children:[e.jsx(_r,{size:16})," ",e.jsx("span",{className:"whitespace-nowrap italic",children:"Terminate Session"})]})]})]})},EI=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Ln,{size:18}),r==="error"&&e.jsx(Xf,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},kI=({isOpen:t,onClose:r,title:a,children:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,AI=()=>{const t=jt(),[r,a]=R.useState(""),[s,i]=R.useState("All"),[o,c]=R.useState(!1),[d,h]=R.useState(!1),[f,p]=R.useState(!1),[g,b]=R.useState(!1),[m]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),v=()=>new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase(),[N,w]=R.useState(v()),[A,E]=R.useState([]);R.useEffect(()=>{const Ne=[],q=new Date;for(let L=0;L<12;L++){const V=new Date(q.getFullYear(),q.getMonth()-L,1).toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase();Ne.push(V)}E(Ne)},[]);const[T,_]=R.useState([]),[O,W]=R.useState(0),[F,P]=R.useState(0),[z,M]=R.useState(null),[C,U]=R.useState(!1),B=(Ne,q="success")=>{M({message:Ne,type:q})},X=Ne=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Ne),ue=async()=>{if(m.id){b(!0);try{const Ne=await Te.fetchPayrolls({companyId:m.id,period:N});if(Ne.success){const q=Ne.data||[];P(q.length);const L=q.reduce((K,ne)=>K+parseFloat(ne.netSalary||0),0);W(L);const G={};q.forEach(K=>{const ne=K.bankName||"General Disbursement";G[ne]||(G[ne]={id:ne,name:ne,employees:0,totalRaw:0}),G[ne].employees++,G[ne].totalRaw+=parseFloat(K.netSalary||0)});const V=Object.values(G).map(K=>({...K,total:X(K.totalRaw),value:K.totalRaw}));_(V)}}catch(Ne){console.error("Failed to fetch payrolls",Ne),B("Failed to fetch payroll data","error")}finally{b(!1)}}};R.useEffect(()=>{ue()},[m.id,N]);const J=T.filter(Ne=>{const q=Ne.name.toLowerCase().includes(r.toLowerCase());let L=!0;return s==="High Value (>1M)"?L=Ne.value>1e6:s==="Regular Value"?L=Ne.value<=1e6:s==="NCB Only"?L=Ne.name.toLowerCase().includes("ncb")||Ne.name.toLowerCase().includes("national commercial"):s==="Scotiabank Only"&&(L=Ne.name.toLowerCase().includes("scotia")||Ne.name.toLowerCase().includes("bns")),q&&L}),re=Ne=>{const q=T.find(L=>L.name===Ne);q&&(B(`Generating Bank File for ${Ne}...`,"info"),setTimeout(()=>{const V=`BANK_FILE_HEADER,${Ne},${N},TOT_AMT:${q.totalRaw},RecCount:${q.employees}
`+"DETAILS_HIDDEN_FOR_SECURITY,PLEASE_USE_OFFICIAL_BANK_PORTAL_FOR_UPLOAD",K=new Blob([V],{type:"text/plain"}),ne=URL.createObjectURL(K),ye=document.createElement("a");ye.setAttribute("href",ne),ye.setAttribute("download",`${Ne.replace(/\s+/g,"_")}_${N}.txt`),document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),B(`File for ${Ne} downloaded successfully`,"success")},1e3))},oe=async()=>{if(m.id){U(!1),h(!0);try{(await Te.processBankTransfers({companyId:m.id,period:N,bankFiles:T.map(q=>q.name)})).success?(B("All payments marked as DISBURSED in system.","success"),ue()):B("Transactions marked as Processing...","info")}catch(Ne){console.error(Ne),B("Disbursement process initiated.","success")}finally{h(!1)}}},ve=()=>{B("Preparing Disbursement Log for printing...","info"),setTimeout(()=>{window.print()},500)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[z&&e.jsx(EI,{message:z.message,type:z.type,onClose:()=>M(null)}),e.jsx(kI,{isOpen:C,onClose:()=>U(!1),title:"Confirm Disbursement",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-blue-900 text-xs flex items-start gap-2",children:[e.jsx(Ln,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["You are about to release payments for ",e.jsxs("strong",{children:[J.length," bank files"]})," totaling ",e.jsxs("strong",{children:["$",X(O)]}),"."]})]}),e.jsx("p",{className:"text-gray-600 italic",children:"This action cannot be undone once processed by the bank."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:oe,className:"px-4 py-2 bg-blue-800 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-900 transition-colors shadow-sm",children:"Confirm Release"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-3 py-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Pl,{size:14,className:"text-blue-800 shrink-0"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic text-[10px] sm:text-xs truncate",children:"Bank Pay Disbursement  Upload uses DBF file format"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Period:"}),e.jsx("select",{value:N,onChange:Ne=>w(Ne.target.value),className:"text-xs font-bold p-1 border border-gray-400 outline-none uppercase bg-white min-w-[100px]",children:A.map(Ne=>e.jsx("option",{value:Ne,children:Ne},Ne))})]})]}),e.jsx("div",{className:"flex-1 p-3 sm:p-6 flex flex-col gap-4 sm:gap-6 overflow-auto min-w-0",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 min-w-0",children:[e.jsxs("div",{className:"flex-1 bg-white border-2 border-gray-500 p-3 sm:p-6 shadow-md min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-base sm:text-xl font-black text-blue-900 uppercase italic tracking-tighter truncate",children:"Pending Bank Files"}),e.jsxs("div",{className:"flex gap-2 shrink-0 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!o),className:`p-2 border border-gray-400 font-bold flex items-center gap-2 hover:bg-blue-50 text-[10px] sm:text-xs ${s!=="All"?"bg-blue-100 text-blue-900 border-blue-500":"bg-gray-100"}`,children:[e.jsx(ju,{size:14})," FILTER: ",s.toUpperCase()]}),o&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border-2 border-gray-500 shadow-xl z-50 py-1",children:["All","High Value (>1M)","Regular Value","NCB Only","Scotiabank Only"].map(Ne=>e.jsx("button",{onClick:()=>{i(Ne),c(!1)},className:"w-full text-left px-4 py-2 hover:bg-blue-600 hover:text-white font-bold text-[10px] uppercase border-b border-gray-100 last:border-0",children:Ne},Ne))})]}),e.jsxs("button",{onClick:()=>{const Ne=prompt("Enter Bank Name to Search:",r);Ne!==null&&a(Ne)},className:`p-2 border border-gray-400 font-bold flex items-center gap-2 hover:bg-blue-50 text-[10px] sm:text-xs ${r?"bg-blue-100 text-blue-900 border-blue-500":"bg-gray-100"}`,children:[e.jsx(Ga,{size:14})," ",r?`SEARCH: ${r.toUpperCase()}`:"SEARCH"]})]})]}),e.jsx("div",{className:"overflow-x-auto min-h-[200px]",children:g?e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 gap-4 text-gray-400",children:[e.jsx(Ut,{size:32,className:"animate-spin text-blue-600"}),e.jsx("span",{className:"font-black italic uppercase tracking-widest",children:"Scanning Payroll Ledger..."})]}):e.jsxs("table",{className:"w-full text-left border-collapse min-w-[400px]",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-400 italic",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-black text-gray-700",children:"BANK / INSTITUTION"}),e.jsx("th",{className:"p-3 font-black text-gray-700",children:"EMPLOYEES"}),e.jsx("th",{className:"p-3 font-black text-gray-700",children:"TOTAL JMD"}),e.jsx("th",{className:"p-3 font-black text-gray-700 text-right",children:"ACTIONS"})]})}),e.jsxs("tbody",{children:[J.map((Ne,q)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50",children:[e.jsx("td",{className:"p-3 font-black text-blue-900 italic",children:Ne.name}),e.jsx("td",{className:"p-3 font-bold",children:Ne.employees}),e.jsxs("td",{className:"p-3 font-black text-green-700 italic",children:["$ ",Ne.total]}),e.jsx("td",{className:"p-3 text-right",children:e.jsx("button",{onClick:()=>re(Ne.name),className:"px-3 py-1 bg-blue-600 text-white font-bold hover:bg-blue-700 italic uppercase text-[10px] shadow-sm active:translate-y-0.5",title:"Bank upload file format: DBF",children:"GENERATE DBF FILE"})})]},q)),J.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-10 text-center font-bold text-gray-400 italic",children:"No bank files generated for this period. check if payroll is run."})})]})]})})]}),e.jsxs("div",{className:"w-full lg:w-80 shrink-0 space-y-4",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-6 shadow-xl border-4 border-white",children:[e.jsxs("h3",{className:"font-black italic text-sm mb-4 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Ln,{size:16})," Batch Summary"]}),e.jsxs("div",{className:"space-y-4 text-[10px]",children:[e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"PAYROLL PERIOD"}),e.jsx("span",{className:"font-black italic uppercase",children:N})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"TOTAL NET PAY"}),e.jsxs("span",{className:"font-black italic text-lg",children:["$ ",X(O)]})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"TRANSFERS READY"}),e.jsxs("span",{className:"font-black italic text-green-400",children:[J.length," FILE(S)"]})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"PAYSLIPS READY"}),e.jsx("span",{className:"font-black italic text-yellow-400",children:F})]})]}),e.jsx("button",{onClick:()=>U(!0),disabled:d||T.length===0,className:`w-full mt-6 p-3 font-black italic transition-all uppercase tracking-widest shadow-lg active:translate-y-1 flex items-center justify-center gap-2 ${d||T.length===0?"bg-gray-400 text-white cursor-not-allowed":"bg-white text-blue-900 hover:bg-gray-100"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"PROCESSING BATCH..."]}):"DISBURSE ALL NOW"})]}),e.jsxs("div",{className:"bg-green-50 border-2 border-green-300 p-4 shadow-sm",children:[e.jsxs("h3",{className:"font-black italic text-xs mb-3 uppercase tracking-widest flex items-center gap-2 text-green-800",children:[e.jsx(cx,{size:14})," Payslip Status"]}),e.jsxs("div",{className:"space-y-2 text-[10px]",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-600",children:"Encrypted Payslips"}),e.jsxs("span",{className:"font-black text-green-700",children:[F," Generated"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-600",children:"TRN Protected"}),e.jsx("span",{className:"font-black text-blue-700",children:" Active"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-600",children:"Email Status"}),e.jsx("span",{className:"font-black text-orange-700",children:"Pending Send"})]})]}),e.jsx("button",{onClick:()=>{p(!0),setTimeout(()=>{p(!1),t("/payroll/payslips")},800)},disabled:f,className:`w-full mt-3 p-2 font-black italic transition-all uppercase text-[10px] tracking-widest flex items-center justify-center gap-2 shadow-md active:translate-y-0.5 ${f?"bg-green-800 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"LOADING QUEUE..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rr,{size:12})," View Payslips Queue"]})})]})]})]})}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-2 flex justify-between items-center px-6 no-print",children:[e.jsx("div",{className:"flex gap-4",children:e.jsxs("button",{onClick:ve,className:"flex items-center gap-2 p-2 border border-gray-400 bg-gray-50 font-bold hover:bg-white active:translate-y-0.5 shadow-sm",children:[e.jsx(ea,{size:16,className:"text-gray-600"})," PRINT DISBURSEMENT LOG"]})}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-10 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})]})]})},VN=()=>{const t=jt(),[r,a]=R.useState(""),[s,i]=R.useState("ALL"),[o,c]=R.useState(!1),[d,h]=R.useState(!1),[f,p]=R.useState([]),[g]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[b]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),m=()=>new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-"),v=async()=>{if(b.id)try{h(!0);const _={companyId:b.id};s==="CURRENT"&&(_.period=m());const O=await Te.fetchTransactionRegister(_);if(O.success){const W=(O.data.transactions||[]).map(F=>({id:F.id,txId:F.id.substring(0,8).toUpperCase(),date:new Date(F.transactionDate).toLocaleDateString(),employee:`${F.employee?.firstName} ${F.employee?.lastName}`,type:F.type,amount:parseFloat(F.amount),status:F.status,period:F.period===m()?"CURRENT":"PREVIOUS"}));p(W)}}catch(_){console.error("Fetch error:",_)}finally{h(!1)}};R.useEffect(()=>{v()},[b.id,s]);const N=()=>{c(!0)},w=()=>{window.print()},A=()=>{const _=f.filter(P=>P.employee.toLowerCase().includes(r.toLowerCase())||P.txId.toLowerCase().includes(r.toLowerCase()));if(_.length===0)return;const O=_.map(P=>({"TX ID":P.txId,DATE:P.date,EMPLOYEE:P.employee,CATEGORY:P.type,AMOUNT:P.amount,STATUS:P.status})),W=ar.json_to_sheet(O),F=ar.book_new();ar.book_append_sheet(F,W,"Transactions"),on(F,`Transaction_Register_${new Date().toISOString().split("T")[0]}.xlsx`)},E=f.filter(_=>_.employee.toLowerCase().includes(r.toLowerCase())||_.txId.toLowerCase().includes(r.toLowerCase())||_.type.toLowerCase().includes(r.toLowerCase())),T=E.reduce((_,O)=>_+O.amount,0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z5,{size:14,className:"text-blue-800"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic underline decoration-blue-500/30 underline-offset-4",children:"Transaction Register Management"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>i(_=>_==="ALL"?"CURRENT":"ALL"),className:`px-3 py-1 border border-gray-400 text-[10px] font-black italic transition-all flex items-center gap-1 shadow-sm ${s==="ALL"?"bg-[#316AC5] text-white":"bg-white text-black hover:bg-gray-100"}`,children:[s==="ALL"?"ALL PERIODS":"CURRENT PERIOD"," ",e.jsx(zd,{size:10})]}),d&&e.jsxs("div",{className:"flex items-center gap-2 px-2 text-blue-700 font-bold italic animate-pulse",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," REFRESHING..."]})]})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-2 flex items-center gap-4 shadow-md",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-2 px-2 bg-gray-50 border border-gray-300 focus-within:border-blue-500 transition-colors shadow-inner",children:[e.jsx(Ga,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"FILTER BY ID, EMPLOYEE OR TYPE...",className:"bg-transparent outline-none p-2 font-bold w-full italic uppercase placeholder:normal-case",value:r,onChange:_=>a(_.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:w,className:"p-2 border border-gray-400 bg-[#E0DCCF] hover:bg-white hover:text-blue-700 transition-all shadow-sm active:translate-y-0.5",children:e.jsx(ea,{size:16,title:"Print Register"})}),e.jsx("button",{onClick:A,className:"p-2 border border-gray-400 bg-[#E0DCCF] hover:bg-white hover:text-green-700 transition-all shadow-sm active:translate-y-0.5",children:e.jsx(Er,{size:16,title:"Export Excel"})})]})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-xl overflow-hidden flex flex-col rounded-sm",children:[e.jsx("div",{className:"overflow-auto flex-1 scrollbar-thin scrollbar-thumb-gray-400",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 border-b border-gray-400 font-black italic text-gray-700 z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-300",children:"TX ID"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"DATE"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"EMPLOYEE"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"CATEGORY"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"AMOUNT"}),e.jsx("th",{className:"p-3",children:"STATUS"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:E.length>0?E.map((_,O)=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer group transition-colors",children:[e.jsxs("td",{className:"p-3 font-black text-gray-400 group-hover:text-blue-600 transition-colors uppercase tabular-nums",children:["#",_.txId]}),e.jsx("td",{className:"p-3 font-mono text-gray-600",children:_.date}),e.jsx("td",{className:"p-3 font-black text-blue-900 italic group-hover:underline group-hover:translate-x-1 transition-transform uppercase",children:_.employee}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"px-2 py-0.5 bg-gray-50 border border-gray-300 rounded font-black text-[9px] uppercase tracking-tighter text-gray-600 group-hover:bg-blue-600 group-hover:text-white group-hover:border-blue-700 transition-all",children:_.type})}),e.jsxs("td",{className:"p-3 font-black text-blue-800 italic group-hover:scale-105 transition-transform origin-left tabular-nums",children:["$",_.amount.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full font-black italic uppercase text-[9px] border shadow-sm ${_.status==="POSTED"?"bg-green-100 text-green-700 border-green-200":_.status==="ENTERED"?"bg-yellow-50 text-yellow-700 border-yellow-200 animate-pulse":_.status==="PROCESSED"?"bg-blue-100 text-blue-700 border-blue-200":"bg-red-100 text-red-700 border-red-200"}`,children:_.status})})]},O)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-widest bg-gray-50/50",children:"No Transaction Records Found"})})})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-gray-400 p-2 flex justify-between px-6 text-[10px] font-black italic text-gray-500 uppercase tracking-widest shrink-0",children:[e.jsxs("span",{children:["Total Records: ",f.length]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{children:r?`Matches: ${E.length}`:""}),e.jsxs("span",{className:"text-blue-900 border-l border-gray-400 pl-4 bg-gray-200/50 px-2 rounded",children:["Register Value: $",T.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 no-print",children:[e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 bg-[#E0DCCF] border-2 border-white border-b-gray-600 border-r-gray-600 font-black italic hover:bg-white hover:text-blue-800 active:translate-y-1 active:border-b-0 active:border-r-0 transition-all text-blue-900 shadow-md uppercase tracking-wider text-[10px]",children:[e.jsx(rr,{size:16,className:"text-blue-600"})," View System Logs"]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-6 py-3 bg-[#E0DCCF] border-2 border-white border-b-gray-600 border-r-gray-600 font-black italic hover:bg-white hover:text-red-800 transition-all shadow-md uppercase tracking-wider text-[10px]",children:[e.jsx(_r,{size:16,className:"text-red-600"})," Close Register"]})]}),o&&e.jsx("div",{className:"absolute inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-[#D4D0C8] border-4 border-[#D4D0C8] shadow-[0_0_50px_rgba(0,0,0,0.5)] flex flex-col h-[500px] animate-in zoom-in duration-300 overflow-hidden",children:[e.jsxs("div",{className:"bg-[#000080] text-white px-3 py-1.5 flex items-center justify-between border-b-2 border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 border border-white rounded-full"}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[9px]",children:"Audit Control Center - Security Level 4"})]}),e.jsx("button",{onClick:()=>c(!1),className:"hover:bg-red-600 px-3 py-0.5 font-black transition-colors border border-transparent hover:border-white",children:""})]}),e.jsxs("div",{className:"flex-1 bg-black p-6 font-mono text-[10px] overflow-auto space-y-2 relative group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none bg-[radial-gradient(circle_at_50%_50%,rgba(0,255,0,0.05)_0%,transparent_100%)]"}),e.jsxs("div",{className:"text-green-500 border-b border-green-900/30 pb-2 mb-4 animate-pulse",children:["SYSTEM ACCESS ESTABLISHED: ",new Date().toLocaleString()," @ PORT_042"]}),e.jsxs("p",{className:"text-green-500/80",children:["[AUTH] User verified: ",g.email]}),e.jsxs("p",{className:"text-green-500/80",children:["[CID] Company Token: ",g.companyId?.substring(0,13),"..."]}),e.jsx("p",{className:"text-green-500/80",children:"[SCAN] Integrity check: OK"}),E.map(_=>e.jsxs("div",{className:"pt-2 border-t border-green-900/20 text-green-400/90",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"ENTRY_HNDL:"})," ",_.id]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"OPERATOR:"})," ",g.email.toUpperCase()]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"TIMESTAMP:"})," ",_.date," :: SYNCED"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"VALIDATION:"})," ",_.status,"_STATUS_VERIFIED"]})]},_.id)),e.jsx("p",{className:"pt-4 text-green-500 font-bold border-t border-green-900 mt-4 italic",children:"--- SYSTEM SCAN COMPLETE - NO ANOMALIES DETECTED ---"})]}),e.jsx("div",{className:"bg-[#D4D0C8] p-2 flex justify-end border-t border-gray-400",children:e.jsx("button",{onClick:()=>c(!1),className:"px-8 py-1.5 bg-white border-2 border-white border-b-gray-600 border-r-gray-600 font-black uppercase text-[10px] hover:bg-gray-100 active:translate-y-0.5 transition-all italic text-blue-900 shadow-sm",children:"Exit Terminal"})})]})})]})]})},_I=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(!1),[o,c]=R.useState(""),[d,h]=R.useState(!0),[f]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));qa.useEffect(()=>{(async()=>{if(f.id)try{h(!0);const b=await Te.fetchPayrollBatches(f.id);if(b.success&&b.data.length>0){const m=b.data.find(v=>v.status==="Calculated");m?c(m.period):b.data.length>0&&c(b.data[0].period)}}catch(b){console.error("Failed to fetch batches:",b)}finally{h(!1)}})()},[f.id]);const p=async()=>{if(!f.id){alert("No company selected. Please select a company first.");return}if(!o){alert("No active payroll period found for finalization.");return}try{a(!0);const g=await Te.finalizeBatch({companyId:f.id,period:o});g.success?(a(!1),i(!0)):(alert("Update failed: "+g.message),a(!1))}catch(g){console.error(g),alert("An error occurred during the update process."),a(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex flex-col xs:flex-row items-center justify-between gap-2",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase italic text-[10px] text-center xs:text-left",children:"Payroll System Control Hub"}),e.jsx("span",{className:"text-[10px] font-bold text-red-600 animate-pulse uppercase tracking-widest text-center",children:"Master Link Active"})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-12 flex flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-3xl bg-white border-2 border-gray-500 shadow-[8px_8px_0_rgba(0,0,0,0.1)] sm:shadow-[12px_12px_0_rgba(0,0,0,0.1)] p-4 sm:p-10 my-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6 mb-8 sm:mb-10 pb-6 border-b-2 border-red-600 relative overflow-hidden",children:[e.jsx("div",{className:"sm:absolute top-0 right-0 p-2 bg-red-600 text-white font-black italic text-[10px] uppercase tracking-widest sm:rotate-12 sm:translate-x-4 sm:-translate-y-4 mb-2 sm:mb-0 w-full sm:w-auto text-center",children:"Critical"}),e.jsxs("div",{className:"p-4 bg-red-100 rounded-lg text-red-600 shadow-inner border border-red-200 shrink-0",children:[e.jsx(Lf,{size:32,className:"sm:hidden"}),e.jsx(Lf,{size:48,className:"hidden sm:block"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-xl sm:text-3xl font-black text-gray-900 italic uppercase leading-none tracking-tighter",children:"Payroll Master Update"}),e.jsxs("p",{className:"text-red-700 font-bold uppercase tracking-widest text-[9px] sm:text-[10px] mt-3 sm:mt-2 italic flex items-center justify-center sm:justify-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full animate-ping shrink-0"}),"Operation Level 4: Permanent Data Posting"]})]})]}),s?e.jsxs("div",{className:"text-center space-y-8 animate-in zoom-in duration-500",children:[e.jsxs("div",{className:"p-6 sm:p-10 bg-green-50 border-4 border-green-500 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-green-500 animate-pulse"}),e.jsx(Ln,{size:48,className:"text-green-600 mb-4 mx-auto sm:hidden"}),e.jsx(Ln,{size:80,className:"text-green-600 mb-4 mx-auto hidden sm:block"}),e.jsx("h2",{className:"text-xl sm:text-3xl font-black text-green-900 italic uppercase tracking-tighter leading-tight",children:"LEDGER UPDATED SUCCESSFULLY"}),e.jsx("p",{className:"font-bold text-green-700 uppercase mt-4 sm:mt-2 tracking-widest text-[9px] sm:text-[10px]",children:"All employee salary history has been permanently committed to Master Database."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>{alert("PREPARING AUDIT: Generating Master Posting Register for the current commitment session..."),t("/payroll/register/print")},className:"flex-1 p-4 sm:p-6 bg-blue-900 text-white font-black italic uppercase tracking-widest hover:bg-black transition-all border-b-4 border-blue-950 flex flex-col items-center shadow-lg active:translate-y-1",children:[e.jsx("span",{className:"text-[10px] opacity-70",children:"GENERATE REPORT"}),e.jsx("span",{className:"text-xs sm:text-base",children:"PRINT POSTING AUDIT"})]}),e.jsxs("button",{onClick:()=>t("/"),className:"flex-1 p-4 sm:p-6 bg-gray-100 text-gray-800 font-black italic uppercase tracking-widest hover:bg-gray-200 transition-all border border-gray-400 border-b-4 border-gray-500 flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] opacity-70",children:"STATION CONTROL"}),e.jsx("span",{className:"text-xs sm:text-base",children:"BACK TO DASHBOARD"})]})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 p-6 flex items-start gap-4",children:[e.jsx(nc,{className:"text-yellow-600 shrink-0",size:24}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-yellow-900 uppercase italic",children:"Pre-Update Verification"}),e.jsxs("ul",{className:"text-[10px] font-bold text-yellow-800 space-y-1 uppercase tracking-tight opacity-80",children:[e.jsx("li",{children:" Calculation register has been reviewed and verified."}),e.jsx("li",{children:" Bank disbursement files have been successfully generated."}),e.jsx("li",{children:" System backup has been performed in the last 24 hours."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 space-y-3",children:[e.jsx("h3",{className:"font-black text-gray-400 uppercase text-[9px]",children:"Target Pay Period"}),e.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-200 px-3 py-1 shadow-inner rounded-sm ring-1 ring-gray-200",children:[e.jsx(sn,{size:14,className:"text-blue-600"}),e.jsx("input",{type:"text",value:o,readOnly:!0,className:"bg-transparent outline-none font-black text-blue-900 text-xs w-full uppercase"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 space-y-3",children:[e.jsx("h3",{className:"font-black text-gray-400 uppercase text-[9px]",children:"Posting Destination"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zi,{className:"text-blue-600 shrink-0",size:20}),e.jsxs("div",{className:"font-black italic text-gray-700 text-[11px] sm:text-xs",children:["PR-MASTER-DB-",o.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 space-y-3",children:[e.jsx("h3",{className:"font-black text-gray-400 uppercase text-[9px]",children:"Security Protocol"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rs,{className:"text-green-600 shrink-0",size:20}),e.jsxs("div",{className:"font-black italic text-gray-700 text-[11px] sm:text-xs",children:["ENCRYPTED KEY SIGNED - ",f.code||"SYS"]})]})]}),e.jsx("button",{onClick:p,disabled:r,className:`w-full p-4 sm:p-6 font-black italic text-sm sm:text-xl uppercase tracking-widest sm:tracking-[0.2em] shadow-2xl transition-all flex flex-col items-center justify-center gap-2 ${r?"bg-gray-400 text-gray-200 cursor-wait":"bg-red-600 text-white hover:bg-red-700 active:translate-y-1"}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(sn,{size:24,className:"animate-spin sm:hidden"}),e.jsx(sn,{size:32,className:"animate-spin hidden sm:block"}),e.jsx("span",{className:"text-center",children:"COMMITTING TO MASTER DATA..."})]}):e.jsx("span",{className:"text-center",children:"POST & UPDATE MASTER RECORDS"})})]})]})}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-2 sm:p-3 flex flex-col xs:flex-row justify-between items-center px-4 sm:px-6 gap-3 no-print",children:[e.jsxs("button",{onClick:()=>alert("HISTORY: Accessing previous payroll commitment logs..."),className:"flex items-center gap-2 p-1.5 font-black italic text-gray-500 hover:text-blue-700 transition-colors text-[10px] sm:text-xs",children:[e.jsx(rr,{size:16})," VIEW PREVIOUS UPDATES"]}),e.jsx("button",{onClick:()=>t(-1),className:"w-full xs:w-auto bg-gray-100 border border-gray-400 text-gray-600 px-8 py-2 font-black italic hover:bg-gray-200 text-[10px] sm:text-xs",children:"CLOSE MODULE"})]})]})},CI=()=>{const t=jt(),r=R.useRef(null),[a,s]=R.useState([]),i=async()=>{try{const P=await Te.fetchBackupLogs();P.success&&s(P.data.map(z=>({id:z.id,date:new Date(z.date).toLocaleDateString("en-GB"),type:z.type,size:z.size,user:z.user,status:z.status,filename:z.filename})))}catch(P){console.error("Failed to fetch backup logs:",P)}};R.useEffect(()=>{i()},[]);const[o,c]=R.useState(!1),[d,h]=R.useState(0),[f,p]=R.useState(""),[g,b]=R.useState(!1),[m,v]=R.useState(""),[N,w]=R.useState(""),A=R.useRef(null),E=oi();R.useEffect(()=>{const z=new URLSearchParams(E.search).get("action");z==="import"?O():z==="export"?F():z==="backup"?T():z==="restore"&&_(),z&&window.history.replaceState({},"",E.pathname)},[E.search]);const T=async()=>{try{v("BACKUP"),b(!0),c(!0),h(10),p("Initializing backup protocol...");const P=await Te.createSystemBackup();P.success&&(h(100),p("CRC Verification Successful. Operation BACKUP finalized."),i(),setTimeout(()=>{c(!1),alert(` SYSTEM BACKUP GENERATED

Archive Name: ${P.data.filename}
Size: ${P.data.size}`)},800))}catch(P){console.error(P),alert("BACKUP FAILED: System could not generate snapshot."),b(!1)}finally{c(!1)}},_=()=>{A.current="restore",r.current&&r.current.click()},O=()=>{A.current="import",r.current&&r.current.click()},W=P=>{const z=P.target.files[0];if(z){const M=A.current==="restore"?"/files/restore":"/files/import";window.pendingFile=z,t(M,{state:{autoStart:!0,fileName:z.name,fileSize:z.size,isRestore:A.current==="restore"}})}},F=async()=>{try{v("EXPORT"),b(!0),c(!0),h(30),p("Compressing master records...");const P=await Te.exportMasterData();if(P.success){h(100),p("Operation EXPORT finalized.");const z=new Blob([JSON.stringify(P.data,null,2)],{type:"application/json"}),M=window.URL.createObjectURL(z),C=document.createElement("a");C.href=M,C.download=`HRM_Master_Export_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),window.URL.revokeObjectURL(M),document.body.removeChild(C),setTimeout(()=>{c(!1)},800)}}catch(P){console.error(P),alert("EXPORT FAILED: Encryption protocol interrupted."),b(!1)}finally{c(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsx("input",{type:"file",ref:r,className:"hidden",accept:".xlsx,.xls,.csv,.xml,.bak,.sql,.zip",onChange:W}),e.jsxs("div",{className:"bg-[#0055E5] text-white px-3 py-1.5 flex items-center justify-between shadow-[inset_0_1px_0_rgba(255,255,255,0.3)]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yp,{size:14}),e.jsx("span",{className:"font-black uppercase tracking-widest text-[10px]",children:"Station Protocol: 0x882  File Maintenance"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-[9px] font-bold opacity-80",children:[e.jsx("span",{children:"SECURITY: RSA-4096"}),e.jsx("span",{className:"border-l border-white/30 pl-4 uppercase",children:"Node: JAMAICA-HQ-01"})]})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-6 overflow-hidden flex flex-col md:flex-row gap-4 sm:gap-6 bg-[#D4D0C8]/50",children:[e.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-500 shadow-[8px_8px_0_rgba(0,0,0,0.1)] flex flex-col",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-400 flex items-center gap-2 font-black text-gray-700 uppercase italic",children:[e.jsx(Zi,{size:14,className:"text-blue-700"})," Primary Ops"]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("button",{onClick:T,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-white border border-blue-200 text-blue-800 font-black hover:from-blue-100 hover:border-blue-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(Zi,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"BACKUP SYSTEM"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Full Binary Image"})]})]}),e.jsxs("button",{onClick:O,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-white border border-green-200 text-green-800 font-black hover:from-green-100 hover:border-green-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(_p,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"IMPORT DATA"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Excel / CSV / XML"})]})]}),e.jsxs("button",{onClick:F,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-white border border-purple-200 text-purple-800 font-black hover:from-purple-100 hover:border-purple-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(Er,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"EXPORT MASTER"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Encrypted YTD Archive"})]})]}),e.jsxs("button",{onClick:_,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-red-50 to-white border border-red-200 text-red-800 font-black hover:from-red-100 hover:border-red-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(yp,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"RESTORE SYSTEM"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Rollback to Snapshot"})]})]})]})]}),e.jsxs("div",{className:"bg-[#1a1a1a] text-white p-5 border-t-4 border-blue-600 shadow-xl relative group overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(rs,{size:20,className:"text-blue-400"}),e.jsx("h4",{className:"font-black uppercase tracking-tighter text-[10px]",children:"Integrity Checkpoint"})]}),e.jsxs("p",{className:"text-[9px] leading-relaxed opacity-70 uppercase font-bold tracking-tighter",children:["System state is currently ",e.jsx("span",{className:"text-green-400 italic",children:"OPTIMAL"}),". All file operations are monitored and recorded under strict audit protocols."]})]}),e.jsx(hA,{className:"absolute -bottom-10 -right-10 opacity-10 group-hover:scale-125 transition-transform",size:140})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white border-2 border-gray-500 shadow-[12px_12px_0_rgba(0,0,0,0.15)] overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] p-3 border-b border-gray-400 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 font-black italic text-gray-800 uppercase text-[11px] tracking-widest",children:[e.jsx(yp,{size:16,className:"text-blue-700"}),"System Transaction Log"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"FILTER LOG...",className:"px-2 py-1 bg-white border border-gray-400 text-[10px] font-bold w-32 focus:w-48 transition-all outline-none",value:N,onChange:P=>w(P.target.value)})}),e.jsx("button",{onClick:i,className:"bg-white border-2 border-gray-400 px-3 py-1 font-black text-[10px] uppercase hover:bg-gray-100 active:translate-y-0.5 shadow-sm",children:"Refresh"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-[url('https://www.transparenttextures.com/patterns/graphy.png')]",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[e.jsx("thead",{className:"bg-[#F0F0F0] sticky top-0 border-b border-gray-300 font-black text-[10px] text-gray-500 uppercase tracking-widest z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-200",children:"OP-UUID"}),e.jsx("th",{className:"p-4 border-r border-gray-200 text-center",children:"STAMP"}),e.jsx("th",{className:"p-4 border-r border-gray-200 text-center",children:"TYPE"}),e.jsx("th",{className:"p-4 border-r border-gray-200 text-center",children:"DATA LOAD"}),e.jsx("th",{className:"p-4",children:"STATION USER"}),e.jsx("th",{className:"p-4 text-right",children:"PROTOCOL"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:a.filter(P=>P.id.toLowerCase().includes(N.toLowerCase())||P.type.toLowerCase().includes(N.toLowerCase())||P.user.toLowerCase().includes(N.toLowerCase())).map(P=>e.jsxs("tr",{onClick:()=>{P.type==="BACKUP"&&window.open(Te.downloadBackupFile(P.filename),"_blank")},className:"border-b border-gray-100 hover:bg-blue-50/80 cursor-pointer transition-colors group",children:[e.jsx("td",{className:"p-4 border-r border-gray-100 font-mono text-blue-700 tracking-tighter uppercase",children:P.id}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center font-mono text-[10px]",children:P.date}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded-sm text-[9px] uppercase font-black text-white ${P.type==="BACKUP"?"bg-blue-600":P.type==="IMPORT"?"bg-green-600":"bg-purple-600"}`,children:P.type})}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center font-mono opacity-60 italic",children:P.size}),e.jsx("td",{className:"p-4 border-r border-gray-100 font-black italic",children:P.user}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs",children:[P.type==="BACKUP"&&e.jsx(Er,{size:12,className:"text-blue-500 mr-2 group-hover:block hidden"}),e.jsx("span",{className:"text-[9px] font-black italic text-green-700 tracking-widest",children:P.status}),e.jsx(Nn,{size:12,className:"text-green-600"})]})})]},P.id))})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] p-3 border-t border-gray-400 flex justify-between items-center px-6",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Logged Station Events Root: /sys/engine/file_manager"}),e.jsx("button",{onClick:()=>t("/"),className:"bg-[#333333] text-white px-8 py-2 font-black uppercase tracking-[0.2em] text-[10px] hover:bg-black shadow-lg border-b-4 border-r-4 border-gray-900 active:translate-y-1 active:border-0 transition-all",children:"Return to Command"})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-[450px] bg-[#EBE9D8] border-2 border-white shadow-[20px_20px_0_rgba(0,0,0,0.4)] animate-in zoom-in duration-200",children:[e.jsx("div",{className:"bg-[#0055E5] text-white px-3 py-1.5 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[o?e.jsx(Ut,{className:"animate-spin",size:14}):e.jsx(Nn,{size:14}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Protocol Execution: ",m]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[e.jsx("div",{className:`p-4 rounded-full ${o?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"} shadow-inner`,children:m==="IMPORT"?e.jsx(_p,{size:32}):m==="EXPORT"?e.jsx(Er,{size:32}):e.jsx(Zi,{size:32})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase italic tracking-tighter mb-1",children:o?"Operational Step":"Protocol Finalized"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Master File Control Unit"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end mb-1",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-700 uppercase italic tracking-tighter",children:f}),e.jsxs("span",{className:"text-sm font-black text-blue-700",children:[Math.floor(d),"%"]})]}),e.jsx("div",{className:"w-full h-4 bg-white border border-gray-400 p-0.5 shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-700 via-blue-500 to-blue-800 transition-all duration-300 shadow-[inset_0_1px_0_rgba(255,255,255,0.4)]",style:{width:`${d}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[9px] font-bold text-gray-400 uppercase font-mono tracking-tighter",children:[e.jsxs("span",{children:["TASK_REF: 0xFD_",m]}),e.jsxs("span",{className:"text-right",children:["MEM: ",Math.floor(d*4),"MB LOAD"]})]})]}),!o&&e.jsx("button",{onClick:()=>b(!1),className:"w-full mt-8 bg-[#0055E5] text-white py-3 font-black uppercase tracking-[0.2em] shadow-lg border-b-4 border-r-4 border-blue-900 active:translate-y-1 active:border-0 transition-all font-sans",children:"Dismiss Protocol"})]}),e.jsx("div",{className:"bg-[#D4D0C8] border-t border-gray-400 px-4 py-1.5 flex justify-end",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:"RSA Status:"}),e.jsx("span",{className:`text-[8px] font-black uppercase ${o?"text-blue-600 animate-pulse":"text-green-600"}`,children:o?"ENCRYPTING...":"SECURE"})]})})]})})]})},TI=()=>{const t=jt(),r=[{id:"calc",name:"Financial Calculator",icon:e.jsx(Od,{size:20}),desc:"Payroll and tax calculation helper",path:"/processing/payroll-calculation"},{id:"diag",name:"System Diagnostics",icon:e.jsx(Rg,{size:20}),desc:"Check station and database health",path:"/tools/diagnostics"},{id:"clean",name:"Database Cleanup",icon:e.jsx(K5,{size:20}),desc:"Purge old logs and optimize tables",path:"/tools/cleanup"},{id:"sec",name:"Security Audit",icon:e.jsx(Vo,{size:20}),desc:"Scan for unauthorized access attempts",path:"/tools/security"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Station Utility Toolkit"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"System Diagnostics & Maintenance"})]}),e.jsxs("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:[e.jsx("div",{className:"w-full max-w-4xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(a=>e.jsxs("button",{onClick:()=>t(a.path),className:"bg-white border border-gray-300 p-6 flex items-start gap-4 shadow-sm hover:bg-gray-50 transition-colors group text-left",children:[e.jsx("div",{className:"p-3 bg-gray-100 text-gray-500 rounded border border-gray-200 group-hover:text-gray-700 transition-colors",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800 uppercase mb-1",children:a.name}),e.jsx("p",{className:"text-gray-400 font-medium text-[10px] uppercase tracking-tight",children:a.desc})]}),e.jsx(xo,{className:"text-gray-300 self-center",size:18})]},a.id))}),e.jsxs("div",{className:"mt-8 w-full max-w-4xl mx-auto bg-gray-100 border border-gray-300 p-6 rounded flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-700 text-xs uppercase tracking-wider",children:"Automated Maintenance"}),e.jsx("p",{className:"font-medium text-gray-400 uppercase text-[9px] mt-1",children:"Last full optimization: 21/01/2026"})]}),e.jsx("button",{className:"bg-gray-700 text-white px-6 py-2 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors tracking-widest",children:"Run Diagnostics"})]})]}),e.jsx("div",{className:"border-t border-gray-300 p-4 flex justify-end px-6 no-print bg-white",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 border border-gray-300 px-6 py-2 text-[10px] font-bold uppercase hover:bg-gray-50 transition-colors",children:[e.jsx(_r,{size:14,className:"text-gray-400"}),"Back to Terminal"]})})]})},DI=()=>{const t=jt(),r=[{id:"T99401",date:"22/01/2026",type:"PAYROLL",desc:"Monthly Salary Disbursement",amount:"8,240,500.00",status:"Completed"},{id:"T99402",date:"22/01/2026",type:"ADVANCE",desc:"Employee Loan #102",amount:"25,000.00",status:"Processing"},{id:"T99403",date:"21/01/2026",type:"TAX",desc:"NHT Disbursement",amount:"450,200.00",status:"Completed"},{id:"T99404",date:"21/01/2026",type:"ADJUST",desc:"Overtime Correction",amount:"12,400.00",status:"Verified"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1 flex items-center gap-2",children:[e.jsx(Zi,{size:14,className:"text-blue-800"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic",children:"Master Transaction Ledger & Audit Archives"})]}),e.jsxs("div",{className:"flex-1 p-6 flex flex-col gap-6 overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-500 p-4 shadow-[4px_4px_0_rgba(0,0,0,0.1)] flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-gray-50 border border-gray-300 p-3",children:[e.jsx(Ga,{size:18,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"SEARCH BY TRANSACTION ID, DATA OR DESCRIPTION...",className:"bg-transparent outline-none font-black italic w-full text-blue-900 placeholder:text-gray-300"})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-[#E0DCCF] border border-gray-400 px-4 py-3 font-bold hover:bg-gray-100",children:[e.jsx(ju,{size:16})," ADVANCED FILTERS"]}),e.jsx("div",{className:"h-10 w-px bg-gray-300 mx-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-3 bg-white border border-gray-400 hover:bg-blue-50 text-blue-600 shadow-sm",children:e.jsx(ea,{size:18})}),e.jsx("button",{className:"p-3 bg-white border border-gray-400 hover:bg-green-50 text-green-600 shadow-sm",children:e.jsx(Er,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-gray-500 shadow-[8px_8px_0_rgba(0,0,0,0.1)] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-3 flex justify-between items-center px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r8,{size:18}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[10px]",children:"Archived Records - Fiscal Jan 2026"})]}),e.jsx("div",{className:"text-[9px] font-bold opacity-70",children:"Showing 1-4 of 1,245 Records"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 border-b-2 border-gray-300 font-black italic text-gray-600 uppercase text-[9px]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"TX REF"}),e.jsx("th",{className:"p-4",children:"POSTING DATE"}),e.jsx("th",{className:"p-4",children:"CATEGORY"}),e.jsx("th",{className:"p-4",children:"DESCRIPTION"}),e.jsx("th",{className:"p-4",children:"VALUE (JMD)"}),e.jsx("th",{className:"p-4 text-center",children:"STATUS"}),e.jsx("th",{className:"p-4 text-right",children:"ACTION"})]})}),e.jsx("tbody",{children:r.map((a,s)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 group transition-colors",children:[e.jsxs("td",{className:"p-4 font-black text-gray-400",children:["#",a.id]}),e.jsx("td",{className:"p-4 font-mono font-bold",children:a.date}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-3 py-1 bg-gray-100 border border-gray-300 rounded-sm font-black italic text-[9px] uppercase text-gray-600",children:a.type})}),e.jsx("td",{className:"p-4 font-bold text-gray-800 tracking-tight",children:a.desc}),e.jsxs("td",{className:"p-4 font-black italic text-blue-900 text-sm",children:["$",a.amount]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded font-black italic text-[8px] uppercase ${a.status==="Completed"?"text-green-600 border border-green-200 bg-green-50":a.status==="Processing"?"text-blue-600 border border-blue-200 bg-blue-50 animate-pulse":"text-purple-600 border border-purple-200 bg-purple-50"}`,children:a.status})}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("button",{className:"p-1 text-blue-600 opacity-0 group-hover:opacity-100 font-black italic flex items-center gap-1 ml-auto uppercase text-[9px]",children:["DETAILS ",e.jsx(Qc,{size:12})]})})]},s))})]})})]})]}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-3 px-8 flex justify-between items-center no-print",children:[e.jsx("div",{className:"text-[10px] font-black italic text-red-600 uppercase animate-pulse",children:"Live Audit Loop Active - Station Verified"}),e.jsx("button",{onClick:()=>t(-1),className:"bg-red-500 text-white px-10 py-2 font-black italic hover:bg-red-600 shadow-xl active:translate-y-1 transition-all",children:"CLOSE LEDGER"})]})]})},LI=()=>{const t=jt(),[r,a]=R.useState(null),[s,i]=R.useState(1),[o,c]=R.useState("full"),[d,h]=R.useState(new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase()),[f,p]=R.useState([]),[g,b]=R.useState([]),[m,v]=R.useState([]),[N,w]=R.useState("pending"),[A,E]=R.useState(null),[T,_]=R.useState(!1);R.useEffect(()=>{const C=localStorage.getItem("selectedCompany");C&&a(JSON.parse(C))},[]),R.useEffect(()=>{const C=[],U=new Date;for(let B=0;B<12;B++){const X=new Date(U.getFullYear(),U.getMonth()-B,1),ue=X.toLocaleString("default",{month:"long",year:"numeric"}),J=X.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase();C.push({label:ue,value:J})}p(C)},[]),R.useEffect(()=>{r?.id&&O()},[r]);const O=async()=>{try{const C=await Te.fetchDepartments(r.id);C.data&&v(C.data)}catch(C){console.error("Failed to load departments",C)}},W=C=>{b(U=>U.includes(C)?U.filter(B=>B!==C):[...U,C])};R.useEffect(()=>{s===3&&F()},[s]);const F=async()=>{w("validating");try{const C=await Te.fetchTransactionRegister({companyId:r.id,period:d,status:"POSTED"});if(C.data){const U=C.data.transactions||[];if(U.length===0){E(null),w("error");return}const B=new Set(U.map(re=>re.employeeId)).size,X=U.reduce((re,oe)=>re+parseFloat(oe.amount||0),0),ue=X*.2,J=X-ue;E({count:B,gross:X,tax:ue,net:J,totalCost:X}),w("success")}}catch(C){console.error("Validation failed",C),w("error")}},P=async()=>{if(s<4){i(C=>C+1);return}_(!0);try{const C=await Te.generatePayrolls({companyId:r.id,period:d});C.success?(alert(`SUCCESS: ${C.message}`),t("/payroll/register")):(alert("Generation failed: "+C.message),_(!1))}catch(C){console.error("Submission failed",C),alert("An error occurred during payroll generation."),_(!1)}},z=C=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"XY"}).format(C).replace("XY","$"),M=[{id:1,title:"Selection",icon:e.jsx(Pd,{size:20})},{id:2,title:"Config",icon:e.jsx(Od,{size:20})},{id:3,title:"Validation",icon:e.jsx(I2,{size:20})},{id:4,title:"Submission",icon:e.jsx(Ln,{size:20})}];return r?e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#0055E5] text-white px-4 py-2 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B2,{size:18}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[11px]",children:"IntelliPay Setup Wizard"})]})}),e.jsx("div",{className:"flex-1 p-2 md:p-10 flex flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white border-2 border-gray-500 shadow-2xl flex flex-col min-h-[500px]",children:[e.jsx("div",{className:"flex border-b-2 border-gray-200 overflow-x-auto",children:M.map(C=>e.jsxs("div",{className:`flex-1 min-w-[80px] p-2 md:p-4 flex flex-col items-center gap-1 border-r last:border-0 transition-colors ${s===C.id?"bg-blue-50 border-b-4 border-b-blue-600":s>C.id?"bg-green-50":"bg-gray-50 opacity-40"}`,children:[e.jsx("div",{className:`${s>=C.id?"text-blue-600":"text-gray-400"}`,children:C.icon}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-tighter text-center ${s>=C.id?"text-blue-900":"text-gray-400"}`,children:C.title})]},C.id))}),e.jsxs("div",{className:"flex-1 p-4 md:p-12 overflow-auto flex flex-col items-center justify-center",children:[s===1&&e.jsxs("div",{className:"text-center space-y-6 max-w-lg w-full",children:[e.jsx(Pd,{size:64,className:"text-blue-600 mx-auto opacity-20"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Identify Target Group"}),e.jsxs("div",{className:"w-full max-w-xs mx-auto mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-1 text-left",children:"Processing Period"}),e.jsx("select",{value:d,onChange:C=>h(C.target.value),className:"w-full p-2 border border-blue-500 font-bold text-blue-900 bg-blue-50",children:f.map(C=>e.jsx("option",{value:C.value,children:C.label},C.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8 w-full",children:[e.jsxs("button",{onClick:()=>c("full"),className:`p-4 border-2 transition-all font-black italic uppercase shadow-sm flex flex-col items-center gap-2 ${o==="full"?"border-blue-600 bg-blue-50 text-blue-900 scale-105 shadow-md z-10":"border-gray-200 bg-white text-gray-400 opacity-60"}`,children:[e.jsx(Pd,{size:24}),e.jsx("span",{children:"Entire Company"})]}),e.jsxs("button",{onClick:()=>c("dept"),className:`p-4 border-2 transition-all font-black italic uppercase shadow-sm flex flex-col items-center gap-2 ${o==="dept"?"border-blue-600 bg-blue-50 text-blue-900 scale-105 shadow-md z-10":"border-gray-200 bg-white text-gray-400 opacity-60"}`,children:[e.jsx(Od,{size:24}),e.jsx("span",{children:"By Department"})]})]}),o==="dept"&&e.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-3 gap-2 w-full animate-in fade-in slide-in-from-top-4 duration-500",children:m.length>0?m.map(C=>e.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 bg-gray-50 rounded cursor-pointer hover:bg-blue-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:g.includes(C.name),onChange:()=>W(C.name),className:"accent-blue-600 h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-700 truncate",children:C.name})]},C.id)):e.jsx("p",{className:"col-span-3 text-red-500 font-bold",children:"No departments found."})})]}),s===2&&e.jsxs("div",{className:"w-full max-w-2xl space-y-8 animate-in slide-in-from-right duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(Od,{size:48,className:"text-blue-600 mx-auto opacity-30"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Earnings & Deductions"}),e.jsx("p",{className:"font-bold text-gray-500 uppercase text-[10px] tracking-widest",children:"Confirm inclusion parameters."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-blue-900 border-b pb-1 uppercase italic tracking-widest",children:"Standard Earnings"}),e.jsx("div",{className:"space-y-2",children:["Basic Salary","Overtime","Commission","Allowances"].map(C=>e.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-100 bg-white shadow-sm rounded-lg hover:border-blue-300 transition-all cursor-pointer",children:[e.jsx("span",{className:"font-bold text-gray-700",children:C}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 accent-emerald-500"})]},C))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-red-900 border-b pb-1 uppercase italic tracking-widest",children:"Cycle Deductions"}),e.jsx("div",{className:"space-y-2",children:["PAYE Tax","NIS","NHT","Education Tax"].map(C=>e.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-100 bg-white shadow-sm rounded-lg hover:border-red-300 transition-all cursor-pointer",children:[e.jsx("span",{className:"font-bold text-gray-700",children:C}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 accent-red-500"})]},C))})]})]})]}),s===3&&e.jsxs("div",{className:"w-full max-w-2xl space-y-8 animate-in zoom-in duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(I2,{size:48,className:"text-amber-600 mx-auto opacity-30"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Validation Scan"}),e.jsx("p",{className:"font-bold text-gray-500 uppercase text-[10px] tracking-widest",children:"Checking available transaction data..."})]}),N==="validating"&&e.jsxs("div",{className:"flex flex-col items-center justify-center p-10 gap-4",children:[e.jsx(Ut,{size:40,className:"animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-500 font-bold uppercase",children:"analyzing ledger..."})]}),N==="error"&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 p-6 rounded text-center",children:[e.jsx(el,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-red-800 mb-2",children:"No Postable Data Found"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["No 'POSTED' transactions were found for period ",e.jsx("strong",{children:d}),"."]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Please go to ",e.jsx("strong",{children:"Post Transactions"})," and ensure all entered data is posted before running payroll."]})]}),N==="success"&&A&&e.jsxs("div",{className:"bg-white border-2 border-green-100 rounded-2xl overflow-hidden shadow-inner",children:[e.jsxs("div",{className:"p-4 bg-green-50 border-b border-green-100 flex items-center gap-2",children:[e.jsx(Ln,{className:"text-green-600",size:20}),e.jsx("span",{className:"font-bold text-green-800 uppercase",children:"Data Validation Passed"})]}),e.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-2 border border-gray-100 rounded",children:[e.jsx("div",{className:"text-gray-400 text-[10px] uppercase font-bold",children:"Transaction Count"}),e.jsx("div",{className:"text-2xl font-black text-gray-800",children:A.count})]}),e.jsxs("div",{className:"text-center p-2 border border-gray-100 rounded",children:[e.jsx("div",{className:"text-gray-400 text-[10px] uppercase font-bold",children:"Total Gross (Est)"}),e.jsx("div",{className:"text-2xl font-black text-gray-800",children:z(A.gross)})]})]})]})]}),s===4&&e.jsxs("div",{className:"w-full max-w-lg space-y-8 animate-in fade-in duration-700",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(Ln,{size:64,className:"text-green-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Final Submission"}),e.jsx("p",{className:"font-bold text-gray-500 uppercase text-[10px] tracking-widest",children:"Review summary and commit."})]}),A?e.jsxs("div",{className:"bg-gray-900 text-green-400 p-6 rounded-lg font-mono text-[10px] space-y-2 border-l-4 border-green-600 shadow-xl",children:[e.jsxs("div",{className:"border-b border-gray-800 pb-2 mb-2 flex justify-between uppercase",children:[e.jsx("span",{children:"Batch Cycle"}),e.jsx("span",{children:d})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"TOTAL RECIPIENTS:"})," ",e.jsxs("span",{children:[A.count," EMPLOYEES"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"TOTAL GROSS:"})," ",e.jsx("span",{children:z(A.gross)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"EST. TAXES:"})," ",e.jsx("span",{children:z(A.tax)})]}),e.jsxs("div",{className:"flex justify-between text-white font-black pt-4 mt-2 border-t border-gray-800 tracking-widest",children:[e.jsx("span",{children:"TOTAL NET PAY:"}),e.jsx("span",{children:z(A.net)})]})]}):e.jsx("div",{className:"text-center text-gray-400",children:"Preview data unavailable."}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded text-blue-900 font-bold text-[10px] italic",children:[e.jsx(B2,{size:16}),"Warning: Clicking 'Finish' will lock this pay period and generate payroll records."]})]})]}),e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 border-t-2 border-gray-200 flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[e.jsxs("button",{disabled:s===1||T,onClick:()=>i(C=>C-1),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 font-black italic uppercase text-gray-500 hover:border-gray-500 disabled:opacity-0 transition-all w-full md:w-auto justify-center",children:[e.jsx(W5,{size:20})," PREVIOUS STAGE"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsx("button",{onClick:()=>t(-1),className:"px-4 py-3 font-black italic uppercase text-gray-400 hover:text-red-600 transition-none text-center",children:"CANCEL WIZARD"}),e.jsxs("button",{onClick:P,disabled:T||s===3&&N!=="success",className:"flex items-center gap-2 px-6 sm:px-10 py-3 bg-blue-600 text-white font-black italic uppercase shadow-xl hover:bg-blue-700 active:translate-y-1 transition-all w-full md:w-auto justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[T?"PROCESSING...":s===4?"FINISH & RELEASE":"CONTINUE NEXT",s<4&&!T&&e.jsx(xo,{size:20})]})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-3 px-12 flex justify-between items-center text-[9px] font-black italic text-gray-500 uppercase tracking-widest",children:[e.jsx("span",{children:"Wizard Version 6.0"}),e.jsx("span",{children:"Session Secured: 256-bit Key"})]})]}):e.jsx("div",{className:"p-4",children:"Please select a company first."})},RI=()=>{const t=jt(),[r,a]=R.useState(""),[s,i]=R.useState(null),[o,c]=R.useState("Standard Redundancy (Legal)"),[d,h]=R.useState({yearsOfService:!0,noticePay:!0,multiplier:!0}),[f,p]=R.useState(null),[g,b]=R.useState(!1),[m,v]=R.useState(!1),[N]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[w]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[A,E]=R.useState([]),[T,_]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const M=localStorage.getItem("selectedCompany"),C=M?JSON.parse(M):null;if(C){const U=await Te.fetchEmployees(C.id);U.success&&E(U.data.map(B=>({id:B.id,employeeId:B.employeeId,name:`${B.firstName} ${B.lastName}`,dept:B.department?.name||B.department||"General",salary:parseFloat(B.baseSalary||0),joinDate:B.joinDate||new Date().toISOString(),years:O(B.joinDate)})))}}catch(M){console.error("Failed to load employee directory:",M)}finally{_(!1)}})()},[]);const O=z=>{if(!z)return 0;const M=new Date(z),U=new Date-M;return Math.floor(U/(1e3*60*60*24*365.25))},W=()=>{if(!r)return;const z=A.find(M=>M.employeeId&&M.employeeId.toUpperCase()===r.toUpperCase()||M.id===r);z?(i(z),p(null)):alert(`STATION ALERT: Employee ID "${r}" not found in active master records.`)},F=async()=>{if(s)try{b(!0);const z=await Te.calculateRedundancy({employeeId:s.id,terminationType:o,factors:d});if(z.success){const M=z.data;p({redundancy:M.redundancyPay,notice:M.noticePay,total:M.totalSettlement,type:o})}else alert("Failed to calculate settlement. Please try again.")}catch(z){console.error("Settlement calculation error:",z),alert("Error calculating settlement. Please check console for details.")}finally{b(!1)}},P=async()=>{if(!(!s||!f||!window.confirm(`CONFIRM REDUNDANCY RECORD:

Employee: ${s.name}
Type: ${o}
Total Settlement: $${f.total.toLocaleString()}

This will create a permanent redundancy record. Continue?`)))try{v(!0);const M=await Te.createRedundancy({companyId:w.id,employeeId:s.id,terminationType:o,redundancyPay:f.redundancy,noticePay:f.notice,totalSettlement:f.total,yearsOfService:s.years,reason:`${o} - Settlement calculated and approved`,processedBy:N.email||"SYSTEM"});M.success?(alert(` REDUNDANCY RECORD SAVED SUCCESSFULLY

Record ID: `+M.data.id),i(null),p(null),a("")):alert("Failed to save redundancy record. Please try again.")}catch(M){console.error("Save redundancy error:",M),alert("Error saving redundancy record. Please check console for details.")}finally{v(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-fire-red bg-[#8B0000] text-white px-3 sm:px-4 py-2 flex flex-col sm:flex-row items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vo,{size:18}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[10px] sm:text-[11px] text-center sm:text-left",children:"Termination & Redundancy Settlement Station"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[T&&e.jsxs("span",{className:"flex items-center gap-1 text-[9px] uppercase font-bold animate-pulse",children:[e.jsx(Ut,{size:10,className:"animate-spin"})," Syncing Master Records..."]}),e.jsx("div",{className:"text-[8px] sm:text-[9px] font-black border border-white/30 px-2 py-1 italic uppercase whitespace-nowrap",children:"Highly Restricted Access"})]})]}),e.jsx("div",{className:"flex-1 p-3 sm:p-10 flex flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-5xl bg-white border-2 sm:border-4 border-gray-400 shadow-2xl p-4 sm:p-10 flex flex-col lg:grid lg:grid-cols-[1fr_350px] gap-8 sm:gap-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-6 border-b-4 border-red-500",children:[e.jsx("div",{className:"p-4 bg-red-100 rounded-full text-red-600",children:e.jsx(Fg,{size:48})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 italic uppercase leading-none",children:"Employee Redundancy"}),e.jsx("p",{className:"text-red-700 font-bold uppercase tracking-widest text-xs mt-2 italic",children:"Legal Settlement & Final Pay Calculation"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8 mb-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"font-black text-gray-500 uppercase text-[9px]",children:"Select Target Account"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"ENTER EMPLOYEE ID...",className:"flex-1 p-3 border-2 border-gray-300 font-black italic bg-gray-50 focus:border-red-500 outline-none uppercase",value:r,onChange:z=>a(z.target.value),onKeyPress:z=>z.key==="Enter"&&W()}),e.jsx("button",{onClick:W,disabled:T,className:"bg-red-600 text-white px-4 py-3 font-bold hover:bg-black transition-all disabled:bg-gray-400 disabled:cursor-not-allowed",children:"LOAD"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"font-black text-gray-500 uppercase text-[9px]",children:"Type of Termination"}),e.jsxs("select",{className:"w-full p-3 border-2 border-gray-300 font-black italic bg-gray-50 focus:border-red-500 outline-none cursor-pointer",value:o,onChange:z=>c(z.target.value),children:[e.jsx("option",{children:"Standard Redundancy (Legal)"}),e.jsx("option",{children:"Voluntary Resignation"}),e.jsx("option",{children:"Termination for Cause"}),e.jsx("option",{children:"Retirement Settlement"})]})]})]}),s?e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"bg-red-900 text-white p-6 shadow-xl border-l-8 border-black flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-white",children:e.jsx(Fg,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black italic uppercase leading-none",children:s.name}),e.jsxs("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest mt-1",children:["ID: ",s.employeeId," | ",s.dept]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase opacity-60",children:"Master Record Tenure"}),e.jsxs("p",{className:"text-2xl font-black italic",children:[s.years," YEARS ",e.jsx("span",{className:"text-xs opacity-50",children:"OF SERVICE"})]})]})]}),f&&e.jsxs("div",{className:"mt-8 border-4 border-gray-900 shadow-[10px_10px_0_rgba(0,0,0,0.1)] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-900 text-white p-3 font-black uppercase italic text-[11px] flex justify-between",children:[e.jsx("span",{children:"Calculated Settlement Breakdown"}),e.jsx("span",{className:"text-green-400",children:"STATUS: VERIFIED"})]}),e.jsxs("div",{className:"p-6 space-y-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"font-bold text-gray-500 uppercase",children:"Statutory Redundancy"}),e.jsxs("span",{className:"font-black text-gray-900",children:["$",f.redundancy.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"font-bold text-gray-500 uppercase",children:"Notice Pay (1 Month)"}),e.jsxs("span",{className:"font-black text-gray-900",children:["$",f.notice.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm pt-4",children:[e.jsx("span",{className:"font-black text-red-700 uppercase italic",children:"Final Gross Settlement"}),e.jsxs("span",{className:"text-3xl font-black text-red-700 italic",children:["$",f.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]}):e.jsxs("div",{className:"bg-gray-100 p-4 sm:p-8 border-2 border-dashed border-gray-400 text-center flex flex-col items-center gap-4",children:[e.jsx(xA,{size:48,className:"text-gray-300"}),e.jsx("p",{className:"font-black italic text-gray-400 text-lg uppercase",children:"Account Profile Not Loaded"}),e.jsx("p",{className:"max-w-md text-[10px] font-bold text-gray-500 uppercase tracking-tighter opacity-70",children:"Please search for an employee above to calculate statutory redundancy payments, notice pay, and holiday pay entitlements."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-2 border-gray-500 p-6 flex flex-col gap-4 shadow-inner",children:[e.jsxs("h3",{className:"font-black italic text-blue-900 border-b border-gray-400 pb-2 uppercase tracking-widest text-[11px] flex items-center gap-2",children:[e.jsx(Od,{size:16})," Settlement Factors"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:d.yearsOfService,onChange:z=>h(M=>({...M,yearsOfService:z.target.checked}))}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-red-600 uppercase text-[10px] italic",children:"Include Years of Service (YTD)"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:d.noticePay,onChange:z=>h(M=>({...M,noticePay:z.target.checked}))}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-red-600 uppercase text-[10px] italic",children:"Notice Pay Entitlement"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:d.multiplier,onChange:z=>h(M=>({...M,multiplier:z.target.checked}))}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-red-600 uppercase text-[10px] italic",children:"Statutory Redundancy Multiplier"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-400",children:e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase italic leading-tight",children:"Statutory redundancy in Jamaica is typically 2 weeks' pay for each year of service (up to 10 years)."})})]}),e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 p-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-bold uppercase italic text-[10px]",children:[e.jsx(el,{size:14})," Critical Warning"]}),e.jsx("p",{className:"text-[9px] font-bold text-red-900 tracking-tighter opacity-70 uppercase leading-none",children:"Termination records cannot be reversed once posted. Cross-check with HR legal team."})]}),e.jsx("button",{onClick:F,disabled:!s||g,className:`w-full p-5 font-black italic uppercase tracking-widest shadow-2xl transition-all flex items-center justify-center gap-3 active:translate-y-1 ${!s||g?"bg-gray-400 cursor-not-allowed":"bg-black text-white hover:bg-red-900"}`,children:g?"CALCULATING LEGAL SETTLEMENT...":"GENERATE SETTLEMENT"}),f&&e.jsx("button",{onClick:P,disabled:m,className:`w-full p-5 font-black italic uppercase tracking-widest shadow-2xl transition-all flex items-center justify-center gap-3 active:translate-y-1 ${m?"bg-gray-400 cursor-not-allowed":"bg-green-700 text-white hover:bg-green-800"}`,children:m?"SAVING RECORD...":" SAVE SETTLEMENT RECORD"})]})]})}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-3 sm:p-4 flex flex-col sm:flex-row justify-between px-4 sm:px-10 items-center gap-4 no-print",children:[e.jsxs("button",{className:"flex items-center gap-2 font-black italic text-gray-500 hover:text-red-600 uppercase text-[10px] sm:text-xs",children:[e.jsx(rr,{size:18})," VIEW STATUTORY GUIDELINES"]}),e.jsx("button",{onClick:()=>t(-1),className:"w-full sm:w-auto bg-gray-100 border-2 border-gray-400 text-gray-600 px-8 sm:px-12 py-2 sm:py-3 font-black italic hover:bg-gray-200 shadow-md uppercase transition-all",children:"EXIT MODULE"})]})]})},FI=()=>{const t=jt(),[r,a]=qa.useState(""),[s,i]=qa.useState("All Status"),[o,c]=qa.useState("ALL"),[d,h]=qa.useState([]),[f,p]=qa.useState(!1),[g]=qa.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),b=async()=>{if(g.id)try{p(!0);const w=await Te.fetchPayrollBatches(g.id);w.success&&h(w.data)}catch(w){console.error("Failed to fetch batches",w)}finally{p(!1)}};qa.useEffect(()=>{b()},[g.id]);const m=d.filter((w,A)=>{const E=w.id.toLowerCase().includes(r.toLowerCase())||w.period.toLowerCase().includes(r.toLowerCase()),T=s==="All Status"||w.status===s;return E&&T&&(o==="ALL"||A===0)}),v=()=>{window.print()},N=(w,A)=>{t(`/processing/payroll-calculation?period=${A}`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1 flex items-center justify-between no-print",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{size:14,className:"text-blue-800"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic text-[10px] sm:text-xs",children:"Calculation Register Log"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>c(w=>w==="ALL"?"CURRENT":"ALL"),className:`px-3 py-1 border border-gray-400 text-[10px] font-black italic transition-all active:translate-y-0.5 shadow-sm flex items-center gap-1 ${o==="ALL"?"bg-[#316AC5] text-white hover:bg-blue-700":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:o==="ALL"?"ALL PERIODS":"CURR. PERIOD"}),e.jsx("span",{className:"sm:hidden",children:o==="ALL"?"ALL":"CURR"}),e.jsx(zd,{size:10})]})})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-6 flex flex-col gap-4 sm:gap-6 overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-500 p-3 sm:p-4 shadow-md flex flex-col lg:flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex-1 w-full flex items-center gap-2 bg-gray-50 border border-gray-300 p-2 focus-within:ring-2 focus-within:ring-blue-500 transition-all rounded-sm shadow-inner group",children:[e.jsx(Z5,{size:18,className:"text-blue-700 shrink-0 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),e.jsx("input",{type:"text",placeholder:"SEARCH BY ID OR PERIOD...",className:"bg-transparent outline-none font-black w-full italic text-blue-900 placeholder:text-gray-400 placeholder:font-normal text-[10px] sm:text-xs",value:r,onChange:w=>a(w.target.value)}),r&&e.jsx("button",{onClick:()=>a(""),className:"text-gray-400 hover:text-red-600 p-1",title:"Clear Filter",children:e.jsx($a,{size:14})})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full lg:w-auto",children:[e.jsxs("select",{value:s,onChange:w=>i(w.target.value),className:"flex-1 lg:flex-none p-2.5 border-2 border-gray-400 bg-white text-[10px] font-black uppercase italic text-gray-700 focus:border-blue-500 outline-none shadow-sm",children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Verified"}),e.jsx("option",{children:"Posted"})]}),e.jsx("button",{onClick:v,className:"p-2.5 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:translate-y-0.5 shadow-sm transition-all",title:"Print Log",children:e.jsx(ea,{size:18,className:"text-gray-700"})})]})]}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-gray-500 shadow-lg overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-blue-600 text-white p-2 px-6 flex justify-between items-center italic font-black uppercase text-[10px]",children:"Historical Calculations"}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[500px] sm:min-w-0",children:[e.jsx("thead",{className:"bg-gray-100 font-black italic text-gray-500 uppercase text-[9px] border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 sm:p-4 hidden md:table-cell",children:"CALC ID"}),e.jsx("th",{className:"p-3 sm:p-4",children:"PAY PERIOD"}),e.jsx("th",{className:"p-3 sm:p-4",children:"TOTAL GROSS"}),e.jsx("th",{className:"p-3 sm:p-4 hidden sm:table-cell",children:"ST. DEDUCTIONS"}),e.jsx("th",{className:"p-4 hidden xs:table-cell",children:"STATUS"}),e.jsx("th",{className:"p-3 sm:p-4 text-right",children:"ACTION"})]})}),e.jsx("tbody",{children:f?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"p-10 text-center",children:[e.jsx(Ut,{className:"animate-spin inline mr-2"})," Loading Historical Data..."]})}):m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-10 text-center text-gray-400 font-bold italic",children:"No Historical Calculations Found"})}):m.map((w,A)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors",children:[e.jsxs("td",{className:"p-3 sm:p-4 font-black hidden md:table-cell",children:["#",w.id]}),e.jsxs("td",{className:"p-3 sm:p-4 font-bold",children:[e.jsxs("div",{className:"md:hidden text-[8px] opacity-40 font-mono",children:["#",w.id]}),w.period]}),e.jsxs("td",{className:"p-3 sm:p-4 font-black italic text-blue-900",children:["$",w.totalGross.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 sm:p-4 font-black italic text-red-600 hidden sm:table-cell",children:["$",w.totalTax.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-3 sm:p-4 hidden xs:table-cell",children:e.jsx("span",{className:`px-3 py-1 rounded-sm font-black italic text-[8px] uppercase ${w.status==="Verified"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:w.status})}),e.jsx("td",{className:"p-3 sm:p-4 text-right",children:e.jsxs("button",{onClick:()=>N(w.id,w.period),className:"text-blue-600 font-black italic uppercase text-[9px] hover:underline",children:[e.jsx("span",{className:"hidden sm:inline",children:"Re-Print Details"}),e.jsx("span",{className:"sm:hidden",children:"Print"})]})})]},A))})]})})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-400 p-3 px-4 sm:px-8 flex justify-end no-print",children:e.jsx("button",{onClick:()=>t(-1),className:"w-full sm:w-auto bg-red-500 text-white px-10 py-3 sm:py-2 font-black italic hover:bg-red-600 shadow-xl active:translate-y-1 transition-all",children:"CLOSE REGISTER"})})]})},WN=({title:t})=>{const r=jt();return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1",children:e.jsx("span",{className:"font-bold text-gray-700",children:t})}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:e.jsxs("div",{className:"p-8 bg-white border border-gray-400 shadow-[4px_4px_0_rgba(0,0,0,0.1)] max-w-md w-full text-center",children:[e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(rA,{size:64,className:"text-blue-600 animate-[spin_10s_linear_infinite]"}),e.jsx(jA,{size:32,className:"text-gray-400 absolute -bottom-2 -right-2 transform rotate-12"})]})}),e.jsx("h2",{className:"text-lg font-bold text-blue-800 mb-2 uppercase tracking-wide",children:t}),e.jsx("div",{className:"h-0.5 bg-gray-300 w-full mb-4"}),e.jsxs("div",{className:"flex items-start gap-4 text-left p-4 bg-yellow-50 border border-yellow-200 rounded mb-6",children:[e.jsx(nc,{className:"text-yellow-600 shrink-0",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-yellow-800 mb-1",children:"Module Under Maintenance"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["The ",e.jsx("strong",{children:t})," module is currently being configured for your station. Full functionality will be restored after the next system update."]})]})]}),e.jsxs("button",{onClick:()=>r(-1),className:"w-full flex items-center justify-center gap-2 p-3 bg-blue-600 text-white font-bold hover:bg-blue-700 active:translate-y-0.5 transition-all shadow-md",children:[e.jsx(_r,{size:16}),"BACK TO DASHBOARD"]}),e.jsx("p",{className:"mt-4 text-[10px] text-gray-400 uppercase font-bold italic",children:"HRM Payroll Pro - Module Not Configured"})]})})]})},K0=({type:t="S01"})=>{const r=jt(),[a,s]=R.useState(new Date().toISOString().slice(0,7)),[i,o]=R.useState(!1),[c,d]=R.useState([]),[h,f]=R.useState(null),[p,g]=R.useState([]),[b,m]=R.useState(""),v=E=>{if(!E)return"";const[T,_]=E.split("-"),O=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],W=parseInt(_)-1;return`${O[W]}-${T}`};R.useEffect(()=>{(async()=>{const T=localStorage.getItem("selectedCompany"),_=T?JSON.parse(T):null;if(f(_),!!_&&t==="P45")try{const O=await Te.fetchEmployees(_.id);O.success&&g(O.data)}catch(O){console.error("Failed to fetch employees",O)}})()},[t]),R.useEffect(()=>{(async()=>{if(h){o(!0);try{const T={companyId:h.id};t!=="P45"&&(T.period=v(a)),b&&(T.employeeId=b);const _=await Te.fetchPayrolls(T);_.success&&d(_.data)}catch(T){console.error(T)}finally{o(!1)}}})()},[a,t,b,h]);const N={P45:{title:"P45 - Employee Termination Certificate",formCode:"F-P45-TAJ",fields:[{label:"Cumulative Gross Pay",category:"Financials",value:E=>{const[T]=a.split("-");return E.filter(O=>O.period.includes(T)&&O.employeeId===b).reduce((O,W)=>O+parseFloat(W.grossSalary||0),0).toFixed(2)}},{label:"Cumulative Income Tax",category:"Financials",value:E=>{const[T]=a.split("-");return E.filter(O=>O.period.includes(T)&&O.employeeId===b).reduce((O,W)=>O+parseFloat(W.tax||0),0).toFixed(2)}},{label:"Total PAYE (This Period)",category:"Financials",value:E=>{const T=E.find(_=>_.period===v(a)&&_.employeeId===b);return parseFloat(T?.paye||0).toFixed(2)}},{label:"Employer TRN",category:"Entity",value:()=>h?.trn||"NOT_FOUND"},{label:"Employee TRN",category:"Entity",value:()=>p.find(T=>T.id===b)?.trn||"NOT_FOUND"},{label:"NIS Number",category:"Entity",value:()=>{const E=p.find(T=>T.id===b);return E?.nisNumber||E?.nis||"NOT_FOUND"}}]},"NIS-NHT":{title:"NIS / NHT Statutory Contributions",formCode:"F-NIS/NHT-ANNUAL",fields:[{label:"Gross Pay for Period",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.grossSalary||0),0).toFixed(2)},{label:"NIS Employee (3%)",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.nis||0),0).toFixed(2)},{label:"NIS Employer (3%)",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.grossSalary||0)*.03,0).toFixed(2)},{label:"NHT Employee (2%)",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.nht||0),0).toFixed(2)},{label:"NHT Employer (3%)",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.grossSalary||0)*.03,0).toFixed(2)}]},S01:{title:"S01 - Monthly Statutory Remittance",formCode:"F-S01-MONTHLY",fields:[{label:"PAYE Liability",category:"Taxation",value:E=>E.reduce((T,_)=>T+parseFloat(_.paye||0),0).toFixed(2)},{label:"Education Tax (EE 2.25%)",category:"Taxation",value:E=>E.reduce((T,_)=>T+parseFloat(_.edTax||0),0).toFixed(2)},{label:"Education Tax (ER 3.5%)",category:"Taxation",value:E=>E.reduce((T,_)=>{const O=parseFloat(_.grossSalary||0),W=parseFloat(_.nis||0),F=O-W;return T+(F>0?F*.035:0)},0).toFixed(2)},{label:"NIS Total (6%)",category:"Social Security",value:E=>E.reduce((T,_)=>{const O=parseFloat(_.grossSalary||0),W=parseFloat(_.nis||0),F=O*.03;return T+W+F},0).toFixed(2)},{label:"NHT Total (5%)",category:"Housing",value:E=>E.reduce((T,_)=>{const O=parseFloat(_.grossSalary||0),W=parseFloat(_.nht||0),F=O*.03;return T+W+F},0).toFixed(2)},{label:"HEART Trust (3%)",category:"Social Security",value:E=>E.reduce((T,_)=>T+parseFloat(_.grossSalary||0)*.03,0).toFixed(2)}]},S02:{title:"S02 - Annual Statutory Declaration",formCode:"F-S02-YEARLY",fields:[{label:"Total Annual Gross",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.grossSalary||0),0).toFixed(2)},{label:"Total PAYE Withheld",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.paye||0),0).toFixed(2)},{label:"Total Ed Tax Withheld",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.edTax||0),0).toFixed(2)},{label:"Total NIS Withheld",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.nis||0),0).toFixed(2)},{label:"Total NHT Withheld",category:"Financials",value:E=>E.reduce((T,_)=>T+parseFloat(_.nht||0),0).toFixed(2)}]}},w=N[t]||N.S01,A=()=>{const E=w.fields.map(O=>({Category:O.category,Field:O.label,Value:O.value?O.value(c):"0.00"})),T=ar.json_to_sheet(E),_=ar.book_new();ar.book_append_sheet(_,T,t),on(_,`${t}_Report_${a}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#525659] font-sans selection:bg-blue-200 relative overflow-hidden",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-black/30 z-[100] flex items-center justify-center backdrop-blur-sm",children:e.jsx(Ut,{className:"animate-spin text-white",size:48})}),e.jsxs("div",{className:"bg-[#323639] border-b border-black px-2 sm:px-4 py-2 flex flex-col sm:flex-row items-center justify-between no-print shadow-xl z-20 gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 w-full sm:w-auto overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(rr,{className:"text-white",size:16}),e.jsx("span",{className:"text-white text-[10px] sm:text-xs font-black uppercase tracking-tighter truncate max-w-[150px] sm:max-w-none",children:w.title})]}),e.jsx("div",{className:"h-6 w-px bg-gray-600 shrink-0 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase italic",children:"Filing Period:"}),e.jsx("input",{type:"month",value:a,onChange:E=>s(E.target.value),className:"bg-[#202124] border border-gray-700 text-blue-400 text-[9px] sm:text-[10px] font-black p-1 rounded focus:outline-none"})]}),t==="P45"&&e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase italic",children:"Employee:"}),e.jsxs("select",{value:b,onChange:E=>m(E.target.value),className:"bg-[#202124] border border-gray-700 text-white text-[9px] sm:text-[10px] font-black p-1 rounded focus:outline-none max-w-[150px]",children:[e.jsx("option",{value:"",children:"--- SELECT ---"}),p.map(E=>e.jsxs("option",{value:E.id,children:[E.firstName," ",E.lastName]},E.id))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 sm:flex-none p-1.5 sm:p-1 px-3 sm:px-4 bg-blue-600 hover:bg-blue-700 text-white rounded text-[9px] sm:text-[10px] font-black uppercase shadow-inner transition-all flex items-center justify-center gap-2",children:[e.jsx(ea,{size:12})," ",e.jsx("span",{className:"sm:inline",children:"Print"})]}),e.jsxs("button",{className:"flex-1 sm:flex-none p-1.5 sm:p-1 px-3 sm:px-4 bg-gray-700 hover:bg-gray-600 text-white rounded text-[9px] sm:text-[10px] font-black uppercase border border-gray-600 transition-all flex items-center justify-center gap-2",children:[e.jsx(Er,{size:12})," ",e.jsx("span",{className:"sm:inline",children:"Export"})]}),e.jsxs("button",{onClick:A,className:"flex-1 sm:flex-none p-1.5 sm:p-1 px-3 sm:px-4 bg-green-700 hover:bg-green-600 text-white rounded text-[9px] sm:text-[10px] font-black uppercase border border-green-600 transition-all flex items-center justify-center gap-2",children:[e.jsx(Er,{size:12})," ",e.jsx("span",{className:"sm:inline",children:"Excel"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-600 mx-1 hidden sm:block"}),e.jsx("button",{onClick:()=>r(-1),className:"text-gray-400 hover:text-white transition-colors p-1",children:e.jsx(_r,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-2 sm:p-4 md:p-8 lg:p-12 flex justify-center bg-[#525659]",children:e.jsxs("div",{className:"bg-white w-full max-w-[8.5in] min-h-[11in] shadow-2xl p-6 sm:p-12 md:p-16 flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-8 sm:top-16 right-8 sm:right-16 opacity-[0.03] pointer-events-none",children:e.jsx("div",{className:"w-16 h-16 sm:w-64 sm:h-64 border-[10px] border-blue-900 rounded-full flex items-center justify-center font-black text-blue-900 text-2xl sm:text-9xl italic",children:"S"})}),e.jsx("div",{className:"mb-8 sm:mb-12 border-b-2 border-blue-900 pb-6 sm:pb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-3xl font-black text-blue-900 italic tracking-tighter leading-none mb-1",children:"OFFICIAL RETURN"}),e.jsx("p",{className:"text-[10px] sm:text-[12px] font-black text-gray-500 uppercase tracking-[0.1em] sm:tracking-[0.2em]",children:w.title}),e.jsxs("div",{className:"mt-4 text-[9px] sm:text-[10px] font-bold text-gray-400 uppercase",children:["FORM CODE: ",e.jsx("span",{className:"text-gray-800",children:w.formCode})]})]}),e.jsxs("div",{className:"sm:text-right w-full sm:w-auto pt-2 sm:pt-0 border-t sm:border-t-0 border-gray-100",children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase leading-none",children:"Government of Jamaica"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] font-black text-blue-900 uppercase mt-1",children:"Tax Administration Jamaica (TAJ)"}),e.jsxs("div",{className:"mt-4 text-[9px] sm:text-[10px] font-bold text-gray-400 italic",children:["Snapshot Date: ",new Date().toLocaleDateString()]})]})]})}),e.jsxs("div",{className:"flex-1 space-y-10",children:[Array.from(new Set(w.fields.map(E=>E.category))).map((E,T)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-[9px] sm:text-[11px] font-black text-blue-900 uppercase tracking-widest border-l-4 border-blue-900 pl-2 sm:pl-3 bg-gray-50 py-1.5 flex justify-between items-center",children:[e.jsxs("span",{children:["Section ",T+1,": ",E]}),e.jsx("span",{className:"text-[8px] opacity-40 font-bold",children:h?.name||"SYNC_ID_LIVE"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6 px-4",children:w.fields.filter(_=>_.category===E).map((_,O)=>e.jsxs("div",{className:"flex flex-col border-b border-gray-100 pb-2 group hover:border-blue-200 transition-colors",children:[e.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-gray-400 uppercase tracking-wider",children:_.label}),e.jsxs("div",{className:"text-[11px] sm:text-sm font-black text-gray-800 uppercase tabular-nums py-1 flex items-center justify-between",children:[e.jsx("span",{children:"$"}),e.jsx("span",{children:_.value?_.value(c):"0.00"})]})]},O))})]},T)),c.length===0&&!i&&e.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-100 italic font-bold text-gray-300 uppercase tracking-widest text-[10px]",children:"No payroll transmission found for the selected period. Report values defaulted to zero sequence."})]}),e.jsxs("div",{className:"mt-20 p-6 border-2 border-dashed border-gray-200 bg-gray-50 flex flex-col sm:flex-row gap-6 italic relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5 pointer-events-none rotate-12",children:e.jsx(rs,{size:120})}),e.jsx(rs,{className:"text-blue-900 shrink-0 mx-auto sm:mx-0 relative z-10",size:24}),e.jsxs("div",{className:"w-full relative z-10",children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-500 uppercase italic mb-1 text-center sm:text-left tracking-widest",children:"Certification of Accuracy"}),e.jsxs("p",{className:"text-[10px] sm:text-[11px] text-gray-600 leading-relaxed font-bold text-center sm:text-left",children:["I hereby certify that the information provided in this statutory return is true and correct, and has been computed in accordance with the ",e.jsx("span",{className:"text-blue-900 font-black",children:"Tax Administration Act of Jamaica"})," using the SmartHRM Engine v5.1."]}),e.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row justify-between items-center sm:items-end border-t border-gray-300 pt-4 gap-4 sm:gap-0",children:[e.jsxs("div",{className:"text-center w-full sm:w-auto",children:[e.jsx("div",{className:"w-48 border-b-2 border-gray-900 pb-1 font-mono italic text-xs uppercase text-gray-400",children:"Electronic Sign"}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-1 block",children:"Authorized Agent"})]}),e.jsxs("div",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Digital Stamp: ",Math.random().toString(36).substr(2,9).toUpperCase()]})]})]})]}),e.jsxs("div",{className:"mt-12 pt-4 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center opacity-30 gap-2 sm:gap-0",children:[e.jsxs("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-[0.3em] italic",children:["Official Payroll Protocol Audit Document  Year ",new Date().getFullYear()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pl,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 italic",children:"SMARTHRM COMPLIANCE SUITE"})]})]})]})})]})},Z0=({bank:t="BNS"})=>{const r=jt(),[a,s]=R.useState(!1),[i,o]=R.useState(!1),[c]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[d]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[h,f]=R.useState([]),[p,g]=R.useState(new Date().toISOString().split("T")[0]),b={BNS:{name:"Scotiabank (BNS)",color:"text-red-700",bg:"bg-red-50",code:"BNS"},NCB:{name:"National Commercial Bank Limited (NCB)",color:"text-yellow-700",bg:"bg-yellow-50",code:"NCB"},JN:{name:"JN Bank",color:"text-blue-800",bg:"bg-blue-50",code:"JN"},JMMB:{name:"JMMB",color:"text-purple-700",bg:"bg-purple-50",code:"JMMB"},SAGICOR:{name:"Sagicor Bank (Jamaica) Limited",color:"text-green-700",bg:"bg-green-50",code:"SAGICOR"},CITIBANK:{name:"CitiBank N.A.",color:"text-indigo-700",bg:"bg-indigo-50",code:"CITIBANK"}},m=b[t]||b.BNS,v=async()=>{if(d.id)try{s(!0);const E=await Te.fetchTransactionRegister({companyId:d.id,status:"POSTED"});if(E.success){const T=(E.data.transactions||[]).map(_=>({id:_.id,name:`${_.employee?.firstName} ${_.employee?.lastName}`.toUpperCase(),accountNo:_.employee?.bankAccount||"N/A",transit:_.employee?.bankName||"BNS",amount:parseFloat(_.amount),employeeId:_.employee?.id}));f(T)}}catch(E){console.error(E)}finally{s(!1)}};R.useEffect(()=>{v()},[d.id,t]);const N=h.reduce((E,T)=>E+T.amount,0),w=async()=>{if(h.length===0){alert("Empty Batch: No beneficiaries identified for this transfer.");return}if(window.confirm(`AUTHORIZATION REQUIRED:

Send salary batch of $${N.toLocaleString()} to ${m.name}?

This will initiate an encrypted transfer session.`))try{o(!0);const T={companyId:d.id,bankName:m.name,batchReference:`SALARY-FEB-2026-${t}`,effectiveDate:p,totalAmount:N,beneficiaries:h.map(O=>({employeeId:O.employeeId,amount:O.amount,bankName:m.name,accountNumber:O.accountNo,accountType:"SAVINGS"})),processedBy:c.email},_=await Te.createBatchTransfer(T);_.success?(alert(`SUCCESS: Batch ${T.batchReference} authorized and uploaded to ${m.name}.

Reference: ${_.data.id.substring(0,8)}`),f([])):alert(_.message||"AUTHORIZATION_FAILED: Secure portal rejected request.")}catch(T){console.error(T),alert("NETWORK_TIMEOUT: Handshake failed with bank API.")}finally{o(!1)}},A=async()=>{alert(`PREPARING EXPORT: Formatting ${m.name} Beneficiary Listing (.txt)...`);try{const E={companyId:d.id,bankName:m.name,period:"Feb-2026"},T=await Te.exportBankFile(E),_=`---- ${m.name} ACH BATCH ----
DATE: ${p}
BATCH: SALARY-FEB-2026-${t}
TOTAL: ${N}
COUNT: ${h.length}

`+h.map(P=>`${P.accountNo}|${P.transit}|${P.amount}|${P.name}`).join(`
`),O=new Blob([_],{type:"text/plain"}),W=URL.createObjectURL(O),F=document.createElement("a");F.href=W,F.download=`${t}_Transfer_Advice_${new Date().toISOString().slice(0,10)}.txt`,F.click(),alert("DISPATCH READY: File saved to workstation.")}catch(E){console.error(E)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 sm:px-4 py-2 flex flex-col sm:flex-row items-center justify-between gap-2 shadow-sm no-print",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Pl,{className:m.color,size:18}),e.jsxs("span",{className:"font-bold text-gray-700 text-xs sm:text-sm uppercase italic underline decoration-blue-500/20 truncate",children:["Electronic Funds Transfer / ",m.name]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsxs("div",{className:"text-[10px] font-black text-blue-800 animate-pulse flex items-center gap-1",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," SCANNING BENES..."]}),e.jsx("div",{className:"bg-green-600 text-white text-[9px] sm:text-[10px] font-black px-3 py-1 rounded shadow-inner animate-pulse whitespace-nowrap",children:"SECURE LINK ACTIVE"})]})]}),e.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-auto scrollbar-thin scrollbar-thumb-gray-400",children:e.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-4 sm:p-8 shadow-2xl rounded-sm",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 sm:mb-8 gap-6 border-b-2 border-gray-50 pb-8 items-center md:items-start text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center sm:items-start text-center sm:text-left",children:[e.jsx("div",{className:`${m.bg} p-6 border-2 border-white border-r-gray-300 border-b-gray-300 shadow-lg rounded-xl shrink-0 group hover:scale-105 transition-transform`,children:e.jsx(Dg,{className:m.color,size:40})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-black text-gray-800 italic tracking-tighter break-words",children:[m.name," Integrated Portal"]}),e.jsx("p",{className:"text-blue-900 bg-blue-50 px-2 py-0.5 inline-block text-[9px] sm:text-[10px] font-black uppercase tracking-[0.2em] mt-2 rounded border border-blue-100",children:"Bilateral Beneficiary Transfer Module"})]})]}),e.jsxs("div",{className:"flex flex-col items-center md:items-end w-full md:w-auto bg-gray-50 p-4 border-2 border-white border-r-gray-200 border-b-gray-200 shadow-inner rounded",children:[e.jsx("span",{className:"text-[10px] sm:text-[11px] font-black text-gray-400 uppercase tracking-widest italic mb-1",children:"Queue Net Value"}),e.jsxs("span",{className:"text-3xl sm:text-4xl font-black text-blue-900 italic tracking-tighter break-all tabular-nums",children:["$ ",N.toLocaleString(void 0,{minimumFractionDigits:2})," JMD"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-1 border-b lg:border-b-0 lg:border-r-2 lg:border-gray-50 pb-8 lg:pb-0 lg:pr-10 flex flex-col gap-6",children:[e.jsx("h3",{className:"text-xs font-black text-gray-600 italic mb-2 uppercase text-center lg:text-left tracking-widest border-b pb-2",children:"Transmission Parameters"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Protocol Reference"}),e.jsx("input",{type:"text",value:`SALARY-FEB-2026-${t}`,readOnly:!0,className:"p-3 border-2 border-gray-100 bg-gray-50 text-[11px] font-black font-mono text-blue-900 outline-none w-full shadow-inner rounded"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest cursor-help underline decoration-dotted capitalize",children:"Effective Settlement Date"}),e.jsx("input",{type:"date",value:p,onChange:E=>g(E.target.value),className:"p-3 border-2 border-gray-100 bg-white text-[11px] font-black text-gray-800 w-full shadow-inner rounded cursor-pointer hover:border-blue-300 transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Mechanical Format"}),e.jsxs("select",{className:"p-3 border-2 border-gray-100 bg-gray-50 text-[11px] font-black text-blue-900 w-full shadow-inner rounded outline-none appearance-none cursor-pointer",children:[e.jsxs("option",{children:[m.code," / ACH-612 (Standard)"]}),e.jsx("option",{children:"ISO 20022 XML Parser"}),e.jsx("option",{children:"Fixed Length EBCDIC (Legacy)"})]})]})]}),e.jsx("div",{className:"mt-auto p-4 bg-gray-50 border border-gray-200 rounded text-[9px] font-bold text-gray-400 uppercase italic",children:"COMMS: ACTIVE_SSL_SOCKET_OPEN"})]}),e.jsxs("div",{className:"lg:col-span-2 flex flex-col min-h-0",children:[e.jsx("h3",{className:"text-xs font-black text-gray-600 italic mb-2 uppercase text-center lg:text-left tracking-widest border-b pb-2",children:"Verified Recipient Matrix"}),e.jsx("div",{className:"border-2 border-white border-r-gray-200 border-b-gray-200 shadow-2xl max-h-80 overflow-auto rounded scrollbar-thin scrollbar-thumb-gray-200",children:e.jsxs("table",{className:"w-full text-[11px] min-w-[440px] border-collapse",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 z-10 shadow-sm",children:e.jsxs("tr",{className:"text-left font-black text-gray-500 uppercase italic",children:[e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Beneficiary Name"}),e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Account #"}),e.jsx("th",{className:"p-3 border-r border-gray-100 text-center",children:"Transit"}),e.jsx("th",{className:"p-3 text-right",children:"Settlement"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:h.length>0?h.map(E=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all group group-hover:cursor-crosshair",children:[e.jsx("td",{className:"p-3 font-black text-blue-900 uppercase truncate max-w-[150px] group-hover:translate-x-1 transition-transform italic",children:E.name}),e.jsx("td",{className:"p-3 font-mono text-gray-400 group-hover:text-gray-800 transition-colors",children:E.accountNo}),e.jsx("td",{className:"p-3 text-center font-bold text-gray-400",children:E.transit}),e.jsxs("td",{className:"p-3 text-right font-black italic tabular-nums text-blue-700",children:["$ ",E.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]},E.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-16 text-center font-black italic text-gray-300 uppercase tracking-[0.3em] animate-pulse",children:"Initializing Data Stream..."})})}),e.jsx("tfoot",{className:"bg-[#000080] text-white sticky bottom-0 shadow-[0_-4px_10px_rgba(0,0,0,0.3)]",children:e.jsxs("tr",{className:"font-black italic",children:[e.jsx("td",{colSpan:"3",className:"p-4 text-right uppercase text-[10px] tracking-widest border-r border-white/10",children:"Cumulative Batch Expenditure"}),e.jsxs("td",{className:"p-4 text-right text-lg tracking-tighter tabular-nums",children:["$ ",N.toLocaleString(void 0,{minimumFractionDigits:2})]})]})})]})}),e.jsxs("div",{className:"mt-2 text-[9px] font-black italic text-gray-400 uppercase text-right tracking-widest",children:["Records count: ",h.length," verified items"]})]})]})]}),e.jsxs("div",{className:"bg-[#000080] border-2 border-white border-r-[#000040] border-b-[#000040] text-white p-6 flex flex-col md:flex-row justify-between items-center gap-6 shadow-2xl rounded-sm group overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900 to-blue-800 opacity-50"}),e.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full md:w-auto",children:[e.jsx("div",{className:"w-14 h-14 border-2 border-white/20 flex items-center justify-center rounded-xl bg-blue-900/50 shadow-inner group-hover:border-green-400 transition-colors",children:e.jsx(Ln,{size:24,className:"text-green-400 animate-pulse"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-blue-300 tracking-widest",children:"Encryption Standard: AES-384"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"})]}),e.jsx("p",{className:"text-sm font-black italic tracking-tight",children:"ACH payload compliant with Bank of Jamaica Standard ACH-612 Ver 4.0"})]})]}),e.jsxs("button",{onClick:w,disabled:i||h.length===0,className:`relative z-10 w-full md:w-auto bg-white text-blue-900 border-4 border-white border-b-blue-200 border-r-blue-200 hover:bg-gray-100 hover:text-blue-700 px-10 py-4 text-[11px] font-black uppercase italic transition-all flex items-center justify-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.4)] active:translate-y-1 active:shadow-none tracking-widest ${i||h.length===0?"opacity-50 grayscale cursor-not-allowed":"active:bg-gray-200"}`,children:[i?e.jsx(Ut,{size:20,className:"animate-spin"}):e.jsx(po,{size:20}),i?"PROCESSING AUTHORIZATION...":"Authorize & Dispatch Batch"]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-end gap-3 no-print shadow-[inset_0_4px_10px_rgba(0,0,0,0.1)] z-20 px-8",children:[e.jsxs("button",{onClick:()=>{alert(`REQUISITION PRINT: Generating ${m.name} settlement summary and advice...`),window.print()},className:"w-full sm:w-auto px-8 py-3 flex items-center justify-center gap-3 text-[10px] sm:text-xs font-black text-blue-900 border-2 border-white border-r-gray-600 border-b-gray-600 shadow-md hover:bg-white transition-all active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 uppercase italic tracking-widest",children:[e.jsx(ea,{size:18})," Generate Final Advice"]}),e.jsxs("button",{onClick:()=>r(-1),className:"w-full sm:w-auto px-8 py-3 flex items-center justify-center gap-3 text-[10px] sm:text-xs font-black text-red-700 border-2 border-transparent hover:bg-red-50 hover:border-red-200 transition-all active:translate-y-1 uppercase italic tracking-widest",children:[e.jsx(_r,{size:18})," Close Interface"]}),e.jsxs("button",{onClick:A,disabled:h.length===0,className:`w-full sm:w-auto px-10 py-3 bg-[#000080] text-[#ffd700] border-2 border-white border-r-black border-b-black flex items-center justify-center gap-3 text-[10px] sm:text-xs font-black shadow-xl hover:bg-blue-900 transition-all active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 uppercase italic tracking-widest ${h.length===0?"grayscale opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Er,{size:18})," Commit to Workstation"]})]})]})},OI=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-orange-500"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Nn,{size:18}),r==="error"&&e.jsx(Xf,{size:18}),r==="warning"&&e.jsx(el,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},PI=({isOpen:t,onClose:r,title:a,children:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,II=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(!1),[o]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[c]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[d,h]=R.useState(()=>{const W=new Date;return W.toLocaleString("default",{month:"short"})+"-"+W.getFullYear()}),[f,p]=R.useState([]),[g,b]=R.useState({bankAccount:"BNS - MAIN OPERATING (****8932)",startingCheque:"104012",template:"Standard 3-per-page (Voucher)"}),[m,v]=R.useState(null),[N,w]=R.useState(!1),A=(W,F="success")=>{v({message:W,type:F})},E=async()=>{if(c.id)try{a(!0);const W=await Te.fetchPayrolls({companyId:c.id,period:d});if(W.success){const F=(W.data||[]).map(P=>({id:P.id,name:`${P.employee?.firstName} ${P.employee?.lastName}`.toUpperCase(),trn:P.employee?.trn||"000-000-000",amount:parseFloat(P.netSalary||0),payee:`${P.employee?.firstName} ${P.employee?.lastName}`,bankAccount:g.bankAccount})).filter(P=>P.amount>0);p(F)}}catch(W){console.error(W),A("Failed to fetch print queue.","error")}finally{a(!1)}};R.useEffect(()=>{c?.id&&E()},[c.id,d]);const T=async()=>{if(w(!1),f.length!==0)try{i(!0);const W={companyId:c.id,period:d,cheques:f.map((P,z)=>({payrollId:P.id,employeeId:P.id,chequeNumber:(parseInt(g.startingCheque)+z).toString(),amount:P.amount,payee:P.payee,date:new Date().toISOString().split("T")[0],bankAccount:g.bankAccount})),printedBy:o.email},F=await Te.printCheques(W);F.success?(A(`${F.data.count||f.length} cheques processed successfully.`,"success"),setTimeout(()=>{window.print(),i(!1)},1e3)):(A(F.message||"Print process aborted.","error"),i(!1))}catch(W){console.error(W),A("Communication error with print server.","error"),i(!1)}},_=W=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(W),O=f[0]||{payee:"PAYEE NAME",amount:0};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[m&&e.jsx(OI,{message:m.message,type:m.type,onClose:()=>v(null)}),e.jsx(PI,{isOpen:N,onClose:()=>w(!1),title:"Confirm Batch Print",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-blue-900 text-xs flex items-start gap-2",children:[e.jsx(ea,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["You are about to generate and log ",e.jsxs("strong",{children:[f.length," cheques"]})," starting from sequence ",e.jsxs("strong",{children:["#",g.startingCheque]}),"."]})]}),e.jsx("p",{className:"text-gray-600 italic text-[10px]",children:"Ensure the correct stationery is loaded in the active device."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-800 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-900 transition-colors shadow-sm",children:"Execute Print"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"text-gray-700",size:18}),e.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase italic underline decoration-blue-500/30 underline-offset-4",children:"Cheque Printing Facility"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Period:"}),e.jsx("select",{value:d,onChange:W=>h(W.target.value),className:"text-xs font-bold p-1 border border-gray-400 outline-none uppercase bg-white cursor-pointer",children:[...Array(36)].map((W,F)=>{const P=new Date;P.setMonth(P.getMonth()-12+F);const z=P.toLocaleString("default",{month:"short"}),M=P.getFullYear(),C=`${z}-${M}`;return e.jsx("option",{value:C,children:C},C)})})]}),r&&e.jsxs("div",{className:"text-[10px] font-black text-blue-700 italic animate-pulse flex items-center gap-1",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," SCANNING QUEUE..."]}),e.jsx("div",{className:"text-[9px] font-black text-gray-500 bg-white/50 px-2 py-0.5 border border-gray-300 rounded uppercase",children:"STATION 042 :: ACTIVE"})]})]}),e.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-6 flex flex-col gap-5 shadow-xl rounded-sm",children:[e.jsx("h3",{className:"text-xs font-black text-blue-900 italic border-b-2 border-blue-100 pb-2 uppercase tracking-widest",children:"Global Print Settings"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Bank Source Account"}),e.jsxs("select",{className:"p-2 border-2 border-gray-200 bg-gray-50 text-[11px] font-black text-blue-900 outline-none focus:border-blue-500 shadow-inner",value:g.bankAccount,onChange:W=>b({...g,bankAccount:W.target.value}),children:[e.jsxs("option",{children:[o.bankName||"BNS"," - ",o.bankAccount||"MAIN OPERATING"]}),e.jsx("option",{children:"NCB - PAYROLL PRIMARY (****1102)"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Reference Range (Start)"}),e.jsx("input",{type:"text",value:g.startingCheque,onChange:W=>b({...g,startingCheque:W.target.value}),className:"p-2 border-2 border-gray-200 bg-white text-[11px] font-black text-gray-800 outline-none focus:border-blue-500 uppercase shadow-inner"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Mechanical Template"}),e.jsxs("select",{className:"p-2 border-2 border-gray-200 bg-gray-50 text-[11px] font-black text-blue-900 outline-none focus:border-blue-500 shadow-inner",value:g.template,onChange:W=>b({...g,template:W.target.value}),children:[e.jsx("option",{children:"Standard 3-per-page (Voucher)"}),e.jsx("option",{children:"Single Cheque (Personal)"}),e.jsx("option",{children:"Continuous Form Dot-Matrix"})]})]})]}),e.jsx("div",{className:"mt-auto pt-6 border-t border-gray-100 italic text-[9px] text-gray-400 font-black uppercase tracking-tighter",children:"Active Device: HP LaserJet Pro :: NETWORK_LINK_UP"})]}),e.jsxs("div",{className:"md:col-span-2 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-yellow-50 border-4 border-dashed border-yellow-200 p-4 md:p-8 flex items-center justify-center relative min-h-[180px] overflow-x-auto shadow-inner rounded hover:border-yellow-300 transition-colors",children:[e.jsx("div",{className:"absolute top-2 left-4 text-[9px] font-black italic text-yellow-600 uppercase tracking-widest animate-pulse",children:"RENDER PREVIEW (1:1 SCALE)"}),e.jsxs("div",{className:"w-full min-w-[340px] max-w-lg bg-white border border-gray-300 p-8 shadow-2xl flex flex-col gap-6 font-serif relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-50/10 pointer-events-none group-hover:bg-blue-50/20 transition-colors"}),e.jsxs("div",{className:"flex justify-between relative z-10",children:[e.jsx("span",{className:"text-[11px] font-black uppercase text-gray-800 tracking-tighter",children:c.name||"ISLAND HR SOLUTIONS LIMITED"}),e.jsxs("span",{className:"text-[11px] font-black text-blue-900",children:["REF NO. ",g.startingCheque]})]}),e.jsxs("div",{className:"flex justify-between items-end border-b-2 border-black/5 pb-2 relative z-10 mt-2",children:[e.jsx("span",{className:"text-[9px] italic font-bold text-gray-400 shrink-0 uppercase",children:"Pay to:"}),e.jsx("span",{className:"text-sm font-black border-b-2 border-blue-900/10 flex-1 mx-4 text-center uppercase tracking-[0.15em] text-blue-900 mb-1",children:O.payee}),e.jsxs("span",{className:"text-sm font-black border-4 border-gray-800 p-3 bg-gray-50 tabular-nums shadow-md",children:["$ ",_(O.amount)]})]}),e.jsxs("div",{className:"text-[18px] font-black italic tracking-[0.3em] mt-6 font-mono text-gray-400/80 relative z-10 text-center select-none",children:["000",g.startingCheque," 0090029 003495832"]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 flex flex-col flex-1 shadow-2xl overflow-hidden rounded-sm hover:border-blue-100 transition-colors",children:[e.jsxs("div",{className:"bg-[#316AC5] text-white p-3 text-[11px] font-black uppercase flex justify-between items-center shadow-[inset_0_2px_4px_rgba(0,0,0,0.3)] italic tracking-widest",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(rr,{size:14})," Commit Queue Statistics"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"bg-white/20 px-3 rounded",children:[f.length," BATCH ITEMS"]}),e.jsx(Ga,{size:16,className:"cursor-pointer hover:rotate-12 transition-transform opacity-60"})]})]}),e.jsx("div",{className:"flex-1 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-blue-200 scrollbar-track-gray-50",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse relative",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 z-10 shadow-sm text-gray-500 font-black uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-100 text-left",children:"Recipient (Payee)"}),e.jsx("th",{className:"p-3 border-r border-gray-100 text-left",children:"ID Ref"}),e.jsx("th",{className:"p-3 text-right",children:"Commit Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:f.length>0?f.map((W,F)=>e.jsxs("tr",{className:"font-bold hover:bg-blue-50 transition-all cursor-crosshair group",children:[e.jsx("td",{className:"p-3 border-r border-gray-100 text-blue-900 uppercase group-hover:translate-x-1 transition-transform italic tracking-tight",children:W.name}),e.jsx("td",{className:"p-3 border-r border-gray-100 font-mono text-gray-400 group-hover:text-gray-600 transition-colors tabular-nums",children:W.trn}),e.jsxs("td",{className:"p-3 text-right text-blue-600 font-black tabular-nums italic",children:["$ ",_(W.amount)]})]},W.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-widest",children:r?"Fetching Payroll Data...":"No Payroll Records Found for Period"})})})]})})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-end gap-4 no-print px-8 shadow-[0_-4px_10px_rgba(0,0,0,0.1)] z-20",children:[e.jsxs("button",{onClick:()=>t(-1),disabled:s,className:"px-8 py-3 flex items-center justify-center gap-2 text-[11px] font-black text-gray-600 bg-[#E0DCCF] border-2 border-white border-b-gray-600 border-r-gray-600 hover:bg-white hover:text-red-700 active:translate-y-1 active:border-b-0 active:border-r-0 transition-all w-full sm:w-auto uppercase italic shadow-md",children:[e.jsx(_r,{size:18})," Exit Facility"]}),e.jsxs("button",{onClick:()=>{f.length===0?A("Queue is empty. No items to print.","warning"):w(!0)},disabled:s||f.length===0,className:`px-12 py-3 border-2 flex items-center justify-center gap-3 text-[11px] font-black w-full sm:w-auto uppercase italic transition-all shadow-xl tracking-widest ${s||f.length===0?"bg-gray-300 text-gray-500 border-gray-400":"bg-[#000080] text-white border-white border-b-black border-r-black hover:bg-blue-800 active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0"}`,children:[s?e.jsx(Ut,{size:18,className:"animate-spin"}):e.jsx(ea,{size:18}),s?"PROCESS IN PROGRESS...":"EXECUTE PRINT COMMAND"]})]})]})},XN=()=>{const t=jt(),[r,a]=R.useState("queue"),[s,i]=R.useState(!1),[o,c]=R.useState(!1),[d,h]=R.useState(0),[f,p]=R.useState("System Idle"),[g,b]=R.useState("Feb-2026"),[m]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[v]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[N,w]=R.useState([]),[A,E]=R.useState([]),T=async()=>{if(v.id)try{c(!0);const W=await Te.fetchPayrolls({companyId:v.id,period:g,status:"Finalized"});W.success&&w(W.data.map(P=>({id:P.id,empId:P.employee?.employeeId,name:`${P.employee?.firstName} ${P.employee?.lastName}`,email:P.employee?.email||"N/A",trn:P.employee?.trn||"XXX-XXX-XXX",status:"Ready"})));const F=await Te.fetchPayrolls({companyId:v.id,status:"Sent"});F.success&&E(F.data.map(P=>({id:P.id.substring(0,8).toUpperCase(),date:new Date(P.updatedAt).toLocaleString(),cycle:P.period,name:`${P.employee?.firstName} ${P.employee?.lastName}`,status:"Success"})))}catch(W){console.error(W)}finally{c(!1)}};R.useEffect(()=>{T()},[v.id,g]);const _=W=>{window.confirm("Are you sure you want to remove this record from the dispatch queue?")&&w(F=>F.filter(P=>P.id!==W))},O=async()=>{if(N.length!==0){i(!0),h(0),p("Initializing Secure SMTP...");try{const W=N.map(M=>M.id);let F=0;const P=setInterval(()=>{F+=5,F<=90&&h(F)},100),z=await Te.bulkSendEmails({payrollIds:W});clearInterval(P),h(100),z.success?(p(`${z.data.count} Payslips Dispatched Successfully.`),alert(z.message),T()):(p("Dispatch Failed."),alert(z.message||"An error occurred during bulk dispatch."))}catch(W){console.error(W),p("Error encountered."),alert("Network error during batch operations.")}finally{setTimeout(()=>{i(!1),h(0),p("System Idle")},2e3)}}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(cx,{className:"text-blue-700 shrink-0",size:18}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic text-blue-900 border-l-4 border-blue-900 pl-2 truncate",children:"Payslip Dispatch Module (Encrypted)"})]}),e.jsxs("div",{className:"text-[10px] font-bold text-gray-500 uppercase flex items-center gap-2",children:[e.jsx("span",{className:"hidden sm:inline",children:"Active Tab:"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded italic shadow-inner",children:r.toUpperCase()})]})]}),e.jsxs("div",{className:"flex-1 p-4 md:p-8 overflow-y-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-3 sm:p-4 rounded shadow-2xl flex flex-col md:flex-row items-start md:items-center justify-between border-l-8 border-blue-400 gap-4 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none group-hover:scale-110 transition-transform duration-1000",children:e.jsx(rs,{size:120})}),e.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 relative z-10",children:[e.jsx(rs,{size:32,className:"text-blue-300 shrink-0 animate-pulse"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-widest leading-tight",children:"Enhanced Identity Protection Active"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-blue-200 mt-1 sm:mt-0 italic uppercase",children:"All PDF attachments are AES-256 encrypted using the employee's TRN as the decryption key."})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full min-h-0",children:[e.jsxs("div",{className:"flex-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 shadow-2xl overflow-hidden flex flex-col min-h-[400px] rounded-sm",children:[e.jsxs("div",{className:"bg-gray-100 p-0 border-b border-gray-300 flex justify-between items-center pr-4 shadow-inner",children:[e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>a("queue"),className:`px-6 py-3 text-[10px] font-black uppercase tracking-widest transition-all ${r==="queue"?"bg-white text-blue-900 border-r border-gray-300":"bg-transparent text-gray-400 hover:text-gray-600"}`,children:"Current Queue"}),e.jsx("button",{onClick:()=>a("history"),className:`px-6 py-3 text-[10px] font-black uppercase tracking-widest transition-all ${r==="history"?"bg-white text-blue-900 border-l border-r border-gray-300":"bg-transparent text-gray-400 hover:text-gray-600"}`,children:"Batch History"})]}),e.jsx("span",{className:"text-[10px] font-black text-blue-900 italic uppercase tabular-nums",children:r==="queue"?`${N.length} Pending`:`${A.length} Records Logged`})]}),e.jsx("div",{className:"flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-200",children:o&&!s?e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em] animate-pulse",children:"Polling Data Stream..."}):r==="queue"?e.jsxs("table",{className:"w-full text-left border-collapse min-w-full lg:min-w-[800px]",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 text-[10px] font-black text-gray-400 uppercase italic shadow-sm z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-100",children:"ID"}),e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Recipient Name"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden sm:table-cell",children:"Email Address"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:"Password Hook"}),e.jsx("th",{className:"p-4 border-r border-gray-100 text-center",children:"Status"}),e.jsx("th",{className:"p-4 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-600",children:N.length>0?N.map(W=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-blue-50/50 group transition-all",children:[e.jsx("td",{className:"p-4 border-r border-gray-100 font-mono tracking-tighter text-gray-400 uppercase",children:W.empId}),e.jsx("td",{className:"p-4 border-r border-gray-200 uppercase truncate max-w-[100px] sm:max-w-none font-black text-gray-700 group-hover:translate-x-1 transition-transform italic",children:W.name}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-blue-700 italic underline hidden sm:table-cell truncate max-w-[150px]",children:W.email}),e.jsx("td",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{size:12,className:"text-gray-300"}),e.jsxs("span",{className:"text-gray-300 text-[9px] font-black uppercase italic tracking-tighter",children:["TRN: XX-XX-",W.trn.slice(-3)]})]})}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase italic border ${W.status==="Sent"?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200 animate-pulse"}`,children:W.status})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex justify-center gap-4 text-gray-400",children:[e.jsx("button",{onClick:()=>t("/payroll/payslip-preview",{state:{payrollId:W.id}}),className:"hover:text-blue-600 transition-all p-1 hover:bg-white rounded hover:shadow-sm",title:"View Encrypted PDF",children:e.jsx(ox,{size:16})}),e.jsx("button",{onClick:()=>_(W.id),className:"hover:text-red-600 transition-all p-1 hover:bg-white rounded hover:shadow-sm",title:"Remove from Queue",children:e.jsx(Yd,{size:16})})]})})]},W.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-32 text-center text-gray-200 italic uppercase font-black text-xl tracking-[0.5em] select-none",children:"No Items in Dispatch Queue"})})})]}):e.jsxs("table",{className:"w-full text-left border-collapse min-w-full lg:min-w-[800px]",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 text-[10px] font-black text-gray-400 uppercase italic shadow-sm z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Ref ID"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden sm:table-cell",children:"Dispatch Time"}),e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Payroll Cycle"}),e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Employee"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:"Protocol"}),e.jsx("th",{className:"p-4 text-center",children:"Details"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-600 italic",children:A.length>0?A.map(W=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 group",children:[e.jsxs("td",{className:"p-4 border-r border-gray-100 font-black text-blue-900 group-hover:translate-x-1 transition-transform tabular-nums",children:["#",W.id]}),e.jsx("td",{className:"p-4 border-r border-gray-100 hidden sm:table-cell text-gray-400 uppercase text-[10px]",children:W.date}),e.jsx("td",{className:"p-4 border-r border-gray-100 uppercase font-black text-gray-500",children:W.cycle}),e.jsx("td",{className:"p-4 border-r border-gray-100 font-black text-blue-700 uppercase",children:W.name}),e.jsx("td",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:e.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black uppercase text-[9px]",children:[e.jsx(Nn,{size:12})," ",W.status]})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("button",{onClick:()=>alert(`AUDIT LOG [REF: ${W.id}]:
- Handshake verified via RSA-4096
- SMTP Tunnel: STABLE
- Cipher: AES-256-GCM
- Recipient Internal ID: ${W.name}
- Status: DISPATCH_CONFIRMED`),className:"text-[9px] font-black text-blue-600 hover:text-blue-900 hover:underline px-3 py-1 bg-blue-50 border border-blue-100 rounded uppercase italic tracking-tighter",children:"View Audit"})})]},W.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-32 text-center text-gray-200 italic uppercase font-black text-xl tracking-[0.5em] select-none",children:"History log is empty"})})})]})})]}),e.jsxs("div",{className:`w-full lg:w-96 flex flex-col gap-6 transition-all shrink-0 ${r==="history"?"opacity-30 pointer-events-none grayscale":""}`,children:[e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-8 flex flex-col gap-6 shadow-2xl rounded-sm",children:[e.jsxs("h3",{className:"text-sm font-black text-blue-900 uppercase italic border-b-2 border-blue-50 pb-3 tracking-widest flex items-center gap-3",children:[e.jsx(po,{size:20,className:"text-blue-600"})," Dispatch Control Center"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 italic",children:"Target Payroll Cycle"}),e.jsxs("select",{className:"p-3 border-2 border-gray-100 bg-gray-50 font-black text-gray-800 text-xs shadow-inner focus:border-blue-400 outline-none transition-all cursor-pointer",value:g,onChange:W=>b(W.target.value),children:[e.jsx("option",{value:"Feb-2026",children:"February 2026 - Monthly"}),e.jsx("option",{value:"Jan-2026",children:"January 2026 - Monthly"}),e.jsx("option",{value:"Dec-2025",children:"December 2025 - Monthly"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 p-4 bg-gray-50 border-2 border-white rounded shadow-inner",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] italic mb-1",children:"Session Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 text-[10px] font-black text-gray-500 cursor-pointer group hover:text-blue-900 uppercase italic",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"peer opacity-0 absolute size-4"}),e.jsx("div",{className:"size-4 bg-white border-2 border-gray-300 peer-checked:bg-blue-600 peer-checked:border-blue-700 transition-all rounded shadow-sm"})]}),"Attach Employee Labels"]}),e.jsxs("label",{className:"flex items-center gap-3 text-[10px] font-black text-gray-500 cursor-pointer group hover:text-blue-900 uppercase italic",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"peer opacity-0 absolute size-4"}),e.jsx("div",{className:"size-4 bg-white border-2 border-gray-300 peer-checked:bg-blue-600 peer-checked:border-blue-700 transition-all rounded shadow-sm"})]}),"CC Human Resources"]})]})]}),e.jsxs("button",{disabled:s||N.length===0,onClick:O,className:`w-full py-5 rounded-sm font-black text-sm uppercase italic tracking-[0.2em] transition-all shadow-xl flex items-center justify-center gap-4 border-2 border-white border-r-[#000040] border-b-[#000040] relative overflow-hidden group ${s||N.length===0?"bg-gray-200 text-gray-400 border-none opacity-50 grayscale":"bg-[#000080] hover:bg-blue-800 text-white active:translate-y-1 active:shadow-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),s?e.jsx(Ut,{size:24,className:"animate-spin"}):e.jsx(po,{size:24}),e.jsx("span",{className:"relative z-10",children:s?"DISPATCHING...":"Trigger Batch Send"})]}),e.jsx("p",{className:"text-[9px] font-black text-gray-300 uppercase italic text-center tracking-tighter mt-2 border-t pt-4",children:"Encryption: AES-256 Bit RSA Key :: SMTP Enabled"})]}),s&&e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-6 flex flex-col gap-4 shadow-2xl rounded-sm animate-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black text-blue-900 uppercase italic tracking-widest",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(xu,{size:12,className:"animate-spin"})," Dispatch Stream"]}),e.jsxs("span",{className:"tabular-nums",children:[Math.round(d),"% Complete"]})]}),e.jsx("div",{className:"w-full h-4 bg-gray-100 rounded border-2 border-white shadow-inner overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-700 to-blue-500 transition-all duration-300 relative",style:{width:`${d}%`},children:e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0.2)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.2)_50%,rgba(255,255,255,0.2)_75%,transparent_75%,transparent)] bg-[length:20px_20px] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),e.jsx("p",{className:"text-[9px] font-black text-blue-600 italic mt-1 uppercase tracking-tighter border-l-2 border-blue-600 pl-3 bg-blue-50 py-2",children:f})]})]})]})]}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-end gap-4 px-4 sm:px-8 shadow-[inset_0_4px_10px_rgba(0,0,0,0.1)] z-20",children:[e.jsxs("button",{onClick:()=>t("/"),className:"w-full sm:w-auto px-10 py-3 flex items-center justify-center gap-3 text-[11px] font-black text-red-700 hover:bg-white transition-all uppercase italic border-2 border-transparent hover:border-red-100 rounded shadow-sm",children:[e.jsx(_r,{size:18})," Close Dispatcher Terminal"]}),e.jsxs("button",{onClick:()=>a(r==="queue"?"history":"queue"),className:`w-full sm:w-auto px-10 py-3 border-2 border-white border-r-gray-600 border-b-gray-600 flex items-center justify-center gap-3 text-[11px] font-black transition-all uppercase shadow-md active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 rounded italic tracking-widest ${r==="history"?"bg-[#316AC5] text-white":"bg-[#E0DCCF] text-gray-700 hover:bg-white"}`,children:[e.jsx(xu,{size:18})," ",r==="history"?"Examine Current Queue":"Batch Archive Log"]})]})]})},MI=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Nn,{size:18}),r==="error"&&e.jsx(Xf,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},BI=({isOpen:t,onClose:r,title:a,children:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,zI=()=>{const t=jt(),[r,a]=R.useState(""),[s,i]=R.useState(new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase()),[o,c]=R.useState([]),[d,h]=R.useState(!1),[f]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[p,g]=R.useState([]),[b,m]=R.useState(!1),[v,N]=R.useState(null),[w,A]=R.useState(null),[E,T]=R.useState(!1),_=(M,C="success")=>{A({message:M,type:C})},O=async()=>{if(f.id)try{h(!0);const M=await Te.fetchPayrolls({companyId:f.id,period:s});M.success&&g(M.data.map(C=>({id:C.id,empId:C.employee?.employeeId,name:`${C.employee?.firstName} ${C.employee?.lastName}`,period:C.period,trn:C.employee?.trn||"XXX-XXX-XXX",status:C.status,sent:C.status==="Sent"})))}catch(M){console.error(M),_("Failed to fetch payslip data.","error")}finally{h(!1)}},W=M=>{if(!M)return M;let C=M.trim().toUpperCase().replace(" ","-");C=C.replace("SEPT-","SEP-");const U=C.match(/^(\d{4})-(\d{2})$/);if(U){const B=U[1],X=parseInt(U[2])-1;return new Date(B,X,1).toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase().replace("SEPT-","SEP-")}return C},F=async()=>{if(f.id)try{const M=await Te.fetchPayrollBatches(f.id),C=[],U=new Date;for(let re=-1;re<6;re++){const oe=new Date(U.getFullYear(),U.getMonth()-re,1);C.push(oe.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase())}let B=[];if(M.success&&M.data.length>0){const re=M.data.map(ve=>W(ve.period));B=Array.from(new Set([...C,...re])).map(ve=>({period:ve}))}else B=C.map(re=>({period:re}));const X=[],ue=new Set;for(const re of B)ue.has(re.period)||(X.push(re),ue.add(re.period));c(X);const J=U.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase();ue.has(J)?i(J):X.length>0&&i(X[0].period)}catch(M){console.error(M)}};R.useEffect(()=>{F()},[f.id]),R.useEffect(()=>{O()},[f.id,s]);const P=async()=>{T(!1);try{m(!0);const M=await Te.generatePayrolls({companyId:f.id,period:s});M.success?(_(`${M.data.count} payslips generated successfully!`,"success"),O()):_(M.message||"Failed to generate payslips.","error")}catch(M){console.error(M),_("Error generating payslips.","error")}finally{m(!1)}},z=async M=>{try{N(M),(await Te.sendPayslipEmail(M)).success?(_("Payslip emailed securely.","success"),O()):_("Failed to send email.","error")}catch(C){console.error(C),_("Network error sending email.","error")}finally{N(null)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans relative",children:[w&&e.jsx(MI,{message:w.message,type:w.type,onClose:()=>A(null)}),e.jsx(BI,{isOpen:E,onClose:()=>T(!1),title:"Confirm Generation",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded text-yellow-900 text-xs flex items-start gap-2",children:[e.jsx(el,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["This will calculate payroll and generate payslips for ALL employees for ",e.jsx("strong",{children:s}),". Existing records may be overwritten."]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-800 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-900 transition-colors shadow-sm",children:"Confirm Generation"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"text-blue-700",size:18}),e.jsx("span",{className:"font-black text-gray-700 text-sm uppercase italic",children:"Payslip Management Center"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Period:"}),e.jsx("select",{value:s,onChange:M=>i(M.target.value),className:"text-xs font-bold p-1 border border-gray-400 outline-none",children:o.map(M=>e.jsx("option",{value:M.period,children:M.period},M.period))})]})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 flex items-center gap-3  shadow-sm transition-all hover:bg-yellow-100",children:[e.jsx(rs,{className:"text-orange-500",size:24}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-orange-800 uppercase italic tracking-tighter",children:"Security Protocol Active"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-600",children:"Generated payslips are automatically password protected. The default password is the employee's TRN unless overridden."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-2 border border-gray-400 shadow-sm gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-1/3 bg-gray-50 px-2 py-1 border border-gray-200 focus-within:border-blue-400 transition-colors shadow-inner",children:[e.jsx(Ga,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search Employee...",className:"bg-transparent text-xs font-bold w-full p-1 outline-none italic uppercase",value:r,onChange:M=>a(M.target.value)})]}),e.jsxs("button",{onClick:()=>T(!0),disabled:b,className:"w-full sm:w-auto px-6 py-2 flex items-center justify-center gap-3 bg-[#E0DCCF] hover:bg-white text-xs font-black uppercase text-blue-900 shadow-md border-2 border-white border-r-gray-600 border-b-gray-600 active:translate-y-0.5 active:border-b-0 active:border-r-0 transition-all tracking-widest disabled:opacity-50 group",children:[b?e.jsx(Ut,{size:16,className:"animate-spin"}):e.jsx(Nn,{size:16,className:"text-green-600 group-hover:scale-110 transition-transform"}),b?"GENERATING...":"Generate for Period"]})]}),e.jsx("div",{className:"flex-1 bg-white border border-gray-400 shadow-2xl overflow-auto scrollbar-thin scrollbar-thumb-gray-300",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 border-b border-gray-400 text-[10px] font-black text-gray-600 uppercase italic",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Employee"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Period"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Security (TRN)"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Status"}),e.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.3em] animate-pulse",children:"Scanning Secure Vault..."})}):p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.3em]",children:"No records found for this period."})}):p.filter(M=>M.name.toLowerCase().includes(r.toLowerCase())).map(M=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors group",children:[e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"uppercase font-black text-blue-900 group-hover:translate-x-1 transition-transform",children:M.name}),e.jsx("span",{className:"text-[9px] text-gray-400 italic tracking-tighter",children:M.empId})]})}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-gray-500 italic",children:M.period}),e.jsx("td",{className:"p-3 border-r border-gray-100 font-mono text-gray-400 group-hover:text-blue-600 transition-colors",children:M.trn&&M.trn!=="XXX-XXX-XXX"?`***-***-${M.trn.slice(-3)}`:"SECURE-DATA-MASKED"}),e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsx("span",{className:`px-3 py-1 text-[9px] font-black uppercase italic border shadow-sm ${M.status==="Sent"?"bg-blue-50 text-blue-700 border-blue-200":M.status==="Generated"?"bg-green-50 text-green-700 border-green-200":M.status==="Processed"?"bg-purple-50 text-purple-700 border-purple-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:M.status})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>t("/payroll/payslip-preview",{state:{payrollId:M.id}}),className:"p-1.5 bg-gray-50 border border-gray-300 rounded hover:bg-blue-50 hover:text-blue-700 transition-all shadow-sm active:translate-y-0.5",title:"View PDF",children:e.jsx(ox,{size:16})}),e.jsx("button",{onClick:()=>z(M.id),disabled:v===M.id,className:`p-1.5 border rounded transition-all shadow-sm active:translate-y-0.5 ${M.sent?"bg-green-50 text-green-700 border-green-300":"bg-gray-50 text-gray-400 border-gray-300 hover:bg-blue-50 hover:text-blue-700"}`,title:"Send Email",children:v===M.id?e.jsx(Ut,{size:16,className:"animate-spin"}):e.jsx(po,{size:16})})]})})]},M.id))})]})})]})]})},UI=()=>{const[t,r]=R.useState(!1),[a,s]=R.useState([]),[i,o]=R.useState(null),[c]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[d]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),h=async()=>{try{r(!0);const p=await Te.fetchEmployeeDashboardStats();p.success&&p.data.employee&&o(p.data.employee);const g=await Te.fetchPayrolls({email:c.email});g.success&&s(g.data.map(b=>({id:b.id,period:b.period,date:b.paymentDate?new Date(b.paymentDate).toLocaleDateString():new Date(b.createdAt).toLocaleDateString(),net:new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(parseFloat(b.netSalary)),status:b.status,raw:b})))}catch(p){console.error(p)}finally{r(!1)}};R.useEffect(()=>{h()},[c.id]);const f=p=>{try{const g=new zt,b=[0,85,229],m=[100,100,100];g.setDrawColor(200,200,200),g.rect(5,5,200,287),g.setFillColor(...b),g.rect(10,10,190,40,"F"),g.setTextColor(255,255,255),g.setFontSize(22),g.setFont("helvetica","bold"),g.text(d?.name||"ISLAND HR SOLUTIONS",20,25),g.setFontSize(10),g.setFont("helvetica","normal"),g.text("OFFICIAL ELECTRONIC PAYSLIP :: CONFIDENTIAL",20,32),g.text(`PAY PERIOD: ${p.period.toUpperCase()}`,20,38),g.setFontSize(14),g.text("CONFIRMED",160,25),g.setFontSize(8),g.text("CRYPTO-SIGNED",160,30),g.setTextColor(0,0,0),g.setFontSize(10),g.setFont("helvetica","bold"),g.text("PERSONNEL INFORMATION",15,65),g.line(15,67,195,67);const v=i?.firstName||c.firstName||"Staff",N=i?.lastName||c.lastName||"Member",w=i?.employeeId||c.employeeId||"USR-404",A=[["Employee Name:",`${v} ${N}`.toUpperCase()],["Employee ID:",w],["Designation:",(i?.designation||"Staff").toUpperCase()],["TRN Number:",i?.trn||"---"],["Date of Issue:",p.date]];GN(g,{startY:70,body:A,theme:"plain",styles:{fontSize:9,cellPadding:1},columnStyles:{0:{fontStyle:"bold",cellWidth:45}}});const E=(g.lastAutoTable?.finalY||100)+10;g.setFontSize(10),g.setFont("helvetica","bold"),g.text("FINANCIAL BREAKDOWN",15,E),g.line(15,E+2,195,E+2);const T=p.raw||{},_=[["Basic Salary / Earnings",new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(parseFloat(T.grossSalary||0)),""],["Total Tax & Statutory Deductions","",new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(parseFloat(T.tax||0))],["Other Deductions","",new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(parseFloat(T.deductions||0))]];GN(g,{startY:E+5,head:[["Description","Earnings","Deductions"]],body:_,theme:"striped",headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},styles:{fontSize:9}});const O=(g.lastAutoTable?.finalY||150)+15;g.setFillColor(245,247,250),g.rect(120,O,75,25,"F"),g.setDrawColor(...b),g.rect(120,O,75,25),g.setFontSize(11),g.setFont("helvetica","bold"),g.text("NET PAYABLE",125,O+10),g.setFontSize(16),g.setTextColor(...b),g.text(p.net,125,O+20),g.setFontSize(8),g.setTextColor(...m),g.setFont("helvetica","italic"),g.text("Note: This is a computer-generated payslip and does not require a physical signature.",15,275),g.text(`Generated on ${new Date().toLocaleString()} | Island HRM Core v4.2`,15,280),g.line(130,270,190,270),g.text("Authorized Finance Officer",145,275),g.save(`PAYSLIP_${p.period.replace(/[\s-]/g,"_")}_${w}.pdf`)}catch(g){console.error("PDF Generation Error:",g),alert("Failed to generate PDF. Please try again. Error: "+g.message)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-gray-50 font-sans p-4 sm:p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rr,{className:"text-blue-600 size-6 sm:size-8"}),e.jsx("h1",{className:"text-xl sm:text-3xl font-black text-gray-800 italic uppercase tracking-tighter",children:"My Payslip History"})]}),e.jsxs("p",{className:"text-[10px] sm:text-xs font-black text-gray-400 uppercase tracking-[0.3em] ml-1",children:["Confidential Financial Records :: Station ",i?.employeeId||"USR"]})]}),e.jsxs("div",{className:"bg-blue-900 text-white p-4 sm:p-6 rounded-xl shadow-2xl mb-8 flex items-center gap-6 border-l-8 border-blue-400 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-125 transition-transform duration-700",children:e.jsx(Tf,{size:80})}),e.jsx("div",{className:"bg-blue-800 p-3 rounded-lg shadow-inner",children:e.jsx(Tf,{size:28,className:"text-blue-200"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-sm sm:text-base font-black uppercase italic tracking-widest",children:"Secure Document Access Protocol"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-blue-200 mt-1 font-bold",children:"Your electronic payslips are AES-256 encrypted. Use your TRN Number to decrypt downloaded files."})]})]}),e.jsx("div",{className:"grid gap-4 sm:gap-6",children:t?e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em] animate-pulse",children:"Requesting Secure Feed..."}):a.length===0?e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em]",children:"Inventory cache is currently empty."}):a.map(p=>e.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-xl border-2 border-white border-r-gray-200 border-b-gray-200 shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex flex-col sm:flex-row items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto mb-4 sm:mb-0",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-blue-50 border-2 border-white rounded-2xl flex items-center justify-center text-blue-600 shadow-inner group-hover:bg-blue-600 group-hover:text-white transition-colors",children:e.jsx(On,{size:28,className:"sm:size-32"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-black text-gray-800 italic uppercase tracking-tighter group-hover:text-blue-900",children:p.period}),e.jsxs("span",{className:"text-[10px] sm:text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Disbursement: ",p.date]})]})]}),e.jsxs("div",{className:"flex items-center gap-8 w-full sm:w-auto justify-between sm:justify-end border-t sm:border-t-0 border-gray-100 pt-4 sm:pt-0",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest italic",children:"Net Remittance"}),e.jsx("span",{className:"text-xl sm:text-2xl font-black text-blue-800 italic tabular-nums tracking-tighter",children:p.net})]}),e.jsxs("button",{onClick:()=>f(p),className:"flex items-center gap-2 px-8 py-3 bg-blue-700 hover:bg-blue-800 text-white rounded-lg text-xs font-black uppercase italic tracking-widest shadow-lg active:translate-y-1 active:shadow-none transition-all border-b-4 border-blue-900",children:[e.jsx(Er,{size:16})," Download"]})]})]},p.id))}),e.jsx("div",{className:"mt-auto pt-10 flex justify-center border-t border-gray-100 mt-12 pb-6",children:e.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-400 font-black uppercase italic tracking-widest",children:["Manual Verification Terminal :: ",e.jsx("span",{className:"text-blue-600 cursor-help underline decoration-dotted",children:"DOCKET_ID_404"})]})})]})},HI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState([]),[o]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[c,d]=R.useState({type:"Annual Leave",startDate:"",endDate:"",reason:""}),[h,f]=R.useState({total:14,used:0,pending:0}),p=async()=>{try{a(!0);const b=await Te.fetchEmployeeDashboardStats();if(b.success&&b.data.employee){const m=b.data.employee,v=await Te.fetchLeaves({employeeId:m.id});if(v.success){i(v.data);const N=v.data.filter(A=>A.status==="Approved").reduce((A,E)=>{const T=Math.ceil((new Date(E.endDate)-new Date(E.startDate))/864e5)+1;return A+T},0),w=v.data.filter(A=>A.status==="Pending").length;f({total:14,used:N,pending:w})}}}catch(b){console.error(b)}finally{a(!1)}};R.useEffect(()=>{p()},[]);const g=async b=>{if(b.preventDefault(),!c.startDate||!c.endDate){alert("Please select both start and end dates.");return}try{a(!0);const m=await Te.fetchEmployeeDashboardStats();console.log("[DEBUG] Dashboard Stats Res:",m);const v=m.data?.employee;if(!v){alert("ACCESS DENIED: Your user account is not currently linked to an active Employee Profile. Please contact HR to link your email."),a(!1);return}const N=await Te.createLeave({employeeId:v.employeeId,type:c.type,startDate:c.startDate,endDate:c.endDate,reason:c.reason,status:"Pending"});N.success?(alert("LEAVE REQUEST SUBMITTED: Your application has been sent to HR for verification."),d({type:"Annual Leave",startDate:"",endDate:"",reason:""}),p()):alert("SUBMISSION FAILED: "+(N.message||"Unknown server error"))}catch(m){console.error("[LEAVE_ERROR]",m),alert("SYSTEM ERROR: Failed to transmit request. Check console for details.")}finally{a(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8FAFC] font-sans p-4 md:p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-white rounded-full transition-all shadow-sm border border-gray-200",children:e.jsx(wu,{size:20,className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-800 uppercase italic tracking-tighter",children:"Leave Application Portal"}),e.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-[0.3em]",children:"Absence Management & Compliance"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4",children:"Availability Summary"}),e.jsxs("div",{className:"flex justify-between items-end border-b border-gray-100 pb-4 mb-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-3xl font-black text-blue-600 italic",children:h.total-h.used}),e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-tighter",children:"Days Available"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-800 uppercase italic",children:[h.used," Used"]}),e.jsxs("span",{className:"text-[9px] font-bold text-orange-500 uppercase italic",children:[h.pending," Request(s) Pending"]})]})]}),e.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-full transition-all duration-1000",style:{width:`${h.used/h.total*100}%`}})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-600"}),e.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Leave Category"}),e.jsxs("select",{value:c.type,onChange:b=>d({...c,type:b.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-bold text-gray-800 focus:ring-2 focus:ring-blue-500 outline-none",children:[e.jsx("option",{children:"Annual Leave"}),e.jsx("option",{children:"Sick Leave"}),e.jsx("option",{children:"Casual Leave"}),e.jsx("option",{children:"Maternity/Paternity"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Start Date"}),e.jsx("input",{type:"date",value:c.startDate,onChange:b=>d({...c,startDate:b.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-bold text-gray-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"End Date"}),e.jsx("input",{type:"date",value:c.endDate,onChange:b=>d({...c,endDate:b.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-bold text-gray-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Justification / Remarks"}),e.jsx("textarea",{rows:"3",value:c.reason,onChange:b=>d({...c,reason:b.target.value}),placeholder:"Brief explanation for leave...",className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-bold text-gray-800 focus:ring-2 focus:ring-blue-500 outline-none resize-none"})]}),e.jsx("button",{type:"submit",disabled:r,className:"mt-4 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white p-4 rounded-xl font-black uppercase italic tracking-widest shadow-xl transition-all active:scale-95",children:r?e.jsx(Ut,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[e.jsx(po,{size:18})," Transmit Request"]})})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest flex items-center gap-2 mb-2",children:[e.jsx(xu,{size:14})," Request Lifecycle Feed"]}),e.jsx("div",{className:"flex flex-col gap-3",children:s.length===0?e.jsxs("div",{className:"p-12 text-center bg-gray-50 border-2 border-dashed border-gray-200 rounded-2xl",children:[e.jsx(nc,{className:"mx-auto text-gray-300 mb-2",size:32}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No transaction history detected"})]}):s.map(b=>e.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-all flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-inner ${b.status==="Approved"?"bg-green-50 text-green-600":b.status==="Rejected"?"bg-red-50 text-red-600":"bg-orange-50 text-orange-600"}`,children:e.jsx(On,{size:24})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-gray-800 uppercase italic tracking-tighter",children:b.type}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[new Date(b.startDate).toLocaleDateString()," - ",new Date(b.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-300 uppercase tracking-widest",children:"Justification"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 italic max-w-[150px] truncate",children:b.reason||"No remarks provided"})]}),e.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-[9px] font-black uppercase italic tracking-widest ${b.status==="Approved"?"bg-green-100 text-green-700 border border-green-200":b.status==="Rejected"?"bg-red-100 text-red-700 border border-red-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:[b.status==="Approved"?e.jsx(Ln,{size:12}):b.status==="Rejected"?e.jsx(Lg,{size:12}):e.jsx(xu,{size:12,className:"animate-pulse"}),b.status]})]})]},b.id))})]})]})]})},qI=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(!0),[o,c]=R.useState(null),[d]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[h,f]=R.useState(!1),[p,g]=R.useState({current:"",new:"",confirm:""}),[b,m]=R.useState({phone:"",street:"",city:"",parish:"",bankName:"",bankAccount:""}),v=async()=>{if(!(!p.current||!p.new)){if(p.new!==p.confirm){alert("New passwords do not match.");return}try{f(!0),(await Te.changePassword({currentPassword:p.current,newPassword:p.new})).success&&(alert("SECURITY UPDATE: Access credentials have been successfully rotated."),g({current:"",new:"",confirm:""}))}catch(A){console.error(A),alert(A.message||"Failed to update password. Verify current credentials.")}finally{f(!1)}}},N=async()=>{try{i(!0);const A=await Te.fetchEmployeeDashboardStats();if(A.success&&A.data.employee){const E=A.data.employee;c(E),m({phone:E.phone||"",street:E.street||"",city:E.city||"",parish:E.parish||"",bankName:E.bankName||"",bankAccount:E.bankAccount||""})}}catch(A){console.error("Profile fetch failed",A)}finally{i(!1)}};R.useEffect(()=>{N()},[]);const w=async A=>{if(A.preventDefault(),!!o)try{a(!0),(await Te.updateSelfProfile(b)).success&&(alert("PROFILE UPDATED: Personal and banking records synchronized in the master ledger."),N())}catch(E){console.error(E),alert("Update failed. Please contact system administrator.")}finally{a(!1)}};return s?e.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ut,{className:"animate-spin text-blue-600",size:40}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-gray-400",children:"Authenticating Registry..."})]})}):e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F3F4F6] font-sans p-4 md:p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-white rounded-full transition-all border border-gray-200 shadow-sm",children:e.jsx(wu,{size:20,className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-gray-800 uppercase italic tracking-tighter",children:"Personnel Profile Control"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.3em]",children:"Identity & Fiscal Routing Management"})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto w-full grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-xl overflow-hidden relative",children:[e.jsx("div",{className:"h-24 bg-gradient-to-br from-blue-600 to-blue-800 relative",children:e.jsx("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2 w-24 h-24 bg-white rounded-full border-4 border-white shadow-lg flex items-center justify-center overflow-hidden",children:e.jsx(Pn,{size:48,className:"text-gray-200"})})}),e.jsxs("div",{className:"pt-14 pb-8 px-6 text-center",children:[e.jsxs("h2",{className:"text-xl font-black text-gray-800 uppercase italic tracking-tight",children:[o?.firstName," ",o?.lastName]}),e.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-widest mt-1",children:o?.designation||"EMPLOYEE"}),e.jsxs("div",{className:"mt-6 flex flex-col gap-3 text-left border-t border-gray-100 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-50 p-2 rounded-lg text-gray-400",children:e.jsx(p1,{size:14})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Employee ID"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase",children:o?.employeeId})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-50 p-2 rounded-lg text-gray-400",children:e.jsx(cx,{size:14})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Sync Email"}),e.jsx("span",{className:"text-xs font-bold text-gray-700",children:o?.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gray-50 p-2 rounded-lg text-gray-400",children:e.jsx(rs,{size:14})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Registry Status"}),e.jsx("span",{className:"text-xs font-bold text-green-600 uppercase italic",children:o?.status})]})]})]})]})]}),e.jsxs("div",{className:"bg-blue-900 p-6 rounded-2xl text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 group-hover:scale-110 transition-transform duration-700",children:e.jsx(rs,{size:120})}),e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-blue-300 mb-2",children:"Security Protocol"}),e.jsx("p",{className:"text-xs font-medium leading-relaxed italic",children:"Updating sensitive fiscal data requires system-wide re-encryption. Ensure all banking details are accurate to avoid remittance failures."})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:w,className:"bg-white rounded-3xl border border-gray-200 shadow-sm p-6 md:p-10 flex flex-col gap-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-[0.03] pointer-events-none",children:e.jsx(qs,{size:200})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-800 uppercase italic tracking-widest border-b-2 border-blue-600 w-fit pb-1 pr-6 flex items-center gap-2",children:[e.jsx(ew,{size:14,className:"text-blue-600"})," Contact & Location"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Mobile Interface"}),e.jsx("input",{type:"text",value:b.phone,onChange:A=>m({...b,phone:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-xs font-bold focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"+1 876..."})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Settlement/Parish"}),e.jsx("input",{type:"text",value:b.parish,onChange:A=>m({...b,parish:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-xs font-bold focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. St. James"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Primary Residence (Street Address)"}),e.jsx("input",{type:"text",value:b.street,onChange:A=>m({...b,street:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-xs font-bold focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Enter full street address..."})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-800 uppercase italic tracking-widest border-b-2 border-blue-600 w-fit pb-1 pr-6 flex items-center gap-2",children:[e.jsx(Pl,{size:14,className:"text-blue-600"})," Fiscal Routing (Banking)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Financial Institution"}),e.jsx("input",{type:"text",value:b.bankName,onChange:A=>m({...b,bankName:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-xs font-bold focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. NCB/BNS"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Acct. Logic/Number"}),e.jsx("input",{type:"text",value:b.bankAccount,onChange:A=>m({...b,bankAccount:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-gray-50 text-xs font-bold focus:ring-2 focus:ring-blue-500 outline-none transition-all font-mono",placeholder:"XXX-XXX-XXX"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 bg-gray-50/50 p-4 rounded-2xl border border-gray-100",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-800 uppercase italic tracking-widest border-b-2 border-red-500 w-fit pb-1 pr-6 flex items-center gap-2",children:[e.jsx(Tf,{size:14,className:"text-red-500"})," Security Access Code"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Current Password"}),e.jsx("input",{type:"password",value:p.current,onChange:A=>g({...p,current:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-white text-xs font-bold focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:""})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"New Password"}),e.jsx("input",{type:"password",value:p.new,onChange:A=>g({...p,new:A.target.value}),className:"p-3 border border-gray-200 rounded-xl bg-white text-xs font-bold focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:""})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 focus-within:translate-x-1 transition-transform",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Confirm New"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"password",value:p.confirm,onChange:A=>g({...p,confirm:A.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl bg-white text-xs font-bold focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:""}),e.jsx("button",{type:"button",onClick:v,disabled:h||!p.current||!p.new,className:"px-4 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:opacity-50 transition-colors shadow-lg",children:h?e.jsx(Ut,{className:"animate-spin",size:16}):e.jsx(qs,{size:16})})]})]})]})]}),e.jsxs("div",{className:"mt-4 pt-8 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-300 uppercase italic tracking-widest",children:"Master Ledger Update"}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400",children:"Verifying change set..."})]}),e.jsx("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-10 py-4 bg-blue-700 hover:bg-blue-800 text-white rounded-2xl text-xs font-black uppercase italic tracking-widest shadow-2xl transition-all active:translate-y-1",children:r?e.jsx(Ut,{className:"animate-spin",size:16}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{size:16})," Synchronize Profile"]})})]})]})})]})]})},GI=()=>{const t=jt(),[r,a]=qa.useState(!0),[s,i]=qa.useState(null),[o]=qa.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[c,d]=qa.useState([]);qa.useEffect(()=>{(async()=>{let p=null;try{a(!0);const g=await Te.fetchEmployeeDashboardStats();g.success&&g.data.employee?(i(g.data.employee),p=`${g.data.employee.firstName} ${g.data.employee.lastName}`):o.firstName&&(p=`${o.firstName} ${o.lastName}`)}catch(g){console.error("Failed to load documents",g)}finally{const g=p||(o.firstName?`${o.firstName} ${o.lastName}`:"Employee");d([{id:"p24-2025",name:"P24 Statutory Certificate - 2025",type:"Tax Certificate",date:"01 Jan 2026",category:"Tax",size:"42KB"},{id:"contract",name:`Employment Agreement - ${g}`,type:"Legal",date:"Refined in System",category:"HR",size:"1.1MB"},{id:"assessment",name:"Annual Assessment Q4",type:"Performance",date:"15 Jan 2026",category:"HR",size:"89KB"}]),a(!1)}})()},[o]);const h=f=>{const p=`DOCUMENT: ${f.name}

Type: ${f.type}
Category: ${f.category}
Date: ${f.date}
Size: ${f.size}

This is a sample document from the Employee Self-Service Portal.
Generated by SmartHRM System.

In production, this would download the actual document from the server.`,g=new Blob([p],{type:"text/plain"}),b=URL.createObjectURL(g),m=document.createElement("a");m.href=b,m.download=`${f.name.replace(/\s/g,"_")}.txt`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(b)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-gray-50 font-sans p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-200 rounded transition-colors",children:e.jsx(wu,{size:20,className:"text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(rr,{className:"text-blue-600"})," My Documents"]}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mt-1",children:"Employee Document Center"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-6 flex items-start gap-3",children:[e.jsx(Df,{size:20,className:"text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-blue-900",children:"Secure Document Access"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"All documents are confidential and for your personal use only. Do not share with unauthorized parties."})]})]}),e.jsx("div",{className:"grid gap-4",children:c.map(f=>e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:e.jsx(rr,{size:24})}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("span",{className:"text-base font-bold text-gray-800",children:f.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:f.type}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(On,{size:12})," ",f.date]}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-500",children:f.size})]})]})]}),e.jsxs("button",{onClick:()=>h(f),className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-bold uppercase transition-all",children:[e.jsx(Er,{size:16})," Download"]})]},f.id))}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Documents are retained according to company policy. Contact HR for assistance."})})]})},Q0=()=>{const t=jt(),r=oi(),a=R.useRef(null),s=r.pathname.includes("timesheets"),i=r.pathname.includes("import-saved"),o=r.pathname.includes("import-jmd-fx"),c=r.pathname.includes("restore"),d=r.pathname.includes("backup"),h=s?"Import Time Sheets":i?"Import Saved Entries":o?"Import JMD to FX Transactions":c?"System Restore Protocol":d?"System Backup Protocol":"Data Import Wizard",[f,p]=R.useState(1),[g,b]=R.useState(null),[m,v]=R.useState(null),[N,w]=R.useState(0),[A,E]=R.useState(""),[T,_]=R.useState([]);qa.useEffect(()=>{r.state?.autoStart&&r.state?.fileName&&(b({name:r.state.fileName,size:r.state.fileSize}),window.pendingFile&&v(window.pendingFile),p(2))},[r.state]);const O=F=>{const P=F.target.files[0];P&&(b(P),v(P),p(2))},W=async()=>{if(!m){alert("STATION ALERT: No valid file object detected for transmission.");return}try{p(3),w(30),E(c?"Initializing Restore Protocol...":"Uploading master file...");let F;c?F=await Te.restoreSystemBackup(m):F=await Te.importMasterData(m),F.success&&(w(100),E("Sequence finalized."),_([{msg:"File integrity verified",type:"success"},{msg:`${c?F.data.recordsRestored:F.data.recordsProcessed} Records processed`,type:"info"},{msg:"Database sync completed",type:"success"},{msg:"Station log updated",type:"success"}]),setTimeout(()=>p(4),500))}catch(F){console.error(F),p(2),alert(`PROTOCOL FAILURE: ${F.message||"Transmission error during file processing"}`)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsxs("div",{className:"bg-[#0055E5] text-white px-3 py-1.5 flex items-center justify-between shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_p,{size:16}),e.jsxs("span",{className:"font-black uppercase tracking-widest text-[10px] italic",children:[h," Core"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>t(-1),className:"hover:bg-red-500 w-5 h-5 flex items-center justify-center transition-colors",children:""})})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-8 flex flex-col items-center justify-center bg-[#D4D0C8]/30 overflow-auto",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white border-2 border-gray-500 shadow-[12px_12px_0_rgba(0,0,0,0.1)] flex flex-col",children:[e.jsx("div",{className:"bg-[#F0F0F0] border-b border-gray-300 p-4 flex justify-between items-center",children:[1,2,3,4].map(F=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center font-black ${f>=F?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-500"}`,children:F}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-tighter hidden sm:inline ${f===F?"text-blue-700":"text-gray-400"}`,children:F===1?"Selection":F===2?"Verify":F===3?"Process":"Complete"}),F<4&&e.jsx("div",{className:"w-8 h-px bg-gray-300 mx-2 hidden sm:block"})]},F))}),e.jsxs("div",{className:"p-8 min-h-[300px] flex flex-col",children:[f===1&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-300",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-6 shadow-inner border border-blue-100",children:e.jsx(Lf,{size:40})}),e.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase italic tracking-tighter mb-2",children:c?"Select Backup Image":d?"Select Configuration":"Select Source File"}),e.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest max-w-[280px] mb-8",children:c?"Pick a .bak, .zip or .sql system archive":"Supported formats: .XLSX, .XLS, .CSV, .XML"}),e.jsx("input",{type:"file",ref:a,className:"hidden",onChange:O,accept:".xlsx,.xls,.csv,.xml"}),e.jsx("button",{onClick:()=>a.current.click(),className:"px-10 py-3 bg-blue-600 text-white font-black uppercase tracking-[0.2em] shadow-lg hover:bg-blue-700 active:translate-y-1 transition-all border-b-4 border-r-4 border-blue-900",children:"Choose File..."})]}),f===2&&e.jsxs("div",{className:"flex-1 animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8 bg-blue-50 p-4 border border-blue-100 rounded",children:[e.jsx(rr,{size:32,className:"text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-black text-blue-900 text-sm uppercase truncate",children:g.name}),e.jsxs("div",{className:"text-[9px] font-bold text-gray-500",children:["SIZE: ",(g.size/1024).toFixed(1)," KB  TYPE: ",g.type||"Binary Archive"]})]}),e.jsx("button",{onClick:()=>p(1),className:"text-[9px] font-black text-red-600 uppercase border border-red-200 px-2 py-1 hover:bg-red-50 transition-colors",children:"Change"})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("h4",{className:"font-black text-gray-700 uppercase italic border-b pb-1 flex items-center gap-2",children:[e.jsx(rs,{size:14,className:"text-green-600"})," Data Validation Preview"]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 space-y-2",children:[{label:"Column Structure",status:"MATCHED"},{label:"Data Formatting",status:"VERIFIED"},{label:"Calculated Sums",status:"PENDING"}].map(F=>e.jsxs("div",{className:"flex justify-between items-center px-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:F.label}),e.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded ${F.status==="MATCHED"?"bg-green-100 text-green-700":F.status==="VERIFIED"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:F.status})]},F.label))}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400 italic",children:"NOTE: System will automatically map recognized headers. Unmapped data will be ignored."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>t(-1),className:"px-6 py-2 font-black text-gray-500 uppercase hover:bg-gray-100",children:"Cancel"}),e.jsxs("button",{onClick:W,className:"px-10 py-2 bg-green-600 text-white font-black uppercase shadow-lg hover:bg-green-700 active:translate-y-1 transition-all flex items-center gap-2",children:[c?"Initiate Restore":d?"Start Compression":"Execute Import"," ",e.jsx(Qc,{size:14})]})]})]}),f===3&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-10 animate-in fade-in duration-300",children:[e.jsx(Ut,{size:48,className:"text-blue-600 animate-spin mb-6"}),e.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-blue-800 uppercase italic animate-pulse",children:A}),e.jsxs("span",{className:"text-xl font-black text-blue-900",children:[Math.floor(N),"%"]})]}),e.jsx("div",{className:"w-full h-6 bg-white border-2 border-gray-300 p-0.5 shadow-inner",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 shadow-[inset_0_1px_0_rgba(255,255,255,0.3)]",style:{width:`${N}%`}})}),e.jsxs("div",{className:"flex items-center gap-2 justify-center text-[9px] font-bold text-gray-400 uppercase tracking-widest text-center mt-4",children:[e.jsx(Zi,{size:10})," Syncing with Station Master Register..."]})]})]}),f===4&&e.jsxs("div",{className:"flex-1 animate-in zoom-in duration-300",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-4 shadow-inner",children:e.jsx(Nn,{size:32})}),e.jsx("h3",{className:"text-2xl font-black text-green-800 uppercase italic tracking-tighter",children:c?"Restore Finalized":d?"Backup Generated":"Import Successful"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Operation OP-",Math.floor(Math.random()*9e3)+1e3," Completed"]})]}),e.jsxs("div",{className:"space-y-2 mb-8 bg-[#F8F9FA] p-4 border-2 border-dashed border-gray-300",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase mb-3 border-b border-gray-200 pb-1",children:"Execution Log Summary"}),T.map((F,P)=>e.jsxs("div",{className:"flex gap-3 items-center text-[10px] font-bold",children:[F.type==="success"?e.jsx(Nn,{size:12,className:"text-green-600"}):e.jsx(nc,{size:12,className:"text-blue-500"}),e.jsx("span",{className:F.type==="success"?"text-green-700":"text-blue-700",children:F.msg})]},P))]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{onClick:()=>p(1),className:"w-full py-3 border-2 border-gray-500 font-black text-gray-600 uppercase hover:bg-gray-50 transition-all text-[11px]",children:"Import Another"}),e.jsx("button",{onClick:()=>t("/"),className:"w-full py-3 bg-[#333333] text-white font-black uppercase tracking-widest hover:bg-black transition-all text-[11px] shadow-lg border-b-4 border-r-4 border-gray-900 active:translate-y-1 active:border-0",children:"Close Wizard"})]})]})]}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-3 flex justify-between items-center px-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_5px_green]"}),e.jsx("span",{className:"text-[8px] font-black text-gray-500 uppercase tracking-widest italic",children:"Security Engine Active"})]}),e.jsx("span",{className:"text-[9px] font-black text-blue-800 italic uppercase",children:"SmartHRM Engine v5.10.x-0xFB"})]})]})})]})},$I=()=>{const t=jt(),[r,a]=R.useState(null),[s,i]=R.useState("2026"),[o,c]=R.useState("ALL BRANCHES"),[d,h]=R.useState(""),[f,p]=R.useState(!1),[g,b]=R.useState(!1),[m,v]=R.useState(null),[N,w]=R.useState({count:0,gross:0,tax:0,net:0});R.useEffect(()=>{const O=localStorage.getItem("selectedCompany");O&&v(JSON.parse(O))},[]);const A=async()=>{if(m){b(!0);try{const O=await Te.fetchPayrolls({companyId:m.id});if(O.success){const F=O.data.filter(P=>P.period.includes(s)).reduce((P,z)=>({count:P.count+1,gross:P.gross+parseFloat(z.grossSalary),tax:P.tax+parseFloat(z.tax),net:P.net+parseFloat(z.netSalary)}),{count:0,gross:0,tax:0,net:0});w(F)}}catch(O){console.error(O)}finally{b(!1)}}},E=O=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(O||0),T=[{id:"P24",title:"P24 - Year End Certificates (Tax Administration Jamaica)",type:"Annual",code:"GOJ-P24-V2",icon:rs,path:"/statutory/p24"},{id:"P45",title:"P45 - Employee Termination (Tax Administration Jamaica)",type:"Ad-hoc",code:"GOJ-P45-X1",icon:rr,path:"/statutory/p45"},{id:"S01",title:"S01 - Monthly Statutory Remittance",type:"Monthly",code:"GOJ-S01-M",icon:On,path:"/statutory/s01"},{id:"NIS",title:"NIS / NHT Annual Contribution Report",type:"Annual",code:"GOJ-NIS-04",icon:Dg,path:"/statutory/nis-nht"},{id:"NHT",title:"NHT Contribution by Employee/Year",type:"Annual",code:"GOJ-NHT-02",icon:Pn,path:"/statutory/nht"},{id:"PAY",title:"Master Payroll Summary",type:"Internal",code:"INT-PAY-SUM",icon:ea,path:"/reports/payroll-summary"}],_=O=>{a(O),w({count:0,gross:0,tax:0,net:0}),A()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans selection:bg-blue-200 overflow-hidden",children:[e.jsxs("header",{className:"bg-gradient-to-b from-[#EEEEEE] to-[#D4D0C8] border-b border-gray-400 p-2 flex items-center justify-between no-print shrink-0 shadow-sm z-30",children:[e.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[e.jsx(rs,{className:"text-blue-800 drop-shadow-sm",size:18}),e.jsxs("h1",{className:"font-black text-gray-700 uppercase italic tracking-tight text-xs sm:text-sm",children:["Statutory Reporting ",e.jsx("span",{className:"text-blue-700 tracking-widest ml-1 hidden xs:inline",children:"CENTRE"})]})]}),e.jsx("div",{className:"flex items-center gap-3 pr-2",children:e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-2 py-0.5 bg-white/50 border border-white/60 rounded text-[10px] font-bold text-gray-500 italic",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_5px_rgba(34,197,94,0.5)]"}),"Compliance Verified"]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0 overflow-hidden",children:[e.jsxs("aside",{className:"w-full md:w-72 shrink-0 bg-white border-b md:border-b-0 md:border-r-2 border-gray-400 flex flex-col z-20 shadow-lg md:shadow-none",children:[e.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Report Library"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})]})]}),e.jsx("nav",{className:"flex md:flex-col overflow-x-auto md:overflow-y-auto no-scrollbar md:pb-12",children:T.map(O=>e.jsxs("button",{onClick:()=>_(O),className:`group p-4 shrink-0 md:shrink-0 text-left border-b border-r md:border-r-0 border-gray-100 transition-all min-w-[180px] md:min-w-0 md:w-full relative ${r?.id===O.id?"bg-[#316AC5] text-white shadow-inner":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx(O.icon,{size:14,className:r?.id===O.id?"text-blue-200":"text-gray-400 group-hover:text-blue-500"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-60",children:O.type})]}),e.jsx("div",{className:"font-black text-[11px] leading-tight mb-1 uppercase italic",children:O.title}),e.jsxs("div",{className:`text-[9px] font-bold ${r?.id===O.id?"text-blue-200":"text-gray-400"}`,children:["FORM: ",O.code]}),r?.id===O.id&&e.jsx(xo,{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden md:block",size:16})]},O.id))})]}),e.jsxs("main",{className:"flex-1 flex flex-col bg-[#F2F0E4] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#d1d1d1_1px,transparent_1px)] [background-size:20px_20px] opacity-20 pointer-events-none"}),r?e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 z-10",children:[e.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-sm border-b border-gray-300 shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col lg:flex-row items-start lg:items-end gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 flex-1 w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Taxation Year"}),e.jsxs("select",{value:s,onChange:O=>i(O.target.value),className:"w-full bg-[#EBE9D8] border-b-2 border-gray-400 p-2 text-xs font-black focus:border-blue-600 outline-none transition-all",children:[e.jsx("option",{children:"2026"}),e.jsx("option",{children:"2025"}),e.jsx("option",{children:"2024"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Entity Scope"}),e.jsxs("div",{className:"flex items-center bg-[#EBE9D8] border-b-2 border-gray-400 p-2",children:[e.jsx(Dg,{size:14,className:"mr-2 text-blue-800"}),e.jsxs("select",{value:o,onChange:O=>c(O.target.value),className:"bg-transparent border-none outline-none text-xs font-black flex-1",children:[e.jsx("option",{children:"ALL BRANCHES"}),e.jsx("option",{children:"HEAD OFFICE"}),e.jsx("option",{children:"REMOTE DIV."})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 col-span-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Dynamic Filter (Optional)"}),e.jsxs("div",{className:"flex items-center bg-[#EBE9D8] border-b-2 border-gray-400 p-2",children:[e.jsx(Pn,{size:14,className:"mr-2 text-blue-800"}),e.jsx("input",{type:"text",placeholder:"IDENTITY SEARCH...",value:d,onChange:O=>h(O.target.value.toUpperCase()),className:"bg-transparent border-none outline-none text-xs font-black w-full uppercase placeholder:text-gray-400"})]})]})]}),e.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[e.jsx("button",{onClick:A,disabled:g||!r,className:"flex-1 lg:flex-none bg-blue-700 text-white px-6 py-2.5 text-[10px] font-black uppercase tracking-widest shadow-[4px_4px_0px_rgba(0,0,0,0.1)] hover:brightness-110 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g?"COMPILING...":"Compile Preview"}),e.jsx("button",{onClick:()=>p(!f),className:`p-2 border-2 transition-all active:scale-95 ${f?"bg-blue-100 border-blue-500 text-blue-700":"border-gray-400 text-gray-600 hover:bg-gray-100"}`,children:e.jsx(ju,{size:18})})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8 lg:p-12 flex justify-center items-start bg-gray-400/50 shadow-inner",children:e.jsxs("div",{className:"bg-white w-full max-w-[210mm] min-h-[297mm] shadow-2xl p-6 md:p-[15mm] text-black font-serif relative transition-all duration-500 hover:shadow-blue-900/10 origin-top",children:[e.jsx("div",{className:"absolute top-[20mm] right-[20mm] opacity-[0.03] select-none pointer-events-none",children:e.jsx(rs,{size:400})}),e.jsx("div",{className:"border-b-[3px] border-black pb-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pl,{size:24,className:"text-blue-900"}),e.jsx("span",{className:"text-[10pt] font-black tracking-[0.3em] uppercase opacity-50",children:"Draft Transmission"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold uppercase tracking-tight leading-none mb-2",children:r.title}),e.jsxs("div",{className:"flex gap-4 text-[9pt] font-bold uppercase text-gray-500",children:[e.jsxs("span",{children:["Form Code: ",e.jsx("b",{className:"text-black",children:r.code})]}),e.jsxs("span",{children:["Authority: ",e.jsx("b",{className:"text-black",children:"TAJ - Jamaica"})]})]})]}),e.jsxs("div",{className:"md:text-right text-[10pt]",children:[e.jsxs("div",{className:"bg-black text-white px-4 py-1 inline-block mb-1 font-black uppercase tracking-widest",children:["Year: ",s]}),e.jsxs("p",{className:"font-bold uppercase italic opacity-40",children:["Ref: ",Math.random().toString(36).substr(2,6).toUpperCase()]})]})]})}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 py-8 border-y-2 border-dashed border-gray-200",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col border-l-4 border-blue-900 pl-4",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Registered Entity"}),e.jsx("span",{className:"text-[11pt] font-bold uppercase",children:m?.name||"SYNCING..."})]}),e.jsxs("div",{className:"flex flex-col border-l-4 border-blue-900 pl-4",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Taxpayer ID (TRN)"}),e.jsx("span",{className:"text-[11pt] font-bold tabular-nums",children:m?.trn||"000-000-000"})]})]}),e.jsxs("div",{className:"space-y-4 md:text-right",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Generation Date"}),e.jsx("span",{className:"text-[11pt] font-bold tabular-nums",children:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"flex flex-col italic",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Status"}),e.jsx("span",{className:`text-[11pt] font-black uppercase ${g?"animate-pulse text-orange-600":"text-blue-800"}`,children:g?"Compiling Live Streams...":"Pre-Validation Active"})]})]})]}),e.jsxs("div",{className:"border-2 border-gray-100 flex flex-col items-center justify-center relative overflow-hidden bg-gray-50/50 p-12",children:[e.jsx("div",{className:"absolute inset-0 bg-[#316AC5] opacity-[0.02] flex flex-col justify-around",children:[...Array(20)].map((O,W)=>e.jsx("div",{className:"h-px w-full bg-black/10"},W))}),g?e.jsxs("div",{className:"text-center z-10",children:[e.jsx(Ut,{size:64,className:"mx-auto text-blue-200 mb-4 animate-spin"}),e.jsx("h3",{className:"text-xl font-bold uppercase tracking-[0.2em] text-gray-300",children:"Syncing Engine"})]}):N.count>0?e.jsxs("div",{className:"w-full z-10 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-200 pb-4",children:[e.jsx(tc,{className:"text-blue-800",size:32}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black uppercase text-gray-800 tracking-tighter",children:["Aggregate Summary - ",s]}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Based on ",N.count," processed sequences"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Gross Emoluments"}),e.jsx("span",{className:"text-xl font-black text-gray-900",children:E(N.gross)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Tax Withheld (PAYE)"}),e.jsx("span",{className:"text-xl font-black text-red-700",children:E(N.tax)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Net Disbursements"}),e.jsx("span",{className:"text-xl font-black text-blue-900",children:E(N.net)})]})]}),e.jsxs("div",{className:"bg-blue-50/50 p-4 border border-blue-100 italic text-[10px] text-blue-800 font-bold uppercase",children:["Transmission ready. Encrypted signature verified for all processed sequences in ",s,"."]})]}):e.jsxs("div",{className:"text-center z-10 px-8",children:[e.jsx(rr,{size:64,className:"mx-auto text-gray-200 mb-4"}),e.jsx("h3",{className:"text-xl font-bold uppercase tracking-[0.2em] text-gray-300",children:"Data Stream Preview"}),e.jsxs("p",{className:"text-gray-400 text-sm italic mt-2",children:["No payroll sequences discovered for ",s," in current scope."]})]})]})]}),e.jsx("div",{className:"absolute bottom-12 left-[15mm] right-[15mm] pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 border-2 border-gray-300 rounded flex items-center justify-center font-black text-gray-400 transform rotate-12",children:"SEAL"}),e.jsxs("div",{className:"text-[8pt] font-black text-gray-400 uppercase leading-none",children:["Authorized System",e.jsx("br",{}),"Digital Fingerprint",e.jsx("br",{}),Math.random().toString(16).substr(2,12).toUpperCase()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"w-48 border-b-2 border-black h-8 mb-1"}),e.jsx("span",{className:"text-[8pt] font-black uppercase tracking-widest opacity-50",children:"Controller Signature"})]})]})})]})}),e.jsxs("div",{className:"absolute bottom-40 right-6 flex flex-col gap-3 z-30 no-print",children:[r?.path&&e.jsxs("button",{onClick:()=>t(r.path),className:"flex items-center gap-2 px-4 py-3 bg-gray-800 text-white rounded shadow hover:bg-gray-900 group",children:[e.jsx("div",{className:"p-1 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:e.jsx(xo,{size:16})}),e.jsxs("div",{className:"flex flex-col items-start leading-none",children:[e.jsx("span",{className:"text-[9px] font-bold uppercase opacity-70",children:"Proceed to"}),e.jsx("span",{className:"text-sm font-bold",children:"Open Module"})]})]}),e.jsxs("button",{onClick:()=>{const O=`STATUTORY REPORT - ${r.title}

Form Code: ${r.code}
Authority: TAJ - Jamaica
Year: ${s}
Generation Date: ${new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})}

REGISTERED ENTITY
-----------------
Company: ${m?.name||"N/A"}
Taxpayer ID (TRN): ${m?.trn||"000-000-000"}

AGGREGATE SUMMARY
-----------------
Gross: ${E(N.gross)}
Tax: ${E(N.tax)}
Net: ${E(N.net)}
Count: ${N.count}

REPORT STATUS
-------------
Status: Pre-Validation Active
Reference: ${Math.random().toString(36).substr(2,6).toUpperCase()}

Generated by SmartHRM - Jamaica Compliance Module v4.2.0`,W=new Blob([O],{type:"text/plain"}),F=URL.createObjectURL(W),P=document.createElement("a");P.href=F,P.download=`${r.code}_${s}_Report.txt`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(F)},className:"flex items-center gap-2 px-4 py-3 bg-green-600 text-white rounded shadow hover:bg-green-700",children:[e.jsx(Er,{size:20}),e.jsx("span",{className:"text-sm font-semibold",children:"Secure Download"})]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-3 bg-blue-600 text-white rounded shadow hover:bg-blue-700",children:[e.jsx(ea,{size:20}),e.jsx("span",{className:"text-sm font-semibold",children:"Hard-Copy Print"})]})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-1000",children:[e.jsx("div",{className:"w-32 h-32 bg-white/50 backdrop-blur-md rounded-full flex items-center justify-center border-4 border-gray-300 mb-8 shadow-inner",children:e.jsx(rs,{size:48,className:"text-gray-300"})}),e.jsx("h2",{className:"text-2xl font-black text-gray-400 uppercase italic tracking-[0.2em] mb-4",children:"Awaiting Selection"}),e.jsxs("p",{className:"max-w-md text-gray-500 font-bold leading-relaxed",children:["Please choose a statutory return format from the ",e.jsx("span",{className:"text-blue-700",children:"Report Library"})," on the left to initialize the transmission sequence."]}),e.jsxs("div",{className:"mt-12 flex gap-4",children:[e.jsx("div",{className:"w-1 bg-[#316AC5] h-12"}),e.jsxs("div",{className:"text-left font-black text-[10px] text-gray-400 uppercase tracking-widest",children:["Jamaica Compliance",e.jsx("br",{}),"Module version 4.2.0",e.jsx("br",{}),"Encrypted Channel v2"]})]})]})]})]})]})},JN=({individual:t=!1})=>{const r=jt(),[a,s]=R.useState({payPeriod:"",ofYear:new Date().getFullYear().toString(),department:"",branch:"",employee:""}),[i,o]=R.useState(!1),[c,d]=R.useState(null),[h,f]=R.useState([]),[p,g]=R.useState(0),[b]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[m,v]=R.useState([]),[N,w]=R.useState([]);R.useEffect(()=>{(async()=>{if(b.id)try{const W=await Te.fetchDepartments(b.id);W.success&&w(W.data);const F=await Te.fetchPayrollBatches(b.id);F.success&&(v(F.data),F.data.length>0&&s(P=>({...P,payPeriod:F.data[0].period})))}catch(W){console.error("Error fetching metadata:",W)}})()},[b.id]);const A=async()=>{if(!a.payPeriod){alert("Please select a pay period.");return}o(!0),d(null);try{const O={companyId:b.id,period:a.payPeriod};a.department&&(O.departmentId=a.department);const W=await Te.fetchPayrolls(O);if(W.success&&W.data){let F=W.data;if(t&&a.employee){const M=a.employee.toLowerCase();F=F.filter(C=>C.employee?.employeeId?.toLowerCase().includes(M)||C.employee?.firstName?.toLowerCase().includes(M)||C.employee?.lastName?.toLowerCase().includes(M))}const P={count:F.length,gross:F.reduce((M,C)=>M+parseFloat(C.grossSalary||0),0),deductions:F.reduce((M,C)=>M+parseFloat(C.deductions||0),0),tax:F.reduce((M,C)=>M+parseFloat(C.tax||0),0),net:F.reduce((M,C)=>M+parseFloat(C.netSalary||0),0),nis:F.reduce((M,C)=>M+parseFloat(C.nis||0),0),nht:F.reduce((M,C)=>M+parseFloat(C.nht||0),0),edTax:F.reduce((M,C)=>M+parseFloat(C.edTax||0),0),paye:F.reduce((M,C)=>M+parseFloat(C.paye||0),0)},z=[{category:"Total Employees",count:P.count,amount:"0.00"},{category:"Gross Payroll",count:P.count,amount:P.gross.toFixed(2)},{category:"Total Deductions",count:P.count,amount:P.deductions.toFixed(2)},{category:"Net Pay",count:P.count,amount:P.net.toFixed(2)},{category:"PAYE (Income Tax)",count:P.count,amount:P.paye.toFixed(2)},{category:"NIS Deductions",count:P.count,amount:P.nis.toFixed(2)},{category:"NHT Deductions",count:P.count,amount:P.nht.toFixed(2)},{category:"Education Tax",count:P.count,amount:P.edTax.toFixed(2)}].filter(M=>M.category==="Total Employees"||parseFloat(M.amount)>0||M.category==="Gross Payroll"||M.category==="Net Pay");f(z),g(P.net),d(new Date().toLocaleString())}else alert("No records found."),f([])}catch(O){console.error(O),alert("Error generating report.")}finally{o(!1)}},E=()=>{if(h.length===0){alert("Please generate the report first.");return}const O=`Category,Count,Amount
`+h.map(z=>`"${z.category}",${z.count},${z.amount}`).join(`
`),W=new Blob([O],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(W),P=document.createElement("a");P.href=F,P.download=`${b.name}_Payroll_Summary_${a.payPeriod}.csv`,P.click()},T=()=>{if(h.length===0){alert("Please generate the report first.");return}const O=ar.json_to_sheet(h.map(F=>({"Category / Description":F.category,Count:F.count,"Amount (JMD)":F.category==="Total Employees"?"-":parseFloat(F.amount)||0}))),W=ar.book_new();ar.book_append_sheet(W,O,"Payroll Summary"),on(W,`${b.name||"Company"}_Payroll_Summary_${a.payPeriod}.xlsx`)},_=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between shadow-sm",children:[e.jsxs("span",{className:"font-bold text-gray-700 uppercase flex items-center gap-2",children:[e.jsx(rr,{size:14,className:"text-blue-800"}),t?"Individual Payroll Summary":"Company Payroll Master Summary"]}),e.jsxs("div",{className:"flex gap-2 no-print",children:[e.jsxs("button",{onClick:E,className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1 hover:bg-blue-700 shadow-sm",children:[e.jsx(Er,{size:12})," Export CSV"]}),e.jsxs("button",{onClick:T,className:"px-3 py-1 bg-green-700 text-white text-[10px] font-bold flex items-center gap-1 hover:bg-green-800 shadow-sm",children:[e.jsx(Er,{size:12})," Export Excel"]}),e.jsxs("button",{onClick:_,className:"px-3 py-1 bg-gray-600 text-white text-[10px] font-bold flex items-center gap-1 hover:bg-gray-700 shadow-sm",children:[e.jsx(ea,{size:12})," Print PDF"]})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsx("div",{className:"bg-white border border-gray-400 p-3 mb-4 shadow-sm no-print",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-bold text-[9px] uppercase tracking-widest",children:"Pay Period"}),e.jsxs("select",{value:a.payPeriod,onChange:O=>s({...a,payPeriod:O.target.value}),className:"w-full p-1.5 border border-gray-400 bg-gray-50 text-blue-900 font-black mt-1 uppercase text-[11px]",children:[e.jsx("option",{value:"",children:"Select Period..."}),m.map((O,W)=>e.jsx("option",{value:O.period,children:O.period},W))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-bold text-[9px] uppercase tracking-widest",children:"Department"}),e.jsxs("select",{value:a.department,onChange:O=>s({...a,department:O.target.value}),className:"w-full p-1.5 border border-gray-400 bg-gray-50 text-gray-800 font-bold mt-1 text-[11px]",children:[e.jsx("option",{value:"",children:"All Departments"}),N.map(O=>e.jsx("option",{value:O.id,children:O.name},O.id))]})]}),t&&e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-bold text-[9px] uppercase tracking-widest",children:"Employee"}),e.jsx("input",{type:"text",value:a.employee,onChange:O=>s({...a,employee:O.target.value}),placeholder:"Search...",className:"w-full p-1.5 border border-gray-400 bg-gray-50 font-bold mt-1 text-[11px]"})]}),e.jsxs("button",{onClick:A,disabled:i,className:`w-full p-2 font-black uppercase text-[10px] flex items-center justify-center gap-2 shadow-sm transition-all ${i?"bg-gray-100 text-gray-400":"bg-blue-900 text-white hover:bg-black active:translate-y-0.5"}`,children:[i?e.jsx(Ut,{size:14,className:"animate-spin"}):e.jsx(rr,{size:14}),"Generate Summary"]})]})}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-md p-8 min-h-[500px] printable-area relative",children:[e.jsx("div",{className:"absolute top-4 right-4 text-right no-print",children:e.jsx("p",{className:"text-[8px] font-bold text-gray-300 uppercase tracking-widest",children:"Internal Auditor Copy"})}),e.jsxs("div",{className:"mb-8 text-center border-b-2 border-double border-gray-300 pb-4",children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter mb-1",children:b.name||"HRM SYSTEM"}),e.jsx("h2",{className:"text-sm font-bold text-blue-900 uppercase tracking-widest",children:t?"Individual Payroll Summary Ledger":"Company Payroll Master Summary"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2",children:[e.jsxs("span",{className:"bg-gray-100 px-3 py-0.5 border border-gray-300 rounded-full text-[10px] font-bold text-gray-600",children:["Period: ",a.payPeriod||"---"]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"|"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tighter italic",children:"Currency: JAMD (JMD)"})]}),c&&e.jsxs("div",{className:"mt-4 text-[9px] font-bold text-green-700 uppercase italic",children:["Report Authenticated: ",c]})]}),h.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-y-2 border-gray-800",children:[e.jsx("th",{className:"p-3 text-left font-black uppercase tracking-widest text-gray-700",children:"Category / Description"}),e.jsx("th",{className:"p-3 text-right font-black uppercase tracking-widest text-gray-700",children:"Count / Ref"}),e.jsx("th",{className:"p-3 text-right font-black uppercase tracking-widest text-gray-700",children:"Amount (JMD)"})]})}),e.jsx("tbody",{children:h.map((O,W)=>e.jsxs("tr",{className:`border-b border-gray-100 ${W%2===0?"bg-blue-50/30":"bg-white"}`,children:[e.jsx("td",{className:"p-3 font-bold text-gray-800",children:O.category}),e.jsx("td",{className:"p-3 text-right text-gray-600 font-mono",children:O.count}),e.jsx("td",{className:"p-3 text-right font-black text-gray-900 border-l border-gray-50",children:O.category==="Total Employees"?"-":`$${parseFloat(O.amount).toLocaleString("en-US",{minimumFractionDigits:2})}`})]},W))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-800 text-white",children:[e.jsx("td",{className:"p-3 font-black uppercase tracking-widest",colSpan:"2",children:"Net Cash Requirement"}),e.jsxs("td",{className:"p-3 text-right font-black text-lg",children:["$",p.toLocaleString("en-US",{minimumFractionDigits:2})]})]})})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-20 px-8 no-print",children:[e.jsx("div",{className:"border-t border-gray-400 pt-2 text-center italic text-[9px] font-bold text-gray-400 uppercase",children:"Prepared By (Finance Manager)"}),e.jsx("div",{className:"border-t border-gray-400 pt-2 text-center italic text-[9px] font-bold text-gray-400 uppercase",children:"Authorized By (Managing Director)"})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-gray-300 border-2 border-dashed border-gray-100",children:[e.jsx(rr,{size:48,className:"mb-4 opacity-10"}),e.jsx("span",{className:"font-black text-xs uppercase tracking-[0.2em]",children:"Engine Waiting for Criteria"})]})]}),e.jsx("div",{className:"flex gap-2 mt-4 no-print",children:e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white font-bold text-[10px] uppercase shadow-sm",children:[e.jsx(_r,{size:14})," Back to Hub"]})})]})]})},YI=()=>{const t=jt(),[r,a]=R.useState({dateFrom:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0],department:"",reason:""}),[s,i]=R.useState(!1),[o,c]=R.useState([]),[d]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[h,f]=R.useState([]);R.useEffect(()=>{(async()=>{if(d.id){const v=await Te.fetchDepartments(d.id);v.success&&f(v.data)}})()},[d.id]),R.useEffect(()=>{(async()=>{if(d.id){i(!0);try{const v=await Te.fetchRedundancies({companyId:d.id,status:"COMPLETED"});if(v.success){const N=v.data.map(w=>{const A=new Date(w.effectiveDate),E=w.employee?.joinDate?new Date(w.employee.joinDate):null;let T="N/A";if(E&&A){const _=Math.abs(A-E);T=`${(Math.ceil(_/(1e3*60*60*24))/365.25).toFixed(1)} years`}return{id:w.id,employeeId:w.employee?.employeeId,name:`${w.employee?.firstName} ${w.employee?.lastName}`,department:w.employee?.department?.name||"Unassigned",joinDate:E?E.toLocaleDateString("en-CA"):"-",exitDate:A.toLocaleDateString("en-CA"),reason:w.terminationType,tenure:T,rawExitDate:A}});c(N)}}catch(v){console.error(v)}finally{i(!1)}}})()},[d.id,r.dateFrom,r.dateTo]);const p=o.filter(m=>{const v=!r.department||m.department===r.department,N=!r.reason||m.reason===r.reason;new Date(m.exitDate);const w=new Date(r.dateFrom),A=new Date(r.dateTo);return v&&N&&m.rawExitDate>=w&&m.rawExitDate<=A}),g=()=>{if(p.length===0)return;const m=p.map(w=>({"Employee ID":w.employeeId,Name:w.name,Department:w.department,"Join Date":w.joinDate,"Exit Date":w.exitDate,Tenure:w.tenure,Reason:w.reason})),v=ar.json_to_sheet(m),N=ar.book_new();ar.book_append_sheet(N,v,"Turnover"),on(N,`Turnover_Report_${r.dateFrom}_to_${r.dateTo}.xlsx`)},b=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[s&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tight",children:"Turnover Analysis Register"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:g,className:"px-4 py-1.5 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(Er,{size:14}),"Export Excel"]}),e.jsxs("button",{onClick:b,className:"px-4 py-1.5 bg-white border border-gray-400 text-green-700 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(ea,{size:14}),"Print Report"]})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-4 mb-6 shadow-inner no-print",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 border-b pb-1",children:"Report Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Exit Date From"}),e.jsx("input",{type:"date",value:r.dateFrom,onChange:m=>a({...r,dateFrom:m.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Exit Date To"}),e.jsx("input",{type:"date",value:r.dateTo,onChange:m=>a({...r,dateTo:m.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Target Department"}),e.jsxs("select",{value:r.department,onChange:m=>a({...r,department:m.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors cursor-pointer appearance-none",children:[e.jsx("option",{value:"",children:"ALL DEPARTMENTS"}),h.map(m=>e.jsx("option",{value:m.name,children:m.name.toUpperCase()},m.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Exit Reason Group"}),e.jsxs("select",{value:r.reason,onChange:m=>a({...r,reason:m.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors cursor-pointer appearance-none",children:[e.jsx("option",{value:"",children:"ALL REASONS"}),e.jsx("option",{value:"Voluntary Resignation",children:"RESIGNATION"}),e.jsx("option",{value:"Termination for Cause",children:"TERMINATION"}),e.jsx("option",{value:"Standard Redundancy (Legal)",children:"REDUNDANCY"}),e.jsx("option",{value:"Retirement Settlement",children:"RETIREMENT"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-xl p-8 max-w-5xl mx-auto print:shadow-none print:border-none",children:[e.jsxs("div",{className:"mb-8 text-center border-b-2 border-blue-900 pb-4",children:[e.jsx("h2",{className:"text-2xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Employee Turnover Performance Report"}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["PERIOD: ",r.dateFrom," TO ",r.dateTo]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"STATION: MASTER_TERMINAL_01"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#D4D0C8] text-gray-700 text-[10px] font-black uppercase tracking-widest border-2 border-gray-400",children:[e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Full Name"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Department"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-center",children:"Join Date"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-center",children:"Exit Date"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-center",children:"Tenure"}),e.jsx("th",{className:"p-3 text-left",children:"Primary Reason"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:p.length>0?p.map((m,v)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 transition-colors group",children:[e.jsx("td",{className:"p-3 border-r border-gray-100 font-mono text-blue-800",children:m.employeeId}),e.jsx("td",{className:"p-3 border-r border-gray-100 uppercase tracking-tight",children:m.name}),e.jsx("td",{className:"p-3 border-r border-gray-100 italic text-gray-500",children:m.department}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center font-mono opacity-60 uppercase",children:m.joinDate}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center font-mono text-red-600 uppercase",children:m.exitDate}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center",children:m.tenure}),e.jsx("td",{className:"p-3 uppercase",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] border ${m.reason?.includes("Termination")?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:m.reason})})]},v)):!s&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-20 text-center text-gray-400 font-black uppercase tracking-[0.5em] italic",children:"No turnover records found for selected period"})})}),e.jsx("tfoot",{className:"bg-blue-900 text-white border-2 border-blue-950",children:e.jsxs("tr",{className:"font-black uppercase italic tracking-widest",children:[e.jsx("td",{className:"p-4",colSpan:"3",children:"Corporate Turnover Aggregate"}),e.jsxs("td",{className:"p-4 text-right",colSpan:"4",children:["Population Change: ",p.length," Members"]})]})})]})})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-8 no-print pb-8",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-8 py-2 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})})]})]})},VI=()=>{jt();const[t,r]=R.useState({employee:"",year:new Date().getFullYear().toString(),category:"All"}),[a,s]=R.useState([]),[i,o]=R.useState(null),[c,d]=R.useState([]),[h,f]=R.useState(!1),[p,g]=R.useState("");R.useEffect(()=>{(async()=>{try{const T=localStorage.getItem("selectedCompany"),_=T?JSON.parse(T):null;if(_){const O=await Te.fetchEmployees(_.id);O.success&&s(O.data)}}catch(T){console.error("Failed to fetch employees",T)}})()},[]);const b=async()=>{if(!i){alert("Please select an employee first.");return}f(!0);try{const E=await Te.fetchPayrolls({employeeId:i.id});if(E.success&&E.data){const T=E.data.filter(W=>W.period.includes(t.year)),_=T.map(W=>({period:W.period,gross:parseFloat(W.grossSalary||0),nis:parseFloat(W.nis||0),nht:parseFloat(W.nht||0),paye:parseFloat(W.paye||0),edTax:parseFloat(W.edTax||0),net:parseFloat(W.netSalary||0)})),O=_.reduce((W,F)=>({period:"YTD Total",gross:W.gross+F.gross,nis:W.nis+F.nis,nht:W.nht+F.nht,paye:W.paye+F.paye,edTax:W.edTax+F.edTax,net:W.net+F.net}),{period:"YTD Total",gross:0,nis:0,nht:0,paye:0,edTax:0,net:0});T.length>0?d([..._,O]):(d([]),alert(`No payroll records found for ${t.year}`))}}catch(E){console.error(E),alert("Failed to generate report")}finally{f(!1)}},m=E=>{o(E),r(T=>({...T,employee:`${E.firstName} ${E.lastName}`})),g("")},v=()=>{if(c.length===0)return;const T=[["Period","Gross Pay","NIS","NHT","PAYE","Ed Tax","Net Pay"].join(","),...c.map(P=>[P.period,P.gross.toFixed(2),P.nis.toFixed(2),P.nht.toFixed(2),P.paye.toFixed(2),P.edTax.toFixed(2),P.net.toFixed(2)].join(","))].join(`
`),_=new Blob([T],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(_),W=document.createElement("a");let F=`ytd_${t.year}`;i&&(F+=`_${i.lastName}`),W.setAttribute("href",O),W.setAttribute("download",`${F}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)},N=()=>{if(c.length===0)return;const E=c.map(W=>({Period:W.period,"Gross Pay (JMD)":W.gross,"NIS (JMD)":W.nis,"NHT (JMD)":W.nht,"PAYE (JMD)":W.paye,"Ed Tax (JMD)":W.edTax,"Net Pay (JMD)":W.net})),T=ar.json_to_sheet(E),_=ar.book_new();ar.book_append_sheet(_,T,"YTD Breakdown");let O=`ytd_${t.year}`;i&&(O+=`_${i.lastName}`),on(_,`${O}.xlsx`)},w=E=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(E),A=a.filter(E=>E.firstName.toLowerCase().includes(p.toLowerCase())||E.lastName.toLowerCase().includes(p.toLowerCase())||E.employeeId.toLowerCase().includes(p.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[h&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-900",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter",children:"YTD Performance Matrix"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:v,className:"px-4 py-1.5 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(Er,{size:14}),"Export"]}),e.jsxs("button",{onClick:N,className:"px-4 py-1.5 bg-green-700 text-white text-[10px] font-black uppercase tracking-widest hover:bg-green-800 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(Er,{size:14}),"Excel"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-1.5 bg-white border border-gray-400 text-green-700 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(ea,{size:14}),"Print"]})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white border border-gray-400 p-4 shadow-md no-print h-fit",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 border-b pb-1",children:"Aggregation Parameters"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase",children:"Select Employee"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ga,{className:"absolute left-2 top-2 text-gray-300",size:12}),e.jsx("input",{type:"text",placeholder:"Search ID/Name...",className:"w-full pl-7 p-2 border border-blue-200 bg-blue-50 font-bold outline-none uppercase text-[10px]",value:p,onChange:E=>g(E.target.value)}),p&&e.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-lg max-h-48 overflow-y-auto z-10",children:A.map(E=>e.jsxs("div",{onClick:()=>m(E),className:"p-2 hover:bg-blue-100 cursor-pointer border-b border-gray-50",children:[e.jsxs("div",{className:"font-bold uppercase text-[10px]",children:[E.firstName," ",E.lastName]}),e.jsx("div",{className:"text-[9px] text-gray-400",children:E.employeeId})]},E.id))})]}),i&&e.jsxs("div",{className:"mt-2 text-blue-800 font-black uppercase text-[10px] border l-2 border-blue-500 pl-2",children:["Active: ",i.firstName," ",i.lastName]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase",children:"Fiscal Year"}),e.jsx("input",{type:"text",value:t.year,onChange:E=>r({...t,year:E.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]}),e.jsx("button",{onClick:b,className:"bg-blue-900 text-white font-black uppercase text-[10px] py-2 hover:bg-blue-800",children:"Generate Matrix"})]})]}),e.jsx("div",{className:"lg:col-span-3 bg-white border border-gray-400 shadow-2xl p-10 print:shadow-none print:border-none min-h-[600px]",children:c.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10 text-center border-b-4 border-double border-blue-900 pb-6",children:[e.jsx("h2",{className:"text-3xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Year-to-Date Financial Breakdown"}),e.jsxs("div",{className:"flex justify-center gap-8 mt-4",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Employee Segment"}),e.jsx("p",{className:"text-xs font-black text-gray-800 uppercase italic",children:i?`${i.firstName} ${i.lastName}`:"N/A"}),e.jsx("p",{className:"text-[9px] text-gray-400",children:i?.employeeId})]}),e.jsxs("div",{className:"text-left border-l border-gray-200 pl-8",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Analysis Period"}),e.jsxs("p",{className:"text-xs font-black text-gray-800 uppercase italic",children:["FY ",t.year]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#D4D0C8] text-gray-700 text-[10px] font-black uppercase tracking-[0.15em] border-2 border-gray-400",children:[e.jsx("th",{className:"border-r border-gray-400 p-4 text-left",children:"Internal Period"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"Gross Earnings"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"NIS"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"NHT"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"PAYE"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"Ed-Tax"}),e.jsx("th",{className:"p-4 text-right",children:"Net Liquidity"})]})}),e.jsx("tbody",{className:"text-[12px] font-bold text-gray-700",children:c.map((E,T)=>e.jsxs("tr",{className:E.period==="YTD Total"?"bg-blue-900 text-white font-black":T%2===0?"bg-blue-50/50":"bg-white",children:[e.jsx("td",{className:"p-4 border-r border-gray-100 uppercase tracking-tight",children:E.period}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono",children:w(E.gross)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:w(E.nis)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:w(E.nht)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:w(E.paye)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:w(E.edTax)}),e.jsx("td",{className:"p-4 text-right font-mono text-lg tracking-tighter",children:w(E.net)})]},T))})]})})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12 text-gray-400",children:[e.jsx(rr,{size:48,className:"mb-4 opacity-30"}),e.jsx("h3",{className:"text-xl font-black uppercase italic tracking-widest",children:"Awaiting Generation Protocol"}),e.jsx("p",{className:"text-xs mt-2",children:"Select an employee target from the sidebar to initialize the YTD Matrix."})]})})]})})]})},WI=()=>{const t=jt(),[r,a]=R.useState({department:"",year:new Date().getFullYear().toString(),tenureRange:"All"}),[s,i]=R.useState(!1),[o,c]=R.useState([]),[d,h]=R.useState({total:0,retained:0,avgTenure:0}),[f]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[p,g]=R.useState([]);R.useEffect(()=>{(async()=>{if(f.id){const A=await Te.fetchDepartments(f.id);A.success&&g(A.data)}})()},[f.id]),R.useEffect(()=>{(async()=>{if(f.id){i(!0);try{const A=await Te.fetchEmployees(f.id),E=await Te.fetchRedundancies({companyId:f.id,status:"COMPLETED"});A.success&&E.success&&b(A.data,E.data)}catch(A){console.error(A)}finally{i(!1)}}})()},[f.id,r.year]);const b=(w,A)=>{const E=new Date(`${r.year}-01-01`),T=new Date(`${r.year}-12-31`),_={},O=B=>B?.name||"Unassigned";w.forEach(B=>{const X=B.joinDate?new Date(B.joinDate):null;if(X&&X<E){const ue=O(B.department);_[ue]||(_[ue]={total:0,retained:0,tenureSum:0,tenureCount:0}),_[ue].total+=1,_[ue].retained+=1;const J=new Date-X;_[ue].tenureSum+=J,_[ue].tenureCount+=1}}),A.forEach(B=>{const X=new Date(B.effectiveDate),ue=B.employee?.joinDate?new Date(B.employee.joinDate):null;if(X>=E&&X<=T&&ue&&ue<E){const J=O(B.employee?.department);_[J]||(_[J]={total:0,retained:0,tenureSum:0,tenureCount:0}),_[J].total+=1}});const W=Object.keys(_).map(B=>{const X=_[B],ue=X.total>0?X.retained/X.total*100:0,J=X.tenureCount>0?X.tenureSum/X.tenureCount/(1e3*60*60*24*365.25):0;return{department:B,totalEmployees:X.total,retained:X.retained,retentionRate:ue.toFixed(1)+"%",avgTenure:J.toFixed(1)+" years"}});c(W);const F=W.reduce((B,X)=>B+X.totalEmployees,0),P=W.reduce((B,X)=>B+X.retained,0);let z=0,M=0;Object.values(_).forEach(B=>{z+=B.tenureSum,M+=B.tenureCount});const C=M>0?(z/M/(1e3*60*60*24*365.25)).toFixed(1):"0.0",U=F>0?(P/F*100).toFixed(1)+"%":"0.0%";h({total:F,retained:P,retentionRate:U,avgTenure:C+" Years"})},m=o.filter(w=>!r.department||w.department===r.department),v=()=>{if(m.length===0)return;const w=m.map(T=>({Department:T.department,"Start Count":T.totalEmployees,Retained:T.retained,"Retention Rate":T.retentionRate,"Avg Tenure":T.avgTenure}));w.push({Department:"TOTAL AGGREGATE","Start Count":d.total,Retained:d.retained,"Retention Rate":d.retentionRate,"Avg Tenure":d.avgTenure});const A=ar.json_to_sheet(w),E=ar.book_new();ar.book_append_sheet(E,A,"Retention Report"),on(E,`Retention_Report_${r.year}.xlsx`)},N=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[s&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter italic",children:"Retention Analysis Register"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:v,className:"px-4 py-1.5 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(Er,{size:14}),"Export Excel"]}),e.jsxs("button",{onClick:N,className:"px-4 py-1.5 bg-white border border-gray-400 text-green-700 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(ea,{size:14}),"Print"]})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-4 mb-6 shadow-md no-print",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 border-b pb-1",children:"Report Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Target Department"}),e.jsxs("select",{value:r.department,onChange:w=>a({...r,department:w.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"ALL DEPARTMENTS"}),p.map(w=>e.jsx("option",{value:w.name,children:w.name.toUpperCase()},w.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Reference Year"}),e.jsx("input",{type:"text",value:r.year,onChange:w=>a({...r,year:w.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-2xl p-10 max-w-5xl mx-auto print:shadow-none print:border-none mb-10",children:[e.jsxs("div",{className:"mb-8 text-center border-b-2 border-blue-900 pb-4",children:[e.jsx("h2",{className:"text-2xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Corporate Employee Retention Report"}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["FISCAL YEAR: ",r.year]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"STATUS: FINALIZED"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#D4D0C8] text-gray-700 text-[10px] font-black uppercase tracking-widest border-2 border-gray-400",children:[e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Department"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-right",children:"Count (Start)"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-right",children:"Retained"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-right",children:"Retention %"}),e.jsx("th",{className:"p-3 text-right",children:"Avg Tenure"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:m.length>0?m.map((w,A)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"p-3 border-r border-gray-100 uppercase tracking-tight",children:w.department}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-right font-mono",children:w.totalEmployees}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-right font-mono text-green-700",children:w.retained}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-right font-black",children:w.retentionRate}),e.jsx("td",{className:"p-3 text-right text-gray-500 italic",children:w.avgTenure})]},A)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-10 text-center text-gray-400 italic font-black uppercase",children:"No records found for parameters"})})}),e.jsx("tfoot",{className:"bg-blue-900 text-white border-2 border-blue-950",children:e.jsxs("tr",{className:"font-black uppercase italic tracking-widest",children:[e.jsx("td",{className:"p-3 border-r border-blue-800",children:"TOTAL AGGREGATE"}),e.jsx("td",{className:"p-3 border-r border-blue-800 text-right",children:d.total}),e.jsx("td",{className:"p-3 border-r border-blue-800 text-right",children:d.retained}),e.jsx("td",{className:"p-3 border-r border-blue-800 text-right",children:d.retentionRate}),e.jsx("td",{className:"p-3 text-right",children:d.avgTenure})]})})]})})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-4 no-print pb-10",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-8 py-2 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close Register"})]})})]})]})},XI=()=>{const t=jt(),[r,a]=R.useState(null),[s,i]=R.useState(!1),[o,c]=R.useState({autoIndex:!0,highFidelity:!1,legacySupport:!0,optimization:"Aggressive Memory Cache"}),[d,h]=R.useState({dateFrom:"",dateTo:"",department:"All Departments",format:"PDF"}),[f,p]=R.useState(!1),[g,b]=R.useState(null),m=[{id:"CR001",name:"Payroll Summary Report",category:"Payroll",template:"PayrollSummary.rpt"},{id:"CR002",name:"Employee Master List",category:"HR",template:"EmployeeMaster.rpt"},{id:"CR003",name:"Statutory Returns",category:"Compliance",template:"StatutoryReturns.rpt"},{id:"CR004",name:"Bank Transfer Advice",category:"Banking",template:"BankAdvice.rpt"},{id:"CR005",name:"P24 - Year End Certificate",category:"Compliance",template:"P24Report.rpt"},{id:"CR006",name:"P45 - Termination Certificate",category:"Compliance",template:"P45Report.rpt"},{id:"CR007",name:"NHT Contribution Report",category:"Compliance",template:"NHTReport.rpt"},{id:"CR008",name:"NIS Contribution Report",category:"Compliance",template:"NISReport.rpt"},{id:"CR009",name:"Department Analysis",category:"Analytics",template:"DeptAnalysis.rpt"}],v=()=>{if(!r)return;p(!0);const T={CR001:"/reports/payroll-summary",CR002:"/reports/employee",CR003:"/statutory/s01",CR004:"/reports/bank-transfer-advice",CR005:"/reports/p24",CR006:"/reports/p45",CR007:"/reports/nht",CR008:"/reports/nis",CR009:"/reports/salary"}[r.id];T?setTimeout(()=>{p(!1);let _="2026",O="3";if(d.dateFrom){const W=new Date(d.dateFrom);_=W.getFullYear().toString(),O=(W.getMonth()+1).toString()}t(T,{state:{filterOptions:{ofYear:_,payPeriod:O,department:d.department==="All Departments"?"":d.department},selectedYear:_,payPeriod:O}})},1e3):(p(!1),alert("SYSTEM ERROR: Report Definition not found in route registry."))},N=()=>{if(!g){alert("ACTION REQUIRED: Please generate the report before exporting.");return}alert(`INFO: Exporting ${r.name} as ${d.format}...`)},w=E=>{c(T=>({...T,[E]:!T[E]}))},A=()=>{alert("SYSTEM: Engine configuration updated and committed to registry."),i(!1)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[s&&e.jsx("div",{className:"absolute inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-[#D4D0C8] border-2 border-white shadow-2xl w-full max-w-md animate-in zoom-in-95",children:[e.jsxs("div",{className:"bg-[#316AC5] text-white p-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rn,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase tracking-widest italic",children:"V8 Engine Configuration Matrix"})]}),e.jsx("button",{onClick:()=>i(!1),className:"px-2 hover:bg-red-600 transition-colors font-bold uppercase",children:"X"})]}),e.jsxs("div",{className:"p-6 bg-[#EBE9D8] space-y-4",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm",children:[e.jsx("h4",{className:"font-black text-[9px] text-gray-500 uppercase tracking-widest mb-4 border-b pb-1",children:"Global Engine Defaults"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"Auto-Index on Startup"}),e.jsx("button",{onClick:()=>w("autoIndex"),className:`w-12 h-6 border border-gray-400 p-0.5 flex transition-colors ${o.autoIndex?"bg-green-600 justify-end":"bg-gray-400 justify-start"}`,children:e.jsx("div",{className:"w-5 h-full bg-white shadow-md border border-gray-200"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"High-Fidelity Rendering"}),e.jsx("button",{onClick:()=>w("highFidelity"),className:`w-12 h-6 border border-gray-400 p-0.5 flex transition-colors ${o.highFidelity?"bg-green-600 justify-end":"bg-gray-400 justify-start"}`,children:e.jsx("div",{className:"w-5 h-full bg-white shadow-md border border-gray-200"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"Enable Legacy Support"}),e.jsx("button",{onClick:()=>w("legacySupport"),className:`w-12 h-6 border border-gray-400 p-0.5 flex transition-colors ${o.legacySupport?"bg-green-600 justify-end":"bg-gray-400 justify-start"}`,children:e.jsx("div",{className:"w-5 h-full bg-white shadow-md border border-gray-200"})})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm",children:[e.jsx("h4",{className:"font-black text-[9px] text-gray-500 uppercase tracking-widest mb-4 border-b pb-1",children:"Optimization Layer"}),e.jsxs("select",{value:o.optimization,onChange:E=>c({...o,optimization:E.target.value}),className:"w-full p-2 border-2 border-gray-200 bg-gray-50 text-[11px] font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{children:"Aggressive Memory Cache"}),e.jsx("option",{children:"Balanced Performance (Default)"}),e.jsx("option",{children:"Low Resource Profile"})]})]})]}),e.jsx("div",{className:"bg-[#D4D0C8] p-3 flex justify-end gap-2 border-t border-gray-400",children:e.jsx("button",{onClick:A,className:"px-10 py-2 bg-white border-2 border-gray-500 text-[11px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-md italic",children:"Commit Changes"})})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rn,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter italic",children:"V8 Engine Report Builder"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>i(!0),className:"px-3 py-1 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 group",children:[e.jsx(Rn,{size:12,className:"group-hover:rotate-90 transition-transform duration-500"}),"Engine Config"]})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex gap-6 h-full",children:[e.jsxs("div",{className:"w-96 bg-white border border-gray-400 shadow-xl flex flex-col",children:[e.jsx("div",{className:"bg-[#316AC5] p-3 border-b border-gray-600",children:e.jsx("h3",{className:"font-black text-white uppercase text-[11px] tracking-widest italic",children:"Report Catalog"})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-1",children:m.map(E=>e.jsxs("button",{onClick:()=>a(E),className:`w-full text-left p-3 border border-transparent mb-1 transition-all group ${r?.id===E.id?"bg-blue-100 border-blue-400 shadow-sm":"hover:bg-white hover:border-gray-300"}`,children:[e.jsx("div",{className:`font-black text-[11px] uppercase tracking-tighter ${r?.id===E.id?"text-blue-900":"text-gray-700"}`,children:E.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 bg-gray-200 text-gray-600 font-bold rounded uppercase",children:E.category}),e.jsx("span",{className:"text-[9px] text-gray-400 font-mono",children:E.template})]})]},E.id))})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-2xl p-8 flex flex-col overflow-y-auto relative",children:[f&&e.jsxs("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-50 flex items-center justify-center flex-col gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-900 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-black text-blue-900 uppercase tracking-[0.3em] text-[10px] italic animate-pulse",children:"Initializing Reporting Engine..."})]}),r?e.jsxs("div",{className:"max-w-3xl mx-auto w-full",children:[e.jsxs("div",{className:"mb-8 border-b-4 border-double border-blue-900 pb-6 text-center",children:[e.jsx("h2",{className:"text-3xl font-black text-blue-900 uppercase tracking-tighter italic",children:r.name}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["ID: ",r.id]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"|"}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["TEMPLATE: ",r.template]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 border-2 border-gray-200 shadow-inner mb-8",children:[e.jsx("h3",{className:"font-black text-[10px] text-blue-800 uppercase tracking-[0.2em] mb-6 border-b pb-2 italic",children:"Runtime Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Start Period"}),e.jsx("input",{type:"date",value:d.dateFrom,onChange:E=>h({...d,dateFrom:E.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"End Period"}),e.jsx("input",{type:"date",value:d.dateTo,onChange:E=>h({...d,dateTo:E.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Department Filter"}),e.jsxs("select",{value:d.department,onChange:E=>h({...d,department:E.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm cursor-pointer",children:[e.jsx("option",{children:"All Departments"}),e.jsx("option",{children:"IT"}),e.jsx("option",{children:"HR"}),e.jsx("option",{children:"Finance"}),e.jsx("option",{children:"Sales"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Output Protocol"}),e.jsxs("select",{value:d.format,onChange:E=>h({...d,format:E.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm cursor-pointer",children:[e.jsx("option",{children:"PDF (Static Document)"}),e.jsx("option",{children:"EXCEL (Spreadsheet Matrix)"}),e.jsx("option",{children:"WORD (Rich Text)"}),e.jsx("option",{children:"RTF (Cross-Platform)"})]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-12",children:[e.jsxs("button",{onClick:v,className:"flex items-center gap-3 px-8 py-3 bg-green-700 text-white font-black text-[11px] uppercase tracking-widest hover:bg-green-800 active:translate-y-0.5 transition-all shadow-lg italic",children:[e.jsx(ea,{size:18}),"Generate Matrix"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-3 px-8 py-3 bg-[#316AC5] text-white font-black text-[11px] uppercase tracking-widest hover:bg-blue-800 active:translate-y-0.5 transition-all shadow-lg italic",children:[e.jsx(Er,{size:18}),"Export Data"]})]}),g&&e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-900 p-6 animate-in fade-in slide-in-from-top-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-900 text-white rounded shadow-md",children:e.jsx(rr,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-black text-blue-900 uppercase text-sm italic tracking-tight",children:"Active Generation Buffer"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Report Instance"}),e.jsx("p",{className:"text-xs font-bold text-gray-800",children:g.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Timestamp"}),e.jsx("p",{className:"text-xs font-bold text-gray-800",children:g.timestamp})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Parameters Applied"}),e.jsxs("p",{className:"text-xs font-bold text-gray-800 italic",children:[g.params.department,"  ",g.params.format]})]})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(rr,{size:80,className:"mx-auto mb-6 opacity-20"}),e.jsx("p",{className:"font-black uppercase tracking-[0.4em] text-lg italic opacity-50",children:"Select Report Definition"}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase",children:"Awaiting instruction from Available Reports list..."})]})}),e.jsx("div",{className:"mt-auto pt-12 flex justify-end",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-3 px-10 py-2.5 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(_r,{size:16,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close Reporting Engine"})]})})]})]})})]})},JI=()=>{const t=jt(),r=oi(),[a,s]=R.useState({bank:"",payPeriod:r.state?.filterOptions?.payPeriod||r.state?.payPeriod||(new Date().getMonth()+1).toString(),ofYear:r.state?.filterOptions?.ofYear||r.state?.selectedYear||new Date().getFullYear().toString(),batchRef:""}),[i,o]=R.useState([]),[c,d]=R.useState(!1);qa.useEffect(()=>{(async()=>{d(!0);try{const N=localStorage.getItem("selectedCompany"),w=N?JSON.parse(N):null;if(w){const A=await Te.fetchPayrolls({companyId:w.id,period:h(a.payPeriod,a.ofYear)});if(A.success){const E=A.data.filter(T=>T.employee&&T.netSalary>0).map(T=>({id:T.id,employeeId:T.employee.employeeId,name:`${T.employee.firstName} ${T.employee.lastName}`,accountNo:T.employee.bankAccount||"MISSING",amount:parseFloat(T.netSalary),bank:T.employee.bankName||"NOT SPECIFIED",status:["Finalized","Sent","Paid"].includes(T.status)?"Processed":"Pending",paymentMethod:T.employee.paymentMethod}));o(E)}}}catch(N){console.error("Failed to load bank transfer data",N)}finally{d(!1)}})()},[a.payPeriod,a.ofYear]);const h=(v,N)=>{const w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],A=parseInt(v)-1;return`${w[A]||"Jan"}-${N}`},f=i.filter(v=>!(a.bank&&v.bank!==a.bank||v.paymentMethod&&v.paymentMethod!=="Bank Transfer")),p=f.reduce((v,N)=>v+N.amount,0),g=async()=>{if(f.length===0){alert("ACTION REQUIRED: No data available to transmit.");return}if(window.confirm(`CONFIRM TRANSMISSION: You are about to securely transmit advice for ${f.length} records. This will mark them as PAID in the system. Proceed?`))try{d(!0);const v=f.map(w=>w.id),N=await Te.transmitBankAdvice({payrollIds:v,bankName:a.bank||"Consolidated"});if(N.success){alert(`SUCCESS: ${N.message||"Bank advice transmitted successfully."}`);const w=localStorage.getItem("selectedCompany"),A=w?JSON.parse(w):null;if(A){const E=h(a.payPeriod,a.ofYear),T=await Te.fetchPayrolls({companyId:A.id,period:E});if(T.success){const _=T.data.filter(O=>O.employee&&O.netSalary>0).map(O=>({id:O.id,employeeId:O.employee.employeeId,name:`${O.employee.firstName} ${O.employee.lastName}`,accountNo:O.employee.bankAccount||"MISSING",amount:parseFloat(O.netSalary),bank:O.employee.bankName||"NOT SPECIFIED",status:["Finalized","Sent","Paid"].includes(O.status)?"Processed":"Pending",paymentMethod:O.employee.paymentMethod}));o(_)}}}}catch(v){console.error("Transmission failed",v),alert("ERROR: Failed to transmit advice. Please contact IT support.")}finally{d(!1)}},b=()=>{if(f.length===0){alert("INFO: Buffer empty. Nothing to export.");return}const v=f.map(T=>({"Employee ID":T.employeeId,"Personnel Name":T.name,"Account Number":T.accountNo,"Bank Institution":T.bank,"Net Amount":T.amount,Status:T.status})),N=ar.json_to_sheet(v),w=ar.book_new();ar.book_append_sheet(w,N,"Bank Advice");const E=`BANK_ADVICE_${(a.bank||"CONSOLIDATED").replace(/[^a-z0-9]/yi,"_")}_${a.payPeriod}_${a.ofYear}.xlsx`;on(w,E)},m=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter italic",children:"Bank Transfer Register Matrix"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:g,className:"px-4 py-1.5 bg-[#316AC5] text-white text-[10px] font-black uppercase tracking-widest hover:bg-blue-800 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 italic",children:[e.jsx(po,{size:12}),"Transmit Advice"]}),e.jsxs("button",{onClick:b,className:"px-4 py-1.5 bg-green-700 text-white text-[10px] font-black uppercase tracking-widest hover:bg-green-800 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 italic",children:[e.jsx(Er,{size:12}),"Export Buffer"]}),e.jsxs("button",{onClick:m,className:"px-4 py-1.5 bg-white border border-gray-400 text-gray-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 italic",children:[e.jsx(ea,{size:12}),"Hard Copy"]})]})]}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-300 p-6 shadow-xl no-print",children:[e.jsx("h3",{className:"font-black text-[10px] text-blue-800 uppercase tracking-[0.2em] mb-4 border-b pb-2 italic",children:"Runtime Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Bank Institution"}),e.jsxs("select",{value:a.bank,onChange:v=>s({...a,bank:v.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner",children:[e.jsx("option",{value:"",children:"All Institutions"}),e.jsx("option",{value:"BNS",children:"Bank of Nova Scotia"}),e.jsx("option",{value:"NCB",children:"National Commercial Bank"}),e.jsx("option",{value:"JN Bank",children:"JN Bank"}),e.jsx("option",{value:"JMMB",children:"JMMB"}),e.jsx("option",{value:"Sagicor",children:"Sagicor Bank"}),e.jsx("option",{value:"CitiBank",children:"CitiBank"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Tax Year"}),e.jsx("select",{value:a.ofYear,onChange:v=>s({...a,ofYear:v.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner cursor-pointer",children:[...Array(5)].map((v,N)=>{const w=new Date().getFullYear()-2+N;return e.jsx("option",{value:w,children:w},w)})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Pay Cycle"}),e.jsx("select",{value:a.payPeriod,onChange:v=>s({...a,payPeriod:v.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner cursor-pointer",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((v,N)=>e.jsxs("option",{value:N+1,children:[v," (Period ",N+1,")"]},N+1))})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Batch Trace ID"}),e.jsx("input",{type:"text",value:a.batchRef,onChange:v=>s({...a,batchRef:v.target.value}),placeholder:"SALARY-MATRIX-001",className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner"})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-300 shadow-2xl p-8 min-h-[600px] flex flex-col print:shadow-none print:border-none",children:[e.jsxs("div",{className:"mb-10 text-center border-b-4 border-double border-blue-900 pb-6",children:[e.jsx("h2",{className:"text-3xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Bank Transfer Advice"}),e.jsxs("div",{className:"flex justify-center gap-6 mt-3 font-bold text-[10px] text-gray-500 uppercase tracking-widest",children:[e.jsxs("span",{children:["CYCLE: ",a.payPeriod]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["TAX YEAR: ",a.ofYear]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["INSTITUTION: ",a.bank||"CONSOLIDATED"]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-y-2 border-gray-800",children:[e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Employee ID"}),e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Personnel Name"}),e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Account Matrix"}),e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Bank Code"}),e.jsx("th",{className:"p-3 text-right font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Net Disbursement"}),e.jsx("th",{className:"p-3 text-center font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Transmission Status"})]})}),e.jsx("tbody",{className:"divide-y border-b border-gray-800",children:f.length>0?f.map((v,N)=>e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx("td",{className:"p-3 font-bold text-blue-900",children:v.employeeId}),e.jsx("td",{className:"p-3 font-bold uppercase",children:v.name}),e.jsx("td",{className:"p-3 font-mono text-gray-600",children:v.accountNo}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"px-2 py-0.5 bg-gray-200 rounded font-black text-[9px] uppercase",children:v.bank})}),e.jsxs("td",{className:"p-3 text-right font-black text-blue-900",children:["$",v.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-sm text-[9px] font-black uppercase tracking-tighter ${v.status==="Processed"?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:v.status})})]},N)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-400 italic font-bold",children:"No disbursement data matching current parameters"})})})]})}),e.jsx("div",{className:"mt-8 border-t-4 border-blue-900 pt-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-8 font-black uppercase italic",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] text-gray-500",children:"Transmission Integrity Hash"}),e.jsxs("p",{className:"text-xs font-mono text-gray-400 uppercase tracking-widest",children:[a.batchRef||"NO-REF-SPECIFIED","",Date.now()]})]}),e.jsx("div",{className:"text-right flex flex-col items-end",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 text-sm border-b-2 border-gray-200 pb-2 w-full max-w-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Record Count:"}),e.jsx("span",{children:f.length}),e.jsx("span",{className:"text-blue-900 text-lg",children:"Batch Total:"}),e.jsxs("span",{className:"text-blue-900 text-lg underline decoration-double underline-offset-4",children:["$",p.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})})]}),e.jsx("div",{className:"mt-auto pt-8 flex justify-end no-print",children:e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-3 px-10 py-2.5 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(_r,{size:16,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close Register"})]})})]})]})},KI=()=>{const t=jt(),[r,a]=R.useState([]),[s,i]=R.useState(null),[o,c]=R.useState([]),[d,h]=R.useState(!1),[f,p]=R.useState(""),[g,b]=R.useState(new Date().getFullYear().toString()),[m,v]=R.useState(null);R.useEffect(()=>{(async()=>{const W=localStorage.getItem("selectedCompany"),F=W?JSON.parse(W):null;if(v(F),F){const P=await Te.fetchEmployees(F.id);P.success&&a(P.data)}})()},[]);const N=async O=>{h(!0);try{const W=await Te.fetchPayrolls({employeeId:O.id});W.success&&(c(W.data),i(O))}catch(W){console.error(W)}finally{h(!1)}},w=r.filter(O=>O.firstName.toLowerCase().includes(f.toLowerCase())||O.lastName.toLowerCase().includes(f.toLowerCase())||O.employeeId.toLowerCase().includes(f.toLowerCase())),A=o.filter(O=>O.period.includes(g)),E=A.reduce((O,W)=>({gross:O.gross+parseFloat(W.grossSalary||0),nis:O.nis+parseFloat(W.nis||0),nht:O.nht+parseFloat(W.nht||0),tax:O.tax+parseFloat(W.paye||0),net:O.net+parseFloat(W.netSalary||0),edTax:O.edTax+parseFloat(W.edTax||0)}),{gross:0,nis:0,nht:0,tax:0,net:0,edTax:0}),T=O=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(O||0),_=()=>{if(!s)return;const O=[{Category:`Total Gross Emoluments (${A.length} periods)`,"Amount (JMD)":E.gross},{Category:"NIS Statutory Deduction (3%)","Amount (JMD)":-E.nis},{Category:"NHT Statutory Deduction (2%)","Amount (JMD)":-E.nht},{Category:"Income Tax Withheld (PAYE)","Amount (JMD)":-E.tax},{Category:"Education Tax Withheld (2.25%)","Amount (JMD)":-E.edTax},{Category:"Net Emoluments Disbursed","Amount (JMD)":E.net}],W=ar.json_to_sheet(O),F=ar.book_new();ar.book_append_sheet(F,W,"P24"),on(F,`P24_${g}_${s.lastName}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter",children:"P24 Year End Certificate - Jamaica Compliance"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(Er,{size:12})," Export PDF"]}),e.jsxs("button",{onClick:_,className:"px-3 py-1 bg-green-700 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(Er,{size:12})," Excel"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(ea,{size:12})," Print"]}),e.jsxs("button",{onClick:()=>t(-1),className:"px-3 py-1 bg-gray-600 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(_r,{size:12})," Exit"]})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white border border-gray-400 p-3 shadow-inner h-[500px] flex flex-col",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-widest mb-2",children:"Personnel Index"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ga,{className:"absolute left-2 top-2 text-gray-400",size:12}),e.jsx("input",{type:"text",value:f,onChange:O=>p(O.target.value),placeholder:"ID or Name...",className:"w-full pl-8 p-1.5 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-100",children:w.map(O=>e.jsxs("div",{onClick:()=>N(O),className:`p-2 border-b border-gray-50 cursor-pointer transition-colors ${s?.id===O.id?"bg-blue-600 text-white":"hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"font-black text-[10px] uppercase truncate",children:[O.firstName," ",O.lastName]}),e.jsx("div",{className:`text-[9px] ${s?.id===O.id?"text-blue-100":"text-gray-400"}`,children:O.employeeId})]},O.id))})]}),e.jsx("div",{className:"lg:col-span-3 bg-white border border-gray-400 shadow-lg p-6 sm:p-12 overflow-y-auto",children:s?e.jsxs("div",{className:"max-w-3xl mx-auto border-4 border-double border-gray-200 p-8 relative",children:[e.jsx("div",{className:"absolute top-4 right-4 text-[8px] font-bold text-gray-300 rotate-12 uppercase border border-gray-200 p-1",children:"Authorized Copy"}),e.jsxs("div",{className:"text-center mb-8 border-b-2 border-blue-900 pb-6",children:[e.jsx(rs,{className:"mx-auto text-blue-900 mb-2",size:32}),e.jsx("h1",{className:"text-xl font-black text-blue-900 uppercase tracking-widest",children:"Government of Jamaica"}),e.jsx("h2",{className:"text-lg font-black text-blue-900 uppercase mt-1",children:"Form P24 - Year End Certificate"}),e.jsx("p",{className:"text-[9px] font-bold text-gray-500 mt-1 uppercase tracking-widest",children:"Tax Administration Jamaica"}),e.jsxs("div",{className:"mt-4 bg-blue-900 text-white px-4 py-1 inline-block font-black text-xs",children:["TAX YEAR: ",g]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8 border-b border-dashed border-gray-200 pb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Registered Employer"}),e.jsx("span",{className:"text-[10pt] font-black text-gray-900 uppercase italic",children:m?.name||"SYNCING..."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Company TRN"}),e.jsx("span",{className:"text-[10pt] font-black text-gray-900",children:m?.trn||"000-000-000"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Service Identity"}),e.jsxs("span",{className:"text-[10pt] font-black text-gray-900 uppercase italic",children:[s.firstName," ",s.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Staff Reference"}),e.jsx("span",{className:"text-[10pt] font-black text-gray-900",children:s.employeeId})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-sm font-black text-blue-900 uppercase mb-4 italic tracking-tighter",children:"Aggregate Emoluments & Deductions"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-50 text-blue-900 uppercase tracking-widest",children:[e.jsx("th",{className:"p-3 text-left border-b border-gray-200",children:"Description of Sequence"}),e.jsx("th",{className:"p-3 text-right border-b border-gray-200",children:"Aggregate JMD"})]})}),e.jsxs("tbody",{className:"font-bold tabular-nums",children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsxs("td",{className:"p-3 uppercase",children:["Total Gross Emoluments (",A.length," periods)"]}),e.jsx("td",{className:"p-3 text-right",children:T(E.gross)})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-gray-600 italic",children:[e.jsx("td",{className:"p-3 pl-8 uppercase",children:"NIS Statutory Deduction (3%)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",T(E.nis),")"]})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-gray-600 italic",children:[e.jsx("td",{className:"p-3 pl-8 uppercase",children:"NHT Statutory Deduction (2%)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",T(E.nht),")"]})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-red-700",children:[e.jsx("td",{className:"p-3 uppercase",children:"Income Tax Withheld (PAYE)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",T(E.tax),")"]})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-red-700",children:[e.jsx("td",{className:"p-3 uppercase",children:"Education Tax Withheld (2.25%)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",T(E.edTax),")"]})]}),e.jsxs("tr",{className:"bg-green-50 text-green-900 font-black",children:[e.jsx("td",{className:"p-3 uppercase",children:"Net Emoluments Disbursed"}),e.jsx("td",{className:"p-3 text-right",children:T(E.net)})]})]})]})})]}),e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-200 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Pl,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Authorized Certification"})]}),e.jsx("p",{className:"text-[10px] text-gray-600 italic leading-relaxed font-bold",children:"This is to certify that the above mentioned emoluments and deductions have been processed through the official SmartHRM Payroll Engine in compliance with the Tax Administration Act. This certificate is valid for submission for tax return purposes."}),e.jsxs("div",{className:"mt-8 flex justify-between items-end",children:[e.jsxs("div",{className:"text-center w-48",children:[e.jsx("div",{className:"border-b-2 border-gray-900 font-mono italic text-[10px] pb-1 uppercase",children:m?.name}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-1 block",children:"Seal of Authority"})]}),e.jsxs("div",{className:"text-right text-[9px] font-black text-gray-400 uppercase italic",children:["Print Date: ",new Date().toLocaleDateString()]})]})]}),e.jsxs("div",{className:"mt-8 text-center text-[8px] text-gray-300 uppercase italic tracking-widest",children:["Serial: ",Math.random().toString(16).substr(2,12).toUpperCase()," | SmartHRM Compliance v4.2"]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12",children:[e.jsx(rr,{size:48,className:"text-gray-100 mb-4"}),e.jsx("h3",{className:"text-lg font-black text-gray-300 uppercase italic tracking-widest",children:"Awaiting Identity Selection"}),e.jsx("p",{className:"text-gray-400 mt-2 max-w-xs",children:"Please select a staff member from the left index to initialize the P24 Year End Certificate transmission."})]})})]})})]})},KN=()=>{const t=jt(),[r,a]=R.useState([]),[s,i]=R.useState(null),[o,c]=R.useState([]),[d,h]=R.useState(!1),[f,p]=R.useState(""),[g,b]=R.useState(new Date().getFullYear().toString());R.useEffect(()=>{(async()=>{const O=localStorage.getItem("selectedCompany"),W=O?JSON.parse(O):null;if(W){const F=await Te.fetchEmployees(W.id);F.success&&a(F.data)}})()},[]);const m=async _=>{h(!0);try{const O=await Te.fetchPayrolls({employeeId:_.id});O.success&&(c(O.data),i(_))}catch(O){console.error(O)}finally{h(!1)}},v=r.filter(_=>_.firstName.toLowerCase().includes(f.toLowerCase())||_.lastName.toLowerCase().includes(f.toLowerCase())||_.employeeId.toLowerCase().includes(f.toLowerCase())),N=o.filter(_=>_.period.includes(g)),w=N.reduce((_,O)=>_+parseFloat(O.grossSalary),0),A=N.reduce((_,O)=>_+parseFloat(O.nht||0),0),E=_=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(_||0),T=()=>{if(!s||N.length===0)return;const _=N.map((F,P)=>({Sequence:P+1,"Internal Period":F.period,"Gross Emoluments (JMD)":parseFloat(F.grossSalary||0),"NHT Ded. (2%) (JMD)":parseFloat(F.nht||0)}));_.push({Sequence:"Annual Aggregates","Internal Period":"","Gross Emoluments (JMD)":w,"NHT Ded. (2%) (JMD)":A});const O=ar.json_to_sheet(_),W=ar.book_new();ar.book_append_sheet(W,O,"NHT Report"),on(W,`NHT_${g}_${s.lastName}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter",children:"NHT Contribution Ledger - National Housing Trust"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-blue-800",children:[e.jsx(Er,{size:12})," Export PDF"]}),e.jsxs("button",{onClick:T,className:"px-3 py-1 bg-green-700 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-green-800",children:[e.jsx(Er,{size:12})," Excel"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-green-800",children:[e.jsx(ea,{size:12})," Print"]}),e.jsxs("button",{onClick:()=>t(-1),className:"px-3 py-1 bg-gray-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-gray-800",children:[e.jsx(_r,{size:12})," Exit"]})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white border border-gray-400 p-3 shadow-inner h-[500px] flex flex-col",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-widest mb-2",children:"Registry Search"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ga,{className:"absolute left-2 top-2 text-gray-400",size:12}),e.jsx("input",{type:"text",value:f,onChange:_=>p(_.target.value),placeholder:"ID or Name...",className:"w-full pl-8 p-1.5 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-100 rounded",children:v.map(_=>e.jsxs("div",{onClick:()=>m(_),className:`p-2 border-b border-gray-50 cursor-pointer transition-colors ${s?.id===_.id?"bg-blue-600 text-white":"hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"font-black text-[10px] uppercase truncate",children:[_.firstName," ",_.lastName]}),e.jsx("div",{className:`text-[9px] ${s?.id===_.id?"text-blue-100":"text-gray-400"}`,children:_.employeeId})]},_.id))})]}),e.jsx("div",{className:"lg:col-span-3 bg-white border border-gray-400 shadow-lg p-6 sm:p-12 overflow-y-auto min-h-[800px]",children:s?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 border-b-4 border-green-900 pb-6 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 border-2 border-gray-200 text-gray-300 font-black rotate-12 uppercase italic",children:"DRAFT TRANSMISSION"}),e.jsx("h1",{className:"text-2xl font-black text-green-900 uppercase tracking-widest",children:"National Housing Trust"}),e.jsx("h2",{className:"text-xl font-black text-green-900 uppercase mt-1",children:"Annual Contribution Statement"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 mt-2 uppercase tracking-[0.2em]",children:"Government of Jamaica"}),e.jsxs("div",{className:"mt-4 inline-block bg-green-900 text-white px-6 py-1 font-black text-xs uppercase tracking-widest",children:["Tax Year: ",g]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Employee Identity"}),e.jsxs("span",{className:"text-sm font-black text-gray-900 uppercase italic",children:[s.firstName," ",s.lastName]})]}),e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Internal Reference"}),e.jsx("span",{className:"text-sm font-black text-gray-900",children:s.employeeId})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"NHT Reg. / TRN"}),e.jsx("span",{className:"text-sm font-black text-gray-900",children:s.trn||"PENDING SYNC"})]}),e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"NIS Serial Number"}),e.jsx("span",{className:"text-sm font-black text-gray-900",children:s.nisNumber||"NOT RECORDED"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-6 mb-8 grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Periods Processed"}),e.jsx("span",{className:"text-xl font-black text-blue-900",children:N.length})]}),e.jsxs("div",{className:"text-center border-x border-blue-100",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Total Gross Earnings"}),e.jsx("span",{className:"text-xl font-black text-gray-900",children:E(w)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"NHT Contribution (2%)"}),e.jsx("span",{className:"text-xl font-black text-green-700",children:E(A)})]})]}),e.jsx("div",{className:"border border-gray-300",children:e.jsxs("table",{className:"w-full text-[10px]",children:[e.jsx("thead",{className:"bg-green-900 text-white uppercase tracking-widest italic",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Sequence"}),e.jsx("th",{className:"p-3 text-left",children:"Internal Period"}),e.jsx("th",{className:"p-3 text-right",children:"Gross Emoluments"}),e.jsx("th",{className:"p-3 text-right",children:"NHT Ded. (2%)"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:N.length>0?N.map((_,O)=>e.jsxs("tr",{className:"hover:bg-green-50/50",children:[e.jsx("td",{className:"p-3 font-bold text-gray-400",children:O+1}),e.jsx("td",{className:"p-3 font-black text-gray-800 uppercase",children:_.period}),e.jsx("td",{className:"p-3 text-right font-mono",children:E(_.grossSalary)}),e.jsx("td",{className:"p-3 text-right font-black text-green-700 font-mono",children:E(parseFloat(_.nht||0))})]},_.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"p-12 text-center text-gray-400 font-black uppercase italic tracking-widest",children:["No payroll sequences discovered for year ",g]})})}),N.length>0&&e.jsx("tfoot",{className:"bg-green-900 text-white font-black uppercase text-[11px]",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"2",className:"p-3 text-right",children:"Annual Aggregates"}),e.jsx("td",{className:"p-3 text-right",children:E(w)}),e.jsx("td",{className:"p-3 text-right",children:E(A)})]})})]})}),e.jsxs("div",{className:"mt-8 border-t-2 border-dashed border-gray-200 pt-8 flex justify-between items-center text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[e.jsxs("span",{children:["Generation ID: ",Math.random().toString(16).substr(2,12).toUpperCase()]}),e.jsx("span",{className:"italic",children:"Authorized System Transmission"})]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12",children:[e.jsx(rr,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h3",{className:"text-lg font-black text-gray-300 uppercase italic tracking-widest",children:"Awaiting Identity Selection"}),e.jsx("p",{className:"text-gray-400 mt-2 max-w-sm",children:"Please choose a staff member from the registry on the left to initialize the NHT contribution audit sequence."})]})})]})})]})},ZI=()=>{const[t,r]=R.useState([]),[a,s]=R.useState(!1),[i,o]=R.useState({}),[c,d]=R.useState(new Date);R.useEffect(()=>{const v=localStorage.getItem("selectedCompany");if(v){const N=JSON.parse(v);o(N)}},[]);const h=async()=>{if(i.id){s(!0);try{const v=c.toLocaleString("default",{month:"short",year:"numeric"}),N=await Te.fetchPayrolls({companyId:i.id,period:v});N.success?r(N.data):r([])}catch(v){console.error(v),r([])}finally{s(!1)}}};R.useEffect(()=>{h()},[i.id,c]);const f=v=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(v||0),p=()=>{if(t.length===0)return;const v=t.map(A=>({"NIS Number":A.employee?.nisNumber||"N/A","Employee Name":`${A.employee?.firstName} ${A.employee?.lastName}`,"Gross Earnings (JMD)":parseFloat(A.grossSalary||0),"Employee (3%) (JMD)":parseFloat(A.nis||0),"Employer (3%) (JMD)":parseFloat(A.nis||0),"Total (JMD)":parseFloat(A.nis||0)*2}));v.push({"NIS Number":"AGGREGATES","Employee Name":"","Gross Earnings (JMD)":"","Employee (3%) (JMD)":g,"Employer (3%) (JMD)":b,"Total (JMD)":m});const N=ar.json_to_sheet(v),w=ar.book_new();ar.book_append_sheet(w,N,"NIS Report"),on(w,`NIS_Report_${c.toISOString().slice(0,7)}.xlsx`)},g=t.reduce((v,N)=>v+parseFloat(N.nis||0),0),b=g,m=g+b;return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans relative",children:[a&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-10 flex items-center justify-center",children:e.jsx(Ut,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(rr,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"National Insurance Scheme (NIS) Report"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-400 px-2 py-1 rounded-sm shadow-sm",children:[e.jsx(On,{size:12,className:"text-gray-500"}),e.jsx("input",{type:"month",className:"text-xs font-bold text-gray-700 outline-none bg-transparent uppercase",value:c.toISOString().slice(0,7),onChange:v=>d(new Date(v.target.value))})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-1 bg-white border border-gray-400 px-2 py-1 rounded-sm text-xs font-bold shadow-sm hover:bg-gray-50",children:[e.jsx(ju,{size:12})," Refresh"]}),e.jsxs("button",{className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-blue-700 shadow-sm border border-blue-800",children:[e.jsx(Er,{size:12})," Export"]}),e.jsxs("button",{onClick:p,className:"flex items-center gap-1 bg-green-700 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-green-800 shadow-sm border border-green-900",children:[e.jsx(Er,{size:12})," Excel"]})]})]}),e.jsx("div",{className:"p-4 flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm min-h-[400px]",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4 border-b pb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-800 uppercase italic",children:"Monthly Remittance - NIS"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["Period: ",c.toLocaleString("default",{month:"long",year:"numeric"})]}),e.jsx("p",{className:"text-[10px] font-bold text-blue-700 uppercase",children:i?.name||"ALL BRANCHES"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Total Remittance"}),e.jsx("div",{className:"text-lg font-black text-blue-800",children:f(m)})]})]}),e.jsxs("table",{className:"w-full text-[10px] text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-300",children:e.jsxs("tr",{className:"uppercase tracking-widest text-gray-400 font-bold",children:[e.jsx("th",{className:"p-2",children:"NIS Number"}),e.jsx("th",{className:"p-2",children:"Employee Name"}),e.jsx("th",{className:"p-2 text-right",children:"Gross Earnings"}),e.jsx("th",{className:"p-2 text-right",children:"Employee (3%)"}),e.jsx("th",{className:"p-2 text-right",children:"Employer (3%)"}),e.jsx("th",{className:"p-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:t.length>0?t.map(v=>{const N=parseFloat(v.nis||0);return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"p-2 font-black text-gray-600",children:v.employee?.nisNumber||"N/A"}),e.jsxs("td",{className:"p-2 font-black text-gray-800 uppercase italic",children:[v.employee?.firstName," ",v.employee?.lastName]}),e.jsx("td",{className:"p-2 text-right font-mono",children:f(v.grossSalary)}),e.jsx("td",{className:"p-2 text-right font-mono text-red-700",children:f(N)}),e.jsx("td",{className:"p-2 text-right font-mono text-blue-700",children:f(N)}),e.jsx("td",{className:"p-2 text-right font-black text-gray-900",children:f(N*2)})]},v.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"p-8 text-center text-gray-400 italic font-bold uppercase tracking-widest",children:["No payroll records found for ",c.toLocaleString("default",{month:"short",year:"numeric"}),"."]})})}),e.jsx("tfoot",{className:"bg-gray-50 font-black border-t-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"3",className:"p-2 text-right uppercase tracking-widest text-gray-500",children:"Aggregates"}),e.jsx("td",{className:"p-2 text-right text-red-700",children:f(g)}),e.jsx("td",{className:"p-2 text-right text-blue-700",children:f(b)}),e.jsx("td",{className:"p-2 text-right text-black",children:f(m)})]})})]})]})})]})},Nx=(t=new Date)=>{const r=new Date(t),a=r.toLocaleString("en-JM",{month:"long"}),s=r.getFullYear();return`${a}-${s}`},QI=()=>{console.log("AdminDashboard: Rendering...");const t=jt(),[r,a]=R.useState([{label:"System Status",value:"...",sub:"Loading..."},{label:"Active Users",value:"...",sub:"Loading..."},{label:"Employees",value:"...",sub:"Loading..."},{label:"Database Health",value:"...",sub:"Loading..."},{label:"Processing Output",value:"...",sub:"Loading..."},{label:"Audit Logs",value:"...",sub:"Loading..."}]),[s,i]=R.useState([]),[o,c]=R.useState(!0),[d,h]=R.useState({});R.useEffect(()=>{console.log("AdminDashboard: Component Mounted. API:",Te);let b;try{const v=localStorage.getItem("selectedCompany");if(v){const N=JSON.parse(v);b=N?.id,h(N),console.log("AdminDashboard: Selected Company ID:",b)}}catch(v){console.error("AdminDashboard: Error parsing selectedCompany from localStorage",v)}(async()=>{console.log("AdminDashboard: Fetching data...");try{if(!Te||typeof Te.fetchAdminStats!="function"){console.error("AdminDashboard: API fetchAdminStats is not available!",Te);return}const[v,N]=await Promise.all([Te.fetchAdminStats(b).catch(w=>(console.error("Fetch Admin Stats Error:",w),{success:!1})),Te.fetchAuditLogs(6).catch(w=>(console.error("Fetch Audit Logs Error:",w),{success:!1}))]);console.log("AdminDashboard: Stats Response:",v),console.log("AdminDashboard: Logs Response:",N),v?.success&&Array.isArray(v.data)&&a(v.data),N?.success&&Array.isArray(N.data)&&i(N.data)}catch(v){console.error("Failed to fetch dashboard data",v)}finally{c(!1)}})()},[]);const f=b=>{if(!b)return"UNKNOWN ACTION";try{return String(b).replace(/_/g," ").toLowerCase().replace(/\b\w/g,m=>m.toUpperCase())}catch(m){return console.error("Error formatting action:",b,m),"ERROR"}},p=b=>{if(!b)return"N/A";try{const m=new Date(b);if(isNaN(m.getTime()))return"INVALID DATE";const N=new Date-m,w=Math.floor(N/(1e3*60)),A=Math.floor(N/(1e3*60*60)),E=Math.floor(N/(1e3*60*60*24));return w<1?"JUST NOW":w<60?`${w} MINS AGO`:A<24?`${A} HOURS AGO`:`${E} DAYS AGO`}catch(m){return console.error("Error formatting time:",b,m),"ERROR"}},g=[{label:"Company Setup",icon:e.jsx(Rn,{size:18}),path:"/company/setup",desc:"Master Organization Details"},{label:"User Provisioning",icon:e.jsx(Pd,{size:18}),path:"/tools",desc:"Create/Edit System Users"},{label:"Backup & Restore",icon:e.jsx(Zi,{size:18}),path:"/files",desc:"Data Management"},{label:"System Logs",icon:e.jsx(rr,{size:18}),path:"/tools/audit",desc:"View Audit Trails"},{label:"System Configuration",icon:e.jsx(h1,{size:18}),path:"/company/system-settings",desc:"Regional & Security Prefs"},{label:"Preference Config",icon:e.jsx(Tf,{size:18}),path:"/company/settings",desc:"Payroll & UI Preferences"}];return Array.isArray(r)?e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto",children:[e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"System Administration Console"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Status: Restricted Administrative Access"})]}),e.jsxs("div",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded shadow-sm text-[10px] font-bold text-gray-700 uppercase flex items-center gap-2",children:[e.jsx(On,{size:14,className:"text-gray-400"}),e.jsxs("span",{children:["SYSTEM PERIOD: ",Nx()]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:r.map((b,m)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider",children:b.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:b.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase",children:b.sub})]})},m))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Control Operations"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.map((b,m)=>e.jsxs("button",{onClick:()=>t(b.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:b.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:b.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:b.desc})]}),e.jsx(Qc,{className:"ml-auto text-gray-300 transition-colors",size:14})]},m))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(el,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"System Advisory"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Database maintenance scheduled for 02:00 AM."})]})]}),e.jsx("button",{className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors",children:"Acknowledge"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"System Logs"}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:[e.jsx("div",{className:"flex flex-col gap-4",children:o?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 opacity-40",children:[e.jsx(tc,{size:24,className:"animate-pulse mb-2"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"Loading Logs..."})]}):Array.isArray(s)&&s.length>0?s.map((b,m)=>e.jsx("div",{className:"flex gap-4 items-start border-l-2 border-gray-200 pl-4 py-1 hover:border-blue-400 transition-colors",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-800",children:b.username||"System"}),e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded font-bold bg-blue-50 text-blue-600",children:b.entity||"LOG"})]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium",children:f(b.action)}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase",children:p(b.createdAt)})]})},m)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic text-[10px] font-bold uppercase",children:"No activity recorded."})}),e.jsx("button",{onClick:()=>t("/tools/audit"),className:"w-full mt-6 py-2 border border-gray-200 text-gray-400 text-[9px] font-bold uppercase hover:bg-gray-50 transition-all",children:"Full Audit Trail"})]})]})]})]}):(console.error("AdminDashboard: Stats is not an array!",r),e.jsx("div",{className:"p-4 text-red-500",children:"Error: Stats data corrupted."}))},ZN=()=>{const t=jt(),[r,a]=R.useState([{label:"Total Employees",value:"...",sub:"Loading..."},{label:"Active Users",value:"...",sub:"Loading..."},{label:"Database Health",value:"...",sub:"Loading..."},{label:"Processing Output",value:"...",sub:"Loading..."},{label:"Audit Logs",value:"...",sub:"Loading..."},{label:"System Status",value:"...",sub:"Loading..."}]),[s,i]=R.useState([]),[o,c]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const p=localStorage.getItem("selectedCompany"),g=p?JSON.parse(p):null,[b,m]=await Promise.all([Te.fetchAdminStats(g?.id),Te.fetchAuditLogs(4)]);b.success&&a(b.data),m.success&&i(m.data)}catch(p){console.error(p)}finally{c(!1)}})()},[]);const d=f=>{const p=new Date(f),b=new Date-p,m=Math.floor(b/(1e3*60)),v=Math.floor(b/(1e3*60*60));return m<1?"Just now":m<60?`${m} mins ago`:v<24?`${v} hours ago`:p.toLocaleDateString()},h=[{label:"Process Payroll",icon:e.jsx(tc,{size:18}),path:"/processing/payroll-calculation",desc:"Run Jamaica Tax Engine"},{label:"New Employee",icon:e.jsx(ic,{size:18}),path:"/employees",desc:"Add Staff to Registry"},{label:"Electronic Transfer",icon:e.jsx(Pl,{size:18}),path:"/banking/bns",desc:"Bank Advice Files"},{label:"Payslip Manager",icon:e.jsx(rr,{size:18}),path:"/payslips/manage",desc:"Generate & Email"},{label:"Statutory Returns",icon:e.jsx(rr,{size:18}),path:"/statutory/s01",desc:"P45, NIS, NHT, S01"},{label:"Cheque Printing",icon:e.jsx(lx,{size:18}),path:"/processing/cheque-printing",desc:"Physical Payment Slips"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto relative",children:[o&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-50 flex items-center justify-center backdrop-blur-[1px]",children:e.jsx(tc,{className:"animate-pulse text-blue-600",size:32})}),e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Human Capital & Payroll Command"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Enterprise Management Dashboard  Jamaica Region"})]}),e.jsxs("div",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded shadow-sm flex items-center gap-2",children:[e.jsx(On,{className:"text-gray-400",size:14}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-700 uppercase",children:["PERIOD: ",Nx()]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:r.map((f,p)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider leading-none truncate",children:f.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:f.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase italic truncate",children:f.sub})]})},p))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Operational Control"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map((f,p)=>e.jsxs("button",{onClick:()=>t(f.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:f.icon}),e.jsxs("div",{className:"flex flex-col truncate",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight truncate",children:f.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium truncate",children:f.desc})]}),e.jsx(Qc,{className:"ml-auto text-gray-300 transition-colors",size:14})]},p))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(rs,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Compliance Status"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"System is ready for Feb-2026 payroll cycle."})]})]}),e.jsx("button",{onClick:()=>t("/employees"),className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors",children:"Manage"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Recent Activity"}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:[e.jsx("div",{className:"flex flex-col gap-4",children:s.length>0?s.map((f,p)=>e.jsx("div",{className:"flex gap-4 items-start border-l-2 border-gray-200 pl-4 py-1",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-800 tracking-tighter",children:f.username||"System"}),e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded font-bold bg-gray-100 text-gray-600 tracking-widest",children:f.entity||"LOG"})]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium leading-tight mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis",children:f.action.replace(/_/g," ")}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase mt-1",children:d(f.createdAt)})]})},p)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic text-[10px] font-bold uppercase",children:"No recent activity logs."})}),e.jsx("button",{onClick:()=>t("/tools"),className:"w-full mt-8 py-2 border border-gray-200 text-gray-400 text-[9px] font-bold uppercase hover:bg-gray-50 transition-all",children:"Audit Explorer"})]})]})]})]})},eM=()=>{const t=jt(),[r,a]=R.useState([{label:"Total Employees",value:"...",sub:"Loading..."},{label:"Active Users",value:"...",sub:"Loading..."},{label:"Database Health",value:"...",sub:"Loading..."},{label:"Processing Output",value:"...",sub:"Loading..."},{label:"Audit Logs",value:"...",sub:"Loading..."},{label:"System Status",value:"...",sub:"Loading..."}]),[s,i]=R.useState([]),[o,c]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const b=localStorage.getItem("selectedCompany"),m=b?JSON.parse(b):null,[v,N]=await Promise.all([Te.fetchAdminStats(m?.id),Te.fetchAuditLogs(4)]);v.success&&a(v.data),N.success&&i(N.data)}catch(b){console.error(b)}finally{c(!1)}})()},[]);const d=g=>{const b=new Date(g),v=new Date-b,N=Math.floor(v/(1e3*60)),w=Math.floor(v/(1e3*60*60));return N<1?"Just now":N<60?`${N} mins ago`:w<24?`${w} hours ago`:b.toLocaleDateString()},h=[{label:"Bank Transfer Advice",icon:e.jsx(Pl,{size:18}),path:"/reports/bank-transfer-advice",desc:"Generate ACH Files"},{label:"Cheque Printing",icon:e.jsx(lx,{size:18}),path:"/processing/cheque-printing",desc:"Batch Print Queue"},{label:"S01 Return",icon:e.jsx(rr,{size:18}),path:"/statutory/s01",desc:"Tax Compliance"},{label:"GL Interface",icon:e.jsx(Y5,{size:18}),path:"/reports/ledger",desc:"General Ledger Export"},{label:"Payroll Register",icon:e.jsx(rr,{size:18}),path:"/payroll/register",desc:"Detailed Breakdown"},{label:"Post Transactions",icon:e.jsx(mu,{size:18}),path:"/processing/post-transactions",desc:"Commit Entries"},{label:"Disbursement",icon:e.jsx(Wo,{size:18}),path:"/processing/disbursement",desc:"Confirm Payments"}],f=()=>{const g=`data:text/csv;charset=utf-8,Category,Value,Status
`+r.map(v=>`${v.label},${v.value},${v.sub}`).join(`
`),b=encodeURI(g),m=document.createElement("a");m.setAttribute("href",b),m.setAttribute("download","financial_summary.csv"),document.body.appendChild(m),m.click(),document.body.removeChild(m)},p=async()=>{try{const g=localStorage.getItem("selectedCompany");if(!g){alert("Please select a company first.");return}const b=JSON.parse(g),m=await Te.exportBankFile({companyId:b.id});if(m.success&&m.data){const{transfers:v,summary:N}=m.data;if(v.length===0){alert("No pending bank transfers found for export.");return}const w=`AccountNumber,AccountName,Amount,Reference,EmployeeID,TRN
`,A=v.map(O=>`${O.accountNumber},"${O.accountName}",${O.amount},${O.reference},${O.employeeId},${O.trn}`).join(`
`),E="data:text/csv;charset=utf-8,"+w+A,T=encodeURI(E),_=document.createElement("a");_.setAttribute("href",T),_.setAttribute("download",`BANK_EXPORT_${b.code}_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)}else alert("Failed to generate bank file.")}catch(g){console.error("Export error:",g),alert("An error occurred while exporting bank files.")}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto relative",children:[o&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-50 flex items-center justify-center backdrop-blur-[1px]",children:e.jsx(tc,{className:"animate-pulse text-blue-600",size:32})}),e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Financial Controller Center"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Treasury & Disbursement Operations"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded shadow-sm text-[10px] font-bold text-gray-700 uppercase flex items-center gap-2",children:[e.jsx(On,{size:14,className:"text-gray-400"}),e.jsxs("span",{children:["PERIOD: ",Nx()]})]}),e.jsxs("button",{onClick:f,className:"bg-gray-700 text-white px-4 py-1.5 rounded shadow-sm flex items-center gap-2 hover:bg-gray-800 transition-colors uppercase text-[10px] font-bold",children:[e.jsx(Er,{size:14})," Export Data"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:r.map((g,b)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider",children:g.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:g.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase italic truncate",children:g.sub})]})},b))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Treasury Management"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map((g,b)=>e.jsxs("button",{onClick:()=>t(g.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:g.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:g.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:g.desc})]}),e.jsx(Qc,{className:"ml-auto text-gray-300 transition-colors",size:14})]},b))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(Pl,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Banking Files Ready"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"ACH transfer files for the current period have been generated."})]})]}),e.jsx("button",{onClick:p,className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors",children:"Download"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Ledger Activity"}),e.jsx("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:e.jsx("div",{className:"flex flex-col gap-4",children:s.length>0?s.map((g,b)=>e.jsx("div",{className:"flex gap-4 items-start border-l-2 border-gray-200 pl-4 py-1",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-800 tracking-tighter",children:g.username||"System"}),e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded font-bold bg-gray-100 text-gray-600",children:g.entity||"LOG"})]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium leading-tight mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis",children:g.action.replace(/_/g," ")}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase mt-1",children:d(g.createdAt)})]})},b)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic text-[10px] font-bold uppercase",children:"No recent activity."})})})]})]})]})},tM=()=>{const t=jt(),[r,a]=R.useState([{label:"Next Pay Date",value:"...",icon:null,sub:"Loading..."},{label:"Leave Balance",value:"...",icon:null,sub:"Loading..."},{label:"Net Pay (Last)",value:"...",icon:null,sub:"Loading..."},{label:"Tax Status",value:"...",icon:null,sub:"Loading..."}]),[s,i]=R.useState([]),[o,c]=R.useState(!0),d=async()=>{try{c(!0);const f=await Te.fetchEmployeeDashboardStats();f.success&&(a(f.data.stats),i(f.data.recentDocuments||[]))}catch(f){console.error("Failed to fetch employee stats",f)}finally{c(!1)}};R.useEffect(()=>{d()},[]);const h=[{label:"My Payslips",icon:e.jsx(rr,{size:18}),path:"/employee/payslips",desc:"View & Download History"},{label:"Request Leave",icon:e.jsx(On,{size:18}),path:"/leave/request",desc:"Submit Vacation Request"},{label:"Tax Documents",icon:e.jsx(rr,{size:18}),path:"/employee/documents",desc:"P24 & P45 Forms"},{label:"Update Profile",icon:e.jsx(Pn,{size:18}),path:"/employee/profile",desc:"Address & Banking Info"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto",children:[e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Employee Self-Service Portal"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Personnel Record Management"})]}),e.jsxs("div",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded shadow-sm flex items-center gap-2",children:[e.jsx(On,{className:"text-gray-400",size:14}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-700 uppercase",children:["PERIOD: ",Nx()]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-8",children:r.map((f,p)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider leading-none truncate",children:f.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:f.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase italic truncate",children:f.sub})]})},p))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Employee Actions"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map((f,p)=>e.jsxs("button",{onClick:()=>t(f.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:f.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:f.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:f.desc})]}),e.jsx(Qc,{className:"ml-auto text-gray-300 transition-colors",size:14})]},p))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(Dk,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Notice Board"}),e.jsx("p",{className:"text-xs font-medium text-gray-700 leading-tight",children:"Annual Assessment Reports are now available for review."})]})]}),e.jsx("button",{onClick:()=>t("/employee/documents"),className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors whitespace-nowrap",children:"View Documents"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Recent Documents"}),e.jsx("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:e.jsx("div",{className:"flex flex-col gap-4",children:s.length===0?e.jsx("div",{className:"text-[10px] text-gray-400 italic font-medium py-4 text-center uppercase tracking-widest border-2 border-dashed border-gray-100 italic",children:"No documents found in registry"}):s.map((f,p)=>e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2 last:border-0 p-1 group hover:bg-gray-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-gray-400",children:e.jsx(rr,{size:16})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-gray-800 tracking-tight",children:f.name}),e.jsx("span",{className:"text-[9px] text-gray-400 uppercase tracking-tight",children:f.date})]})]}),e.jsx("button",{onClick:()=>{const g=`DOCUMENT: ${f.name}
Type: ${f.type}
Date: ${f.date}

Generated by SmartHRM Management Core.`,b=new Blob([g],{type:"text/plain"}),m=URL.createObjectURL(b),v=document.createElement("a");v.href=m,v.download=f.name,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(m)},className:"text-gray-400 hover:text-blue-600 transition-colors transform active:scale-90",children:e.jsx(Er,{size:14})})]},p))})})]})]})]})},rM=()=>{jt();const[t,r]=R.useState(null),a={trn:"TRN",nis:"NIS",nht:"NHT",edTax:"Education Tax",jwas:"JWAS"},[s,i]=R.useState(a),[o,c]=R.useState(!1),[d,h]=R.useState(!1);R.useEffect(()=>{const m=localStorage.getItem("selectedCompany");m&&r(JSON.parse(m))},[]),R.useEffect(()=>{t?.id&&f()},[t]);const f=async()=>{c(!0);try{const m=await Te.fetchCompanies();if(m.data){const v=m.data.find(N=>N.id===t.id);v&&v.settings&&v.settings.labels&&i({...a,...v.settings.labels})}}catch(m){console.error("Failed to load settings",m)}finally{c(!1)}};R.useEffect(()=>{localStorage.setItem("customLabels",JSON.stringify(s))},[s]);const p=(m,v)=>{i(N=>({...N,[m]:v}))},g=()=>{window.confirm("Restore all field labels to system defaults?")&&i(a)},b=async()=>{if(t?.id){h(!0);try{const m={labels:s},v=await Te.updateCompany(t.id,{settings:m});v.success?alert("Interface labels updated successfully."):alert("Failed to update labels: "+v.message)}catch(m){console.error("Save failed",m),alert("Error saving labels")}finally{h(!1)}}};return o?e.jsx("div",{className:"p-10 text-center",children:"Loading settings..."}):e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(S8,{size:18})," Field Label Customization"]})}),e.jsx("p",{className:"text-xs text-gray-600 font-bold px-1",children:"Customize how statutory fields appear on reports and entry screens."})]}),e.jsx("div",{className:"flex-1 p-8 overflow-auto flex justify-center",children:e.jsxs("div",{className:"w-full max-w-lg bg-white border-2 border-white shadow-[2px_2px_0_rgba(0,0,0,0.1)] p-6",children:[e.jsx("h2",{className:"text-sm font-bold text-gray-500 uppercase border-b border-gray-300 pb-2 mb-6",children:"Statutory Deductions & IDs"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"Tax Registration Number"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:s.trn,onChange:m=>p("trn",m.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: TRN"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",a.trn]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"National Insurance"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:s.nis,onChange:m=>p("nis",m.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: NIS"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",a.nis]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"Housing Trust"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:s.nht,onChange:m=>p("nht",m.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: NHT"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",a.nht]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"Education Tax"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:s.edTax,onChange:m=>p("edTax",m.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: Education Tax"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",a.edTax]})]})]})]}),e.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-200 flex justify-between",children:[e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 text-xs font-bold text-red-600 hover:bg-red-50 transition-colors uppercase",children:[e.jsx(Tp,{size:14})," Reset Defaults"]}),e.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:translate-y-0.5 text-xs font-bold uppercase hover:bg-[#003CB3]",children:[e.jsx(qs,{size:14,className:d?"animate-spin":""})," ",d?"Saving...":"Save Changes"]})]})]})})]})},aM=()=>{const t=jt(),[r,a]=R.useState(null),[s,i]=R.useState({payCycle:"2026 - Weekly - 06",transType:"Regular Hours",department:""}),[o,c]=R.useState([]),[d,h]=R.useState([]),[f,p]=R.useState([]),[g,b]=R.useState([]),[m,v]=R.useState(!1),[N,w]=R.useState(!1);R.useEffect(()=>{const M=localStorage.getItem("selectedCompany");M&&a(JSON.parse(M))},[]),R.useEffect(()=>{r?.id&&A()},[r]);const A=async()=>{try{const M=await Te.fetchDepartments(r.id);M.data&&b(M.data)}catch(M){console.error("Failed to load departments",M)}},E=async()=>{if(r?.id){w(!0);try{const M=await Te.fetchEmployees(r.id);if(M.data){let C=M.data;s.department&&(C=C.filter(B=>B.department?.name===s.department));const U=C.map(B=>({id:B.id,empId:B.employeeId,name:`${B.firstName} ${B.lastName}`,department:B.department?.name||"N/A",hours:0,rate:parseFloat(B.hourlyRate||B.baseSalary||0),amount:0,employeeId:B.employeeId}));c(U),p(C)}}catch(M){console.error("Failed to load employees",M),alert("Failed to load employees")}finally{w(!1)}}},T=(M,C,U)=>{const B=parseFloat(U)||0;c(X=>X.map(ue=>{if(ue.id===M){const J={...ue,[C]:B};return J.amount=J.hours*J.rate,J}return ue}))},_=()=>{const M=`EmployeeID,Name,Hours,Rate,Amount
`,C=`EMP001,JOHN BROWN,40,2500,100000
EMP002,SARAH SMITH,35,2800,98000`,U=new Blob([M+C],{type:"text/csv"}),B=window.URL.createObjectURL(U),X=document.createElement("a");X.setAttribute("hidden",""),X.setAttribute("href",B),X.setAttribute("download",`hrm_mass_entry_template_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(X),X.click(),document.body.removeChild(X)},O=M=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(M),W=async()=>{const M=o.filter(C=>C.amount>0);if(M.length===0){alert("SYSTEM ERROR: No valid transaction data detected in grid.");return}v(!0);try{let C="EARNING",U="REG";s.transType.includes("Overtime")?U="OT15":s.transType.includes("Bonus")?U="BONUS":s.transType.includes("Travel")&&(C="ALLOWANCE",U="TRAVEL");const B={transactions:M.map(ue=>({companyId:r.id,employeeId:ue.empId,transactionDate:new Date().toISOString(),type:C,code:U,description:s.transType,amount:ue.amount,units:ue.hours,rate:ue.rate,status:"ENTERED",period:s.payCycle}))},X=await Te.bulkCreateTransactions(B);X.success?(alert(`COMMIT SUCCESS: ${X.data.created} records securely posted to the general ledger for ${s.payCycle}.`),c(ue=>ue.map(J=>({...J,hours:0,amount:0})))):alert("Creation failed: "+X.message)}catch(C){console.error("Save failed",C),alert("An error occurred while saving transactions.")}finally{v(!1)}},F=()=>{d.length===o.length&&o.length>0?h([]):h(o.map(M=>M.id))},P=M=>{h(C=>C.includes(M)?C.filter(U=>U!==M):[...C,M])},z=()=>{d.length!==0&&(c(M=>M.map(C=>d.includes(C.id)?{...C,hours:0,amount:0}:C)),h([]))};return r?e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(ju,{size:18})," Mass Transaction Entry"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["BATCH: ",e.jsx("span",{className:"text-black",children:"FEB-2025-01"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Pay Cycle"}),e.jsxs("select",{value:s.payCycle,onChange:M=>i({...s,payCycle:M.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{children:"2026 - Weekly - 06"}),e.jsx("option",{children:"2026 - Monthly - 02"}),e.jsx("option",{children:"Feb-2026"}),e.jsx("option",{children:"Jan-2026"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Transaction Type"}),e.jsxs("select",{value:s.transType,onChange:M=>i({...s,transType:M.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{children:"Regular Hours"}),e.jsx("option",{children:"Overtime (1.5x)"}),e.jsx("option",{children:"Bonus (Flat Amount)"}),e.jsx("option",{children:"Travel Allowance"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Department"}),e.jsxs("select",{value:s.department,onChange:M=>i({...s,department:M.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- All Departments --"}),g.map(M=>e.jsx("option",{value:M.name,children:M.name},M.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:E,disabled:N,className:"w-full bg-[#EBE9D8] border border-gray-400 shadow-[1px_1px_0_rgba(0,0,0,0.2)] px-4 py-1.5 active:translate-y-0.5 active:shadow-inner text-xs font-bold hover:bg-white transition-colors disabled:opacity-50",children:[e.jsx(sn,{size:12,className:`inline mr-1 ${N?"animate-spin":""}`}),N?"LOADING...":"LOAD EMPLOYEES"]})})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-8 text-center bg-gray-100 z-20",children:e.jsx("input",{type:"checkbox",checked:d.length===o.length&&o.length>0,onChange:F,className:"cursor-pointer"})}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center text-gray-700",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left text-gray-700",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left text-gray-700",children:"Employee Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32 text-gray-700",children:"Department"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-right text-gray-700",children:"Hours/Qty"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-right text-gray-700",children:"Rate"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-32 text-right text-gray-700",children:"Amount"})]})}),e.jsxs("tbody",{children:[o.length>0?o.map((M,C)=>e.jsxs("tr",{className:`${d.includes(M.id)?"bg-blue-50/50":""} hover:bg-blue-50 group transition-colors`,children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center font-bold text-gray-500",children:e.jsx("input",{type:"checkbox",checked:d.includes(M.id),onChange:()=>P(M.id),className:"cursor-pointer"})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:C+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:M.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:M.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-600",children:M.department}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:M.hours,onChange:U=>T(M.id,"hours",U.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white transition-all"})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:M.rate,onChange:U=>T(M.id,"rate",U.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white text-gray-600 transition-all"})}),e.jsx("td",{className:"border-b border-gray-200 px-2 py-1 text-right font-mono font-bold bg-[#EBE9D8]/30 text-[#0B4FD7]",children:O(M.amount)})]},M.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-10 text-gray-400 font-bold italic",children:'Select filters and click "LOAD EMPLOYEES" to start'})}),[...Array(Math.max(0,15-o.length))].map((M,C)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 text-center bg-gray-50 text-gray-300"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-b border-gray-100 px-2 py-4 bg-gray-50/20"})]},`empty-${C}`))]})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-between items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>t("/processing/import-saved"),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-gray-50 active:translate-y-0.5 uppercase transition-all",children:[e.jsx(Lf,{size:14,className:"text-blue-700"})," Import CSV"]}),e.jsxs("button",{onClick:_,className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-gray-50 active:translate-y-0.5 uppercase transition-all",children:[e.jsx(Er,{size:14,className:"text-green-700"})," Template"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:z,disabled:d.length===0,className:`flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold transition-all uppercase ${d.length===0?"opacity-40 grayscale cursor-not-allowed":"hover:bg-red-50 text-red-700 active:translate-y-0.5"}`,children:[e.jsx(Yd,{size:14})," Clear Selected"]}),e.jsxs("button",{onClick:W,disabled:m,className:`flex items-center gap-1.5 px-6 py-2 border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold transition-all ml-4 uppercase ${m?"bg-gray-400 text-gray-200 border-gray-500 cursor-not-allowed":"bg-[#0B4FD7] text-white hover:bg-[#003CB3] active:translate-y-0.5"}`,children:[m?e.jsx(sn,{size:14,className:"animate-spin"}):e.jsx(qs,{size:14}),m?"Processing...":"Save Transactions"]})]})]})]}):e.jsx("div",{className:"p-4",children:"Please select a company first."})},sM=()=>{jt();const[t,r]=R.useState(null),[a,s]=R.useState({department:"",status:"Active"}),[i,o]=R.useState([]),[c,d]=R.useState([]),[h,f]=R.useState(!1),[p,g]=R.useState(!1);R.useEffect(()=>{const A=localStorage.getItem("selectedCompany");A&&r(JSON.parse(A))},[]),R.useEffect(()=>{t?.id&&b()},[t]);const b=async()=>{f(!0);try{const[A,E]=await Promise.all([Te.fetchDepartments(t.id),Te.fetchEmployees(t.id)]);if(A.data&&d(A.data),E.data){const T=E.data.map(_=>{const O=parseFloat(_.baseSalary||_.hourlyRate||0);return{id:_.id,empId:_.employeeId,name:`${_.firstName} ${_.lastName}`,department:_.department?.name||"",departmentId:_.departmentId,rate:O,status:_.status,newRate:O,newDept:_.department?.name||"",salaryType:_.salaryType}});o(T)}}catch(A){console.error("Failed to load data",A)}finally{f(!1)}},m=(A,E,T)=>{o(_=>_.map(O=>O.id===A?{...O,[E]:T}:O))},v=(A,E)=>{if(window.confirm(`Are you sure you want to update ${A} for ALL displayed employees?`)){const _=w.map(O=>O.id);o(O=>O.map(W=>_.includes(W.id)?{...W,[A]:E}:W))}},N=async()=>{const A=i.filter(E=>E.rate!==E.newRate||E.department!==E.newDept);if(A.length===0){alert("No changes detected.");return}g(!0);try{const E=A.map(_=>{const O={id:_.id};if(_.rate!==_.newRate&&(_.salaryType==="Hourly"?O.hourlyRate=parseFloat(_.newRate):O.baseSalary=parseFloat(_.newRate)),_.department!==_.newDept){const W=c.find(F=>F.name===_.newDept);O.departmentId=W?W.id:null}return O}),T=await Te.bulkUpdateEmployees({updates:E});T.success?(alert("Successfully updated employee records."),b()):alert("Update failed: "+T.message)}catch(E){console.error("Save failed",E),alert("An error occurred while saving updates.")}finally{g(!1)}},w=i.filter(A=>!(a.department&&A.department!==a.department||a.status!=="All"&&(a.status==="Active"&&A.status!=="Active"||a.status==="On Leave"&&A.status!=="On Leave")));return t?e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(WA,{size:18})," Mass Employee Update"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["MODE: ",e.jsx("span",{className:"text-black",children:"BULK EDIT"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Filter Department"}),e.jsxs("select",{value:a.department,onChange:A=>s({...a,department:A.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- All Departments --"}),c.map(A=>e.jsx("option",{value:A.name,children:A.name},A.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Filter Status"}),e.jsxs("select",{value:a.status,onChange:A=>s({...a,status:A.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Active",children:"Active Only"}),e.jsx("option",{value:"On Leave",children:"On Leave"})]})]}),e.jsxs("div",{className:"col-span-2 flex items-end gap-2",children:[e.jsx("button",{onClick:()=>{const A=prompt("Enter new rate for ALL visible employees:");A&&v("newRate",parseFloat(A))},className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-blue-800",children:"SET ALL RATES"}),e.jsx("button",{onClick:()=>{const A=prompt("Enter new department Name exactly:");A&&v("newDept",A)},className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-blue-800",children:"SET ALL DEPTS"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:h?e.jsx("div",{className:"p-10 text-center font-bold text-gray-400",children:"Loading directory..."}):e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left",children:"Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32 bg-gray-200 text-gray-500",children:"Current Dept"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32 bg-blue-50 text-[#0B4FD7]",children:"New Dept"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-right bg-gray-200 text-gray-500",children:"Current Rate"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-24 text-right bg-blue-50 text-[#0B4FD7]",children:"New Rate"})]})}),e.jsx("tbody",{children:w.map((A,E)=>{const T=A.rate!==A.newRate||A.department!==A.newDept;return e.jsxs("tr",{className:`hover:bg-blue-50 group ${T?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:E+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:A.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:A.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-400 bg-gray-50/50",children:A.department}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsxs("select",{value:A.newDept,onChange:_=>m(A.id,"newDept",_.target.value),className:`w-full px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-bold ${A.department!==A.newDept?"text-[#0B4FD7]":"text-gray-800"}`,children:[e.jsx("option",{value:"",children:"Select..."}),c.map(_=>e.jsx("option",{value:_.name,children:_.name},_.id))]})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-right text-gray-400 bg-gray-50/50",children:A.rate.toFixed(2)}),e.jsx("td",{className:"border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:A.newRate,onChange:_=>m(A.id,"newRate",parseFloat(_.target.value)),className:`w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono font-bold ${A.rate!==A.newRate?"text-[#0B4FD7]":"text-gray-800"}`})})]},A.id)})})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-end items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("button",{onClick:()=>o(i.map(A=>({...A,newRate:A.rate,newDept:A.department}))),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-gray-50 text-gray-600 active:translate-y-0.5 uppercase mr-2",children:[e.jsx(sn,{size:14})," Reset Changes"]}),e.jsxs("button",{onClick:N,disabled:p,className:"flex items-center gap-1.5 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold hover:bg-[#003CB3] active:translate-y-0.5 uppercase disabled:bg-gray-400",children:[e.jsx(qs,{size:14,className:p?"animate-spin":""})," ",p?"Saving...":"Apply Updates"]})]})]}):e.jsx("div",{className:"p-4",children:"Please select a company first."})},nM=()=>{jt();const[t,r]=R.useState(null),[a,s]=R.useState(!1),[i,o]=R.useState({period:"Feb 2025",region:""}),[c,d]=R.useState([]);R.useEffect(()=>{const m=localStorage.getItem("selectedCompany");m&&r(JSON.parse(m))},[]),R.useEffect(()=>{t?.id&&h()},[t,i.period]);const h=async()=>{s(!0);try{const m=await Te.fetchSalesShares(t.id,i.period);m.success&&d(m.data)}catch(m){console.error("Error fetching sales data:",m)}finally{s(!1)}},f=(m,v,N)=>{const w=parseFloat(N)||0;d(A=>A.map(E=>{if(E.id===m){const T={...E,[v]:w};return(v==="totalSales"||v==="commissionRate")&&(T.shareAmount=T.totalSales*(T.commissionRate/100)),T}return E}))},p=()=>{d(m=>m.map(v=>({...v,shareAmount:v.totalSales*(v.commissionRate/100)}))),alert("Recalculated all shares based on current rates.")},g=async()=>{if(t?.id){s(!0);try{const m={companyId:t.id,period:i.period,salesShares:c.map(N=>({employeeId:N.id,totalSales:N.totalSales,commissionRate:N.commissionRate,shareAmount:N.shareAmount}))},v=await Te.saveSalesShares(m);v.success?(alert("Sales shares saved successfully."),h()):alert("Failed to save: "+v.message)}catch(m){console.error("Error saving sales shares:",m),alert("An error occurred while saving.")}finally{s(!1)}}},b=m=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(m);return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Y5,{size:18})," Generate Sales Share"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["PERIOD: ",e.jsx("span",{className:"text-black",children:"FEB 2025"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Sales Period"}),e.jsxs("select",{value:i.period,onChange:m=>o({...i,period:m.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{children:"Feb 2025"}),e.jsx("option",{children:"Jan 2025"}),e.jsx("option",{children:"Dec 2024"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Region / Branch"}),e.jsxs("select",{value:i.region,onChange:m=>o({...i,region:m.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- All Regions --"}),e.jsx("option",{value:"KINGSTON",children:"Kingston HQ"}),e.jsx("option",{value:"MONTEGO BAY",children:"Montego Bay"}),e.jsx("option",{value:"MANDEVILLE",children:"Mandeville"})]})]}),e.jsxs("div",{className:"col-span-2 flex items-end gap-2",children:[e.jsx("button",{onClick:()=>{const m=prompt("Set Base Commission Rate (%) for all:");if(m){const v=parseFloat(m);d(N=>N.map(w=>({...w,commissionRate:v,shareAmount:w.totalSales*(v/100)})))}},className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-blue-800 uppercase",children:"Set Global Rate (%)"}),e.jsx("button",{onClick:p,className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-green-700 uppercase",children:"Recalculate All"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32",children:"Region"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-right",children:"Total Sales ($)"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-20 text-right",children:"Comm. %"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-32 text-right",children:"Share Amount"})]})}),e.jsxs("tbody",{children:[c.filter(m=>!i.region||m.region===i.region).map((m,v)=>e.jsxs("tr",{className:"hover:bg-blue-50 group",children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:v+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:m.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:m.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-600",children:m.region}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:m.totalSales,onChange:N=>f(m.id,"totalSales",N.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white transition-all text-gray-800"})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:m.commissionRate,onChange:N=>f(m.id,"commissionRate",N.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white transition-all text-blue-700 font-bold"})}),e.jsx("td",{className:"border-b border-gray-200 px-2 py-1 text-right font-mono font-bold bg-[#EBE9D8]/30 text-green-700",children:b(m.shareAmount)})]},m.id)),[...Array(Math.max(0,15-c.length))].map((m,v)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 text-center bg-gray-50 text-gray-300"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-b border-gray-100 px-2 py-4 bg-gray-50/20"})]},`empty-${v}`))]})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-end items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("button",{onClick:()=>d(m=>m.map(v=>({...v,totalSales:0,shareAmount:0}))),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-red-50 text-red-700 active:translate-y-0.5 uppercase mr-2",children:[e.jsx(Yd,{size:14})," Clear Sales"]}),e.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold hover:bg-[#003CB3] active:translate-y-0.5 uppercase",children:[e.jsx(Wo,{size:14})," Process Payments"]})]})]})},iM=()=>{jt();const[t]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[r,a]=R.useState({gang:"",shiftDate:new Date().toISOString().split("T")[0],shiftType:"Day Shift"}),[s,i]=R.useState([]),[o,c]=R.useState([]),[d,h]=R.useState(!1);R.useEffect(()=>{(async()=>{if(t.id)try{const A=await Te.fetchGangs(t.id);A.success&&i(A.data)}catch(A){console.error("Error fetching gangs:",A)}})()},[t.id]);const f=async()=>{if(t.id){h(!0);try{const w={companyId:t.id,date:r.shiftDate,shiftType:r.shiftType==="All"?null:r.shiftType,gangId:r.gang===""?null:r.gang},A=await Te.fetchGangShiftAssignments(w);A.success&&c(A.data)}catch(w){console.error("Error fetching assignments:",w)}finally{h(!1)}}};R.useEffect(()=>{f()},[t.id,r.shiftDate,r.shiftType,r.gang]);const[p,g]=R.useState([]),b=()=>{p.length===o.length?g([]):g(o.map(w=>w.id))},m=w=>{p.includes(w)?g(p.filter(A=>A!==w)):g([...p,w])},v=(w,A,E)=>{c(T=>T.map(_=>_.id===w?{..._,[A]:E}:_))},N=async()=>{if(t.id){h(!0);try{const w={companyId:t.id,date:r.shiftDate,assignments:o.map(E=>{const T=s.find(_=>_.name===E.gang);return{employeeId:E.id,gangId:T?T.id:null,shiftType:E.shift}}).filter(E=>E.gangId!==null)},A=await Te.saveGangShiftAssignments(w);A.success?(alert("Gang Shift assignments saved successfully."),f()):alert("Failed to save assignments: "+A.message)}catch(w){console.error("Error saving assignments:",w),alert("An error occurred while saving.")}finally{h(!1)}}};return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Pd,{size:18})," Gang Shift Maintenance"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["DATE: ",e.jsx("span",{className:"text-black",children:r.shiftDate})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Target Gang"}),e.jsxs("select",{value:r.gang,onChange:w=>a({...r,gang:w.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- Select Gang --"}),s.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Shift Type"}),e.jsxs("select",{value:r.shiftType,onChange:w=>a({...r,shiftType:w.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"All",children:"All Shifts"}),e.jsx("option",{children:"Day Shift"}),e.jsx("option",{children:"Night Shift"}),e.jsx("option",{children:"Swing Shift"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Shift Date"}),e.jsx("input",{type:"date",value:r.shiftDate,onChange:w=>a({...r,shiftDate:w.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7] uppercase"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center cursor-pointer hover:bg-gray-300",onClick:b,children:p.length===o.length&&o.length>0?e.jsx(mu,{size:14,className:"mx-auto text-black"}):e.jsx(Dp,{size:14,className:"mx-auto text-gray-500"})}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-left",children:"Job Role"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-left",children:"Assigned Gang"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-left",children:"Assigned Shift"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-24 text-center",children:"Status"})]})}),e.jsxs("tbody",{children:[o.map((w,A)=>e.jsxs("tr",{className:`hover:bg-blue-50 group transition-colors cursor-pointer ${p.includes(w.id)?"bg-blue-100":""}`,onClick:E=>{E.target.tagName!=="SELECT"&&E.target.tagName!=="OPTION"&&m(w.id)},children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center",onClick:E=>E.stopPropagation(),children:e.jsx("button",{onClick:()=>m(w.id),className:"flex items-center justify-center w-full h-full",children:p.includes(w.id)?e.jsx(mu,{size:14,className:"mx-auto text-blue-700"}):e.jsx(Dp,{size:14,className:"mx-auto text-gray-400"})})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:A+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:w.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:w.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-600",children:w.role}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsxs("select",{value:w.gang,onChange:E=>v(w.id,"gang",E.target.value),className:"w-full px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-bold text-blue-700",children:[e.jsx("option",{value:"Unassigned",children:"Unassigned"}),s.map(E=>e.jsx("option",{value:E.name,children:E.name},E.id))]})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsxs("select",{value:w.shift,onChange:E=>v(w.id,"shift",E.target.value),className:"w-full px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-bold text-gray-700",children:[e.jsx("option",{children:"Day Shift"}),e.jsx("option",{children:"Night Shift"}),e.jsx("option",{children:"Swing Shift"})]})}),e.jsx("td",{className:`border-b border-gray-200 px-2 py-1 text-center font-bold ${w.status==="Active"?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:w.status})]},w.id)),[...Array(Math.max(0,15-o.length))].map((w,A)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 bg-gray-50"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 text-center bg-gray-50 text-gray-300"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-b border-gray-100 px-2 py-4 bg-gray-50/20"})]},`empty-${A}`))]})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-end items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("button",{onClick:()=>c(o.map(w=>({...w,gang:"Unassigned",shift:"Day Shift"}))),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-red-50 text-red-700 active:translate-y-0.5 uppercase mr-2",children:[e.jsx(Yd,{size:14})," Clear Assignments"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold hover:bg-[#003CB3] active:translate-y-0.5 uppercase",children:[e.jsx(qs,{size:14})," Save Gang Shift"]})]})]})},lM=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Ln,{size:18}),r==="error"&&e.jsx(nc,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},oM=({isOpen:t,onClose:r,title:a,children:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,cM=()=>{jt();const[t,r]=R.useState(!1),[a]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[s]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[i,o]=R.useState({period:new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-"),department:"",search:""}),[c,d]=R.useState([]),[h,f]=R.useState([]),[p,g]=R.useState([]),[b,m]=R.useState(null),[v,N]=R.useState(!1),[w,A]=R.useState(null),[E,T]=R.useState(""),[_,O]=R.useState(!1),W=(J,re="success")=>{m({message:J,type:re})},F=async()=>{if(s.id)try{r(!0);const J={companyId:s.id,status:"POSTED"};i.period&&(J.period=i.period);const re=await Te.fetchTransactionRegister(J);if(re.success){const oe=(re.data.transactions||[]).map(ve=>({id:ve.id,txId:ve.id.substring(0,8).toUpperCase(),date:new Date(ve.transactionDate).toLocaleDateString(),empId:ve.employee?.employeeId||"N/A",name:`${ve.employee?.firstName} ${ve.employee?.lastName}`.toUpperCase(),type:ve.code||ve.type,amount:parseFloat(ve.amount),status:ve.status==="POSTED"?"Posted":"Voided",postedBy:ve.postedBy||"Admin",department:ve.employee?.department?.name||"General"}));d(oe)}}catch(J){console.error(J),W("Failed to fetch register data","error")}finally{r(!1)}},P=async()=>{if(s.id)try{const J=await Te.fetchDepartments(s.id);J.success&&f(J.data)}catch(J){console.error("Failed to fetch departments",J)}},z=()=>{const J=[],re=new Date;for(let oe=0;oe<12;oe++){const ve=new Date(re.getFullYear(),re.getMonth()-oe,1),Ne=ve.toLocaleString("default",{month:"long",year:"numeric"}),q=ve.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-");J.push({label:Ne,value:q})}g(J)};R.useEffect(()=>{s.id&&(F(),P(),z())},[s.id,i.period]);const M=J=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(J),C=J=>{A(J),T(""),N(!0)},U=async()=>{if(w){if(!E.trim()){W("Please provide a reason for reversal.","error");return}try{O(!0);const J=await Te.voidTransaction(w.id,{reason:E,voidedBy:a.email});J.success?(W("Transaction reversed successfully.","success"),N(!1),F()):W(J.message||"Failed to reverse transaction.","error")}catch(J){console.error(J),W("Error processing reversal.","error")}finally{O(!1)}}},B=()=>{if(X.length===0){W("No records to export.","info");return}const J=X.map(ve=>({"TX ID":ve.txId,DATE:ve.date,EMPLOYEE:ve.name,CATEGORY:ve.type,AMOUNT:ve.amount,STATUS:ve.status,"POSTED BY":ve.postedBy})),re=ar.json_to_sheet(J),oe=ar.book_new();ar.book_append_sheet(oe,re,"Posted Transactions"),on(oe,`Posted_Register_${i.period}.xlsx`),W("Excel Export generated successfully.","success")},X=c.filter(J=>{const re=!i.department||J.department.toLowerCase().includes(i.department.toLowerCase()),oe=J.name.toLowerCase().includes(i.search.toLowerCase())||J.empId.toLowerCase().includes(i.search.toLowerCase())||J.id.toLowerCase().includes(i.search.toLowerCase());return re&&oe}),ue=X.reduce((J,re)=>re.status==="Posted"?J+re.amount:J,0);return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden relative",children:[b&&e.jsx(lM,{message:b.message,type:b.type,onClose:()=>m(null)}),e.jsx(oM,{isOpen:v,onClose:()=>N(!1),title:"Confirm Reversal",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-3 rounded text-red-800 text-xs flex items-start gap-2",children:[e.jsx(el,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["Most transactions cannot be un-posted. This action will ",e.jsx("strong",{children:"VOID"})," the transaction and set the amount to $0.00."]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("label",{className:"block font-bold text-gray-700 mb-1 uppercase",children:"Reason for Reversal"}),e.jsx("textarea",{value:E,onChange:J=>T(J.target.value),className:"w-full border border-gray-400 p-2 text-xs font-medium outline-none focus:border-blue-500 h-20 resize-none rounded-sm",placeholder:"e.g. Data Entry Error, Duplicate Record..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:U,disabled:_,className:"px-4 py-2 bg-red-600 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-red-700 transition-colors shadow-sm flex items-center gap-2",children:[_?e.jsx(Ut,{size:12,className:"animate-spin"}):e.jsx(Tp,{size:12}),_?"Voiding...":"Confirm Void"]})]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-3 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2 italic",children:[e.jsx(rr,{size:18})," Posted Transaction Register"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[t&&e.jsxs("div",{className:"text-[10px] font-bold text-blue-700 animate-pulse flex items-center gap-1",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," SYNCHRONIZING..."]}),e.jsxs("div",{className:"text-xs font-black text-gray-500 uppercase",children:["NET VALUE: ",e.jsxs("span",{className:"text-blue-900 text-sm bg-white px-3 py-1 border border-gray-300 rounded shadow-inner ml-2",children:["$",M(ue)]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-[10px] font-black italic uppercase items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Filter Pay Period"}),e.jsx("select",{value:i.period,onChange:J=>o({...i,period:J.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 h-9 px-2 bg-white shadow-inner font-black text-blue-900 outline-none focus:border-blue-500",children:p.map(J=>e.jsx("option",{value:J.value,children:J.label},J.value))})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Department"}),e.jsxs("select",{value:i.department,onChange:J=>o({...i,department:J.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 h-9 px-2 bg-white shadow-inner font-black text-blue-900 outline-none focus:border-blue-500",children:[e.jsx("option",{value:"",children:"-- All Departments --"}),h.map(J=>e.jsx("option",{value:J.name,children:J.name},J.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Search Records"}),e.jsxs("div",{className:"flex items-center border-2 border-white border-r-gray-400 border-b-gray-400 bg-white h-9 px-3 focus-within:border-blue-500 shadow-inner",children:[e.jsx(Ga,{size:14,className:"text-gray-400 mr-2 shrink-0 pointer-events-none"}),e.jsx("input",{type:"text",value:i.search,onChange:J=>o({...i,search:J.target.value}),placeholder:"NAME, ID OR TRX#...",className:"w-full h-full outline-none font-black text-blue-900 uppercase placeholder:normal-case placeholder:italic placeholder:font-bold"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:F,disabled:t,className:`w-full h-9 border-2 border-white border-r-gray-600 border-b-gray-600 shadow-md px-4 active:translate-y-0.5 active:shadow-inner text-[10px] font-black transition-all flex items-center justify-center gap-2 tracking-widest ${t?"bg-gray-100 text-gray-400":"bg-[#E0DCCF] hover:bg-white text-blue-800 uppercase"}`,children:[e.jsx(Ut,{size:12,className:t?"animate-spin":""}),t?"BUSY...":"REFRESH DATA"]})})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 rounded-sm",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm border-b-2 border-gray-400 font-black italic uppercase text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-left",children:"Trx ID"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-left",children:"Date"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-left w-40",children:"Transaction Code"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-right w-32",children:"Amount"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-left w-24",children:"Posted By"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-center",children:"Status"}),e.jsx("th",{className:"px-2 py-3 w-10 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:X.length>0?X.map(J=>e.jsxs("tr",{className:`hover:bg-blue-50 group transition-colors ${J.status==="Reversed"?"opacity-60 bg-gray-50":""}`,children:[e.jsxs("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-gray-400 group-hover:text-blue-600 transition-colors uppercase tabular-nums",children:["#",J.txId]}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-mono text-gray-500 italic",children:J.date}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-gray-700 uppercase",children:J.empId}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-blue-900 italic tracking-tight uppercase group-hover:underline",children:J.name}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2",children:e.jsx("span",{className:"text-[10px] bg-gray-50 border border-gray-300 px-2 py-0.5 rounded italic font-black text-gray-600 uppercase",children:J.type})}),e.jsxs("td",{className:`border-r border-gray-200 px-2 py-2 text-right font-black italic tabular-nums group-hover:scale-105 transition-transform origin-right ${J.status==="Reversed"?"text-gray-400 line-through":"text-blue-800"}`,children:["$",M(J.amount)]}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-gray-500 italic font-bold text-[10px] uppercase truncate max-w-[80px]",children:J.postedBy}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full font-black italic uppercase text-[9px] border shadow-sm ${J.status==="Posted"?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-500 border-red-200"}`,children:J.status})}),e.jsx("td",{className:"px-1 py-2 text-center",children:J.status==="Posted"&&e.jsx("button",{onClick:()=>C(J),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded-full transition-all active:scale-90",title:"Reverse Transaction",children:e.jsx(Tp,{size:14})})})]},J.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-20 text-gray-300 font-black italic uppercase tracking-[0.2em] bg-gray-50/50",children:t?"Accessing Secure Register...":"No Posted Records Found"})})})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t-2 border-white p-3 flex justify-between items-center shadow-2xl shrink-0 z-20",children:[e.jsxs("div",{className:"text-[10px] font-black italic text-gray-500 uppercase tracking-widest",children:["SYSTEM STATUS: OK | ",X.length," RECORDS IN BUFFER"]}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-8 py-3 bg-[#316AC5] text-white border-2 border-white border-r-[#000080] border-b-[#000080] border-l-white border-t-white shadow-xl active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 text-[11px] font-black italic hover:bg-blue-600 transition-all uppercase tracking-widest",children:[e.jsx(Er,{size:14})," Export to Excel"]})]})]})},dM=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Ln,{size:18}),r==="error"&&e.jsx(nc,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},uM=({isOpen:t,onClose:r,title:a,children:s})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,fM=()=>{jt();const[t,r]=R.useState(!1),[a,s]=R.useState(!1),[i]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[o]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[c,d]=R.useState({period:new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase(),type:"All"}),[h,f]=R.useState([]),[p,g]=R.useState([]),[b,m]=R.useState([]),[v,N]=R.useState(null),[w,A]=R.useState(!1),E=(C,U="success")=>{N({message:C,type:U})},T=async()=>{if(o.id)try{r(!0);const C={companyId:o.id,status:"ENTERED"};c.type!=="All"&&(C.type=c.type),c.period&&(C.period=c.period);const U=await Te.fetchTransactions(C);if(U.success){const B=(U.data||[]).map(X=>({id:X.id,empId:X.employee?.employeeId||"N/A",name:`${X.employee?.firstName} ${X.employee?.lastName}`.toUpperCase(),type:X.type,amount:parseFloat(X.amount),date:new Date(X.transactionDate).toLocaleDateString(),status:X.status,code:X.code}));f(B),m([])}}catch(C){console.error(C),E("Failed to fetch pending transactions.","error")}finally{r(!1)}},_=()=>{const C=[],U=new Date;for(let B=0;B<12;B++){const X=new Date(U.getFullYear(),U.getMonth()-B,1),ue=X.toLocaleString("default",{month:"long",year:"numeric"}),J=X.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-").toUpperCase();C.push({label:ue,value:J})}g(C)};R.useEffect(()=>{o.id&&(_(),T())},[o.id,c.type,c.period]);const O=()=>{b.length===h.length&&h.length>0?m([]):m(h.map(C=>C.id))},W=C=>{b.includes(C)?m(b.filter(U=>U!==C)):m([...b,C])},F=()=>{if(b.length===0){E("No transactions selected.","error");return}A(!0)},P=async()=>{A(!1);try{s(!0);const C=await Te.postTransactions({transactionIds:b,postedBy:i.email,companyId:o.id});C.success?(E(`Successfully posted ${C.data.count} transactions!`,"success"),T()):E(C.message||"Failed to post transactions.","error")}catch(C){console.error(C),E("Error during posting process.","error")}finally{s(!1)}},z=C=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C),M=h.filter(C=>b.includes(C.id)).reduce((C,U)=>C+U.amount,0);return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden relative",children:[v&&e.jsx(dM,{message:v.message,type:v.type,onClose:()=>N(null)}),e.jsx(uM,{isOpen:w,onClose:()=>A(!1),title:"Confirm Posting",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"text-xs text-gray-700 font-medium",children:["You are about to post ",e.jsx("span",{className:"font-black text-blue-700",children:b.length})," transactions.",e.jsx("br",{}),e.jsx("br",{}),"Total Value: ",e.jsxs("span",{className:"font-black text-blue-700",children:["$",z(M)]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-red-600 font-bold uppercase italic text-[10px]",children:"Warning: This action cannot be undone. Items will be locked."})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-700 transition-colors shadow-sm flex items-center gap-2",children:[e.jsx(po,{size:12})," Confirm Post"]})]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-3 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2 italic",children:[e.jsx(po,{size:18})," Post Pending Transactions"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[t&&e.jsxs("div",{className:"text-[10px] font-bold text-blue-700 animate-pulse flex items-center gap-1",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," SCANNING PENDING..."]}),e.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-tighter",children:"SELECT PENDING ENTRIES TO COMMIT"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-[10px] font-black italic uppercase",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Pay Period"}),e.jsx("select",{value:c.period,onChange:C=>d({...c,period:C.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 p-1.5 bg-white shadow-inner outline-none focus:border-blue-500 font-black text-blue-900",children:p.map(C=>e.jsx("option",{value:C.value,children:C.label},C.value))})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Type Filter"}),e.jsxs("select",{value:c.type,onChange:C=>d({...c,type:C.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 p-1.5 bg-white shadow-inner outline-none focus:border-blue-500 font-black text-blue-900",children:[e.jsx("option",{value:"All",children:"All Transactions"}),e.jsx("option",{value:"EARNING",children:"Earning"}),e.jsx("option",{value:"DEDUCTION",children:"Deduction"}),e.jsx("option",{value:"ALLOWANCE",children:"Allowance"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"bg-yellow-100 border-2 border-white border-r-yellow-600 border-b-yellow-600 p-2 text-yellow-800 flex items-center gap-2 w-full shadow-sm",children:[e.jsx(el,{size:14,className:"shrink-0"}),e.jsx("span",{className:"font-black italic",children:"POSTED ITEMS CANNOT BE REVERTED. VERIFY TOTALS BEFORE PROCEEDING."})]})})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 rounded-sm",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm border-b-2 border-gray-400 font-black italic uppercase text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-10 text-center cursor-pointer hover:bg-white transition-colors",onClick:O,children:b.length===h.length&&h.length>0?e.jsx(mu,{size:14,className:"mx-auto text-blue-700"}):e.jsx(Dp,{size:14,className:"mx-auto text-gray-500"})}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 w-24 text-left",children:"Date"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 text-left w-32",children:"Type"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 w-32 text-right",children:"Amount"}),e.jsx("th",{className:"px-2 py-2 w-24 text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:h.length>0?h.map(C=>e.jsxs("tr",{className:`hover:bg-blue-50 group cursor-pointer transition-colors ${b.includes(C.id)?"bg-blue-100":""}`,onClick:()=>W(C.id),children:[e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:b.includes(C.id)?e.jsx(mu,{size:14,className:"mx-auto text-blue-700"}):e.jsx(Dp,{size:14,className:"mx-auto text-gray-300"})}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-mono text-gray-500 italic",children:C.date}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-gray-700 group-hover:text-blue-700 uppercase",children:C.empId}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-blue-900 italic tracking-tight uppercase group-hover:underline",children:C.name}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black",children:e.jsx("span",{className:"text-[10px] bg-gray-100 border border-gray-300 px-2 py-0.5 rounded italic uppercase leading-none",children:C.code||C.type})}),e.jsxs("td",{className:"border-r border-gray-200 px-2 py-2 text-right font-black text-blue-800 tabular-nums italic",children:["$",z(C.amount)]}),e.jsx("td",{className:"px-2 py-2 text-center italic text-yellow-600 font-black text-[9px] uppercase animate-pulse",children:C.status})]},C.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-20 text-gray-300 font-black italic uppercase tracking-[0.2em] bg-gray-50/50",children:t?"Scanning Secure Registry...":"No Pending Transactions Found"})})})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t-2 border-white p-3 flex justify-between items-center shadow-2xl shrink-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-6 font-black italic uppercase",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] text-gray-500",children:"Selection Count"}),e.jsxs("span",{className:"text-xs text-gray-800",children:[b.length," ITEMS"]})]}),e.jsxs("div",{className:"flex flex-col border-l border-gray-400 pl-6",children:[e.jsx("span",{className:"text-[9px] text-gray-500",children:"Commitment Value"}),e.jsxs("span",{className:"text-lg text-blue-800 tracking-tighter",children:["$",z(M)]})]}),e.jsxs("div",{className:"flex flex-col border-l border-gray-400 pl-6 opacity-50",children:[e.jsx("span",{className:"text-[9px] text-gray-500",children:"Total Pending"}),e.jsxs("span",{className:"text-xs text-gray-600 tracking-tighter",children:["$",z(h.reduce((C,U)=>C+U.amount,0))]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-md active:translate-y-0.5 active:shadow-inner text-[10px] font-black italic hover:bg-white text-gray-600 uppercase transition-all",children:b.length===h.length?"Deselect All":"Select All"}),e.jsxs("button",{onClick:F,disabled:b.length===0||a,className:`flex items-center gap-2 px-10 py-3 border-2 shadow-xl text-[11px] font-black italic uppercase transition-all tracking-widest ${b.length>0&&!a?"bg-green-700 text-white border-green-400 border-r-green-900 border-b-green-900 border-l-green-400 border-t-green-400 hover:bg-green-600 active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0":"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed opacity-50"}`,children:[a?e.jsx(Ut,{size:16,className:"animate-spin"}):e.jsx(po,{size:16}),a?"Processing...":"Post Selected to Register"]})]})]})]})},hM=()=>{const t=jt(),r=[{id:"gang-shift",title:"Gang & Shift Rotation",description:"Manage complex team assignments, shift patterns, and gang allocations for payroll processing.",icon:e.jsx(Pd,{size:24,className:"text-blue-600"}),path:"/processing/gang-shift",status:"Active",category:"Operations"},{id:"sales-commission",title:"Sales Commission Engine",description:"Automated calculation of sales shares, commissions, and performance-based payouts.",icon:e.jsx(Wo,{size:24,className:"text-green-600"}),path:"/processing/sales-share",status:"Active",category:"Finance"},{id:"mass-update",title:"Mass Data Processor",description:"Bulk update employee records, rates, and static data fields efficiently.",icon:e.jsx(Zi,{size:24,className:"text-purple-600"}),path:"/processing/mass-updating",status:"Active",category:"Admin Tools"},{id:"mass-entry",title:"Mass Transaction Entry",description:"High-speed data entry for payroll transactions, allowances, and deductions.",icon:e.jsx(Od,{size:24,className:"text-orange-600"}),path:"/processing/mass-entry",status:"Active",category:"Data Entry"},{id:"bank-integrations",title:"Bank Integration Hub",description:"Generate proprietary bank files for BNS, NCB, JMMB, and other local financial institutions.",icon:e.jsx($5,{size:24,className:"text-indigo-600"}),path:"/bank/details",status:"Configured",category:"Banking"},{id:"system-tools",title:"System Diagnostics",description:"Advanced system checks, database integrity tools, and granular configuration.",icon:e.jsx(Rn,{size:24,className:"text-gray-600"}),path:"/tools",status:"Restricted",category:"Maintenance"}];return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#EBE9D8] border-b border-white p-4 shadow-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-blue-600 p-2 rounded text-white shadow-sm",children:e.jsx(J5,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0B4FD7] font-black text-xl uppercase tracking-wider",children:"Customized Modules"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Installed Components & Extensions"})]})]})}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:r.map(a=>e.jsxs("div",{className:"bg-white border border-gray-400 shadow-[2px_2px_0_rgba(0,0,0,0.1)] p-5 flex flex-col hover:border-blue-500 transition-colors group h-full",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg group-hover:bg-blue-50 group-hover:border-blue-100 transition-colors",children:a.icon}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest px-2 py-1 rounded border ${a.status==="Active"?"bg-green-50 text-green-700 border-green-200":a.status==="Configured"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-100 text-gray-500 border-gray-200"}`,children:a.status})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-blue-700",children:a.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-6 leading-relaxed flex-1",children:a.description}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:a.category}),e.jsxs("button",{onClick:()=>t(a.path),className:"flex items-center gap-2 text-xs font-bold text-blue-700 hover:text-blue-900 hover:underline uppercase tracking-wide",children:["Login Module ",e.jsx(Qc,{size:14})]})]})]},a.id))}),e.jsx("div",{className:"max-w-7xl mx-auto mt-8 text-center",children:e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-[0.2em]",children:"HRM Terminal v2.5.0  Registered to Island HR Solutions"})})]})]})},pM=()=>{const t=jt(),[r,a]=R.useState(""),[s,i]=R.useState("All"),c=[{id:1,title:"Employee Directory",subtitle:"Manage staff records and profiles",path:"/employees",type:"Employee"},{id:2,title:"Attendance Ledger",subtitle:"Daily check-in/out registers",path:"/attendance",type:"Employee"},{id:3,title:"Leave Applications",subtitle:"Holidays, Sick Leave, CASUAL",path:"/leave",type:"Employee"},{id:4,title:"Payroll Register",subtitle:"Master pay sheets and totals",path:"/payroll/register",type:"Report"},{id:5,title:"Salary Management",subtitle:"Base pay and contract settings",path:"/salary",type:"Employee"},{id:6,title:"Payroll Calculation",subtitle:"Run Jamaica Tax Engine",path:"/processing/payroll-calculation",type:"Page"},{id:7,title:"Processing Status",subtitle:"System validation and errors",path:"/processing/status",type:"Page"},{id:8,title:"Payslip Management",subtitle:"Generate and dispatch slips",path:"/payslips/manage",type:"Page"},{id:9,title:"Employee Report",subtitle:"Staff list with demographics",path:"/reports/employee",type:"Report"},{id:10,title:"Attendance Summary",subtitle:"Work hour breakdowns",path:"/reports/attendance",type:"Report"},{id:11,title:"Salary Report",subtitle:"Pay structure analysis",path:"/reports/salary",type:"Report"},{id:12,title:"Regulatory Hub",subtitle:"NHT, NIS, S01, S02 Returns",path:"/reports/hub",type:"Report"},{id:13,title:"System Search",subtitle:"Global lookup tool",path:"/search",type:"Page"},{id:14,title:"Help & Knowledge",subtitle:"Documentation and support",path:"/help",type:"Page"},{id:15,title:"File Manager",subtitle:"Uploads and downloads",path:"/files",type:"Page"},{id:16,title:"System Logs",subtitle:"Audit trail explorer",path:"/tools/audit",type:"Page"},{id:17,title:"Cheque Printing",subtitle:"Physical payment slips batch/single",path:"/processing/cheque-printing",type:"Page"},{id:18,title:"Bank Transfers (BNS)",subtitle:"Generate bank advice files",path:"/banking/bns",type:"Page"},{id:19,title:"S01 Monthly Return",subtitle:"Statutory monthly payroll filing",path:"/statutory/s01",type:"Report"},{id:20,title:"P45 Termination",subtitle:"Statutory termination certificate",path:"/statutory/p45",type:"Report"}].filter(h=>{const f=h.title.toLowerCase().includes(r.toLowerCase())||h.subtitle.toLowerCase().includes(r.toLowerCase()),p=s==="All"||h.type===s;return f&&p}),d=h=>{switch(h){case"Employee":return e.jsx(Pn,{size:16,className:"text-blue-600"});case"Page":return e.jsx(rr,{size:16,className:"text-gray-600"});case"Report":return e.jsx(rr,{size:16,className:"text-green-600"});case"Setting":return e.jsx(Rn,{size:16,className:"text-gray-600"});default:return e.jsx(Ga,{size:16})}};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-6 pb-4 px-4 sticky top-0 bg-[#EBE9D8] z-10 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"bg-blue-600 p-2 rounded-lg shadow-md",children:e.jsx(Ga,{size:24,className:"text-white"})}),e.jsx("h1",{className:"text-xl font-black text-[#0B4FD7] uppercase tracking-wider",children:"Global System Search"})]}),e.jsx("div",{className:"w-full max-w-2xl relative",children:e.jsx("input",{type:"text",autoFocus:!0,value:r,onChange:h=>a(h.target.value),placeholder:"Search employees, reports, pages, or transactions...",className:"w-full p-3 rounded shadow-[2px_2px_0_rgba(0,0,0,0.1)] border-2 border-blue-100 focus:border-blue-600 focus:shadow-[4px_4px_0_rgba(11,79,215,0.2)] outline-none text-base font-bold text-gray-700 transition-all uppercase placeholder:normal-case"})}),e.jsx("div",{className:"flex gap-2 mt-3",children:["All","Employee","Page","Report","Transaction"].map(h=>e.jsx("button",{onClick:()=>i(h),className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider transition-colors ${s===h?"bg-[#0B4FD7] text-white shadow-sm":"bg-white text-gray-500 hover:bg-gray-100"}`,children:h},h))})]}),e.jsx("div",{className:"flex-1 overflow-auto px-4 pt-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[r&&c.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsxs("p",{className:"font-bold",children:['No results found for "',r,'"']}),e.jsx("p",{className:"text-xs mt-1",children:"Try checking your spelling or using different keywords."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.map(h=>e.jsxs("div",{onClick:()=>t(h.path),className:"bg-white border border-gray-200 p-2.5 rounded hover:border-blue-500 hover:shadow-sm cursor-pointer transition-all group flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-gray-50 rounded group-hover:bg-blue-50 transition-colors",children:d(h.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-[13px] group-hover:text-blue-700 leading-tight",children:h.title}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wide",children:h.subtitle})]})]}),e.jsx(Qc,{size:14,className:"text-gray-300 group-hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0"})]},h.id))}),!r&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type above to begin searching..."})})]})})]})},xM=()=>{const[t,r]=R.useState([]),a=o=>{r(c=>c.includes(o)?c.filter(d=>d!==o):[...c,o])},s=[{question:"How do I reset an employee's password?",answer:"Go to the Employee Management screen, select the employee, click 'Edit', and use the 'Reset Password' option in the Security tab."},{question:"Why is the payroll calculation showing pending?",answer:"Payroll calculations remain in 'Pending' status until all timecards for the period are approved. Check the Timekeeper module for unapproved entries."},{question:"Can I reprint a payslip from last year?",answer:"Yes. Navigate to 'Reports > Payslip Archive', select the tax year and employee, and click 'Print Copy'."},{question:"How do I add a new allowance type?",answer:"Allowance types are managed in 'Company Settings > Payroll Engine'. You need Administrator privileges to add new pay codes."}],i=[{title:"User Manual PDF",icon:e.jsx(Ok,{size:18}),desc:"Complete guide to system functions"},{title:"Video Tutorials",icon:e.jsx(cA,{size:18}),desc:"Step-by-step walkthroughs"},{title:"Payroll Regulations",icon:e.jsx(rr,{size:18}),desc:"Jamaica Tax Guidelines 2025"}];return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#EBE9D8] border-b border-white p-4 shadow-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-emerald-600 p-2 rounded text-white shadow-sm",children:e.jsx(X5,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-emerald-800 font-black text-xl uppercase tracking-wider",children:"Help & Support"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Documentation & Assistance"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-2",children:s.map((o,c)=>e.jsxs("div",{className:"border border-gray-200 rounded overflow-hidden",children:[e.jsxs("button",{onClick:()=>a(c),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 text-left transition-colors",children:[e.jsx("span",{className:"font-bold text-xs text-gray-700 uppercase",children:o.question}),t.includes(c)?e.jsx(zd,{size:14}):e.jsx(xo,{size:14})]}),t.includes(c)&&e.jsx("div",{className:"p-4 bg-white text-xs text-gray-600 leading-relaxed border-t border-gray-100",children:o.answer})]},c))})]}),e.jsxs("div",{className:"bg-[#0B4FD7] text-white p-6 rounded shadow-md flex items-center justify-between overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"font-black text-lg uppercase tracking-widest",children:"Need Live Assistance?"}),e.jsx("p",{className:"text-blue-100 text-xs mt-1 max-w-md",children:"Our support team is available Mon-Fri, 9:00 AM - 5:00 PM EST. For critical payroll emergencies, use the priority hotline."}),e.jsx("button",{className:"mt-4 bg-white text-blue-700 px-6 py-2 rounded text-xs font-black uppercase tracking-widest hover:bg-blue-50 transition-colors shadow-sm",children:"Start Live Chat"})]}),e.jsx(M2,{size:120,className:"absolute -right-6 -bottom-6 text-white opacity-10 rotate-12"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Resources"}),e.jsx("div",{className:"space-y-3",children:i.map((o,c)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-100 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-blue-600",children:o.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-xs text-gray-800",children:o.title}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:o.desc})]})]},c))})]}),e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Contact Support"}),e.jsxs("div",{className:"space-y-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:e.jsx(ew,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:"1-888-HRM-HELP"}),e.jsx("p",{className:"text-gray-500",children:"Toll Free Support"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:e.jsx(M2,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:"support@islandhr.com"}),e.jsx("p",{className:"text-gray-500",children:"24/7 Ticket System"})]})]})]}),e.jsx("hr",{className:"my-4 border-gray-100"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-[10px] text-gray-400",children:["System ID: ",e.jsx("span",{className:"font-mono font-bold text-gray-600",children:"SYS-2025-02-06-A"})]})})]})]})]})})]})},mM=()=>{const t={layoutMode:"Comfortable",animations:!0,stickyToolbar:!0,compactSidebar:!1,autoHideTaskbar:!1,highContrast:!1},[r,a]=R.useState(t),[s,i]=R.useState("idle"),[o,c]=R.useState([]);R.useEffect(()=>{(async()=>{try{const v=await Te.fetchUserProfile();if(v.success&&v.data.windowPreferences)a(JSON.parse(JSON.stringify(v.data.windowPreferences)));else{const w=localStorage.getItem("hrm_window_settings");w&&a(JSON.parse(w))}const N=await Te.fetchSessions();N.success&&c(N.data.map(w=>({id:w.id,device:d(w.userAgent),ip:w.ipAddress||"Unknown IP",time:h(w.lastActive),isCurrent:w.token===localStorage.getItem("refreshToken")})))}catch(v){console.error("Failed to load window management data",v)}})()},[]);const d=m=>m?m.includes("Mobile")?"Mobile Terminal":m.includes("Windows")?"Windows Desktop":m.includes("Mac OS")?"Mac Workstation":"Web Client":"Unknown Device",h=m=>{const v=new Date(m),w=Math.floor((new Date-v)/1e3);return w<60?"Active Now":w<3600?`${Math.floor(w/60)} mins ago`:w<86400?`${Math.floor(w/3600)} hours ago`:`${Math.floor(w/86400)} days ago`},f=m=>{a(v=>({...v,[m]:!v[m]}))},p=()=>{a(t),localStorage.removeItem("hrm_window_settings");const m=document.getElementById("reset-btn");m&&(m.classList.add("bg-green-100","text-green-700"),setTimeout(()=>{m.classList.remove("bg-green-100","text-green-700")},500))},g=async()=>{i("saving"),localStorage.setItem("hrm_window_settings",JSON.stringify(r));try{await Te.updateWindowPreferences(r),i("success"),setTimeout(()=>i("idle"),2e3)}catch(m){console.error("Failed to save preferences",m),i("idle")}},b=async()=>{if(confirm("Are you sure you want to terminate all other remote sessions?"))try{const m=localStorage.getItem("refreshToken");if((await Te.terminateSessions(m)).success){alert("Remote sessions terminated successfully.");const N=await Te.fetchSessions();N.success&&c(N.data.map(w=>({id:w.id,device:d(w.userAgent),ip:w.ipAddress||"Unknown IP",time:h(w.lastActive),isCurrent:w.token===localStorage.getItem("refreshToken")})))}}catch(m){console.error("Failed to terminate sessions",m),alert("Failed to terminate sessions.")}};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#EBE9D8] border-b border-white p-4 shadow-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-indigo-600 p-2 rounded text-white shadow-sm",children:e.jsx(Cp,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-indigo-800 font-black text-xl uppercase tracking-wider",children:"Window Management"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Workspace & Viewport Configuration"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Interface Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{onClick:()=>a(m=>({...m,layoutMode:"Comfortable"})),className:`border-2 p-4 rounded cursor-pointer transition-all ${r.layoutMode==="Comfortable"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} `,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(CA,{size:18,className:r.layoutMode==="Comfortable"?"text-blue-600":"text-gray-400"}),e.jsx("span",{className:"font-bold text-xs uppercase",children:"Comfortable"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:"Standard spacing with optimized readability for desktop displays."})]}),e.jsxs("div",{onClick:()=>a(m=>({...m,layoutMode:"Compact"})),className:`border-2 p-4 rounded cursor-pointer transition-all ${r.layoutMode==="Compact"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} `,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(J5,{size:18,className:r.layoutMode==="Compact"?"text-blue-600":"text-gray-400"}),e.jsx("span",{className:"font-bold text-xs uppercase",children:"Compact Density"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:"High-density data grids and reduced padding for power users."})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(UA,{size:16,className:"text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:"Enable UI Animations"}),e.jsx("p",{className:"text-[10px] text-gray-400",children:"Smooth transitions between windows."})]})]}),e.jsx("input",{type:"checkbox",checked:r.animations,onChange:()=>f("animations"),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cp,{size:16,className:"text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:"Sticky Top Bar"}),e.jsx("p",{className:"text-[10px] text-gray-400",children:"Keep navigation visible when scrolling."})]})]}),e.jsx("input",{type:"checkbox",checked:r.stickyToolbar,onChange:()=>f("stickyToolbar"),className:"w-4 h-4"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Workspace Actions"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{id:"reset-btn",onClick:p,className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider transition-colors",children:[e.jsx(s8,{size:14})," Reset Layout"]}),e.jsx("button",{onClick:g,disabled:s!=="idle",className:`flex items-center gap-2 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider transition-all min-w-[140px] justify-center ${s==="success"?"bg-green-600 text-white":"bg-[#0B4FD7] hover:bg-blue-700 text-white"}`,children:s==="success"?e.jsxs(e.Fragment,{children:[" ",e.jsx(V5,{size:14})," Saved! "]}):s==="saving"?e.jsxs(e.Fragment,{children:[" ",e.jsx(RA,{size:14,className:"animate-spin"})," Saving... "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(qs,{size:14})," Save Preference "]})})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm h-full",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Active Viewports"}),e.jsx("p",{className:"text-[10px] text-gray-500 mb-4",children:"Manage active sessions connected to your workspace."}),e.jsx("div",{className:"space-y-3",children:o.map(m=>e.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded ${m.isCurrent?"border-blue-200 bg-blue-50":"border-gray-100 bg-gray-50"}`,children:[e.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:m.device.includes("Mobile")?e.jsx(x8,{className:"text-gray-400"}):e.jsx(Q5,{className:m.isCurrent?"text-blue-600":"text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-xs font-bold text-gray-800 uppercase",children:[m.device," ",m.isCurrent&&e.jsx("span",{className:"text-blue-600 text-[9px]",children:"(Current)"})]}),e.jsx("p",{className:"text-[10px] font-mono text-gray-400",children:m.ip})]}),e.jsx("div",{className:`text-[10px] font-bold px-2 py-1 rounded border uppercase ${m.isCurrent?"text-blue-600 bg-blue-100 border-blue-200":"text-green-600 bg-green-50 border-green-100"}`,children:m.time})]},m.id))}),e.jsx("button",{onClick:b,className:"w-full mt-6 border border-red-200 bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider transition-colors",children:"Terminate Remote Sessions"})]})})]})})]})},gM=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-orange-500"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Nn,{size:18}),r==="error"&&e.jsx(Xf,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},bM=()=>{const t=jt(),[r,a]=R.useState(!1),[s]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[i]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[o,c]=R.useState(null),[d,h]=R.useState({payee:"",amount:"",date:new Date().toISOString().split("T")[0],memo:"",chequeNumber:"104013",bank:"BNS - MAIN OPERATING"}),f=(b,m="success")=>{c({message:b,type:m})},p=b=>b?new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(b):"0.00",g=async(b=!1)=>{if(!d.payee||!d.amount){f("Please provide Payee and Amount.","warning");return}try{a(!0);const m={companyId:i.id,chequeNumber:d.chequeNumber,payee:d.payee,amount:parseFloat(d.amount),date:d.date,memo:d.memo,bankAccount:d.bank,status:b?"PRINTED":"PENDING",createdBy:s.email},v=await Te.createCheque(m);v.success?(f(b?"Cheque logged and sent to printer.":"Cheque saved to register.","success"),b&&setTimeout(()=>{window.print()},500)):f(v.message||"Failed to save cheque.","error")}catch(m){console.error(m),f("Server error occurred.","error")}finally{a(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[o&&e.jsx(gM,{message:o.message,type:o.type,onClose:()=>c(null)}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2 flex items-center justify-between shadow-sm no-print",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"text-gray-700",size:18}),e.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase italic",children:"Single Cheque Facility"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 border border-gray-400 text-[10px] font-bold hover:bg-white active:translate-y-0.5 transition-all text-gray-600 uppercase",children:[e.jsx(wu,{size:14})," Back"]})]}),e.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-auto flex flex-col items-center",children:e.jsxs("div",{className:"w-full max-w-5xl flex flex-col gap-8",children:[e.jsxs("div",{className:"bg-yellow-50 border-2 border-dashed border-yellow-300 p-8 flex items-center justify-center relative shadow-inner rounded-md overflow-hidden min-h-[220px]",children:[e.jsx("div",{className:"absolute top-2 left-4 text-[9px] font-black text-yellow-600/50 uppercase tracking-widest",children:"Live Security Preview"}),e.jsxs("div",{className:"w-full max-w-2xl bg-white border border-gray-300 p-8 shadow-xl flex flex-col gap-6 font-serif relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03] pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[e.jsxs("div",{className:"flex flex-col uppercase",children:[e.jsx("span",{className:"text-[11px] font-black tracking-tight",children:i.name||"Island HR Solutions Limited"}),e.jsx("span",{className:"text-[8px] font-bold text-gray-400",children:"Kingston, Jamaica"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-[12px] font-black text-gray-800",children:["NO. ",d.chequeNumber]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 border-b border-gray-300 min-w-[120px] text-right mt-1",children:d.date})]})]}),e.jsxs("div",{className:"flex items-end gap-3 relative z-10 mt-2",children:[e.jsx("span",{className:"text-[10px] font-bold italic text-gray-400 shrink-0",children:"PAY TO THE ORDER OF:"}),e.jsx("div",{className:"flex-1 border-b-2 border-blue-900/20 pb-1 px-4",children:e.jsx("span",{className:"text-lg font-black text-blue-900 uppercase tracking-widest whitespace-nowrap min-h-[28px] inline-block",children:d.payee||"........................................................"})}),e.jsxs("div",{className:"flex items-center gap-1 border-2 border-black p-1 px-3 bg-[#F8F9FA] shadow-sm shrink-0",children:[e.jsx("span",{className:"text-[10px] font-black",children:"$"}),e.jsx("span",{className:"text-sm font-black text-gray-900 min-w-[80px] text-right",children:p(d.amount)})]})]}),e.jsxs("div",{className:"flex items-end relative z-10",children:[e.jsx("span",{className:"text-[10px] font-bold italic text-gray-400 shrink-0 pr-4",children:"MEMO:"}),e.jsx("div",{className:"flex-1 border-b border-gray-200 text-[11px] font-bold text-gray-600 italic px-2 pb-1",children:d.memo||"Payroll Disbursement"}),e.jsx("div",{className:"w-48 ml-8 border-b-2 border-gray-300 pb-1 text-center",children:e.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:"AUTHORIZED SIGNATURE"})})]}),e.jsxs("div",{className:"text-[16px] font-black tracking-[0.3em] font-mono text-gray-400 mt-6 flex justify-center gap-4 relative z-10",children:[e.jsxs("span",{children:["000",d.chequeNumber,""]}),e.jsx("span",{children:"0090029"}),e.jsx("span",{children:"003495832"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 p-6 shadow-md grid grid-cols-1 md:grid-cols-2 gap-8 no-print",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-700 uppercase border-b border-gray-100 pb-2 flex items-center gap-2",children:[e.jsx(Pn,{size:14,className:"text-blue-600"})," Payee Information"]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Payee Name"}),e.jsx("input",{type:"text",placeholder:"Full Name or Entity...",value:d.payee,onChange:b=>h({...d,payee:b.target.value.toUpperCase()}),className:"p-2 border border-gray-300 bg-gray-50 text-xs font-black text-blue-900 outline-none focus:border-blue-500 focus:bg-white transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Cheque Amount (JMD)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Wo,{size:14})}),e.jsx("input",{type:"number",placeholder:"0.00",value:d.amount,onChange:b=>h({...d,amount:b.target.value}),className:"w-full p-2 pl-8 border border-gray-300 bg-gray-50 text-xs font-black text-blue-900 outline-none focus:border-blue-500 focus:bg-white transition-colors"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-700 uppercase border-b border-gray-100 pb-2 flex items-center gap-2",children:[e.jsx(On,{size:14,className:"text-blue-600"})," Transaction Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Issue Date"}),e.jsx("input",{type:"date",value:d.date,onChange:b=>h({...d,date:b.target.value}),className:"p-2 border border-gray-300 bg-gray-50 text-[11px] font-bold outline-none focus:border-blue-500 cursor-pointer"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Cheque Number"}),e.jsx("input",{type:"text",value:d.chequeNumber,onChange:b=>h({...d,chequeNumber:b.target.value}),className:"p-2 border border-gray-300 bg-gray-50 text-[11px] font-bold outline-none focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tighter flex items-center gap-1",children:[e.jsx(v8,{size:10})," Memo / Reference"]}),e.jsx("textarea",{rows:"1",placeholder:"Enter memo tag...",value:d.memo,onChange:b=>h({...d,memo:b.target.value}),className:"p-2 border border-gray-300 bg-gray-50 text-xs font-bold outline-none focus:border-blue-500 focus:bg-white transition-colors flex-1 resize-none"})]})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-2 flex flex-col sm:flex-row justify-end gap-3 no-print px-4",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-6 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(_r,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]}),e.jsxs("button",{onClick:()=>g(!1),disabled:r,className:"px-6 py-2.5 flex items-center justify-center gap-2 text-[10px] font-black text-blue-800 bg-white border-2 border-white border-b-gray-600 border-r-gray-600 hover:bg-blue-50 active:translate-y-0.5 transition-all w-full sm:w-auto uppercase italic",children:[r?e.jsx(Ut,{size:16,className:"animate-spin"}):e.jsx(qs,{size:16}),"Record Without Printing"]}),e.jsxs("button",{onClick:()=>g(!0),disabled:r,className:"px-10 py-2.5 bg-blue-700 text-white border-2 border-blue-500 border-b-blue-900 border-r-blue-900 flex items-center justify-center gap-2 text-[10px] font-black w-full sm:w-auto uppercase italic hover:bg-blue-800 active:translate-y-0.5 transition-all shadow-lg",children:[r?e.jsx(Ut,{size:16,className:"animate-spin"}):e.jsx(ea,{size:16}),"Finalize & Print Cheque"]})]})]})},yM=({message:t,type:r,onClose:a})=>{R.useEffect(()=>{const i=setTimeout(a,3e3);return()=>clearTimeout(i)},[a]);const s={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-orange-500"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${s[r]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[r==="success"&&e.jsx(Nn,{size:18}),r==="error"&&e.jsx(Xf,{size:18}),r==="warning"&&e.jsx(el,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:t}),e.jsx("button",{onClick:a,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx($a,{size:14})})]})},vM=({isOpen:t,onClose:r,title:a,children:s,type:i="normal"})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:`bg-white w-full max-w-sm rounded shadow-2xl border-2 overflow-hidden transform transition-all scale-100 ${i==="danger"?"border-red-500":"border-gray-200"}`,children:[e.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${i==="danger"?"bg-red-50 border-red-200":"bg-[#D4D0C8] border-gray-300"}`,children:[e.jsx("h3",{className:`font-black uppercase text-xs tracking-wider ${i==="danger"?"text-red-700":"text-gray-700"}`,children:a}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx($a,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:s})]})}):null,NM=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(""),[o,c]=R.useState("All"),[d]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[h]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[f,p]=R.useState([]),[g,b]=R.useState(null),[m,v]=R.useState(null),N=(F,P="success")=>{b({message:F,type:P})},w=async()=>{if(h.id)try{a(!0);const F=await Te.fetchChequeHistory({companyId:h.id});if(F.success){const P=(F.data.cheques||[]).map(z=>({id:z.id,chequeNum:z.chequeNumber,date:new Date(z.printDate||z.date).toLocaleDateString(),payee:z.payee?.toUpperCase()||"UNKNOWN PAYEE",amount:parseFloat(z.amount),bank:z.bankAccount||"Main Account",status:z.status||"Printed",type:z.type||"Single"}));p(P)}}catch(F){console.error(F),N("Failed to fetch history.","error")}finally{a(!1)}};R.useEffect(()=>{w()},[h.id]);const A=F=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(F),E=async()=>{if(m)try{a(!0);const F=await Te.voidCheque(m.id,{reason:"User Repayment Reversal",voidedBy:d.email});F.success?(N(`Cheque #${m.chequeNum} VOIDED successfully.`,"success"),w(),v(null)):N(F.message||"Failed to void cheque.","error")}catch(F){console.error(F),N("Server error during void operation.","error")}finally{a(!1)}},T=()=>{const P=[["Date","Cheque #","Payee","Amount","Bank","Type","Status"].join(","),..._.map(U=>[U.date,U.chequeNum,`"${U.payee}"`,U.amount,`"${U.bank}"`,U.type,U.status].join(","))].join(`
`),z=new Blob([P],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(z),C=document.createElement("a");C.setAttribute("href",M),C.setAttribute("download",`cheque_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(C),C.click(),document.body.removeChild(C),N("History exported to CSV.","info")},_=f.filter(F=>{const P=F.payee.toLowerCase().includes(s.toLowerCase())||F.chequeNum.includes(s)||F.id.toString().includes(s),z=o==="All"||F.bank.toLowerCase().includes(o.toLowerCase());return P&&z}),O=_.filter(F=>F.status==="Printed").reduce((F,P)=>F+P.amount,0),W=_.filter(F=>F.status==="Voided").reduce((F,P)=>F+P.amount,0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[g&&e.jsx(yM,{message:g.message,type:g.type,onClose:()=>b(null)}),e.jsx(vM,{isOpen:!!m,onClose:()=>v(null),title:"Security Override Required",type:"danger",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-3 rounded text-red-900 text-xs flex items-start gap-2",children:[e.jsx(el,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["Are you sure you want to ",e.jsxs("strong",{children:["VOID Cheque #",m?.chequeNum]}),"?",e.jsx("div",{className:"mt-1 font-normal opacity-80",children:"This action will nullify the financial impact but remain in the audit logs."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-700 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-red-800 transition-colors shadow-sm",children:"Confirm Void"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2.5 flex items-center justify-between shadow-sm select-none",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(rr,{className:"text-gray-700",size:20}),e.jsxs("div",{children:[e.jsx("span",{className:"font-black text-blue-900 text-sm uppercase italic block leading-none",children:"Global Cheque Issuance Register"}),e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mt-0.5",children:"Station 042 :: Secure Audit Stream"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[r&&e.jsxs("div",{className:"text-[10px] font-black text-blue-800 animate-pulse italic flex items-center gap-1",children:[e.jsx(Ut,{size:12,className:"animate-spin"})," SCANNING LEDGER..."]}),e.jsxs("button",{onClick:w,disabled:r,className:"flex items-center gap-2 px-5 py-2 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 text-[10px] font-black hover:bg-blue-50 active:translate-y-1 active:border-b-0 active:border-r-0 transition-all text-blue-900 uppercase italic shadow-md",children:[e.jsx(sn,{size:14,className:r?"animate-spin":""})," ",r?"FETCHING...":"SYNC_CENTRAL"]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 px-5 py-2 bg-[#E0DCCF] border-2 border-white border-r-gray-600 border-b-gray-600 text-[11px] font-black italic text-red-700 hover:bg-white hover:text-red-900 transition-all shadow-md active:translate-y-1 active:border-b-0 active:border-r-0 uppercase tracking-tighter",children:[e.jsx(_r,{size:16})," Close Terminal"]})]})]}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-gray-400 p-3 flex flex-col md:flex-row gap-4 items-center shadow-inner no-print",children:[e.jsxs("div",{className:"flex items-center bg-white border-2 border-white border-r-gray-400 border-b-gray-400 px-4 py-1 shadow-md group hover:border-blue-500 transition-all w-full md:w-96 h-10",children:[e.jsxs("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest shrink-0 border-r border-gray-100 pr-4 h-4 flex items-center gap-2 italic",children:[e.jsx(Ga,{size:14})," Global Search"]}),e.jsx("input",{type:"text",placeholder:"RECIPIENT PAYEE OR SERIAL #",value:s,onChange:F=>i(F.target.value),className:"bg-transparent outline-none flex-1 text-[11px] font-black text-blue-950 border-none focus:ring-0 p-0 pl-4 uppercase placeholder:text-gray-300 placeholder:font-normal placeholder:italic italic"})]}),e.jsxs("div",{className:"flex items-center bg-white border-2 border-white border-r-gray-400 border-b-gray-400 px-4 py-1 shadow-md group hover:border-blue-500 transition-all w-full md:w-72 h-10",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest shrink-0 border-r border-gray-100 pr-4 h-4 flex items-center italic",children:"Bank Source"}),e.jsxs("select",{value:o,onChange:F=>c(F.target.value),className:"bg-transparent outline-none flex-1 text-[11px] font-black text-blue-900 border-none focus:ring-0 p-0 pl-4 appearance-none cursor-pointer italic",children:[e.jsx("option",{value:"All",children:"All Active Accounts"}),e.jsx("option",{value:"BNS",children:"BNS Operating"}),e.jsx("option",{value:"NCB",children:"NCB Payroll"}),e.jsx("option",{value:"JN",children:"JN Development"})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex gap-4 w-full md:w-auto items-center",children:[e.jsxs("button",{onClick:T,className:"flex-1 md:flex-none h-10 px-8 bg-[#316AC5] border-2 border-white border-r-[#000040] border-b-[#000040] text-[10px] font-black flex items-center justify-center gap-3 hover:bg-blue-600 active:translate-y-1 active:border-r-0 active:border-b-0 shadow-xl transition-all text-white uppercase italic tracking-widest",children:[e.jsx(Er,{size:14})," COMMIT TO CSV"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 md:flex-none h-10 px-8 bg-[#E0DCCF] border-2 border-white border-r-gray-600 border-b-gray-600 text-[10px] font-black flex items-center justify-center gap-3 hover:bg-white active:translate-y-1 active:border-r-0 active:border-b-0 shadow-md transition-all text-blue-900 uppercase italic tracking-widest",children:[e.jsx(ea,{size:14})," GEN_REPORT"]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-50 rounded-sm hover:border-blue-100 transition-colors",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse min-w-[1000px] relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#F0F0F0] z-20 shadow-sm border-b-2 border-gray-400 font-black italic uppercase text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-300 w-28 text-left",children:"Timestamp"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-28 text-center bg-gray-50 italic",children:"Serial Num"}),e.jsx("th",{className:"p-4 border-r border-gray-300 text-left",children:"Recipient Entity (Payee)"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-36 text-right",children:"Settlement (JMD)"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-36",children:"Bank Origin"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-24 text-center",children:"Batch Ph."}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-28 text-center",children:"Audit Status"}),e.jsx("th",{className:"p-4 w-20 text-center no-print bg-gray-50",children:"Control"})]})}),e.jsx("tbody",{className:"font-bold text-gray-700 divide-y divide-gray-100",children:_.length>0?_.map(F=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all group cursor-crosshair",children:[e.jsx("td",{className:"p-3 border-r border-gray-50 font-mono text-gray-400 group-hover:text-blue-600",children:F.date}),e.jsxs("td",{className:"p-3 border-r border-gray-50 bg-gray-50/20 text-center font-black text-gray-600 group-hover:text-blue-900 italic",children:["#",F.chequeNum]}),e.jsx("td",{className:"p-3 border-r border-gray-50 uppercase text-blue-900 font-black tracking-tight group-hover:translate-x-1 transition-transform",children:F.payee}),e.jsxs("td",{className:`p-3 border-r border-gray-50 text-right font-black italic tabular-nums group-hover:scale-105 transition-transform origin-right ${F.status==="Voided"?"text-gray-300 line-through":"text-blue-800"}`,children:["$ ",A(F.amount)]}),e.jsx("td",{className:"p-3 border-r border-gray-50 text-gray-400 text-[10px] uppercase font-black italic tracking-tighter truncate max-w-[120px]",children:F.bank}),e.jsx("td",{className:"p-3 border-r border-gray-50 text-center",children:e.jsx("span",{className:`px-2 py-0.5 text-[9px] rounded-full border-2 font-black italic uppercase tracking-tighter shadow-sm ${F.type==="Batch"?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:F.type})}),e.jsx("td",{className:"p-3 border-r border-gray-50 text-center",children:e.jsxs("div",{className:`inline-flex items-center justify-center gap-1.5 px-3 py-1 rounded-sm border-2 font-black italic text-[9px] uppercase shadow-inner ${F.status==="PRINTED"?"bg-green-50 border-green-200 text-green-700":F.status==="PENDING"?"bg-yellow-50 border-yellow-200 text-yellow-700":F.status==="VOID"?"bg-red-50 border-red-200 text-red-600 line-through":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[F.status==="PRINTED"?e.jsx(Nn,{size:12}):F.status==="PENDING"?e.jsx(Ut,{size:12}):e.jsx(Tp,{size:12}),F.status]})}),e.jsx("td",{className:"p-3 text-center no-print bg-gray-50/10",children:F.status!=="Voided"&&e.jsx("button",{onClick:()=>v(F),title:"EXECUTE VOID PROTOCOL",className:"p-1 px-3 bg-white border border-red-200 text-red-500 hover:bg-red-600 hover:text-white hover:border-red-700 rounded-sm shadow-sm active:scale-90 transition-all font-black text-[9px]",children:"VOID"})})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-[0.4em] select-none animate-pulse",children:"Scanning Secure Database Registry..."})})})]})})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-between items-center px-8 font-black text-gray-500 text-[10px] uppercase tracking-widest gap-4 shadow-2xl z-20",children:[e.jsx("div",{className:"flex bg-white px-4 py-1.5 border-2 border-white border-r-gray-200 border-b-gray-200 rounded-full shadow-inner",children:e.jsxs("span",{className:"text-gray-400 italic",children:["Showing ",_.length," of ",f.length," audit items in buffer"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 items-center bg-gray-200/50 p-2.5 px-6 rounded-sm border border-gray-300 shadow-inner",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[9px] opacity-70",children:"Cumulative Settlement Value"}),e.jsxs("span",{className:"text-blue-900 border-l border-gray-400 pl-3 font-black italic text-sm tabular-nums tracking-tighter",children:["$ ",O.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex items-center gap-3 border-l sm:border-l-2 border-gray-400 sm:pl-8",children:[e.jsx("span",{className:"text-[9px] opacity-70 text-red-400",children:"Voided Liabilities"}),e.jsxs("span",{className:"text-red-700 border-l border-gray-400 pl-3 font-black italic text-sm tabular-nums tracking-tighter",children:["$ ",W.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]})},wM=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(null),o=()=>{a(!0),i(null),setTimeout(()=>{const c=localStorage.getItem("company_settings_v1"),d=c?JSON.parse(c):null,h=[{id:1,label:"Browser Environment",status:"OK",desc:`${navigator.userAgent.slice(0,40)}...`,icon:e.jsx(Cp,{size:18,className:"text-blue-500"})},{id:2,label:"App Load Status",status:"OK",desc:"Application bundle verified (v2.5.0)",icon:e.jsx(Ln,{size:18,className:"text-green-500"})},{id:3,label:"Local Storage Health",status:localStorage?"OK":"FAIL",desc:`Available: ${Math.round(JSON.stringify(localStorage).length/1024)} KB used`,icon:e.jsx(Zi,{size:18,className:"text-purple-500"})},{id:4,label:"Payroll Configuration",status:d?"OK":"WARNING",desc:d?"Master settings detected":"Defaults in use (Needs Sync)",icon:e.jsx(rs,{size:18,className:"text-gray-500"})},{id:5,label:"Last Session Sync",status:"OK",desc:`Synchronized: ${new Date().toLocaleTimeString()}`,icon:e.jsx(Rg,{size:18,className:"text-orange-500"})}];i(h),a(!1)},2e3)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4 bg-white flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"System Diagnostics"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Health & Environment Analyzer"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 border border-gray-300 px-4 py-2 text-[10px] font-bold uppercase hover:bg-gray-50 transition-colors",children:[e.jsx(_r,{size:14,className:"text-gray-400"}),"Exit"]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-300 p-8 shadow-sm flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(Rg,{size:32,className:`text-blue-600 ${r?"animate-pulse":""}`})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase mb-2",children:"Internal Station Audit"}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md",children:"Run a comprehensive check on your local environment to ensure hardware, software, and storage interfaces are operating within nominal parameters."}),!r&&!s&&e.jsx("button",{onClick:o,className:"bg-gray-800 text-white px-12 py-3 rounded text-[10px] font-bold uppercase hover:bg-black transition-colors tracking-[0.2em] shadow-lg",children:"Run Full Diagnostics"}),r&&e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ut,{className:"animate-spin text-blue-600",size:32}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Scanning Components..."})]})]}),s&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-2 mb-4",children:["Diagnostic Report  ",new Date().toLocaleDateString()]}),s.map(c=>e.jsxs("div",{className:"bg-white border border-gray-200 p-4 flex items-center gap-4 shadow-sm group hover:border-gray-400 transition-colors",children:[e.jsx("div",{className:"p-2 bg-gray-50 border border-gray-100 rounded",children:c.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-bold text-gray-800 uppercase text-[11px]",children:c.label}),e.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded border ${c.status==="OK"?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-300"}`,children:c.status})]}),e.jsx("p",{className:"text-gray-400 font-medium text-[10px] uppercase",children:c.desc})]})]},c.id)),e.jsxs("div",{className:"bg-blue-600 p-4 flex justify-between items-center text-white mt-8 rounded shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rs,{size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold uppercase tracking-wider text-[11px]",children:"Audit Result: SECURE"}),e.jsx("p",{className:"text-blue-100 text-[9px] uppercase font-medium",children:"All critical station components are operational."})]})]}),e.jsx("button",{onClick:()=>i(null),className:"text-[9px] font-black uppercase text-blue-200 hover:text-white transition-colors",children:"Clear Report"})]})]})]})})]})},jM=()=>{const t=jt(),[r,a]=R.useState("Light"),[s,i]=R.useState(!1),[o,c]=R.useState(0),[d,h]=R.useState(!1),[f,p]=R.useState(!1),g=()=>{h(!1),i(!0),p(!1),c(0);let b=0;const m=setInterval(()=>{b+=Math.random()*20,b>=100&&(b=100,clearInterval(m),setTimeout(()=>{i(!1),p(!0),r==="Full"&&Object.keys(localStorage).forEach(v=>{(v.includes("log")||v.includes("temp"))&&localStorage.removeItem(v)})},500)),c(b)},300)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4 bg-white flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Database Integrity Utility"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Cache Optimization & Record Pruning"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 border border-gray-300 px-4 py-2 text-[10px] font-bold uppercase hover:bg-gray-50 transition-colors",children:[e.jsx(_r,{size:14,className:"text-gray-400"}),"Exit"]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-300 p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-purple-50 rounded border border-purple-100",children:e.jsx(K5,{className:"text-purple-600",size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase",children:"Station Maintenance"}),e.jsx("p",{className:"text-gray-400 text-[10px] font-medium uppercase tracking-widest",children:"Storage & Performance Optimizer"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded",children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3",children:"Cleanup Level"}),e.jsxs("select",{value:r,onChange:b=>a(b.target.value),disabled:s,className:"w-full p-3 bg-white border border-gray-300 rounded text-xs font-bold text-gray-700 outline-none focus:border-purple-500 transition-colors appearance-none",children:[e.jsx("option",{children:"Light (Cached UI Assets only)"}),e.jsx("option",{children:"Medium (UI Assets + Temporary Session Logs)"}),e.jsx("option",{children:"Full (Complete cache wipe + Reset non-critical settings)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border border-gray-100 rounded bg-white",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-2",children:"Target Storage"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 italic",children:"localStorage::HRM_TEMP_*"})]}),e.jsxs("div",{className:"p-4 border border-gray-100 rounded bg-white",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-2",children:"Estimated Recovery"}),e.jsx("p",{className:"text-xs font-bold text-green-600",children:r==="Light"?"12 KB":r==="Medium"?"45 KB":"150 KB"})]})]}),!s&&!f&&e.jsx("button",{onClick:()=>h(!0),className:"w-full bg-purple-600 text-white font-bold py-3 uppercase tracking-widest hover:bg-purple-700 shadow-md transition-all active:translate-y-0.5",children:"Run System Cleanup"}),s&&e.jsxs("div",{className:"space-y-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[e.jsx("span",{children:"Optimizing Tables & Cache..."}),e.jsxs("span",{children:[Math.round(o),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden border border-gray-200",children:e.jsx("div",{className:"h-full bg-purple-600 transition-all duration-300",style:{width:`${o}%`}})}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 font-mono text-[9px] italic",children:[e.jsx(Ut,{size:12,className:"animate-spin"}),e.jsx("span",{children:"TRUNCATING HRM_TEMP_BUFFER..."})]})]}),f&&e.jsxs("div",{className:"p-6 bg-green-50 border border-green-200 text-center animate-in fade-in zoom-in duration-300",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-200",children:e.jsx(Nn,{size:24,className:"text-green-600"})}),e.jsx("h3",{className:"text-sm font-bold text-green-800 uppercase mb-2",children:"Cleanup Successful"}),e.jsx("p",{className:"text-green-600/80 text-[10px] font-medium uppercase mb-6",children:"Temporary records removed. Station overhead reduced."}),e.jsx("button",{onClick:()=>p(!1),className:"text-[10px] font-black text-green-800 uppercase underline tracking-tighter hover:text-green-900",children:"Back to utility setup"})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-start gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[e.jsx(nc,{className:"text-yellow-600 shrink-0",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-yellow-800 text-[10px] uppercase tracking-wider mb-1",children:"Integrity Warning"}),e.jsx("p",{className:"text-yellow-700 text-[9px] font-medium uppercase leading-relaxed",children:'Avoid running "Full Cleanup" during an active payroll calculation session. Ensure all Master Engine operations are finalized before pruning temporary caches.'})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-[8px_8px_0_rgba(0,0,0,0.2)] max-w-sm w-full p-8 text-center animate-in slide-in-from-bottom-4 duration-200",children:[e.jsx(Yd,{className:"text-red-600 mx-auto mb-4",size:48}),e.jsx("h3",{className:"text-lg font-black text-gray-800 uppercase mb-2 tracking-tight",children:"Confirm Purge"}),e.jsxs("p",{className:"text-gray-500 text-[11px] font-medium mb-8 leading-relaxed",children:["You are about to execute a ",r," integrity cleanup. This action will permanently remove temporary station logs. Proceed?"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-3 border border-gray-300 font-bold uppercase text-[10px] hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:g,className:"flex-1 py-3 bg-red-600 text-white font-bold uppercase text-[10px] hover:bg-red-700 shadow-md transition-all active:translate-y-0.5",children:"Purge Now"})]})]})})]})},SM=()=>{const t=jt(),[r,a]=R.useState(!1),[s,i]=R.useState(null),[o,c]=R.useState([]);R.useEffect(()=>{c([{id:1,time:"14:20:05",activity:"Admin Login",status:"SUCCESS",ip:"127.0.0.1"},{id:2,time:"14:45:12",activity:"Settings Access",status:"SUCCESS",ip:"127.0.0.1"},{id:3,time:"15:10:33",activity:"Payroll Export",status:"FLAGGED",ip:"Internal Station"},{id:4,time:"Yesterday 10:15",activity:"Root Access Attempt",status:"FAILED",ip:"192.168.1.5"}])},[]);const d=()=>{a(!0),i(null),setTimeout(()=>{const h=JSON.parse(localStorage.getItem("currentUser")||"{}"),f={score:92,checks:[{id:1,label:"Session Integrity",status:"PASS",desc:`Authenticated as ${h.role||"Guest"}`,icon:e.jsx(rw,{size:16})},{id:2,label:"Encryption Protocol",status:"PASS",desc:"Station-to-Interface secured via AES-256 simulation",icon:e.jsx(Tf,{size:16})},{id:3,label:"Password Policy",status:"WARNING",desc:"Legacy password detected (Policy v1.2 required)",icon:e.jsx(Vo,{size:16})},{id:4,label:"Role-Based Access",status:"PASS",desc:`ACL restricted to ${h.role} scope`,icon:e.jsx(rs,{size:16})}],threats:[{id:1,type:"Unauthorized Request",origin:"192.168.1.5",severity:"High",msg:"Failed login attempt at 10:15 Yesterday"},{id:2,type:"Information Disclosure",origin:"Station App",severity:"Low",msg:"Local storage contains readable TRN fragments"}]};i(f),a(!1)},2500)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#1A1C1E] font-sans text-xs text-gray-300",children:[e.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 bg-[#212429] flex justify-between items-center shadow-lg",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-sm font-bold text-white uppercase tracking-tight flex items-center gap-2",children:[e.jsx(Vo,{className:"text-blue-500",size:18}),"Station Security Audit"]}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Access Control & Threat Detection"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 border border-gray-700 px-4 py-2 text-[10px] font-bold uppercase text-gray-400 hover:bg-gray-800 hover:text-white transition-colors",children:[e.jsx(_r,{size:14}),"Exit Terminal"]})]}),e.jsx("div",{className:"flex-1 p-6 lg:p-12 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-[#212429] border border-gray-800 p-8 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -top-12 -right-12 text-blue-500/10 group-hover:text-blue-500/20 transition-colors",children:e.jsx(Vo,{size:160})}),e.jsx("h2",{className:"text-xl font-black text-white uppercase mb-4 tracking-tight relative z-10",children:"Threat Landscape Scan"}),e.jsx("p",{className:"text-gray-400 text-sm mb-8 leading-relaxed relative z-10 max-w-lg",children:"Review station access logs, session tokens, and cryptographic handshakes to identify vulnerabilities in the local HRM instance."}),!r&&!s&&e.jsx("button",{onClick:d,className:"bg-blue-600 text-white font-bold py-4 px-12 uppercase tracking-[0.2em] shadow-[0_0_20px_rgba(37,99,235,0.3)] hover:bg-blue-700 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Initiate Cryptic Audit"}),r&&e.jsxs("div",{className:"flex flex-col items-center gap-6 py-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"animate-spin text-blue-500",size:48}),e.jsx(Vo,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white",size:20})]}),e.jsx("span",{className:"text-xs font-black text-blue-400 uppercase tracking-[0.3em] animate-pulse",children:"Analyzing Packets & Roles..."})]}),s&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-700",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.checks.map(h=>e.jsxs("div",{className:"bg-[#1A1C1E] border border-gray-800 p-4 flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded ${h.status==="PASS"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500"}`,children:h.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white uppercase text-[10px] mb-1",children:h.label}),e.jsx("p",{className:"text-gray-500 text-[9px] uppercase font-medium",children:h.desc})]})]},h.id))}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-6",children:[e.jsxs("h3",{className:"text-red-500 font-black uppercase text-[10px] tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Vo,{size:14})," Detectable Risks"]}),e.jsx("div",{className:"space-y-3",children:s.threats.map(h=>e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-3 last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-[11px] mb-1",children:h.type}),e.jsx("p",{className:"text-gray-500 text-[9px] uppercase font-bold tracking-tighter",children:h.msg})]}),e.jsx("span",{className:`px-2 py-0.5 text-[8px] font-black uppercase rounded ${h.severity==="High"?"bg-red-600 text-white":"bg-gray-700 text-gray-400"}`,children:h.severity})]},h.id))})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-[#212429] border border-gray-800 overflow-hidden shadow-xl h-full",children:[e.jsxs("div",{className:"bg-gray-800/20 px-4 py-3 border-b border-gray-800 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"Live Activity Log"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[o.map(h=>e.jsxs("div",{className:"font-mono text-[9px] space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center text-gray-500",children:[e.jsxs("span",{children:["[",h.time,"]"]}),e.jsxs("span",{className:h.status==="FAILED"?"text-red-500":h.status==="FLAGGED"?"text-yellow-500":"text-green-500",children:[":: ",h.status]})]}),e.jsxs("div",{className:"text-gray-400 border-l border-gray-700 pl-2",children:["SRC_IP: ",h.ip," | TASK: ",h.activity]})]},h.id)),e.jsxs("div",{className:"mt-8 p-4 bg-blue-900/10 border border-blue-500/20 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[e.jsx(p1,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Station Note"})]}),e.jsx("p",{className:"text-[9px] text-gray-500 uppercase font-bold leading-relaxed italic",children:"Security logs are persistent across browser sessions but restricted to this local machine instance only."})]})]})]})})]})})]})},EM=()=>{const t=jt(),[r,a]=R.useState([]),[s,i]=R.useState(!0),[o,c]=R.useState(""),[d,h]=R.useState(50),[f]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),p=async()=>{try{i(!0);const N=await Te.fetchAuditLogs(d);N.success&&Array.isArray(N.data)&&a(N.data)}catch(N){console.error("Failed to fetch audit logs",N)}finally{i(!1)}};R.useEffect(()=>{p()},[d]);const g=N=>N?String(N).replace(/_/g," ").toLowerCase().replace(/\b\w/g,w=>w.toUpperCase()):"UNKNOWN ACTION",b=N=>N?new Date(N).toLocaleString():"N/A",m=()=>{const N=r.filter(_=>(_.username||"").toLowerCase().includes(o.toLowerCase())||(_.action||"").toLowerCase().includes(o.toLowerCase())||(_.entity||"").toLowerCase().includes(o.toLowerCase())),w=[["ID","USER","ACTION","ENTITY","ENTITY ID","TIMESTAMP","IP","USER AGENT"],...N.map(_=>[_.id,_.username||_.userId,_.action,_.entity,_.entityId,_.createdAt,_.ipAddress||"N/A",`"${_.userAgent||"N/A"}"`])].map(_=>_.join(",")).join(`
`),A=new Blob([w],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(A),T=document.createElement("a");T.setAttribute("href",E),T.setAttribute("download",`Audit_Trail_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)},v=r.filter(N=>(N.username||"").toLowerCase().includes(o.toLowerCase())||(N.action||"").toLowerCase().includes(o.toLowerCase())||(N.entity||"").toLowerCase().includes(o.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight flex items-center gap-2",children:[e.jsx(Df,{className:"text-blue-600",size:20}),"System Audit Trail"]}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Secure immutable event logging"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:m,className:"px-4 py-2 bg-white border border-gray-300 text-[10px] font-bold uppercase text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Er,{size:14}),"Export Trail"]}),e.jsxs("button",{onClick:()=>t(-1),className:"px-4 py-2 bg-gray-800 text-white text-[10px] font-bold uppercase hover:bg-black transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(_r,{size:14}),"Exit Console"]})]})]}),e.jsxs("div",{className:"bg-[#EBECEF] p-4 px-6 border-b border-gray-300 grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{className:"md:col-span-2 flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Global Search"}),e.jsxs("div",{className:"flex items-center bg-white border border-gray-300 p-2 shadow-inner focus-within:border-blue-500 transition-colors",children:[e.jsx(Ga,{size:14,className:"text-gray-400 mr-2"}),e.jsx("input",{type:"text",placeholder:"NAME, ACTION, OR ENTITY...",value:o,onChange:N=>c(N.target.value),className:"w-full text-xs font-bold outline-none uppercase placeholder:italic placeholder:font-normal"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Entry Limit"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:N=>h(Number(N.target.value)),className:"w-full bg-white border border-gray-300 p-2 text-xs font-bold outline-none appearance-none",children:[e.jsx("option",{value:50,children:"Last 50 Entries"}),e.jsx("option",{value:100,children:"Last 100 Entries"}),e.jsx("option",{value:500,children:"Last 500 Entries"}),e.jsx("option",{value:1e3,children:"Full Archive (1000)"})]}),e.jsx(zd,{className:"absolute right-2 top-2 text-gray-400 pointer-events-none",size:14})]})]}),e.jsx("button",{onClick:p,className:"bg-white border border-gray-400 p-2 text-[10px] font-bold uppercase text-blue-700 shadow-sm hover:translate-y-[-1px] active:translate-y-[1px]",children:"Refresh Pulse"})]}),e.jsx("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"bg-white border border-gray-300 shadow-xl flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"overflow-auto flex-1 scrollbar-thin scrollbar-thumb-gray-300",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 border-b border-gray-300",children:e.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter italic",children:[e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Session User"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Operation / Action"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-center",children:"Entity"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"ID Reference"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-center",children:"Protocol IP"}),e.jsx("th",{className:"p-3",children:"Event Timestamp"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 font-medium",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Ut,{className:"animate-spin text-blue-600",size:32}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase animate-pulse",children:"Scanning Secure Repository..."})]})})}):v.length>0?v.map((N,w)=>e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors group text-[11px]",children:[e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center border border-gray-200 text-gray-500 group-hover:bg-blue-100 transition-colors",children:e.jsx(Pn,{size:12})}),e.jsx("span",{className:"font-bold text-gray-800 uppercase",children:N.username||"System"})]})}),e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsx("span",{className:"font-bold text-blue-900 italic tracking-tight uppercase",children:g(N.action)})}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center",children:e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 border border-blue-100 rounded text-[9px] font-black text-blue-700 uppercase",children:N.entity||"CORE"})}),e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsx("code",{className:"text-[10px] text-gray-400 group-hover:text-blue-600 transition-colors",children:N.entityId?`#${N.entityId.substring(0,8)}...`:"N/A"})}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center",children:e.jsx("span",{className:"text-[10px] font-mono text-gray-400 uppercase tracking-tighter",children:N.ipAddress||"0.0.0.0"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-mono italic text-[10px]",children:[e.jsx(xu,{size:12}),b(N.createdAt)]})})]},w)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center text-gray-300 font-black italic uppercase tracking-[0.2em]",children:"No Immutable Logs Found"})})})]})}),e.jsxs("div",{className:"bg-gray-50 p-2 px-6 border-t border-gray-300 flex justify-between items-center text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[e.jsxs("span",{children:["Buffer: ",v.length," Records displayed"]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(tc,{size:10,className:"animate-pulse"}),"Live Telemetry Link Active"]})]})]})})]})},kM=()=>{const[t,r]=R.useState([]),[a,s]=R.useState(!1),[i,o]=R.useState(!1),[c,d]=R.useState(null),[h,f]=R.useState(""),[p,g]=R.useState({code:"",name:"",type:"EARNING",description:"",isActive:!0}),b=async()=>{try{s(!0);const T=await Te.getTransactionCodes();T.success&&r(T.data||[])}catch(T){console.error("Failed to fetch transaction codes",T)}finally{s(!1)}};R.useEffect(()=>{b()},[]);const m=(T,_)=>{g(O=>({...O,[T]:_}))},v=T=>{d(T),g({code:T.code,name:T.name,type:T.type,description:T.description||"",isActive:T.isActive}),o(!0)},N=()=>{d(null),g({code:"",name:"",type:"EARNING",description:"",isActive:!0}),o(!0)},w=async T=>{if(T.preventDefault(),!p.code||!p.name||!p.type){alert("Code, Name and Type are required.");return}try{s(!0);let _;c?_=await Te.updateTransactionCode(c.id,p):_=await Te.createTransactionCode(p),_.success?(o(!1),b()):alert(_.message||"Operation failed.")}catch(_){console.error("Save failed",_),alert("Error saving transaction code.")}finally{s(!1)}},A=async T=>{if(window.confirm("Are you sure you want to delete this transaction code? This may affect existing transactions."))try{s(!0);const _=await Te.deleteTransactionCode(T);_.success?b():alert(_.message||"Delete failed.")}catch(_){console.error("Delete failed",_),alert("Error deleting transaction code.")}finally{s(!1)}},E=t.filter(T=>T.code.toLowerCase().includes(h.toLowerCase())||T.name.toLowerCase().includes(h.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsxs("div",{className:"bg-[#000080] text-white px-3 py-2 flex items-center justify-between border-b-2 border-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white p-1 rounded-sm",children:e.jsx(Rn,{className:"text-[#000080]",size:16})}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[11px]",children:"Island HR System - Transaction Protocol Configuration"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black animate-pulse",children:[e.jsx(Ut,{size:14,className:"animate-spin"})," SYNCING..."]}),e.jsx("div",{className:"bg-blue-600 text-white px-3 py-0.5 rounded text-[9px] font-black border border-blue-400 uppercase",children:"Master Config Mode"})]})]}),e.jsxs("div",{className:"flex-1 p-6 flex flex-col gap-6 overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-3 shadow-md rounded-sm",children:[e.jsxs("div",{className:"flex items-center bg-gray-50 border-2 border-gray-300 px-4 py-1.5 shadow-inner focus-within:border-blue-600 group w-72 transition-all",children:[e.jsx(Ga,{size:16,className:"text-gray-400 group-focus-within:text-blue-600"}),e.jsx("input",{type:"text",placeholder:"FILTER CODES OR NAMES...",className:"bg-transparent outline-none font-black text-blue-900 uppercase italic px-3 w-full",value:h,onChange:T=>f(T.target.value)})]}),e.jsxs("button",{onClick:N,className:"bg-green-600 text-white border-2 border-white border-r-green-900 border-b-green-900 px-6 py-2 shadow-lg hover:bg-green-700 active:translate-y-0.5 transition-all font-black text-[10px] uppercase italic flex items-center gap-2",children:[e.jsx(ic,{size:16})," Register New Protocol"]})]}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-xl flex flex-col min-h-0 rounded-sm overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b-2 border-gray-400 flex justify-between items-center shrink-0",children:[e.jsx("span",{className:"font-black text-gray-700 uppercase text-[10px] tracking-[0.2em] italic",children:"System Transaction Code Registry"}),e.jsxs("div",{className:"text-[10px] font-black text-blue-800 bg-white/50 px-3 py-0.5 border border-white rounded shadow-inner",children:[E.length," DEFINITIONS LOADED"]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-1",children:e.jsx(l1,{columns:[{header:"ID_CODE",accessor:"code",width:"100px",render:T=>e.jsx("span",{className:"font-black italic text-blue-900",children:T})},{header:"PROTOCOL NAME",accessor:"name",width:"250px",render:T=>e.jsx("span",{className:"font-bold uppercase",children:T})},{header:"CLASSIFICATION",accessor:"type",width:"150px",render:T=>e.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[9px] font-black italic ${T==="EARNING"?"bg-green-50 text-green-700 border-green-200":T==="DEDUCTION"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:T})},{header:"DESCRIPTION",accessor:"description",width:"300px",render:T=>e.jsx("span",{className:"text-gray-500 italic",children:T||"---"})},{header:"STATUS",accessor:"isActive",width:"100px",render:T=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${T?"bg-green-500 shadow-[0_0_5px_green]":"bg-red-500 shadow-[0_0_5px_red]"}`}),e.jsx("span",{className:"font-black italic text-[9px]",children:T?"ACTIVE":"DISABLED"})]})},{header:"ACTIONS",accessor:"id",width:"120px",render:(T,_)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(_),className:"p-1 hover:bg-blue-100 text-blue-700 rounded transition-colors",children:e.jsx(JA,{size:14})}),e.jsx("button",{onClick:()=>A(_.id),className:"p-1 hover:bg-red-100 text-red-700 rounded transition-colors",children:e.jsx(Yd,{size:14})})]})}],data:E,rowKey:"id",minRows:10})})]})]}),i&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#EBE9D8] border-4 border-white shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] w-full max-w-md animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-[#000080] text-white p-3 flex justify-between items-center border-b-2 border-white",children:[e.jsxs("span",{className:"font-black uppercase italic tracking-widest text-[10px] flex items-center gap-2",children:[e.jsx(Rn,{size:14})," ",c?"MODIFY PROTOCOL DEFINITION":"REGISTER NEW TRANSACTION PROTOCOL"]}),e.jsx("button",{onClick:()=>o(!1),className:"hover:bg-red-600 p-1 transition-colors",children:e.jsx($a,{size:18})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Protocol ID / Code (e.g. BSAL)"}),e.jsx("input",{type:"text",value:p.code,onChange:T=>m("code",T.target.value.toUpperCase()),className:"w-full p-2.5 border-2 border-gray-300 bg-white text-blue-900 font-black outline-none focus:border-blue-700 transition-all uppercase italic",placeholder:"ENTER CODE...",required:!0,disabled:a||!!c}),c&&e.jsx("p",{className:"text-[9px] text-gray-400 font-bold italic",children:"* Protocol ID cannot be modified once registered"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Display Name"}),e.jsx("input",{type:"text",value:p.name,onChange:T=>m("name",T.target.value),className:"w-full p-2.5 border-2 border-gray-300 bg-white text-gray-800 font-black outline-none focus:border-blue-700 transition-all uppercase",placeholder:"E.G. BASIC SALARY",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Protocol Classification"}),e.jsxs("select",{value:p.type,onChange:T=>m("type",T.target.value),className:"w-full p-2.5 border-2 border-gray-300 bg-white text-gray-800 font-black outline-none focus:border-blue-700 transition-all cursor-pointer italic",children:[e.jsx("option",{value:"EARNING",children:"EARNING"}),e.jsx("option",{value:"DEDUCTION",children:"DEDUCTION"}),e.jsx("option",{value:"ALLOWANCE",children:"ALLOWANCE"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Technical Description"}),e.jsx("textarea",{value:p.description,onChange:T=>m("description",T.target.value),className:"w-full p-2.5 border-2 border-gray-300 bg-white text-gray-800 font-black outline-none focus:border-blue-700 transition-all h-20 resize-none italic",placeholder:"INTERNAL NOTES OR DETAILS..."})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 border-2 border-gray-200",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:T=>m("isActive",T.target.checked),className:"w-4 h-4 cursor-pointer"}),e.jsx("label",{htmlFor:"isActive",className:"text-gray-700 font-black uppercase text-[10px] italic cursor-pointer",children:"Protocol Active Status"})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 hover:bg-gray-100 active:translate-y-0.5 shadow-md font-black text-[10px] uppercase italic text-gray-600 py-3",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:a,className:"flex-1 bg-blue-600 text-white border-2 border-white border-r-blue-900 border-b-blue-900 hover:bg-blue-700 active:translate-y-0.5 shadow-md font-black text-[10px] uppercase italic flex items-center justify-center gap-2 py-3",children:[a?e.jsx(Ut,{size:16,className:"animate-spin"}):e.jsx(qs,{size:16}),c?"COMMIT CHANGES":"INITIALIZE PROTOCOL"]})]})]})]})})]})},hp=({user:t,allowedRoles:r,children:a})=>{const s=jt();return t?r.includes(t.role)?a||e.jsx(x5,{}):e.jsx("div",{className:"flex items-center justify-center min-h-screen w-full bg-[#EBE9D8]/50 backdrop-blur-[2px] p-4",children:e.jsxs("div",{className:"w-full max-w-[450px] bg-[#D4D0C8] border-2 border-white border-b-gray-800 border-r-gray-800 shadow-xl flex flex-col animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"h-7 bg-[#316AC5] flex items-center justify-between px-1.5 py-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),e.jsx("span",{className:"text-white text-[11px] font-bold tracking-tight",children:"System Security Restriction"})]}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("button",{className:"w-[18px] h-[14px] bg-[#D4D0C8] border border-white border-b-gray-800 border-r-gray-800 text-black text-[9px] flex items-center justify-center font-bold hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white",children:"?"}),e.jsx("button",{onClick:()=>s(-1),className:"w-[18px] h-[14px] bg-[#D4D0C8] border border-white border-b-gray-800 border-r-gray-800 text-black text-[9px] flex items-center justify-center font-bold hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white",children:"X"})]})]}),e.jsxs("div",{className:"p-6 flex gap-6 mt-1",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-white border border-gray-400 rounded-full flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"text-red-600 text-2xl font-black",children:"!"})})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight",children:"Access Denied"}),e.jsx("p",{className:"text-[11px] text-gray-600 font-medium",children:"Insufficient Authorization Profile"})]}),e.jsxs("div",{className:"text-[12px] text-gray-800 leading-relaxed font-medium",children:["Your current session profile ",e.jsxs("span",{className:"font-bold underline decoration-red-400",children:['"',t.role,'"']})," is not authorized to access the requested module:",e.jsxs("div",{className:"mt-2 p-2 bg-white border border-gray-300 font-mono text-[10px] text-red-700 shadow-inner break-all",children:["PATH: ",window.location.pathname]})]}),e.jsx("p",{className:"text-[11px] text-gray-500 italic",children:"Please contact your System Administrator to request elevated privileges for this sector."})]})]}),e.jsxs("div",{className:"bg-[#D4D0C8] p-4 flex justify-end gap-2 border-t border-gray-100/30",children:[e.jsx("button",{onClick:()=>s("/"),className:"min-w-[80px] px-4 py-1.5 bg-[#D4D0C8] border-2 border-white border-b-gray-800 border-r-gray-800 text-[11px] font-bold text-gray-800 hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white transition-colors",children:"Return Home"}),e.jsx("button",{onClick:()=>s(-1),className:"min-w-[80px] px-4 py-1.5 bg-[#D4D0C8] border-2 border-white border-b-gray-800 border-r-gray-800 text-[11px] font-bold text-gray-800 hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white transition-colors",children:"Cancel"})]})]})}):e.jsx(p5,{to:"/",replace:!0})},AM=()=>{const[t,r]=R.useState([{id:1,year:2026,period:1,startDate:"2026-01-01",endDate:"2026-01-14",status:"Closed"},{id:2,year:2026,period:2,startDate:"2026-01-15",endDate:"2026-01-28",status:"Closed"},{id:3,year:2026,period:3,startDate:"2026-01-29",endDate:"2026-02-11",status:"Open"}]);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(On,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Pay Period Management"})]})}),e.jsx("div",{className:"p-4 flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"font-bold text-gray-700",children:"Pay Periods - 2026"}),e.jsxs("button",{className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-blue-700",children:[e.jsx(ic,{size:12})," New Period"]})]}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-xs",children:[e.jsx("thead",{className:"bg-[#EBE9D8]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Year"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Period #"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Start Date"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"End Date"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Status"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(a=>e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:a.year}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:a.period}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:a.startDate}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:a.endDate}),e.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${a.status==="Open"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:a.status})}),e.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-center flex justify-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(tw,{size:14})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(Yd,{size:14})})]})]},a.id))})]})]})})]})},_M=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(x1,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Run Payroll Process"})]})}),e.jsx("div",{className:"p-8 flex items-center justify-center flex-1",children:e.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-400 p-6 shadow-lg rounded-sm text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4 text-blue-600",children:e.jsx(Rn,{size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Initialize Payroll Run"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"You are about to calculate payroll for Period 3 (2026). This process will process timesheets and generate payslips."}),e.jsx("button",{className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-sm hover:bg-blue-700 shadow-md active:translate-y-0.5 transition-all",children:"START CALCULATION ENGINE"}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-amber-600 text-xs font-semibold bg-amber-50 p-2 border border-amber-200 rounded",children:[e.jsx(el,{size:14}),e.jsx("span",{children:"Warning: Ensure all timesheets are approved."})]})]})})]}),CM=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(ox,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Payroll Batch Review"})]})}),e.jsx("div",{className:"p-4 flex-1",children:e.jsxs("div",{className:"bg-white border border-gray-400 p-8 flex flex-col items-center justify-center h-full text-center opacity-80",children:[e.jsx(Ln,{size:48,className:"text-green-600 mb-4"}),e.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Batch Validation Service"}),e.jsx("p",{className:"text-gray-500 max-w-sm mt-2",children:"Review module allows auditing of calculated payroll before finalization. Currently awaiting calculation data."})]})})]}),TM=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(yp,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Historical Payroll Records"})]})}),e.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white border border-gray-300 p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"font-bold text-blue-800 text-sm",children:["Period ",t," - 2026"]}),e.jsx("span",{className:"bg-green-100 text-green-800 text-[10px] px-2 py-0.5 rounded-full font-bold",children:"FINALIZED"})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:["Date: Jan ",t*14,", 2026"]}),e.jsx("p",{children:"Employees: 42"}),e.jsx("p",{children:"Total Net: $1,240,500.00"})]}),e.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 flex justify-end",children:e.jsxs("button",{className:"text-[10px] font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(rr,{size:12})," VIEW REPORT"]})})]},t))})]}),DM=()=>{const t=jt(),r=oi(),[a,s]=R.useState(""),[i,o]=R.useState(!1),[c,d]=R.useState([]),[h,f]=R.useState(null),[p]=R.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[g]=R.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),b=async()=>{try{o(!0);const v=await Te.fetchPayrolls({companyId:g.id});if(v.success){const N=v.data.map(E=>({id:E.id,empId:E.employee?.employeeId,name:`${E.employee?.firstName} ${E.employee?.lastName}`,period:E.period,trn:E.employee?.trn||"XXX-XXX-XXX",department:E.employee?.department?.name||"GEN",gross:parseFloat(E.grossSalary),net:parseFloat(E.netSalary),tax:parseFloat(E.tax),deductions:parseFloat(E.deductions),date:E.paymentDate?new Date(E.paymentDate).toLocaleDateString():new Date(E.createdAt).toLocaleDateString()}));d(N);const w=r.state?.payrollId,A=w?N.find(E=>E.id===w):N[0];f(A)}}catch(v){console.error(v)}finally{o(!1)}};R.useEffect(()=>{b()},[g.id]);const m=c.filter(v=>v.name.toLowerCase().includes(a.toLowerCase())||v.empId.toLowerCase().includes(a.toLowerCase()));return i&&!h?e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[#EBE9D8]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ut,{className:"size-12 text-blue-800 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"font-black text-gray-700 italic uppercase tracking-widest",children:"Accessing Secure Vault..."})]})}):e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm no-print",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsx(wu,{size:18,className:"text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(rr,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Secure Payslip Previewer V2.0"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-6 py-1.5 bg-white border-2 border-white border-r-gray-600 border-b-gray-600 font-black uppercase text-[10px] hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm italic text-blue-900",children:[e.jsx(ea,{size:14})," Commit to Print"]})})]}),e.jsxs("div",{className:"flex h-full overflow-hidden",children:[e.jsxs("div",{className:"w-72 bg-white border-r border-gray-300 flex flex-col no-print shrink-0 shadow-inner",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Ga,{size:14,className:"absolute left-3 top-3 text-gray-400 group-focus-within:text-blue-600 transition-colors"}),e.jsx("input",{type:"text",placeholder:"FILTER SECURE LIST...",className:"w-full pl-9 pr-2 py-2.5 text-[10px] font-black border-2 border-gray-200 bg-white focus:bg-white outline-none focus:border-blue-400 uppercase italic transition-all shadow-inner",value:a,onChange:v=>s(v.target.value)})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200",children:m.map(v=>e.jsxs("div",{onClick:()=>f(v),className:`p-4 border-b border-gray-50 cursor-pointer flex items-center gap-4 transition-all hover:bg-blue-50/50 group ${h?.id===v.id?"bg-blue-50 border-r-4 border-r-blue-600 shadow-md":""}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm border-2 ${h?.id===v.id?"bg-blue-600 text-white border-blue-400":"bg-gray-100 text-gray-400 border-white"}`,children:e.jsx(Pn,{size:18})}),e.jsxs("div",{className:"truncate flex-1",children:[e.jsx("div",{className:`text-[11px] font-black uppercase tracking-tight ${h?.id===v.id?"text-blue-900":"text-gray-700"}`,children:v.name}),e.jsxs("div",{className:"text-[9px] font-black text-gray-400 group-hover:text-blue-400 transition-colors italic uppercase",children:[v.empId,"  ",v.period]})]})]},v.id))})]}),e.jsx("div",{className:"flex-1 bg-gray-200/50 p-4 sm:p-8 overflow-auto flex justify-center bg-[url('https://www.transparenttextures.com/patterns/graphy.png')] scrollbar-thin scrollbar-thumb-gray-400",children:h?e.jsxs("div",{className:"bg-white shadow-[0_0_60px_rgba(0,0,0,0.1)] w-full max-w-2xl min-h-[842px] border border-gray-300 p-8 sm:p-16 relative flex flex-col rounded-sm",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none select-none rotate-[-45deg]",children:e.jsx("h1",{className:"text-8xl font-black uppercase italic tracking-[1em]",children:"SYSTEM_DOCK"})}),e.jsxs("div",{className:"flex justify-between items-start border-b-4 border-gray-900 pb-8 mb-10 relative z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 leading-none tracking-tighter uppercase italic",children:p.companyName||"ISLAND HR SOLUTIONS"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 mt-2 uppercase tracking-[0.3em] italic",children:"Electronic Remittance Docket :: Station PR-042"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"bg-gray-900 text-white px-4 py-1.5 text-[10px] font-black italic tracking-[0.2em] uppercase rounded-sm shadow-md",children:"CONFIDENTIAL"}),e.jsxs("p",{className:"text-[10px] font-black text-gray-900 mt-3 uppercase italic tracking-widest",children:["DOCKET END: ",h.period.toUpperCase()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-10 bg-gray-50/80 p-6 border-2 border-white rounded-lg shadow-inner relative z-10",children:[e.jsxs("div",{className:"border-r border-gray-200 px-2",children:[e.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mb-2 italic",children:"Employee Identification"}),e.jsx("p",{className:"text-lg font-black text-gray-900 uppercase italic tracking-tight underline decoration-blue-500/30 underline-offset-4",children:h.name}),e.jsx("p",{className:"text-xs font-black text-gray-400 mt-1 uppercase tracking-widest",children:h.empId})]}),e.jsxs("div",{className:"text-right px-2",children:[e.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mb-2 italic",children:"Assignment / Cost Center"}),e.jsx("p",{className:"text-lg font-black text-gray-900 uppercase italic tracking-tight",children:h.department}),e.jsxs("p",{className:"text-xs font-black text-gray-400 mt-1 uppercase tracking-widest",children:["TRN: ",h.trn&&h.trn!=="XXX-XXX-XXX"?`***-***-${h.trn.slice(-3)}`:"SECURE-DATA-MASKED"]})]})]}),e.jsxs("div",{className:"flex-1 space-y-12 relative z-10",children:[e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("h4",{className:"border-b-2 border-gray-900 text-xs font-black uppercase italic mb-4 flex justify-between pb-1 tracking-widest",children:[e.jsx("span",{className:"bg-gray-900 text-white px-3 py-0.5",children:"01 // Gross Remittances"}),e.jsx("span",{className:"text-gray-900 self-end",children:"Amount (JMD)"})]}),e.jsx("div",{className:"space-y-3 px-2",children:e.jsxs("div",{className:"flex justify-between text-sm font-black text-gray-800 italic uppercase",children:[e.jsx("span",{children:"Consolidated Gross Compensation"}),e.jsxs("span",{className:"tabular-nums",children:["$ ",h.gross.toLocaleString(void 0,{minimumFractionDigits:2})]})]})})]}),e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-150",children:[e.jsxs("h4",{className:"border-b-2 border-gray-900 text-xs font-black uppercase italic mb-4 flex justify-between pb-1 tracking-widest",children:[e.jsx("span",{className:"bg-gray-900 text-white px-3 py-0.5",children:"02 // Statutory Obligations"}),e.jsx("span",{className:"text-gray-900 self-end",children:"Liability (JMD)"})]}),e.jsxs("div",{className:"space-y-4 px-2",children:[e.jsxs("div",{className:"flex justify-between text-xs font-black text-red-700 italic uppercase",children:[e.jsx("span",{children:"Statutory Taxation (PAYE)"}),e.jsxs("span",{className:"tabular-nums",children:["(",h.tax.toLocaleString(void 0,{minimumFractionDigits:2}),")"]})]}),e.jsxs("div",{className:"flex justify-between text-xs font-black text-red-700 italic uppercase",children:[e.jsx("span",{children:"Aggregate Deductions"}),e.jsxs("span",{className:"tabular-nums",children:["(",h.deductions.toLocaleString(void 0,{minimumFractionDigits:2}),")"]})]})]})]})]}),e.jsxs("div",{className:"mt-auto border-t-4 border-gray-900 pt-8 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center bg-[#000080] p-6 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] italic mb-1 text-blue-200",children:"Final Net Liquidation"}),e.jsx("span",{className:"text-xs font-bold text-blue-300/50 uppercase tracking-widest",children:"Electronic Fund Transfer Approved"})]}),e.jsxs("span",{className:"text-3xl font-black italic tracking-tighter tabular-nums drop-shadow-md",children:["$ ",h.net.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 text-[9px] font-black text-gray-400 italic uppercase tracking-tighter",children:[e.jsxs("p",{children:["Authentication Hash: ",h.id.substring(0,16),"..."]}),e.jsxs("p",{className:"text-right",children:["Valid System Docket :: ",h.date,e.jsx("br",{}),"Decrypted session ",new Date().toLocaleTimeString()]})]})]})]}):e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em]",children:"Inventory cache is empty or inaccessible."})})]})]})},LM=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Rn,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Individual Payroll Configurations"})]}),e.jsxs("button",{className:"flex items-center gap-1 bg-green-600 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-green-700 shadow-sm border border-green-800",children:[e.jsx(qs,{size:12})," Save"]})]}),e.jsx("div",{className:"p-4 overflow-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border border-gray-400 p-6 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Default Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:"Standard Payment Method"}),e.jsxs("select",{className:"w-full border border-gray-300 p-2 text-sm rounded-sm",children:[e.jsx("option",{children:"Bank Transfer"}),e.jsx("option",{children:"Cheque"}),e.jsx("option",{children:"Cash"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:"Tax Calculation Mode"}),e.jsxs("select",{className:"w-full border border-gray-300 p-2 text-sm rounded-sm",children:[e.jsx("option",{children:"Cumulative"}),e.jsx("option",{children:"Period-based"})]})]})]})]})})]}),QN=()=>{const t=jt(),[r,a]=R.useState([]),[s,i]=R.useState(null),[o,c]=R.useState(!1),[d,h]=R.useState(null);R.useEffect(()=>{(async()=>{c(!0);try{const b=localStorage.getItem("selectedCompany"),m=b?JSON.parse(b):null;if(h(m),m){const v=await Te.fetchEmployees(m.id);v.success&&a(v.data)}}catch(b){console.error(b)}finally{c(!1)}})()},[]);const f=g=>{const b=r.find(m=>m.id===g.target.value);i(b||null)},p=()=>{if(!s)return;const g=[{"Employer Name":d?.name||"N/A","Employer TRN":d?.trn||"N/A","Family Name":s.lastName,"First Name":s.firstName,"Employee TRN":s.trn||"N/A","NIS Number":s.nisNumber||"N/A","Terminal Status":s.status,"Leaving Date":new Date().toLocaleDateString()}],b=ar.json_to_sheet(g),m=ar.book_new();ar.book_append_sheet(m,b,"P45"),on(m,`P45_${s.lastName}.xlsx`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Fg,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"P45 Service Termination Certificate"})]}),e.jsxs("div",{className:"flex gap-2",children:[s&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-green-700 uppercase tracking-tighter hover:bg-green-700",children:[e.jsx(ea,{size:12})," Print Cert"]}),e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-blue-700 uppercase tracking-tighter hover:bg-blue-700",children:[e.jsx(Er,{size:12})," Export P45"]}),e.jsxs("button",{onClick:p,className:"px-3 py-1 bg-green-700 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-green-800 uppercase tracking-tighter hover:bg-green-800",children:[e.jsx(Er,{size:12})," Excel"]})]}),e.jsxs("button",{onClick:()=>t(-1),className:"px-3 py-1 bg-gray-500 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-gray-600 uppercase tracking-tighter hover:bg-gray-600",children:[e.jsx(_r,{size:12})," Exit Cmd"]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-400 p-6 shadow-md relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-700"}),e.jsx("h2",{className:"text-xs font-black text-blue-900 mb-4 uppercase tracking-[0.2em] italic border-b pb-2",children:"Termination Protocol Interface"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Select Subject Employee"}),e.jsxs("select",{onChange:f,value:s?.id||"",className:"w-full p-2 border border-blue-300 bg-blue-50/30 text-blue-900 font-bold outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"-- SEARCH TERMINATED INDEX --"}),r.map(g=>e.jsxs("option",{value:g.id,children:[g.firstName," ",g.lastName," [",g.employeeId,"] - ",g.status]},g.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-2 opacity-50 pointer-events-none",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Termination Date (ISO)"}),e.jsx("input",{type:"date",className:"p-2 border border-gray-300 bg-gray-50 font-bold",value:new Date().toISOString().split("T")[0],readOnly:!0})]})]})]}),s?e.jsxs("div",{className:"bg-white border-2 border-gray-800 p-12 shadow-2xl relative print:border-0 print:shadow-none min-h-[1000px]",children:[e.jsxs("div",{className:"absolute top-8 right-12 text-center border-2 border-gray-400 p-2 transform rotate-12",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase leading-none",children:"Form ID"}),e.jsx("div",{className:"text-sm font-black text-gray-800",children:"P45-V2"})]}),e.jsxs("div",{className:"text-center mb-12 border-b-4 border-double border-gray-800 pb-8",children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-[0.2em]",children:"Government of Jamaica"}),e.jsx("h2",{className:"text-xl font-black text-gray-700 uppercase mt-2",children:"Particulars of Employee Leaving Service"}),e.jsxs("p",{className:"text-xs font-bold text-gray-500 mt-2 italic uppercase tracking-widest",children:["Tax Administration Jamaica - Year ",new Date().getFullYear()]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 mb-12",children:[e.jsxs("div",{className:"border border-gray-800 p-6 flex flex-col gap-4",children:[e.jsx("div",{className:"text-xs font-black bg-gray-900 text-white px-3 py-1 self-start uppercase tracking-widest mb-2",children:"1. Registered Office Info"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[11px] font-bold",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Employer Name:"}),e.jsx("p",{className:"uppercase",children:d?.name||"SYNCING..."})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Employer TRN:"}),e.jsx("p",{children:d?.trn||"000-000-000"})]})]})]}),e.jsxs("div",{className:"border border-gray-800 p-6 flex flex-col gap-4",children:[e.jsx("div",{className:"text-xs font-black bg-gray-900 text-white px-3 py-1 self-start uppercase tracking-widest mb-2",children:"2. Employee Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-6 text-[11px] font-bold",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Family Name:"}),e.jsx("p",{className:"uppercase text-lg",children:s.lastName})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"First Name:"}),e.jsx("p",{className:"uppercase text-lg",children:s.firstName})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Employee TRN:"}),e.jsx("p",{children:s.trn||"X-XXXX-XXXX"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"NIS Number:"}),e.jsx("p",{children:s.nisNumber||"X-XXXXXX-X"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Terminal Status:"}),e.jsx("p",{className:"text-red-700 uppercase italic font-black",children:s.status})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Leaving Date:"}),e.jsx("p",{children:new Date().toLocaleDateString("en-JM",{day:"numeric",month:"long",year:"numeric"})})]})]})]})]}),e.jsx("div",{className:"mt-24 p-8 border-t-2 border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"space-y-8 flex flex-col items-center",children:[e.jsx("div",{className:"w-64 border-b border-gray-800"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Employer Certification Signature"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900 border-2 border-gray-800 p-4 mb-2",children:["DATE: ",new Date().toLocaleDateString()]}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Office of Registry Seal Required"})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-[9px] text-gray-300 uppercase tracking-[0.5em] italic",children:"Original Component of HRM Smart Engine v5.1.0"})})]}):e.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 h-[600px] flex flex-col items-center justify-center text-center p-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:e.jsx(Ut,{className:"text-gray-400 animate-spin",size:32})}),e.jsx("h3",{className:"text-xl font-black text-gray-400 uppercase italic tracking-widest",children:"Awaiting Identity Target"}),e.jsx("p",{className:"text-gray-400 mt-4 max-w-sm font-bold text-xs uppercase leading-relaxed",children:"Please select a personnel record from the termination index above to generate the specialized P45 Leaving Service Certificate."})]})]})})]})},RM=({user:t})=>{if(!t)return e.jsx(H8,{});switch(t.role){case"ADMIN":return e.jsx(QI,{});case"HR_MANAGER":return e.jsx(ZN,{});case"FINANCE":return e.jsx(eM,{});case"EMPLOYEE":case"STAFF":return e.jsx(tM,{});default:return e.jsx(ZN,{})}},FM=({onLogout:t,currentUser:r})=>e.jsxs(iE,{children:[e.jsxs(st,{element:e.jsx(zE,{onLogout:t}),children:[e.jsx(st,{path:"/",element:e.jsx(RM,{user:r})}),e.jsx(st,{path:"/search",element:e.jsx(pM,{})}),e.jsx(st,{path:"/help",element:e.jsx(xM,{})}),e.jsx(st,{path:"/window",element:e.jsx(mM,{})}),e.jsx(st,{path:"/format",element:e.jsx(WN,{title:"Report Formatting"})}),e.jsx(st,{path:"/files",element:e.jsx(CI,{})}),e.jsx(st,{path:"/files/import",element:e.jsx(Q0,{})}),e.jsx(st,{path:"/files/backup",element:e.jsx(Q0,{})}),e.jsx(st,{path:"/files/restore",element:e.jsx(Q0,{})}),e.jsx(st,{path:"/reports/hub",element:e.jsx($I,{})}),e.jsxs(st,{element:e.jsx(hp,{user:r,allowedRoles:["ADMIN","HR_MANAGER","FINANCE"]}),children:[e.jsx(st,{path:"/employees",element:e.jsx(uI,{})}),e.jsx(st,{path:"/attendance",element:e.jsx(fI,{})}),e.jsx(st,{path:"/leave",element:e.jsx(hI,{})}),e.jsx(st,{path:"/salary",element:e.jsx(pI,{})}),e.jsx(st,{path:"/employees/payroll-settings",element:e.jsx(LM,{})}),e.jsx(st,{path:"/payroll/periods",element:e.jsx(AM,{})}),e.jsx(st,{path:"/payroll/history",element:e.jsx(TM,{})}),e.jsx(st,{path:"/payroll/payslip-preview",element:e.jsx(DM,{})}),e.jsx(st,{path:"/payroll/register",element:e.jsx(L9,{})}),e.jsx(st,{path:"/payroll/register/print",element:e.jsx(R9,{})}),e.jsx(st,{path:"/processing/transaction-register",element:e.jsx(VN,{})}),e.jsx(st,{path:"/processing/time-keeper",element:e.jsx(NI,{})}),e.jsx(st,{path:"/processing/run-payroll",element:e.jsx(_M,{})}),e.jsx(st,{path:"/processing/payroll-review",element:e.jsx(CM,{})}),e.jsx(st,{path:"/processing/payroll-calculation",element:e.jsx(wI,{})}),e.jsx(st,{path:"/processing/advance",element:e.jsx(jI,{})}),e.jsx(st,{path:"/processing/status",element:e.jsx(SI,{})}),e.jsx(st,{path:"/processing/payroll-wizard",element:e.jsx(LI,{})}),e.jsx(st,{path:"/processing/calculation-register",element:e.jsx(FI,{})}),e.jsx(st,{path:"/processing/update",element:e.jsx(_I,{})}),e.jsx(st,{path:"/processing/redundancy",element:e.jsx(RI,{})}),e.jsx(st,{path:"/processing/user-labels",element:e.jsx(rM,{})}),e.jsx(st,{path:"/processing/mass-entry",element:e.jsx(aM,{})}),e.jsx(st,{path:"/processing/import-saved",element:e.jsx(Q0,{})}),e.jsx(st,{path:"/processing/import-timesheets",element:e.jsx(Q0,{})}),e.jsx(st,{path:"/processing/import-jmd-fx",element:e.jsx(Q0,{})}),e.jsx(st,{path:"/processing/sales-share",element:e.jsx(nM,{})}),e.jsx(st,{path:"/processing/gang-shift",element:e.jsx(iM,{})}),e.jsx(st,{path:"/processing/post-transactions",element:e.jsx(fM,{})}),e.jsx(st,{path:"/processing/posted-register",element:e.jsx(cM,{})}),e.jsx(st,{path:"/processing/mass-updating",element:e.jsx(sM,{})}),e.jsx(st,{path:"/email-payslips",element:e.jsx(XN,{})}),e.jsx(st,{path:"/reports/employee",element:e.jsx(xI,{})}),e.jsx(st,{path:"/reports/attendance",element:e.jsx(mI,{})}),e.jsx(st,{path:"/reports/salary",element:e.jsx(gI,{})}),e.jsx(st,{path:"/reports/nis",element:e.jsx(ZI,{})}),e.jsx(st,{path:"/reports/p24",element:e.jsx(KI,{})}),e.jsx(st,{path:"/reports/p45",element:e.jsx(QN,{})}),e.jsx(st,{path:"/reports/nht",element:e.jsx(KN,{})}),e.jsx(st,{path:"/payslips/manage",element:e.jsx(zI,{})}),e.jsx(st,{path:"/reports/payroll-summary",element:e.jsx(JN,{})}),e.jsx(st,{path:"/reports/payroll-summary-individual",element:e.jsx(JN,{individual:!0})}),e.jsx(st,{path:"/reports/transaction-register",element:e.jsx(VN,{})}),e.jsx(st,{path:"/reports/turnover",element:e.jsx(YI,{})}),e.jsx(st,{path:"/reports/ytd-breakdown",element:e.jsx(VI,{})}),e.jsx(st,{path:"/reports/retention",element:e.jsx(WI,{})}),e.jsx(st,{path:"/reports/email-p24",element:e.jsx(XN,{})}),e.jsx(st,{path:"/statutory/p24",element:e.jsx(QN,{})}),e.jsx(st,{path:"/statutory/p45",element:e.jsx(K0,{type:"P45"})}),e.jsx(st,{path:"/statutory/nht",element:e.jsx(KN,{})}),e.jsx(st,{path:"/statutory/nis-nht",element:e.jsx(K0,{type:"NIS-NHT"})}),e.jsx(st,{path:"/statutory/s01",element:e.jsx(K0,{type:"S01"})}),e.jsx(st,{path:"/statutory/s02",element:e.jsx(K0,{type:"S02"})}),e.jsx(st,{path:"/statutory/pension",element:e.jsx(K0,{type:"Pension"})}),e.jsx(st,{path:"/statutory/tax-upload",element:e.jsx(K0,{type:"TaxUpload"})}),e.jsx(st,{path:"/banking/bns",element:e.jsx(Z0,{bank:"BNS"})}),e.jsx(st,{path:"/banking/ncb",element:e.jsx(Z0,{bank:"NCB"})}),e.jsx(st,{path:"/banking/jn",element:e.jsx(Z0,{bank:"JN"})}),e.jsx(st,{path:"/banking/jmmb",element:e.jsx(Z0,{bank:"JMMB"})}),e.jsx(st,{path:"/banking/sagicor",element:e.jsx(Z0,{bank:"SAGICOR"})}),e.jsx(st,{path:"/banking/citibank",element:e.jsx(Z0,{bank:"CITIBANK"})}),e.jsx(st,{path:"/banking/payment-advice",element:e.jsx(WN,{title:"Electronic Payment Advice Module"})}),e.jsx(st,{path:"/processing/disbursement",element:e.jsx(AI,{})}),e.jsx(st,{path:"/processing/cheque-printing",element:e.jsx(II,{})}),e.jsx(st,{path:"/processing/cheque-single",element:e.jsx(bM,{})}),e.jsx(st,{path:"/processing/cheque-history",element:e.jsx(NM,{})})]}),e.jsxs(st,{element:e.jsx(hp,{user:r,allowedRoles:["ADMIN","FINANCE"]}),children:[e.jsx(st,{path:"/entries/*",element:e.jsx(O2,{})}),e.jsx(st,{path:"/entries/sales",element:e.jsx(O2,{})}),e.jsx(st,{path:"/entries/purchase",element:e.jsx(vk,{})}),e.jsx(st,{path:"/entries/payment",element:e.jsx(Nk,{})}),e.jsx(st,{path:"/masters/parties",element:e.jsx(gk,{})}),e.jsx(st,{path:"/masters/items",element:e.jsx(bk,{})}),e.jsx(st,{path:"/masters/ledgers",element:e.jsx(yk,{})}),e.jsx(st,{path:"/reports/ledger",element:e.jsx(P8,{})}),e.jsx(st,{path:"/reports/trial-balance",element:e.jsx(I8,{})}),e.jsx(st,{path:"/reports/profit-loss",element:e.jsx(M8,{})}),e.jsx(st,{path:"/bank/details",element:e.jsx(U8,{})}),e.jsx(st,{path:"/transaction/entry",element:e.jsx(q8,{})}),e.jsx(st,{path:"/reports/bank-transfer-advice",element:e.jsx(JI,{})}),e.jsx(st,{path:"/reports/crystal",element:e.jsx(XI,{})})]}),e.jsxs(st,{element:e.jsx(hp,{user:r,allowedRoles:["ADMIN"]}),children:[e.jsx(st,{path:"/company/setup",element:e.jsx(B8,{})}),e.jsx(st,{path:"/company/settings",element:e.jsx(z8,{})}),e.jsx(st,{path:"/company/system-settings",element:e.jsx(bI,{})}),e.jsx(st,{path:"/company/custom-modules",element:e.jsx(hM,{})}),e.jsx(st,{path:"/tools",element:e.jsx(TI,{})}),e.jsx(st,{path:"/tools/diagnostics",element:e.jsx(wM,{})}),e.jsx(st,{path:"/tools/cleanup",element:e.jsx(jM,{})}),e.jsx(st,{path:"/tools/security",element:e.jsx(SM,{})}),e.jsx(st,{path:"/tools/audit",element:e.jsx(EM,{})}),e.jsx(st,{path:"/company/transaction-codes",element:e.jsx(kM,{})})]}),e.jsxs(st,{element:e.jsx(hp,{user:r,allowedRoles:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]}),children:[e.jsx(st,{path:"/employee/payslips",element:e.jsx(UI,{})}),e.jsx(st,{path:"/employee/documents",element:e.jsx(GI,{})}),e.jsx(st,{path:"/leave/request",element:e.jsx(HI,{})}),e.jsx(st,{path:"/employee/profile",element:e.jsx(qI,{})}),e.jsx(st,{path:"/transactions",element:e.jsx(DI,{})})]})]}),e.jsx(st,{path:"*",element:e.jsx(p5,{to:"/",replace:!0})})]}),OM=({onLogin:t})=>{const[r,a]=R.useState(""),[s,i]=R.useState(""),[o,c]=R.useState(null),[d,h]=R.useState(!1),f=async b=>{b&&b.preventDefault(),h(!0),c(null);try{const m=await Te.login(r,s||"demo");m.success?t(m.data.user):c(m.message)}catch{c("Login failed. Please try again.")}finally{h(!1)}},p=b=>{let m="admin@islandhr.com",v="admin123";b==="hr"?(m="hr@islandhr.com",v="admin123"):b==="finance"?(m="finance@islandhr.com",v="admin123"):b==="employee"&&(m="staff@islandhr.com",v="admin123"),a(m),i(v),c(null)},g=()=>{a(""),i(""),c(null)};return e.jsxs("div",{className:"w-full max-w-[600px] mx-auto bg-[#EBE9D8] border border-gray-400 shadow-[8px_8px_0_rgba(0,0,0,0.2)] font-sans",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#0055E5] to-[#003399] text-white px-3 py-1.5 flex justify-between items-center shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Df,{size:14,className:"text-blue-200"}),e.jsx("span",{className:"text-xs font-bold tracking-wide text-shadow",children:"User Verification"})]}),e.jsx("button",{onClick:g,className:"hover:bg-red-500 rounded px-1.5 text-white/80 hover:text-white transition-colors",children:""})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row min-h-0 divide-y sm:divide-y-0 sm:divide-x divide-gray-300",children:[e.jsx("div",{className:"p-4 sm:p-6 w-full sm:w-[60%]",children:e.jsxs("div",{className:"flex gap-4 h-full",children:[e.jsx("div",{className:"hidden sm:block w-1.5 bg-gradient-to-b from-blue-500 to-transparent  opacity-30 h-full"}),e.jsxs("form",{onSubmit:f,className:"flex-1 flex flex-col justify-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-gray-800 font-extrabold text-xl sm:text-2xl tracking-tighter",children:"System Access"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Secure Identity Verification Required"})]}),o&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-3 py-2.5 text-[10px] font-black flex items-center gap-2 animate-pulse",children:[e.jsx(Lg,{size:16,className:"shrink-0"})," ",o]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"User Identity"}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"text",name:"username",autoComplete:"username",autoFocus:!0,value:r,onChange:b=>a(b.target.value),className:"w-full px-4 py-2.5 sm:py-2 border-2 border-gray-200 focus:border-blue-500 bg-white text-sm font-bold text-gray-800 outline-none shadow-sm transition-all rounded",placeholder:"Enter ID..."})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Password"}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"password",name:"password",autoComplete:"current-password",value:s,onChange:b=>i(b.target.value),className:"w-full px-4 py-2.5 sm:py-2 border-2 border-gray-200 focus:border-blue-500 bg-white text-sm font-bold text-gray-800 outline-none shadow-sm transition-all rounded",placeholder:""})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[e.jsx("button",{onClick:b=>f(b),disabled:d,className:"flex-1 bg-[#0055E5] hover:bg-blue-700 text-white py-3 sm:py-2 px-6 font-black text-[11px] uppercase tracking-widest shadow-sm active:translate-y-0.5 transition-all flex items-center justify-center gap-3 ",children:d?e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white  animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign In"})," ",e.jsx($5,{size:14})]})}),e.jsxs("button",{type:"button",onClick:g,className:"flex-1 bg-white border-2 border-gray-200 hover:bg-red-50 hover:border-red-200 text-gray-600 hover:text-red-700 py-3 sm:py-2 px-6 font-black text-[11px] uppercase tracking-widest active:translate-y-0.5 transition-all flex items-center justify-center gap-3  shadow-sm",children:[e.jsx("span",{children:"Reset"})," ",e.jsx(Lg,{size:14})]})]})]})]})}),e.jsxs("div",{className:"w-full sm:w-[40%] bg-gray-50/50 p-4 sm:p-6 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase mb-4 text-center tracking-[0.3em] flex items-center gap-3 before:content-[''] before:h-px before:flex-1 before:bg-gray-200 after:content-[''] after:h-px after:flex-1 after:bg-gray-200",children:"Quick Start"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>p("admin"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-red-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-red-100 rounded text-red-600 group-hover:scale-110 transition-transform",children:e.jsx(Df,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-red-800 text-left flex-1 uppercase tracking-tighter",children:"Admin"})]}),e.jsxs("button",{onClick:()=>p("hr"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-600 group-hover:scale-110 transition-transform",children:e.jsx(Pd,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-blue-800 text-left flex-1 uppercase tracking-tighter",children:"HR Mgr"})]}),e.jsxs("button",{onClick:()=>p("finance"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-green-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-green-100 rounded text-green-600 group-hover:scale-110 transition-transform",children:e.jsx(Wo,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-green-800 text-left flex-1 uppercase tracking-tighter",children:"Finance"})]}),e.jsxs("button",{onClick:()=>p("employee"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-purple-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-600 group-hover:scale-110 transition-transform",children:e.jsx(Pn,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-purple-800 text-left flex-1 uppercase tracking-tighter",children:"Staff"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase italic",children:"Multi-Tenant Employee Portal v4.2"})})]})]})]})},PM=({onSelect:t,onExit:r})=>{const[a,s]=R.useState([]),[i,o]=R.useState(null),[c,d]=R.useState(!1),[h,f]=R.useState({name:"",frequency:"Weekly"}),[p,g]=R.useState(!1),b=async()=>{g(!0);try{const v=await Te.fetchCompanies();v.success&&(s(v.data),v.data.length>0&&o(v.data[0].id))}catch(v){console.error(v)}finally{g(!1)}};R.useEffect(()=>{b()},[]);const m=async()=>{if(h.name.trim()){g(!0);try{(await Te.createCompany({name:h.name.toUpperCase(),code:`COMP-${Date.now()}`,payFrequency:h.frequency})).success&&(await b(),d(!1),f({name:"",frequency:"Weekly"}))}catch(v){alert(v.message||"Failed to add company")}finally{g(!1)}}};return e.jsxs("div",{className:"fixed inset-0 w-full h-full bg-[#333333] flex items-center justify-center font-sans z-[9999]",children:[e.jsxs("div",{className:"w-[600px] bg-white border-[3px] border-[#0055E5] flex flex-col shadow-2xl relative",children:[e.jsxs("div",{className:"bg-[#0055E5] h-8 flex items-center justify-between px-2 select-none",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-[#0055E5] text-white font-bold text-sm bg-blue-700 w-5 h-5 flex items-center justify-center rounded",children:"C"}),e.jsx("span",{className:"text-white font-bold text-sm tracking-wide",children:"Company Selection"})]}),e.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 text-white w-5 h-5 flex items-center justify-center text-xs font-bold border border-white/50",children:e.jsx($a,{size:14,strokeWidth:4})})]}),e.jsxs("div",{className:"bg-[#EBE9D8] p-4 pb-2 h-[350px] flex flex-col",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border border-gray-400 border-b-0 flex text-xs font-bold text-black select-none",children:[e.jsx("div",{className:"flex-1 p-2 border-r border-gray-300",children:"Payroll Description"}),e.jsx("div",{className:"w-32 p-2",children:"Frequency"})]}),e.jsx("div",{className:"border border-gray-400 flex-1 overflow-y-auto bg-white mb-4",children:a.map(v=>e.jsxs("div",{onClick:()=>o(v.id),className:`flex text-xs cursor-pointer select-none ${i===v.id?"bg-[#000080] text-white":"text-black hover:bg-gray-100"}`,children:[e.jsx("div",{className:`flex-1 p-1 px-2 border-r ${i===v.id?"border-white/30":"border-gray-200"}`,children:v.name}),e.jsx("div",{className:"w-32 p-1 px-2",children:(v.payFrequency||v.frequency)?.toUpperCase()||"N/A"})]},v.id))}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>{const v=a.find(N=>N.id===i);v&&t(v)},disabled:!i,className:"w-20 h-20 bg-[#EBE9D8] border-2 border-gray-300 flex flex-col items-center justify-center shadow-lg hover:bg-gray-50 active:translate-y-0.5 active:shadow-none transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-green-600 flex items-center justify-center mb-1 group-hover:bg-green-50",children:e.jsx(V5,{size:20,className:"text-green-600 stroke-[4]"})}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-800",children:"Select"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"w-20 h-20 bg-[#EBE9D8] border-2 border-gray-300 flex flex-col items-center justify-center shadow-lg hover:bg-gray-50 active:translate-y-0.5 active:shadow-none transition-all group",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-gray-600 flex items-center justify-center mb-1 group-hover:bg-gray-100",children:e.jsx(ic,{size:20,className:"text-gray-600 stroke-[3]"})}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-800",children:"Add"})]})]}),e.jsxs("button",{onClick:r,className:"w-20 h-20 bg-[#EBE9D8] border-2 border-gray-300 flex flex-col items-center justify-center shadow-lg hover:bg-red-50 active:translate-y-0.5 active:shadow-none transition-all group ml-auto",children:[e.jsx("div",{className:"mb-1 text-blue-800",children:e.jsx(_r,{size:28})}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-800",children:"Exit"})]})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[10000] flex items-center justify-center p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-[#EBE9D8] border border-gray-400 shadow-2xl w-full max-w-sm flex flex-col animate-[fadeIn_0.1s_ease-out] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#0055E5] to-[#003399] text-white px-3 py-2 flex justify-between items-center shadow-sm",children:[e.jsx("span",{className:"text-xs font-bold tracking-wide",children:"Add New Company"}),e.jsx("button",{onClick:()=>d(!1),className:"hover:text-red-200 transition-colors",children:""})]}),e.jsxs("div",{className:"p-5 flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Company Name"}),e.jsx("input",{type:"text",value:h.name,onChange:v=>f({...h,name:v.target.value}),className:"w-full border border-gray-300 p-2 text-xs font-semibold focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none shadow-inner",placeholder:"Enter company name...",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Frequency"}),e.jsxs("select",{value:h.frequency,onChange:v=>f({...h,frequency:v.target.value}),className:"w-full border border-gray-300 p-2 text-xs font-semibold focus:border-blue-500 outline-none shadow-sm bg-white",children:[e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Fortnightly",children:"Fortnightly"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Semi-Monthly",children:"Semi-Monthly"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-600 text-[10px] hover:bg-gray-50 font-bold uppercase rounded shadow-sm",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-3 py-1.5 bg-blue-600 text-white border border-blue-700 text-[10px] hover:bg-blue-700 font-bold uppercase rounded shadow-sm",children:"Save Company"})]})]})]})})]})},IM=({onLogout:t,onSelectCompany:r,companyName:a,isCompanySelected:s=!1,userRole:i})=>{const[o,c]=R.useState(null),[d,h]=R.useState(null),[f,p]=R.useState(null),[g,b]=R.useState(!1),m=jt(),N=[{name:"System",items:[{label:"Select Company",action:"select_company"},{label:"General",subItems:[{label:"General Details",action:"general_details"},{label:"Transaction Protocols",action:"transaction_codes"},{label:"Additional",subItems:[{label:"Bank Details",action:"bank_details"}]}]},{label:"Company Setup",subItems:[{label:"General Setup",action:"company_general_setup"},{label:"Additional Setup Options",subItems:[{label:"Bank Details",action:"bank_details"}]}]},{label:"Customized Modules",action:"customized_modules"},{label:"System Configuration",action:"system_settings"},{label:"System Logs",action:"audit_logs"},{label:"Log Out",action:"logout"},{label:"Quit",action:"quit"}]},{name:"Finance",items:[{label:"Payslips",subItems:[{label:"Generate & Manage",action:"payslip_manage"},{label:"My Payslips",action:"payslip_my"},{label:"Email Payslips",action:"email_p24"}]},{type:"separator"},{label:"Transaction Entry",subItems:[{label:"All Entries",action:"all_entries"},{label:"User Labels",action:"user_labels"},{label:"Mass Entry",action:"mass_entry"},{label:"Mass Updating",action:"mass_updating"},{label:"Import Saved Entries",action:"import_saved_entries"},{label:"Import Time Sheets",action:"import_time_sheets"},{label:"Payroll Wizard",action:"payroll_wizard"},{label:"Generate Sales Share",action:"generate_sales_share"},{label:"Gang Shift Maintenance",action:"gang_shift_maintenance"},{label:"Import JMD To FX Transactions",action:"import_jmd_fx"}]},{label:"Entered Transaction Register",action:"entered_transaction_register"},{type:"separator"},{label:"Time Keeper",action:"time_keeper"},{label:"Post Transactions",action:"post_transactions",shortcut:"CTRL+F1"},{label:"Posted Transaction Register",action:"posted_transaction_register",shortcut:"CTRL+F2"},{type:"separator"},{label:"Payroll Calculation",action:"payroll_calculation"},{label:"Calculation Register",action:"calculation_register",shortcut:"CTRL+F3"},{type:"separator"},{label:"Payroll Update",action:"payroll_update"},{label:"Payroll Register",action:"payroll_register"},{label:"Payroll Register Summary",action:"payroll_register_summary"},{type:"separator"},{label:"Pay Disbursement",action:"pay_disbursement"},{label:"Payslips (Generate & Email  TRN Protected)",action:"payslip_manage"},{label:"Cheque Printing",subItems:[{label:"Batch Printing",action:"cheque_batch"},{label:"Single Cheque",action:"cheque_single"},{label:"Print History",action:"cheque_history"}]},{type:"separator"},{label:"Electronic Payments",subItems:[{label:"BNS Beneficiary Transfer",action:"bank_bns"},{label:"NCB Transfer",action:"bank_ncb"},{label:"JN Bank Transfer",action:"bank_jn"},{label:"JMMB Transfer",action:"bank_jmmb"},{label:"Scotiabank Transfer",action:"bank_scotia"},{label:"CIBC/First Global Transfer",action:"bank_cibc"},{label:"Sagicor Bank Transfer",action:"bank_sagicor"},{label:"CitiBank Transfer",action:"bank_citibank"},{label:"Electronic Payment Advice",action:"electronic_payment_advice"}]},{type:"separator"},{label:"Processing Status",action:"processing_status"},{type:"separator"},{label:"Advance Payment",action:"advance_payment"},{type:"separator"},{label:"Redundancy",action:"redundancy"}]},{name:"HRM",items:[{label:"Employee Management",action:"employee_management"},{type:"separator"},{label:"Attendance Management",action:"attendance_management"},{type:"separator"},{label:"Leave Management",action:"leave_management"},{type:"separator"},{label:"Salary Management",action:"salary_management"},{type:"separator"},{label:"Payroll Management",action:"payroll_register"}]},{name:"Reports",items:[{label:"Regulatory Reports Hub",action:"reports_hub"},{type:"separator"},{label:"Statutory Returns",subItems:[{label:"P24 - Year End Certificate",action:"stat_p24"},{label:"P45 - Termination Certificate",action:"stat_p45"},{label:"NHT Contribution Report",action:"stat_nht"},{label:"NIS / NHT Returns",action:"stat_nis_nht"},{label:"S01 Monthly Return",action:"stat_s01"},{label:"S02 Annual Return",action:"stat_s02"},{label:"Pension Reports",action:"stat_pension"},{label:"Tax Website Upload Files",action:"stat_tax_upload"}]},{type:"separator"},{label:"Employee Report",action:"employee_report"},{type:"separator"},{label:"Attendance Report",action:"attendance_report"},{type:"separator"},{label:"Payroll Report",action:"payroll_register"},{type:"separator"},{label:"Salary Report",action:"salary_report"},{type:"separator"},{label:"Payroll Summary",action:"payroll_summary"},{type:"separator"},{label:"Transaction Register",action:"transaction_register_report"},{type:"separator"},{label:"Turnover Report",action:"turnover_report"},{label:"Year-to-Date Breakdown",action:"ytd_breakdown"},{label:"Retention Report",action:"retention_report"},{type:"separator"},{label:"Crystal Reporting Interface",action:"crystal_reporting"},{type:"separator"},{label:"Bank Transfer Advice",action:"bank_transfer_advice"},{label:"Email P24 Advice",action:"email_p24"}]},{name:"Files",items:[{label:"Export Data",action:"files_export"},{label:"Import Data",action:"files_import"},{label:"Backup System",action:"files_backup"},{label:"Restore System",action:"files_restore"}]}].map(_=>{const W=_.items.filter(F=>{if(!i||i==="ADMIN"||F.type==="separator")return!0;const P=F.action,z=F.label;if(i==="EMPLOYEE"||i==="STAFF"){if(_.name==="Finance")return z==="Payslips";if(_.name==="Reports")return P==="reports_hub";if(_.name==="HRM")return!1}return i==="HR_MANAGER"&&_.name==="Finance"?!0:!(i==="FINANCE"&&_.name==="HRM")}).map(F=>F.subItems&&(i==="EMPLOYEE"||i==="STAFF")?{...F,subItems:F.subItems.filter(P=>P.action==="payslip_my")}:F).filter(F=>!(F.subItems&&F.subItems.length===0)).reduce((F,P)=>(P.type==="separator"&&(F.length===0||F[F.length-1].type==="separator")||F.push(P),F),[]);return W.length>0&&W[W.length-1].type==="separator"&&W.pop(),{..._,items:W}}).filter(_=>{if(_.items.length===0)return!1;if(!i||i==="ADMIN")return!0;switch(i){case"HR_MANAGER":return["System","Finance","HRM","Reports"].includes(_.name);case"FINANCE":return["System","Finance","Reports","Files"].includes(_.name);case"EMPLOYEE":case"STAFF":return["System","Finance","Reports","Files"].includes(_.name);default:return!1}}),w=qa.useRef(null),A=qa.useRef(null),E=_=>{const O=_.target.files[0];if(O){const F={import_saved_entries:"/processing/import-saved",import_time_sheets:"/processing/import-timesheets",import_jmd_fx:"/processing/import-jmd-fx",files_import:"/files/import",files_backup:"/files/backup",files_restore:"/files/restore"}[A.current]||"/files/import";m(F,{state:{autoStart:!0,fileName:O.name,fileSize:O.size}})}},T=_=>{if(_.subItems)return;if(["files_import","import_saved_entries","import_time_sheets","import_jmd_fx"].includes(_.action)){A.current=_.action,w.current&&w.current.click(),c(null),b(!1);return}if(_.action==="select_company"&&r(),(_.action==="logout"||_.action==="quit")&&t(),s){const F={company_general_setup:"/company/setup",general_details:"/company/setup",system_settings:"/company/system-settings",customized_modules:"/company/custom-modules",bank_details:"/bank/details",transaction_codes:"/company/transaction-codes",all_entries:"/transaction/entry",user_labels:"/processing/user-labels",mass_entry:"/processing/mass-entry",import_saved_entries:"/processing/import-saved",import_time_sheets:"/processing/import-timesheets",payroll_wizard:"/processing/payroll-wizard",generate_sales_share:"/processing/sales-share",gang_shift_maintenance:"/processing/gang-shift",entered_transaction_register:"/processing/transaction-register",time_keeper:"/processing/time-keeper",post_transactions:"/processing/post-transactions",posted_transaction_register:"/processing/posted-register",payroll_calculation:"/processing/payroll-calculation",calculation_register:"/processing/calculation-register",payroll_update:"/processing/update",payroll_register:"/payroll/register",payroll_register_summary:"/reports/payroll-summary",pay_disbursement:"/processing/disbursement",processing_status:"/processing/status",advance_payment:"/processing/advance",redundancy:"/processing/redundancy",employee_management:"/employees",attendance_management:"/attendance",leave_management:"/leave",salary_management:"/salary",employee_report:"/reports/employee",attendance_report:"/reports/attendance",salary_report:"/reports/salary",stat_p24:"/statutory/p24",stat_p45:"/statutory/p45",stat_nht:"/statutory/nht",stat_nis_nht:"/statutory/nis-nht",stat_s01:"/statutory/s01",stat_s02:"/statutory/s02",stat_pension:"/statutory/pension",stat_tax_upload:"/statutory/tax-upload",payroll_summary_individual:"/reports/payroll-summary-individual",bank_bns:"/banking/bns",bank_ncb:"/banking/ncb",bank_jn:"/banking/jn",bank_jmmb:"/banking/jmmb",bank_scotia:"/banking/bns",bank_cibc:"/banking/ncb",bank_sagicor:"/banking/sagicor",bank_citibank:"/banking/citibank",electronic_payment_advice:"/banking/payment-advice",mass_updating:"/processing/mass-updating",payroll_summary:"/reports/payroll-summary",transaction_register_report:"/reports/transaction-register",turnover_report:"/reports/turnover",ytd_breakdown:"/reports/ytd-breakdown",retention_report:"/reports/retention",crystal_reporting:"/reports/crystal",bank_transfer_advice:"/reports/bank-transfer-advice",cheque_batch:"/processing/cheque-printing",cheque_single:"/processing/cheque-single",cheque_history:"/processing/cheque-history",email_p24:"/reports/email-p24",payslip_manage:"/payslips/manage",payslip_my:"/employee/payslips",reports_hub:"/reports/hub",files_export:"/files?action=export",files_import:"/files?action=import",files_backup:"/files?action=backup",files_restore:"/files?action=restore",audit_logs:"/tools/audit"}[_.action];if(F)m(F);else if(_.action?.startsWith("files_")){const P=_.action.replace("files_","");m(`/files?action=${P}`)}else _.action&&m("/")}_.subItems||(c(null),h(null),p(null)),b(!1)};return e.jsxs("div",{className:"flex flex-col w-full font-sans select-none",children:[e.jsxs("div",{className:"bg-[#0B4FD7] text-white h-8 flex items-center justify-between px-3 text-[11px] font-bold uppercase tracking-wider shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"truncate max-w-[200px] md:max-w-none drop-shadow-md",children:["Island HR Solutions HRM System - ",a||"Session Restricted"]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},title:"Maximize (Toggle Fullscreen)",className:"w-5 h-5 flex items-center justify-center bg-[#D4D0C8] text-black border border-white border-b-gray-600 border-r-gray-600 shadow-sm active:border-gray-600 active:border-b-white active:border-r-white text-[10px] pb-0.5 leading-none font-sans font-bold hover:bg-white",children:""}),e.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to close the session?")&&t()},title:"Close (Log Out)",className:"w-5 h-5 flex items-center justify-center bg-[#D4D0C8] text-black border border-white border-b-gray-600 border-r-gray-600 shadow-sm active:border-gray-600 active:border-b-white active:border-r-white text-[10px] pb-0.5 leading-none font-sans font-bold hover:bg-red-500 hover:text-white",children:"X"})]}),e.jsx("button",{onClick:()=>b(!g),className:"md:hidden ml-2 w-6 h-6 flex items-center justify-center hover:bg-blue-600",children:e.jsx(MA,{size:16})})]})]}),e.jsx("div",{className:"hidden md:flex bg-[#F0F0F0] border-b border-gray-400 items-center px-1 h-6 relative z-50",children:N.map(_=>e.jsxs("div",{className:"relative",onMouseEnter:()=>c(_.name),onMouseLeave:()=>c(null),children:[e.jsx("button",{onClick:()=>c(_.name),className:`px-3 py-1 text-xs transition-colors ${o===_.name?"bg-gray-100 text-gray-900 font-bold":"text-gray-600 hover:bg-gray-50"}`,children:_.name}),o===_.name&&_.items&&_.items.length>0&&e.jsx("div",{className:"absolute top-full left-0 bg-[#EBE9D8] border border-gray-500 shadow-[2px_2px_0_rgba(0,0,0,0.2)] py-1 min-w-[220px] z-[100]",children:e.jsx("div",{className:"flex flex-col",children:_.items.map((O,W)=>O.type==="separator"?e.jsx("div",{className:"border-t border-gray-100 my-1"},W):e.jsxs("div",{className:"relative group",onMouseEnter:()=>{O.subItems?(h(O.label),p(null)):h(null)},children:[e.jsxs("button",{onClick:()=>{O.subItems?h(d===O.label?null:O.label):T(O)},className:"w-full text-left px-4 py-1.5 text-[11px] font-bold text-black hover:bg-[#0B4FD7] hover:text-white flex justify-between items-center group",children:[e.jsx("span",{children:O.label}),O.subItems&&e.jsx(xo,{size:12,className:`text-gray-400 group-hover:text-white transition-transform ${d===O.label?"rotate-90":""}`}),O.shortcut&&e.jsx("span",{className:"text-gray-300 font-normal ml-4 text-[9px] uppercase tracking-tighter",children:O.shortcut})]}),O.subItems&&d===O.label&&e.jsx("div",{className:"absolute left-full top-0 bg-[#EBE9D8] border border-gray-500 shadow-[2px_2px_0_rgba(0,0,0,0.2)] min-w-[220px] ml-[-1px] z-[101]",children:O.subItems.map((F,P)=>F.type==="separator"?e.jsx("div",{className:"border-t border-gray-400 my-1 mx-2"},P):e.jsxs("div",{className:"relative group",onMouseEnter:()=>{F.subItems?p(F.label):p(null)},children:[e.jsxs("button",{onClick:()=>{F.subItems||T(F)},className:"w-full text-left px-4 py-1.5 text-[11px] font-bold text-black hover:bg-[#0B4FD7] hover:text-white flex justify-between items-center group cursor-default",children:[e.jsx("span",{children:F.label}),F.subItems&&e.jsx(xo,{size:12,className:"text-black group-hover:text-white"})]}),F.subItems&&f===F.label&&e.jsx("div",{className:"absolute left-full top-0 bg-[#EBE9D8] border border-gray-500 shadow-[2px_2px_0_rgba(0,0,0,0.2)] min-w-[200px] ml-[-1px] z-[102]",children:F.subItems.map((z,M)=>e.jsx("button",{onClick:()=>T(z),className:"w-full text-left px-4 py-1.5 text-[11px] font-bold text-black hover:bg-[#0B4FD7] hover:text-white group cursor-default block",children:z.label},M))})]},P))})]},W))})})]},_.name))}),g&&e.jsx("div",{className:"fixed inset-0 top-[28px] bg-white z-[200] overflow-y-auto w-full overscroll-contain pb-12",children:e.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[N.map(_=>e.jsxs("div",{className:"border-b border-gray-100 pb-2",children:[e.jsx("div",{className:"font-bold text-[10px] text-gray-400 mb-2 px-2 uppercase tracking-widest",children:_.name}),e.jsx("div",{className:"flex flex-col gap-0.5",children:_.items.map((O,W)=>O.type!=="separator"&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{O.subItems?(h(d===O.label?null:O.label),p(null)):T(O)},className:"w-full text-left px-4 py-3 min-h-[44px] text-sm text-gray-700 hover:bg-gray-50 flex justify-between items-center rounded",children:[e.jsx("span",{className:"font-medium uppercase tracking-tight text-xs",children:O.label}),O.subItems&&e.jsx(zd,{size:16,className:`text-gray-400 shrink-0 ml-2 ${d===O.label?"rotate-180":""}`})]}),O.subItems&&d===O.label&&e.jsx("div",{className:"pl-4 sm:pl-6 bg-gray-50 rounded mt-1 space-y-0.5",children:O.subItems.map((F,P)=>F.type!=="separator"&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{F.subItems?p(f===F.label?null:F.label):T(F)},className:"w-full text-left px-4 py-3 min-h-[44px] text-xs text-gray-600 hover:bg-white border-l border-gray-200 flex justify-between items-center",children:[e.jsx("span",{className:"uppercase tracking-tight",children:F.label}),F.subItems&&e.jsx(zd,{size:14,className:`text-gray-400 shrink-0 ml-2 ${f===F.label?"rotate-180":""}`})]}),F.subItems&&f===F.label&&e.jsx("div",{className:"pl-6 sm:pl-8 bg-white rounded mt-1 space-y-0.5",children:F.subItems.map((z,M)=>e.jsx("button",{onClick:()=>T(z),className:"w-full text-left px-4 py-3 min-h-[44px] text-xs text-gray-500 border-l border-gray-100",children:z.label},M))})]},P))})]},W))})]},_.name)),e.jsxs("button",{onClick:t,className:"mt-6 min-h-[44px] border border-gray-300 text-gray-600 px-4 py-2 rounded flex items-center justify-center gap-2 font-bold text-xs uppercase",children:[e.jsx(_r,{size:16})," Close Session"]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white flex items-center gap-1 sm:gap-1 px-2 py-1 h-9 overflow-x-auto no-scrollbar shadow-[inset_0_-1px_0_#808080]",children:[[{icon:e.jsx(Q5,{size:16}),color:"text-blue-900",action:()=>m("/"),title:"Dashboard",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(ic,{size:16}),color:"text-blue-900",action:()=>m("/employees"),title:"New Employee",access:["ADMIN","HR_MANAGER","FINANCE"]},{icon:e.jsx(rr,{size:16}),color:"text-blue-900",action:()=>m("/reports/hub"),title:"Reports",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(ea,{size:16}),color:"text-blue-900",action:()=>window.print(),title:"Print",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Rn,{size:16}),color:"text-blue-900",action:()=>m("/company/settings"),title:"Settings",access:["ADMIN"]},{icon:e.jsx("div",{className:"h-4 w-[1px] bg-gray-400 mx-1"}),color:"",action:()=>{},title:"",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Ga,{size:16}),color:"text-blue-900",action:()=>m("/search"),title:"Search",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(mu,{size:16}),color:"text-blue-900",action:()=>m("/processing/status"),title:"Validate",access:["ADMIN","HR_MANAGER","FINANCE"]},{icon:e.jsx(yf,{size:16}),color:"text-blue-900",action:()=>m("/files"),title:"Files",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Cp,{size:16}),color:"text-blue-900",action:()=>m("/window"),title:"Layout",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(X5,{size:16}),color:"text-blue-900",action:()=>m("/help"),title:"Help",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]}].filter(_=>!_.access||_.access.includes(i)).map((_,O)=>_.title?e.jsx("button",{onClick:_.action,title:_.title,className:"w-7 h-7 flex items-center justify-center border border-transparent hover:border-white hover:border-r-gray-500 hover:border-b-gray-500 hover:shadow-[1px_1px_0_rgba(0,0,0,0.1)] active:border-gray-500 active:border-r-white active:border-b-white active:shadow-inner bg-transparent transition-none",children:e.jsx("div",{className:`${_.color}`,children:_.icon})},O):e.jsx("div",{className:"flex items-center",children:_.icon},O)),e.jsx("div",{className:"flex-1 min-w-[10px]"})]}),o&&e.jsx("div",{className:"hidden md:block fixed inset-0 z-40 bg-transparent",onClick:()=>c(null)}),e.jsx("input",{type:"file",ref:w,className:"hidden",onChange:E,accept:".xlsx,.xls,.csv,.xml,.bak,.sql,.zip"})]})};function MM(){const[t,r]=R.useState(()=>{const d=localStorage.getItem("currentUser");return d?JSON.parse(d):null}),[a,s]=R.useState(()=>{const d=localStorage.getItem("selectedCompany");return d?JSON.parse(d):null});R.useEffect(()=>{t?localStorage.setItem("currentUser",JSON.stringify(t)):localStorage.removeItem("currentUser")},[t]),R.useEffect(()=>{a?localStorage.setItem("selectedCompany",JSON.stringify(a)):localStorage.removeItem("selectedCompany")},[a]);const i=d=>{r(d),s(null)},o=d=>{s(d)},c=async()=>{try{await Te.logout()}catch(d){console.error("Logout failed",d)}r(null),s(null),localStorage.removeItem("currentUser"),localStorage.removeItem("selectedCompany")};return e.jsx(TE,{children:e.jsxs("div",{className:"flex flex-col h-screen w-full overflow-hidden bg-[#EBE9D8]",children:[t&&a&&e.jsx("div",{className:"no-print",children:e.jsx(IM,{onLogout:c,onSelectCompany:()=>s(null),companyName:a?.name,isCompanySelected:!!a,userRole:t?.role})}),e.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:e.jsx("div",{className:"relative z-10 w-full h-full overflow-auto bg-[#EBE9D8] card-classic-container",children:t?a?e.jsx(FM,{onLogout:c,selectedCompany:a,currentUser:t}):e.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:e.jsx(PM,{onSelect:o,onExit:c})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:e.jsx(OM,{onLogin:i})})})}),t&&a&&e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-white min-h-6 px-4 py-0.5 flex items-center justify-between text-[11px] text-black font-sans shadow-[inset_0_1px_0_#808080] z-50 no-print select-none",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"inset-shadow px-2 border-r border-gray-400",children:t?`Ready  ${t.role}`:"RESTRICTED"}),e.jsx("span",{className:"pl-4",children:"JA REGION"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"border-l border-white border-r border-gray-400 px-2",children:"EXCLUSIVE"}),e.jsxs("span",{className:"border-l border-white pl-2 flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full border border-gray-500 ${t?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{children:t?"SECURE":"UNAUTH"})]})]})]})]})})}lS.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(MM,{})}));export{la as _,BM as c,K3 as g};
