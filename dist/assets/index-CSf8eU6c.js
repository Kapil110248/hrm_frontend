(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const p of x.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function o(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(u){if(u.ep)return;u.ep=!0;const x=o(u);fetch(u.href,x)}})();function mg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var cd={exports:{}},Il={};var J0;function hg(){if(J0)return Il;J0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(i,u,x){var p=null;if(x!==void 0&&(p=""+x),u.key!==void 0&&(p=""+u.key),"key"in u){x={};for(var g in u)g!=="key"&&(x[g]=u[g])}else x=u;return u=x.ref,{$$typeof:l,type:i,key:p,ref:u!==void 0?u:null,props:x}}return Il.Fragment=n,Il.jsx=o,Il.jsxs=o,Il}var V0;function bg(){return V0||(V0=1,cd.exports=hg()),cd.exports}var e=bg(),od={exports:{}},ve={};var X0;function fg(){if(X0)return ve;X0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),k=Symbol.iterator;function f(P){return P===null||typeof P!="object"?null:(P=k&&P[k]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function D(P,Z,oe){this.props=P,this.context=Z,this.refs=w,this.updater=oe||j}D.prototype.isReactComponent={},D.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},D.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function L(){}L.prototype=D.prototype;function A(P,Z,oe){this.props=P,this.context=Z,this.refs=w,this.updater=oe||j}var S=A.prototype=new L;S.constructor=A,C(S,D.prototype),S.isPureReactComponent=!0;var _=Array.isArray;function B(){}var E={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function O(P,Z,oe){var ue=oe.ref;return{$$typeof:l,type:P,key:Z,ref:ue!==void 0?ue:null,props:oe}}function F(P,Z){return O(P.type,Z,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===l}function $(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return Z[oe]})}var T=/\/+/g;function q(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?$(""+P.key):Z.toString(36)}function ce(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(B,B):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function I(P,Z,oe,ue,he){var ye=typeof P;(ye==="undefined"||ye==="boolean")&&(P=null);var Te=!1;if(P===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(P.$$typeof){case l:case n:Te=!0;break;case N:return Te=P._init,I(Te(P._payload),Z,oe,ue,he)}}if(Te)return he=he(P),Te=ue===""?"."+q(P,0):ue,_(he)?(oe="",Te!=null&&(oe=Te.replace(T,"$&/")+"/"),I(he,Z,oe,"",function(qr){return qr})):he!=null&&(M(he)&&(he=F(he,oe+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(T,"$&/")+"/")+Te)),Z.push(he)),1;Te=0;var Nt=ue===""?".":ue+":";if(_(P))for(var Ze=0;Ze<P.length;Ze++)ue=P[Ze],ye=Nt+q(ue,Ze),Te+=I(ue,Z,oe,ye,he);else if(Ze=f(P),typeof Ze=="function")for(P=Ze.call(P),Ze=0;!(ue=P.next()).done;)ue=ue.value,ye=Nt+q(ue,Ze++),Te+=I(ue,Z,oe,ye,he);else if(ye==="object"){if(typeof P.then=="function")return I(ce(P),Z,oe,ue,he);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Te}function W(P,Z,oe){if(P==null)return P;var ue=[],he=0;return I(P,ue,"","",function(ye){return Z.call(oe,ye,he++)}),ue}function de(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ee={map:W,forEach:function(P,Z,oe){W(P,function(){Z.apply(this,arguments)},oe)},count:function(P){var Z=0;return W(P,function(){Z++}),Z},toArray:function(P){return W(P,function(Z){return Z})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ve.Activity=v,ve.Children=ee,ve.Component=D,ve.Fragment=o,ve.Profiler=u,ve.PureComponent=A,ve.StrictMode=i,ve.Suspense=b,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,ve.__COMPILER_RUNTIME={__proto__:null,c:function(P){return E.H.useMemoCache(P)}},ve.cache=function(P){return function(){return P.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(P,Z,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=C({},P.props),he=P.key;if(Z!=null)for(ye in Z.key!==void 0&&(he=""+Z.key),Z)!R.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(ue[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)ue.children=oe;else if(1<ye){for(var Te=Array(ye),Nt=0;Nt<ye;Nt++)Te[Nt]=arguments[Nt+2];ue.children=Te}return O(P.type,he,ue)},ve.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:x,_context:P},P},ve.createElement=function(P,Z,oe){var ue,he={},ye=null;if(Z!=null)for(ue in Z.key!==void 0&&(ye=""+Z.key),Z)R.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=Z[ue]);var Te=arguments.length-2;if(Te===1)he.children=oe;else if(1<Te){for(var Nt=Array(Te),Ze=0;Ze<Te;Ze++)Nt[Ze]=arguments[Ze+2];he.children=Nt}if(P&&P.defaultProps)for(ue in Te=P.defaultProps,Te)he[ue]===void 0&&(he[ue]=Te[ue]);return O(P,ye,he)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(P){return{$$typeof:g,render:P}},ve.isValidElement=M,ve.lazy=function(P){return{$$typeof:N,_payload:{_status:-1,_result:P},_init:de}},ve.memo=function(P,Z){return{$$typeof:h,type:P,compare:Z===void 0?null:Z}},ve.startTransition=function(P){var Z=E.T,oe={};E.T=oe;try{var ue=P(),he=E.S;he!==null&&he(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(B,ne)}catch(ye){ne(ye)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),E.T=Z}},ve.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},ve.use=function(P){return E.H.use(P)},ve.useActionState=function(P,Z,oe){return E.H.useActionState(P,Z,oe)},ve.useCallback=function(P,Z){return E.H.useCallback(P,Z)},ve.useContext=function(P){return E.H.useContext(P)},ve.useDebugValue=function(){},ve.useDeferredValue=function(P,Z){return E.H.useDeferredValue(P,Z)},ve.useEffect=function(P,Z){return E.H.useEffect(P,Z)},ve.useEffectEvent=function(P){return E.H.useEffectEvent(P)},ve.useId=function(){return E.H.useId()},ve.useImperativeHandle=function(P,Z,oe){return E.H.useImperativeHandle(P,Z,oe)},ve.useInsertionEffect=function(P,Z){return E.H.useInsertionEffect(P,Z)},ve.useLayoutEffect=function(P,Z){return E.H.useLayoutEffect(P,Z)},ve.useMemo=function(P,Z){return E.H.useMemo(P,Z)},ve.useOptimistic=function(P,Z){return E.H.useOptimistic(P,Z)},ve.useReducer=function(P,Z,oe){return E.H.useReducer(P,Z,oe)},ve.useRef=function(P){return E.H.useRef(P)},ve.useState=function(P){return E.H.useState(P)},ve.useSyncExternalStore=function(P,Z,oe){return E.H.useSyncExternalStore(P,Z,oe)},ve.useTransition=function(){return E.H.useTransition()},ve.version="19.2.3",ve}var Q0;function Ad(){return Q0||(Q0=1,od.exports=fg()),od.exports}var m=Ad();const bt=mg(m);var dd={exports:{}},Fl={},ud={exports:{}},xd={};var K0;function gg(){return K0||(K0=1,(function(l){function n(I,W){var de=I.length;I.push(W);e:for(;0<de;){var ne=de-1>>>1,ee=I[ne];if(0<u(ee,W))I[ne]=W,I[de]=ee,de=ne;else break e}}function o(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var W=I[0],de=I.pop();if(de!==W){I[0]=de;e:for(var ne=0,ee=I.length,P=ee>>>1;ne<P;){var Z=2*(ne+1)-1,oe=I[Z],ue=Z+1,he=I[ue];if(0>u(oe,de))ue<ee&&0>u(he,oe)?(I[ne]=he,I[ue]=de,ne=ue):(I[ne]=oe,I[Z]=de,ne=Z);else if(ue<ee&&0>u(he,de))I[ne]=he,I[ue]=de,ne=ue;else break e}}return W}function u(I,W){var de=I.sortIndex-W.sortIndex;return de!==0?de:I.id-W.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;l.unstable_now=function(){return x.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var b=[],h=[],N=1,v=null,k=3,f=!1,j=!1,C=!1,w=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function S(I){for(var W=o(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=I)i(h),W.sortIndex=W.expirationTime,n(b,W);else break;W=o(h)}}function _(I){if(C=!1,S(I),!j)if(o(b)!==null)j=!0,B||(B=!0,$());else{var W=o(h);W!==null&&ce(_,W.startTime-I)}}var B=!1,E=-1,R=5,O=-1;function F(){return w?!0:!(l.unstable_now()-O<R)}function M(){if(w=!1,B){var I=l.unstable_now();O=I;var W=!0;try{e:{j=!1,C&&(C=!1,L(E),E=-1),f=!0;var de=k;try{t:{for(S(I),v=o(b);v!==null&&!(v.expirationTime>I&&F());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,k=v.priorityLevel;var ee=ne(v.expirationTime<=I);if(I=l.unstable_now(),typeof ee=="function"){v.callback=ee,S(I),W=!0;break t}v===o(b)&&i(b),S(I)}else i(b);v=o(b)}if(v!==null)W=!0;else{var P=o(h);P!==null&&ce(_,P.startTime-I),W=!1}}break e}finally{v=null,k=de,f=!1}W=void 0}}finally{W?$():B=!1}}}var $;if(typeof A=="function")$=function(){A(M)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,q=T.port2;T.port1.onmessage=M,$=function(){q.postMessage(null)}}else $=function(){D(M,0)};function ce(I,W){E=D(function(){I(l.unstable_now())},W)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(I){I.callback=null},l.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},l.unstable_getCurrentPriorityLevel=function(){return k},l.unstable_next=function(I){switch(k){case 1:case 2:case 3:var W=3;break;default:W=k}var de=k;k=W;try{return I()}finally{k=de}},l.unstable_requestPaint=function(){w=!0},l.unstable_runWithPriority=function(I,W){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var de=k;k=I;try{return W()}finally{k=de}},l.unstable_scheduleCallback=function(I,W,de){var ne=l.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ne+de:ne):de=ne,I){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=de+ee,I={id:N++,callback:W,priorityLevel:I,startTime:de,expirationTime:ee,sortIndex:-1},de>ne?(I.sortIndex=de,n(h,I),o(b)===null&&I===o(h)&&(C?(L(E),E=-1):C=!0,ce(_,de-ne))):(I.sortIndex=ee,n(b,I),j||f||(j=!0,B||(B=!0,$()))),I},l.unstable_shouldYield=F,l.unstable_wrapCallback=function(I){var W=k;return function(){var de=k;k=W;try{return I.apply(this,arguments)}finally{k=de}}}})(xd)),xd}var Z0;function yg(){return Z0||(Z0=1,ud.exports=gg()),ud.exports}var pd={exports:{}},ft={};var W0;function jg(){if(W0)return ft;W0=1;var l=Ad();function n(b){var h="https://react.dev/errors/"+b;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)h+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function x(b,h,N){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:b,containerInfo:h,implementation:N}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(b,h){if(b==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ft.createPortal=function(b,h){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return x(b,h,null,N)},ft.flushSync=function(b){var h=p.T,N=i.p;try{if(p.T=null,i.p=2,b)return b()}finally{p.T=h,i.p=N,i.d.f()}},ft.preconnect=function(b,h){typeof b=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(b,h))},ft.prefetchDNS=function(b){typeof b=="string"&&i.d.D(b)},ft.preinit=function(b,h){if(typeof b=="string"&&h&&typeof h.as=="string"){var N=h.as,v=g(N,h.crossOrigin),k=typeof h.integrity=="string"?h.integrity:void 0,f=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;N==="style"?i.d.S(b,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:k,fetchPriority:f}):N==="script"&&i.d.X(b,{crossOrigin:v,integrity:k,fetchPriority:f,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ft.preinitModule=function(b,h){if(typeof b=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var N=g(h.as,h.crossOrigin);i.d.M(b,{crossOrigin:N,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(b)},ft.preload=function(b,h){if(typeof b=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var N=h.as,v=g(N,h.crossOrigin);i.d.L(b,N,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ft.preloadModule=function(b,h){if(typeof b=="string")if(h){var N=g(h.as,h.crossOrigin);i.d.m(b,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:N,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(b)},ft.requestFormReset=function(b){i.d.r(b)},ft.unstable_batchedUpdates=function(b,h){return b(h)},ft.useFormState=function(b,h,N){return p.H.useFormState(b,h,N)},ft.useFormStatus=function(){return p.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var em;function Ng(){if(em)return pd.exports;em=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),pd.exports=jg(),pd.exports}var tm;function vg(){if(tm)return Fl;tm=1;var l=yg(),n=Ad(),o=Ng();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function p(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function b(t){if(x(t)!==t)throw Error(i(188))}function h(t){var a=t.alternate;if(!a){if(a=x(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,r=a;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return b(c),t;if(d===r)return b(c),a;d=d.sibling}throw Error(i(188))}if(s.return!==r.return)s=c,r=d;else{for(var y=!1,z=c.child;z;){if(z===s){y=!0,s=c,r=d;break}if(z===r){y=!0,r=c,s=d;break}z=z.sibling}if(!y){for(z=d.child;z;){if(z===s){y=!0,s=d,r=c;break}if(z===r){y=!0,r=d,s=c;break}z=z.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==r)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function N(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=N(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,k=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var T=Symbol.for("react.client.reference");function q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===T?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case D:return"Profiler";case w:return"StrictMode";case _:return"Suspense";case B:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case A:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case S:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E:return a=t.displayName||null,a!==null?a:q(t.type)||"Memo";case R:a=t._payload,t=t._init;try{return q(t(a))}catch{}}return null}var ce=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ne=[],ee=-1;function P(t){return{current:t}}function Z(t){0>ee||(t.current=ne[ee],ne[ee]=null,ee--)}function oe(t,a){ee++,ne[ee]=t.current,t.current=a}var ue=P(null),he=P(null),ye=P(null),Te=P(null);function Nt(t,a){switch(oe(ye,a),oe(he,t),oe(ue,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?b0(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=b0(a),t=f0(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),oe(ue,t)}function Ze(){Z(ue),Z(he),Z(ye)}function qr(t){t.memoizedState!==null&&oe(Te,t);var a=ue.current,s=f0(a,t.type);a!==s&&(oe(he,t),oe(ue,s))}function Wl(t){he.current===t&&(Z(ue),Z(he)),Te.current===t&&(Z(Te),Ll._currentValue=de)}var $i,Yd;function vs(t){if($i===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);$i=a&&a[1]||"",Yd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+t+Yd}var qi=!1;function Gi(t,a){if(!t||qi)return"";qi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(K){var V=K}Reflect.construct(t,[],se)}else{try{se.call()}catch(K){V=K}t.call(se.prototype)}}else{try{throw Error()}catch(K){V=K}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),y=d[0],z=d[1];if(y&&z){var U=y.split(`
`),J=z.split(`
`);for(c=r=0;r<U.length&&!U[r].includes("DetermineComponentFrameRoot");)r++;for(;c<J.length&&!J[c].includes("DetermineComponentFrameRoot");)c++;if(r===U.length||c===J.length)for(r=U.length-1,c=J.length-1;1<=r&&0<=c&&U[r]!==J[c];)c--;for(;1<=r&&0<=c;r--,c--)if(U[r]!==J[c]){if(r!==1||c!==1)do if(r--,c--,0>c||U[r]!==J[c]){var te=`
`+U[r].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=r&&0<=c);break}}}finally{qi=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?vs(s):""}function qh(t,a){switch(t.tag){case 26:case 27:case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return t.child!==a&&a!==null?vs("Suspense Fallback"):vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return Gi(t.type,!1);case 11:return Gi(t.type.render,!1);case 1:return Gi(t.type,!0);case 31:return vs("Activity");default:return""}}function Jd(t){try{var a="",s=null;do a+=qh(t,s),s=t,t=t.return;while(t);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Yi=Object.prototype.hasOwnProperty,Ji=l.unstable_scheduleCallback,Vi=l.unstable_cancelCallback,Gh=l.unstable_shouldYield,Yh=l.unstable_requestPaint,It=l.unstable_now,Jh=l.unstable_getCurrentPriorityLevel,Vd=l.unstable_ImmediatePriority,Xd=l.unstable_UserBlockingPriority,en=l.unstable_NormalPriority,Vh=l.unstable_LowPriority,Qd=l.unstable_IdlePriority,Xh=l.log,Qh=l.unstable_setDisableYieldValue,Gr=null,Ft=null;function Ja(t){if(typeof Xh=="function"&&Qh(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Gr,t)}catch{}}var Bt=Math.clz32?Math.clz32:Wh,Kh=Math.log,Zh=Math.LN2;function Wh(t){return t>>>=0,t===0?32:31-(Kh(t)/Zh|0)|0}var tn=256,an=262144,sn=4194304;function ws(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rn(t,a,s){var r=t.pendingLanes;if(r===0)return 0;var c=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var z=r&134217727;return z!==0?(r=z&~d,r!==0?c=ws(r):(y&=z,y!==0?c=ws(y):s||(s=z&~t,s!==0&&(c=ws(s))))):(z=r&~d,z!==0?c=ws(z):y!==0?c=ws(y):s||(s=r&~t,s!==0&&(c=ws(s)))),c===0?0:a!==0&&a!==c&&(a&d)===0&&(d=c&-c,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:c}function Yr(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function eb(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(){var t=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),t}function Xi(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Jr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tb(t,a,s,r,c,d){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var z=t.entanglements,U=t.expirationTimes,J=t.hiddenUpdates;for(s=y&~s;0<s;){var te=31-Bt(s),se=1<<te;z[te]=0,U[te]=-1;var V=J[te];if(V!==null)for(J[te]=null,te=0;te<V.length;te++){var K=V[te];K!==null&&(K.lane&=-536870913)}s&=~se}r!==0&&Zd(t,r,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~a))}function Zd(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var r=31-Bt(a);t.entangledLanes|=a,t.entanglements[r]=t.entanglements[r]|1073741824|s&261930}function Wd(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var r=31-Bt(s),c=1<<r;c&a|t[r]&a&&(t[r]|=a),s&=~c}}function eu(t,a){var s=a&-a;return s=(s&42)!==0?1:Qi(s),(s&(t.suspendedLanes|a))!==0?0:s}function Qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tu(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:P0(t.type))}function au(t,a){var s=W.p;try{return W.p=t,a()}finally{W.p=s}}var Va=Math.random().toString(36).slice(2),ut="__reactFiber$"+Va,St="__reactProps$"+Va,Js="__reactContainer$"+Va,Zi="__reactEvents$"+Va,ab="__reactListeners$"+Va,sb="__reactHandles$"+Va,su="__reactResources$"+Va,Vr="__reactMarker$"+Va;function Wi(t){delete t[ut],delete t[St],delete t[Zi],delete t[ab],delete t[sb]}function Vs(t){var a=t[ut];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Js]||s[ut]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=S0(t);t!==null;){if(s=t[ut])return s;t=S0(t)}return a}t=s,s=t.parentNode}return null}function Xs(t){if(t=t[ut]||t[Js]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Xr(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function Qs(t){var a=t[su];return a||(a=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ct(t){t[Vr]=!0}var ru=new Set,lu={};function Ss(t,a){Ks(t,a),Ks(t+"Capture",a)}function Ks(t,a){for(lu[t]=a,t=0;t<a.length;t++)ru.add(a[t])}var rb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},iu={};function lb(t){return Yi.call(iu,t)?!0:Yi.call(nu,t)?!1:rb.test(t)?iu[t]=!0:(nu[t]=!0,!1)}function ln(t,a,s){if(lb(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var r=a.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function nn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Na(t,a,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+r)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nb(t,a,s){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(t,a,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ec(t){if(!t._valueTracker){var a=cu(t)?"checked":"value";t._valueTracker=nb(t,a,""+t[a])}}function ou(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),r="";return t&&(r=cu(t)?t.checked?"true":"false":t.value),t=r,t!==s?(a.setValue(t),!0):!1}function cn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ib=/[\n"\\]/g;function Xt(t){return t.replace(ib,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function tc(t,a,s,r,c,d,y,z){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),a!=null?y==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Vt(a)):t.value!==""+Vt(a)&&(t.value=""+Vt(a)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),a!=null?ac(t,y,Vt(a)):s!=null?ac(t,y,Vt(s)):r!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+Vt(z):t.removeAttribute("name")}function du(t,a,s,r,c,d,y,z){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){ec(t);return}s=s!=null?""+Vt(s):"",a=a!=null?""+Vt(a):s,z||a===t.value||(t.value=a),t.defaultValue=a}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=z?t.checked:!!r,t.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),ec(t)}function ac(t,a,s){a==="number"&&cn(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Zs(t,a,s,r){if(t=t.options,a){a={};for(var c=0;c<s.length;c++)a["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=a.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&r&&(t[s].defaultSelected=!0)}else{for(s=""+Vt(s),a=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}a!==null||t[c].disabled||(a=t[c])}a!==null&&(a.selected=!0)}}function uu(t,a,s){if(a!=null&&(a=""+Vt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Vt(s):""}function xu(t,a,s,r){if(a==null){if(r!=null){if(s!=null)throw Error(i(92));if(ce(r)){if(1<r.length)throw Error(i(93));r=r[0]}s=r}s==null&&(s=""),a=s}s=Vt(a),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r),ec(t)}function Ws(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var cb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(t,a,s){var r=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":r?t.setProperty(a,s):typeof s!="number"||s===0||cb.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function mu(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||a!=null&&a.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in a)r=a[c],a.hasOwnProperty(c)&&s[c]!==r&&pu(t,c,r)}else for(var d in a)a.hasOwnProperty(d)&&pu(t,d,a[d])}function sc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ob=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),db=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function on(t){return db.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function va(){}var rc=null;function lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var er=null,tr=null;function hu(t){var a=Xs(t);if(a&&(t=a.stateNode)){var s=t[St]||null;e:switch(t=a.stateNode,a.type){case"input":if(tc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Xt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var r=s[a];if(r!==t&&r.form===t.form){var c=r[St]||null;if(!c)throw Error(i(90));tc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(a=0;a<s.length;a++)r=s[a],r.form===t.form&&ou(r)}break e;case"textarea":uu(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Zs(t,!!s.multiple,a,!1)}}}var nc=!1;function bu(t,a,s){if(nc)return t(a,s);nc=!0;try{var r=t(a);return r}finally{if(nc=!1,(er!==null||tr!==null)&&(Qn(),er&&(a=er,t=tr,tr=er=null,hu(a),t)))for(a=0;a<t.length;a++)hu(t[a])}}function Qr(t,a){var s=t.stateNode;if(s===null)return null;var r=s[St]||null;if(r===null)return null;s=r[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(wa)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){ic=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{ic=!1}var Xa=null,cc=null,dn=null;function fu(){if(dn)return dn;var t,a=cc,s=a.length,r,c="value"in Xa?Xa.value:Xa.textContent,d=c.length;for(t=0;t<s&&a[t]===c[t];t++);var y=s-t;for(r=1;r<=y&&a[s-r]===c[d-r];r++);return dn=c.slice(t,1<r?1-r:void 0)}function un(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function xn(){return!0}function gu(){return!1}function kt(t){function a(s,r,c,d,y){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(s=t[z],this[z]=s?s(d):d[z]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xn:gu,this.isPropagationStopped=gu,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),a}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=kt(ks),Zr=v({},ks,{view:0,detail:0}),ub=kt(Zr),oc,dc,Wr,mn=v({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wr&&(Wr&&t.type==="mousemove"?(oc=t.screenX-Wr.screenX,dc=t.screenY-Wr.screenY):dc=oc=0,Wr=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:dc}}),yu=kt(mn),xb=v({},mn,{dataTransfer:0}),pb=kt(xb),mb=v({},Zr,{relatedTarget:0}),uc=kt(mb),hb=v({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),bb=kt(hb),fb=v({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gb=kt(fb),yb=v({},ks,{data:0}),ju=kt(yb),jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=vb[t])?!!a[t]:!1}function xc(){return wb}var Sb=v({},Zr,{key:function(t){if(t.key){var a=jb[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=un(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(t){return t.type==="keypress"?un(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?un(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kb=kt(Sb),Eb=v({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=kt(Eb),Cb=v({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),Db=kt(Cb),Tb=v({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ab=kt(Tb),Rb=v({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zb=kt(Rb),Lb=v({},ks,{newState:0,oldState:0}),Ob=kt(Lb),Mb=[9,13,27,32],pc=wa&&"CompositionEvent"in window,el=null;wa&&"documentMode"in document&&(el=document.documentMode);var _b=wa&&"TextEvent"in window&&!el,vu=wa&&(!pc||el&&8<el&&11>=el),wu=" ",Su=!1;function ku(t,a){switch(t){case"keyup":return Mb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ar=!1;function Ib(t,a){switch(t){case"compositionend":return Eu(a);case"keypress":return a.which!==32?null:(Su=!0,wu);case"textInput":return t=a.data,t===wu&&Su?null:t;default:return null}}function Fb(t,a){if(ar)return t==="compositionend"||!pc&&ku(t,a)?(t=fu(),dn=cc=Xa=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vu&&a.locale!=="ko"?null:a.data;default:return null}}var Bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Bb[t.type]:a==="textarea"}function Du(t,a,s,r){er?tr?tr.push(r):tr=[r]:er=r,a=si(a,"onChange"),0<a.length&&(s=new pn("onChange","change",null,s,r),t.push({event:s,listeners:a}))}var tl=null,al=null;function Pb(t){d0(t,0)}function hn(t){var a=Xr(t);if(ou(a))return t}function Tu(t,a){if(t==="change")return a}var Au=!1;if(wa){var mc;if(wa){var hc="oninput"in document;if(!hc){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),hc=typeof Ru.oninput=="function"}mc=hc}else mc=!1;Au=mc&&(!document.documentMode||9<document.documentMode)}function zu(){tl&&(tl.detachEvent("onpropertychange",Lu),al=tl=null)}function Lu(t){if(t.propertyName==="value"&&hn(al)){var a=[];Du(a,al,t,lc(t)),bu(Pb,a)}}function Ub(t,a,s){t==="focusin"?(zu(),tl=a,al=s,tl.attachEvent("onpropertychange",Lu)):t==="focusout"&&zu()}function Hb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hn(al)}function $b(t,a){if(t==="click")return hn(a)}function qb(t,a){if(t==="input"||t==="change")return hn(a)}function Gb(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Pt=typeof Object.is=="function"?Object.is:Gb;function sl(t,a){if(Pt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),r=Object.keys(a);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!Yi.call(a,c)||!Pt(t[c],a[c]))return!1}return!0}function Ou(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mu(t,a){var s=Ou(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=a&&r>=a)return{node:s,offset:a-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ou(s)}}function _u(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?_u(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Iu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=cn(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=cn(t.document)}return a}function bc(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Yb=wa&&"documentMode"in document&&11>=document.documentMode,sr=null,fc=null,rl=null,gc=!1;function Fu(t,a,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gc||sr==null||sr!==cn(r)||(r=sr,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rl&&sl(rl,r)||(rl=r,r=si(fc,"onSelect"),0<r.length&&(a=new pn("onSelect","select",null,a,s),t.push({event:a,listeners:r}),a.target=sr)))}function Es(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var rr={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},yc={},Bu={};wa&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function Cs(t){if(yc[t])return yc[t];if(!rr[t])return t;var a=rr[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Bu)return yc[t]=a[s];return t}var Pu=Cs("animationend"),Uu=Cs("animationiteration"),Hu=Cs("animationstart"),Jb=Cs("transitionrun"),Vb=Cs("transitionstart"),Xb=Cs("transitioncancel"),$u=Cs("transitionend"),qu=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function ca(t,a){qu.set(t,a),Ss(a,[t])}var bn=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qt=[],lr=0,Nc=0;function fn(){for(var t=lr,a=Nc=lr=0;a<t;){var s=Qt[a];Qt[a++]=null;var r=Qt[a];Qt[a++]=null;var c=Qt[a];Qt[a++]=null;var d=Qt[a];if(Qt[a++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}d!==0&&Gu(s,c,d)}}function gn(t,a,s,r){Qt[lr++]=t,Qt[lr++]=a,Qt[lr++]=s,Qt[lr++]=r,Nc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function vc(t,a,s,r){return gn(t,a,s,r),yn(t)}function Ds(t,a){return gn(t,null,null,a),yn(t)}function Gu(t,a,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var c=!1,d=t.return;d!==null;)d.childLanes|=s,r=d.alternate,r!==null&&(r.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&a!==null&&(c=31-Bt(s),t=d.hiddenUpdates,r=t[c],r===null?t[c]=[a]:r.push(a),a.lane=s|536870912),d):null}function yn(t){if(50<El)throw El=0,zo=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var nr={};function Qb(t,a,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,a,s,r){return new Qb(t,a,s,r)}function wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sa(t,a){var s=t.alternate;return s===null?(s=Ut(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Yu(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function jn(t,a,s,r,c,d){var y=0;if(r=t,typeof t=="function")wc(t)&&(y=1);else if(typeof t=="string")y=ag(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Ut(31,s,a,c),t.elementType=O,t.lanes=d,t;case C:return Ts(s.children,c,d,a);case w:y=8,c|=24;break;case D:return t=Ut(12,s,a,c|2),t.elementType=D,t.lanes=d,t;case _:return t=Ut(13,s,a,c),t.elementType=_,t.lanes=d,t;case B:return t=Ut(19,s,a,c),t.elementType=B,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:y=10;break e;case L:y=9;break e;case S:y=11;break e;case E:y=14;break e;case R:y=16,r=null;break e}y=29,s=Error(i(130,t===null?"null":typeof t,"")),r=null}return a=Ut(y,s,a,c),a.elementType=t,a.type=r,a.lanes=d,a}function Ts(t,a,s,r){return t=Ut(7,t,r,a),t.lanes=s,t}function Sc(t,a,s){return t=Ut(6,t,null,a),t.lanes=s,t}function Ju(t){var a=Ut(18,null,null,0);return a.stateNode=t,a}function kc(t,a,s){return a=Ut(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Vu=new WeakMap;function Kt(t,a){if(typeof t=="object"&&t!==null){var s=Vu.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Jd(a)},Vu.set(t,a),a)}return{value:t,source:a,stack:Jd(a)}}var ir=[],cr=0,Nn=null,ll=0,Zt=[],Wt=0,Qa=null,ba=1,fa="";function ka(t,a){ir[cr++]=ll,ir[cr++]=Nn,Nn=t,ll=a}function Xu(t,a,s){Zt[Wt++]=ba,Zt[Wt++]=fa,Zt[Wt++]=Qa,Qa=t;var r=ba;t=fa;var c=32-Bt(r)-1;r&=~(1<<c),s+=1;var d=32-Bt(a)+c;if(30<d){var y=c-c%5;d=(r&(1<<y)-1).toString(32),r>>=y,c-=y,ba=1<<32-Bt(a)+c|s<<c|r,fa=d+t}else ba=1<<d|s<<c|r,fa=t}function Ec(t){t.return!==null&&(ka(t,1),Xu(t,1,0))}function Cc(t){for(;t===Nn;)Nn=ir[--cr],ir[cr]=null,ll=ir[--cr],ir[cr]=null;for(;t===Qa;)Qa=Zt[--Wt],Zt[Wt]=null,fa=Zt[--Wt],Zt[Wt]=null,ba=Zt[--Wt],Zt[Wt]=null}function Qu(t,a){Zt[Wt++]=ba,Zt[Wt++]=fa,Zt[Wt++]=Qa,ba=a.id,fa=a.overflow,Qa=t}var xt=null,qe=null,ze=!1,Ka=null,ea=!1,Dc=Error(i(519));function Za(t){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Kt(a,t)),Dc}function Ku(t){var a=t.stateNode,s=t.type,r=t.memoizedProps;switch(a[ut]=t,a[St]=r,s){case"dialog":De("cancel",a),De("close",a);break;case"iframe":case"object":case"embed":De("load",a);break;case"video":case"audio":for(s=0;s<Dl.length;s++)De(Dl[s],a);break;case"source":De("error",a);break;case"img":case"image":case"link":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"input":De("invalid",a),du(a,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":De("invalid",a);break;case"textarea":De("invalid",a),xu(a,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||r.suppressHydrationWarning===!0||m0(a.textContent,s)?(r.popover!=null&&(De("beforetoggle",a),De("toggle",a)),r.onScroll!=null&&De("scroll",a),r.onScrollEnd!=null&&De("scrollend",a),r.onClick!=null&&(a.onclick=va),a=!0):a=!1,a||Za(t,!0)}function Zu(t){for(xt=t.return;xt;)switch(xt.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:xt=xt.return}}function or(t){if(t!==xt)return!1;if(!ze)return Zu(t),ze=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Jo(t.type,t.memoizedProps)),s=!s),s&&qe&&Za(t),Zu(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));qe=w0(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));qe=w0(t)}else a===27?(a=qe,xs(t.type)?(t=Zo,Zo=null,qe=t):qe=a):qe=xt?aa(t.stateNode.nextSibling):null;return!0}function As(){qe=xt=null,ze=!1}function Tc(){var t=Ka;return t!==null&&(Tt===null?Tt=t:Tt.push.apply(Tt,t),Ka=null),t}function nl(t){Ka===null?Ka=[t]:Ka.push(t)}var Ac=P(null),Rs=null,Ea=null;function Wa(t,a,s){oe(Ac,a._currentValue),a._currentValue=s}function Ca(t){t._currentValue=Ac.current,Z(Ac)}function Rc(t,a,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,r!==null&&(r.childLanes|=a)):r!==null&&(r.childLanes&a)!==a&&(r.childLanes|=a),t===s)break;t=t.return}}function zc(t,a,s,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;e:for(;d!==null;){var z=d;d=c;for(var U=0;U<a.length;U++)if(z.context===a[U]){d.lanes|=s,z=d.alternate,z!==null&&(z.lanes|=s),Rc(d.return,s,t),r||(y=null);break e}d=z.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(i(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Rc(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function dr(t,a,s,r){t=null;for(var c=a,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var z=c.type;Pt(c.pendingProps.value,y.value)||(t!==null?t.push(z):t=[z])}}else if(c===Te.current){if(y=c.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&zc(a,t,s,r),a.flags|=262144}function vn(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Rs=t,Ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return Wu(Rs,t)}function wn(t,a){return Rs===null&&zs(t),Wu(t,a)}function Wu(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ea===null){if(t===null)throw Error(i(308));Ea=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ea=Ea.next=a;return s}var Kb=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Zb=l.unstable_scheduleCallback,Wb=l.unstable_NormalPriority,at={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Kb,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Zb(Wb,function(){t.controller.abort()})}var cl=null,Oc=0,ur=0,xr=null;function ef(t,a){if(cl===null){var s=cl=[];Oc=0,ur=Fo(),xr={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Oc++,a.then(ex,ex),a}function ex(){if(--Oc===0&&cl!==null){xr!==null&&(xr.status="fulfilled");var t=cl;cl=null,ur=0,xr=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function tf(t,a){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){r.status="fulfilled",r.value=a;for(var c=0;c<s.length;c++)(0,s[c])(a)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var tx=I.S;I.S=function(t,a){Fp=It(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&ef(t,a),tx!==null&&tx(t,a)};var Ls=P(null);function Mc(){var t=Ls.current;return t!==null?t:$e.pooledCache}function Sn(t,a){a===null?oe(Ls,Ls.current):oe(Ls,a.pool)}function ax(){var t=Mc();return t===null?null:{parent:at._currentValue,pool:t}}var pr=Error(i(460)),_c=Error(i(474)),kn=Error(i(542)),En={then:function(){}};function sx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rx(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(va,va),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,nx(t),t;default:if(typeof a.status=="string")a.then(va,va);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(r){if(a.status==="pending"){var c=a;c.status="fulfilled",c.value=r}},function(r){if(a.status==="pending"){var c=a;c.status="rejected",c.reason=r}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,nx(t),t}throw Ms=a,pr}}function Os(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ms=s,pr):s}}var Ms=null;function lx(){if(Ms===null)throw Error(i(459));var t=Ms;return Ms=null,t}function nx(t){if(t===pr||t===kn)throw Error(i(483))}var mr=null,ol=0;function Cn(t){var a=ol;return ol+=1,mr===null&&(mr=[]),rx(mr,t,a)}function dl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Dn(t,a){throw a.$$typeof===k?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function ix(t){function a(G,H){if(t){var Y=G.deletions;Y===null?(G.deletions=[H],G.flags|=16):Y.push(H)}}function s(G,H){if(!t)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function r(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function c(G,H){return G=Sa(G,H),G.index=0,G.sibling=null,G}function d(G,H,Y){return G.index=Y,t?(Y=G.alternate,Y!==null?(Y=Y.index,Y<H?(G.flags|=67108866,H):Y):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function y(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function z(G,H,Y,ae){return H===null||H.tag!==6?(H=Sc(Y,G.mode,ae),H.return=G,H):(H=c(H,Y),H.return=G,H)}function U(G,H,Y,ae){var be=Y.type;return be===C?te(G,H,Y.props.children,ae,Y.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Os(be)===H.type)?(H=c(H,Y.props),dl(H,Y),H.return=G,H):(H=jn(Y.type,Y.key,Y.props,null,G.mode,ae),dl(H,Y),H.return=G,H)}function J(G,H,Y,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=kc(Y,G.mode,ae),H.return=G,H):(H=c(H,Y.children||[]),H.return=G,H)}function te(G,H,Y,ae,be){return H===null||H.tag!==7?(H=Ts(Y,G.mode,ae,be),H.return=G,H):(H=c(H,Y),H.return=G,H)}function se(G,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Sc(""+H,G.mode,Y),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return Y=jn(H.type,H.key,H.props,null,G.mode,Y),dl(Y,H),Y.return=G,Y;case j:return H=kc(H,G.mode,Y),H.return=G,H;case R:return H=Os(H),se(G,H,Y)}if(ce(H)||$(H))return H=Ts(H,G.mode,Y,null),H.return=G,H;if(typeof H.then=="function")return se(G,Cn(H),Y);if(H.$$typeof===A)return se(G,wn(G,H),Y);Dn(G,H)}return null}function V(G,H,Y,ae){var be=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return be!==null?null:z(G,H,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:return Y.key===be?U(G,H,Y,ae):null;case j:return Y.key===be?J(G,H,Y,ae):null;case R:return Y=Os(Y),V(G,H,Y,ae)}if(ce(Y)||$(Y))return be!==null?null:te(G,H,Y,ae,null);if(typeof Y.then=="function")return V(G,H,Cn(Y),ae);if(Y.$$typeof===A)return V(G,H,wn(G,Y),ae);Dn(G,Y)}return null}function K(G,H,Y,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(Y)||null,z(H,G,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case f:return G=G.get(ae.key===null?Y:ae.key)||null,U(H,G,ae,be);case j:return G=G.get(ae.key===null?Y:ae.key)||null,J(H,G,ae,be);case R:return ae=Os(ae),K(G,H,Y,ae,be)}if(ce(ae)||$(ae))return G=G.get(Y)||null,te(H,G,ae,be,null);if(typeof ae.then=="function")return K(G,H,Y,Cn(ae),be);if(ae.$$typeof===A)return K(G,H,Y,wn(H,ae),be);Dn(H,ae)}return null}function pe(G,H,Y,ae){for(var be=null,Le=null,me=H,Se=H=0,Re=null;me!==null&&Se<Y.length;Se++){me.index>Se?(Re=me,me=null):Re=me.sibling;var Oe=V(G,me,Y[Se],ae);if(Oe===null){me===null&&(me=Re);break}t&&me&&Oe.alternate===null&&a(G,me),H=d(Oe,H,Se),Le===null?be=Oe:Le.sibling=Oe,Le=Oe,me=Re}if(Se===Y.length)return s(G,me),ze&&ka(G,Se),be;if(me===null){for(;Se<Y.length;Se++)me=se(G,Y[Se],ae),me!==null&&(H=d(me,H,Se),Le===null?be=me:Le.sibling=me,Le=me);return ze&&ka(G,Se),be}for(me=r(me);Se<Y.length;Se++)Re=K(me,G,Se,Y[Se],ae),Re!==null&&(t&&Re.alternate!==null&&me.delete(Re.key===null?Se:Re.key),H=d(Re,H,Se),Le===null?be=Re:Le.sibling=Re,Le=Re);return t&&me.forEach(function(fs){return a(G,fs)}),ze&&ka(G,Se),be}function fe(G,H,Y,ae){if(Y==null)throw Error(i(151));for(var be=null,Le=null,me=H,Se=H=0,Re=null,Oe=Y.next();me!==null&&!Oe.done;Se++,Oe=Y.next()){me.index>Se?(Re=me,me=null):Re=me.sibling;var fs=V(G,me,Oe.value,ae);if(fs===null){me===null&&(me=Re);break}t&&me&&fs.alternate===null&&a(G,me),H=d(fs,H,Se),Le===null?be=fs:Le.sibling=fs,Le=fs,me=Re}if(Oe.done)return s(G,me),ze&&ka(G,Se),be;if(me===null){for(;!Oe.done;Se++,Oe=Y.next())Oe=se(G,Oe.value,ae),Oe!==null&&(H=d(Oe,H,Se),Le===null?be=Oe:Le.sibling=Oe,Le=Oe);return ze&&ka(G,Se),be}for(me=r(me);!Oe.done;Se++,Oe=Y.next())Oe=K(me,G,Se,Oe.value,ae),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?Se:Oe.key),H=d(Oe,H,Se),Le===null?be=Oe:Le.sibling=Oe,Le=Oe);return t&&me.forEach(function(pg){return a(G,pg)}),ze&&ka(G,Se),be}function Ue(G,H,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:e:{for(var be=Y.key;H!==null;){if(H.key===be){if(be=Y.type,be===C){if(H.tag===7){s(G,H.sibling),ae=c(H,Y.props.children),ae.return=G,G=ae;break e}}else if(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Os(be)===H.type){s(G,H.sibling),ae=c(H,Y.props),dl(ae,Y),ae.return=G,G=ae;break e}s(G,H);break}else a(G,H);H=H.sibling}Y.type===C?(ae=Ts(Y.props.children,G.mode,ae,Y.key),ae.return=G,G=ae):(ae=jn(Y.type,Y.key,Y.props,null,G.mode,ae),dl(ae,Y),ae.return=G,G=ae)}return y(G);case j:e:{for(be=Y.key;H!==null;){if(H.key===be)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){s(G,H.sibling),ae=c(H,Y.children||[]),ae.return=G,G=ae;break e}else{s(G,H);break}else a(G,H);H=H.sibling}ae=kc(Y,G.mode,ae),ae.return=G,G=ae}return y(G);case R:return Y=Os(Y),Ue(G,H,Y,ae)}if(ce(Y))return pe(G,H,Y,ae);if($(Y)){if(be=$(Y),typeof be!="function")throw Error(i(150));return Y=be.call(Y),fe(G,H,Y,ae)}if(typeof Y.then=="function")return Ue(G,H,Cn(Y),ae);if(Y.$$typeof===A)return Ue(G,H,wn(G,Y),ae);Dn(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(s(G,H.sibling),ae=c(H,Y),ae.return=G,G=ae):(s(G,H),ae=Sc(Y,G.mode,ae),ae.return=G,G=ae),y(G)):s(G,H)}return function(G,H,Y,ae){try{ol=0;var be=Ue(G,H,Y,ae);return mr=null,be}catch(me){if(me===pr||me===kn)throw me;var Le=Ut(29,me,null,G.mode);return Le.lanes=ae,Le.return=G,Le}}}var _s=ix(!0),cx=ix(!1),es=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function as(t,a,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Me&2)!==0){var c=r.pending;return c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a,a=yn(t),Gu(t,null,s),a}return gn(t,r,a,s),yn(t)}function ul(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var r=a.lanes;r&=t.pendingLanes,s|=r,a.lanes=s,Wd(t,s)}}function Bc(t,a){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?c=d=a:d=d.next=a}else c=d=a;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Pc=!1;function xl(){if(Pc){var t=xr;if(t!==null)throw t}}function pl(t,a,s,r){Pc=!1;var c=t.updateQueue;es=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,z=c.shared.pending;if(z!==null){c.shared.pending=null;var U=z,J=U.next;U.next=null,y===null?d=J:y.next=J,y=U;var te=t.alternate;te!==null&&(te=te.updateQueue,z=te.lastBaseUpdate,z!==y&&(z===null?te.firstBaseUpdate=J:z.next=J,te.lastBaseUpdate=U))}if(d!==null){var se=c.baseState;y=0,te=J=U=null,z=d;do{var V=z.lane&-536870913,K=V!==z.lane;if(K?(Ae&V)===V:(r&V)===V){V!==0&&V===ur&&(Pc=!0),te!==null&&(te=te.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var pe=t,fe=z;V=a;var Ue=s;switch(fe.tag){case 1:if(pe=fe.payload,typeof pe=="function"){se=pe.call(Ue,se,V);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=fe.payload,V=typeof pe=="function"?pe.call(Ue,se,V):pe,V==null)break e;se=v({},se,V);break e;case 2:es=!0}}V=z.callback,V!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[V]:K.push(V))}else K={lane:V,tag:z.tag,payload:z.payload,callback:z.callback,next:null},te===null?(J=te=K,U=se):te=te.next=K,y|=V;if(z=z.next,z===null){if(z=c.shared.pending,z===null)break;K=z,z=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);te===null&&(U=se),c.baseState=U,c.firstBaseUpdate=J,c.lastBaseUpdate=te,d===null&&(c.shared.lanes=0),is|=y,t.lanes=y,t.memoizedState=se}}function ox(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function dx(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ox(s[t],a)}var hr=P(null),Tn=P(0);function ux(t,a){t=_a,oe(Tn,t),oe(hr,a),_a=t|a.baseLanes}function Uc(){oe(Tn,_a),oe(hr,hr.current)}function Hc(){_a=Tn.current,Z(hr),Z(Tn)}var Ht=P(null),ta=null;function ss(t){var a=t.alternate;oe(We,We.current&1),oe(Ht,t),ta===null&&(a===null||hr.current!==null||a.memoizedState!==null)&&(ta=t)}function $c(t){oe(We,We.current),oe(Ht,t),ta===null&&(ta=t)}function xx(t){t.tag===22?(oe(We,We.current),oe(Ht,t),ta===null&&(ta=t)):rs()}function rs(){oe(We,We.current),oe(Ht,Ht.current)}function $t(t){Z(Ht),ta===t&&(ta=null),Z(We)}var We=P(0);function An(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qo(s)||Ko(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Da=0,we=null,Be=null,st=null,Rn=!1,br=!1,Is=!1,zn=0,ml=0,fr=null,af=0;function Ve(){throw Error(i(321))}function qc(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Pt(t[s],a[s]))return!1;return!0}function Gc(t,a,s,r,c,d){return Da=d,we=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=t===null||t.memoizedState===null?Xx:no,Is=!1,d=s(r,c),Is=!1,br&&(d=mx(a,s,r,c)),px(t),d}function px(t){I.H=fl;var a=Be!==null&&Be.next!==null;if(Da=0,st=Be=we=null,Rn=!1,ml=0,fr=null,a)throw Error(i(300));t===null||rt||(t=t.dependencies,t!==null&&vn(t)&&(rt=!0))}function mx(t,a,s,r){we=t;var c=0;do{if(br&&(fr=null),ml=0,br=!1,25<=c)throw Error(i(301));if(c+=1,st=Be=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=Qx,d=a(s,r)}while(br);return d}function sf(){var t=I.H,a=t.useState()[0];return a=typeof a.then=="function"?hl(a):a,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(we.flags|=1024),a}function Yc(){var t=zn!==0;return zn=0,t}function Jc(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Vc(t){if(Rn){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Rn=!1}Da=0,st=Be=we=null,br=!1,ml=zn=0,fr=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?we.memoizedState=st=t:st=st.next=t,st}function et(){if(Be===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var a=st===null?we.memoizedState:st.next;if(a!==null)st=a,Be=t;else{if(t===null)throw we.alternate===null?Error(i(467)):Error(i(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},st===null?we.memoizedState=st=t:st=st.next=t}return st}function Ln(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var a=ml;return ml+=1,fr===null&&(fr=[]),t=rx(fr,t,a),a=we,(st===null?a.memoizedState:st.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?Xx:no),t}function On(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===A)return pt(t)}throw Error(i(438,String(t)))}function Xc(t){var a=null,s=we.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(a={data:r.data.map(function(c){return c.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Ln(),we.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),r=0;r<t;r++)s[r]=F;return a.index++,s}function Ta(t,a){return typeof a=="function"?a(t):a}function Mn(t){var a=et();return Qc(a,Be,t)}function Qc(t,a,s){var r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=s;var c=t.baseQueue,d=r.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}a.baseQueue=c=d,r.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{a=c.next;var z=y=null,U=null,J=a,te=!1;do{var se=J.lane&-536870913;if(se!==J.lane?(Ae&se)===se:(Da&se)===se){var V=J.revertLane;if(V===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),se===ur&&(te=!0);else if((Da&V)===V){J=J.next,V===ur&&(te=!0);continue}else se={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(z=U=se,y=d):U=U.next=se,we.lanes|=V,is|=V;se=J.action,Is&&s(d,se),d=J.hasEagerState?J.eagerState:s(d,se)}else V={lane:se,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(z=U=V,y=d):U=U.next=V,we.lanes|=se,is|=se;J=J.next}while(J!==null&&J!==a);if(U===null?y=d:U.next=z,!Pt(d,t.memoizedState)&&(rt=!0,te&&(s=xr,s!==null)))throw s;t.memoizedState=d,t.baseState=y,t.baseQueue=U,r.lastRenderedState=d}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Kc(t){var a=et(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var r=s.dispatch,c=s.pending,d=a.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do d=t(d,y.action),y=y.next;while(y!==c);Pt(d,a.memoizedState)||(rt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,r]}function hx(t,a,s){var r=we,c=et(),d=ze;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=a();var y=!Pt((Be||c).memoizedState,s);if(y&&(c.memoizedState=s,rt=!0),c=c.queue,eo(gx.bind(null,r,c,t),[t]),c.getSnapshot!==a||y||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,gr(9,{destroy:void 0},fx.bind(null,r,c,s,a),null),$e===null)throw Error(i(349));d||(Da&127)!==0||bx(r,a,s)}return s}function bx(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=we.updateQueue,a===null?(a=Ln(),we.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function fx(t,a,s,r){a.value=s,a.getSnapshot=r,yx(a)&&jx(t)}function gx(t,a,s){return s(function(){yx(a)&&jx(t)})}function yx(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Pt(t,s)}catch{return!0}}function jx(t){var a=Ds(t,2);a!==null&&At(a,t,2)}function Zc(t){var a=vt();if(typeof t=="function"){var s=t;if(t=s(),Is){Ja(!0);try{s()}finally{Ja(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},a}function Nx(t,a,s,r){return t.baseState=s,Qc(t,Be,typeof r=="function"?r:Ta)}function rf(t,a,s,r,c){if(Fn(t))throw Error(i(485));if(t=a.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};I.T!==null?s(!0):d.isTransition=!1,r(d),s=a.pending,s===null?(d.next=a.pending=d,vx(a,d)):(d.next=s.next,a.pending=s.next=d)}}function vx(t,a){var s=a.action,r=a.payload,c=t.state;if(a.isTransition){var d=I.T,y={};I.T=y;try{var z=s(c,r),U=I.S;U!==null&&U(y,z),wx(t,a,z)}catch(J){Wc(t,a,J)}finally{d!==null&&y.types!==null&&(d.types=y.types),I.T=d}}else try{d=s(c,r),wx(t,a,d)}catch(J){Wc(t,a,J)}}function wx(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Sx(t,a,r)},function(r){return Wc(t,a,r)}):Sx(t,a,s)}function Sx(t,a,s){a.status="fulfilled",a.value=s,kx(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,vx(t,s)))}function Wc(t,a,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do a.status="rejected",a.reason=s,kx(a),a=a.next;while(a!==r)}t.action=null}function kx(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Ex(t,a){return a}function Cx(t,a){if(ze){var s=$e.formState;if(s!==null){e:{var r=we;if(ze){if(qe){t:{for(var c=qe,d=ea;c.nodeType!==8;){if(!d){c=null;break t}if(c=aa(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){qe=aa(c.nextSibling),r=c.data==="F!";break e}}Za(r)}r=!1}r&&(a=s[0])}}return s=vt(),s.memoizedState=s.baseState=a,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ex,lastRenderedState:a},s.queue=r,s=Yx.bind(null,we,r),r.dispatch=s,r=Zc(!1),d=lo.bind(null,we,!1,r.queue),r=vt(),c={state:a,dispatch:null,action:t,pending:null},r.queue=c,s=rf.bind(null,we,c,d,s),c.dispatch=s,r.memoizedState=t,[a,s,!1]}function Dx(t){var a=et();return Tx(a,Be,t)}function Tx(t,a,s){if(a=Qc(t,a,Ex)[0],t=Mn(Ta)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var r=hl(a)}catch(y){throw y===pr?kn:y}else r=a;a=et();var c=a.queue,d=c.dispatch;return s!==a.memoizedState&&(we.flags|=2048,gr(9,{destroy:void 0},lf.bind(null,c,s),null)),[r,d,t]}function lf(t,a){t.action=a}function Ax(t){var a=et(),s=Be;if(s!==null)return Tx(a,s,t);et(),a=a.memoizedState,s=et();var r=s.queue.dispatch;return s.memoizedState=t,[a,r,!1]}function gr(t,a,s,r){return t={tag:t,create:s,deps:r,inst:a,next:null},a=we.updateQueue,a===null&&(a=Ln(),we.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,a.lastEffect=t),t}function Rx(){return et().memoizedState}function _n(t,a,s,r){var c=vt();we.flags|=t,c.memoizedState=gr(1|a,{destroy:void 0},s,r===void 0?null:r)}function In(t,a,s,r){var c=et();r=r===void 0?null:r;var d=c.memoizedState.inst;Be!==null&&r!==null&&qc(r,Be.memoizedState.deps)?c.memoizedState=gr(a,d,s,r):(we.flags|=t,c.memoizedState=gr(1|a,d,s,r))}function zx(t,a){_n(8390656,8,t,a)}function eo(t,a){In(2048,8,t,a)}function nf(t){we.flags|=4;var a=we.updateQueue;if(a===null)a=Ln(),we.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Lx(t){var a=et().memoizedState;return nf({ref:a,nextImpl:t}),function(){if((Me&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Ox(t,a){return In(4,2,t,a)}function Mx(t,a){return In(4,4,t,a)}function _x(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ix(t,a,s){s=s!=null?s.concat([t]):null,In(4,4,_x.bind(null,a,t),s)}function to(){}function Fx(t,a){var s=et();a=a===void 0?null:a;var r=s.memoizedState;return a!==null&&qc(a,r[1])?r[0]:(s.memoizedState=[t,a],t)}function Bx(t,a){var s=et();a=a===void 0?null:a;var r=s.memoizedState;if(a!==null&&qc(a,r[1]))return r[0];if(r=t(),Is){Ja(!0);try{t()}finally{Ja(!1)}}return s.memoizedState=[r,a],r}function ao(t,a,s){return s===void 0||(Da&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Pp(),we.lanes|=t,is|=t,s)}function Px(t,a,s,r){return Pt(s,a)?s:hr.current!==null?(t=ao(t,s,r),Pt(t,a)||(rt=!0),t):(Da&42)===0||(Da&1073741824)!==0&&(Ae&261930)===0?(rt=!0,t.memoizedState=s):(t=Pp(),we.lanes|=t,is|=t,a)}function Ux(t,a,s,r,c){var d=W.p;W.p=d!==0&&8>d?d:8;var y=I.T,z={};I.T=z,lo(t,!1,a,s);try{var U=c(),J=I.S;if(J!==null&&J(z,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=tf(U,r);bl(t,a,te,Yt(t))}else bl(t,a,r,Yt(t))}catch(se){bl(t,a,{then:function(){},status:"rejected",reason:se},Yt())}finally{W.p=d,y!==null&&z.types!==null&&(y.types=z.types),I.T=y}}function cf(){}function so(t,a,s,r){if(t.tag!==5)throw Error(i(476));var c=Hx(t).queue;Ux(t,c,a,de,s===null?cf:function(){return $x(t),s(r)})}function Hx(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:de},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function $x(t){var a=Hx(t);a.next===null&&(a=t.alternate.memoizedState),bl(t,a.next.queue,{},Yt())}function ro(){return pt(Ll)}function qx(){return et().memoizedState}function Gx(){return et().memoizedState}function of(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Yt();t=ts(s);var r=as(a,t,s);r!==null&&(At(r,a,s),ul(r,a,s)),a={cache:Lc()},t.payload=a;return}a=a.return}}function df(t,a,s){var r=Yt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fn(t)?Jx(a,s):(s=vc(t,a,s,r),s!==null&&(At(s,t,r),Vx(s,a,r)))}function Yx(t,a,s){var r=Yt();bl(t,a,s,r)}function bl(t,a,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fn(t))Jx(a,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var y=a.lastRenderedState,z=d(y,s);if(c.hasEagerState=!0,c.eagerState=z,Pt(z,y))return gn(t,a,c,0),$e===null&&fn(),!1}catch{}if(s=vc(t,a,c,r),s!==null)return At(s,t,r),Vx(s,a,r),!0}return!1}function lo(t,a,s,r){if(r={lane:2,revertLane:Fo(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fn(t)){if(a)throw Error(i(479))}else a=vc(t,s,r,2),a!==null&&At(a,t,2)}function Fn(t){var a=t.alternate;return t===we||a!==null&&a===we}function Jx(t,a){br=Rn=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Vx(t,a,s){if((s&4194048)!==0){var r=a.lanes;r&=t.pendingLanes,s|=r,a.lanes=s,Wd(t,s)}}var fl={readContext:pt,use:On,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};fl.useEffectEvent=Ve;var Xx={readContext:pt,use:On,useCallback:function(t,a){return vt().memoizedState=[t,a===void 0?null:a],t},useContext:pt,useEffect:zx,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,_n(4194308,4,_x.bind(null,a,t),s)},useLayoutEffect:function(t,a){return _n(4194308,4,t,a)},useInsertionEffect:function(t,a){_n(4,2,t,a)},useMemo:function(t,a){var s=vt();a=a===void 0?null:a;var r=t();if(Is){Ja(!0);try{t()}finally{Ja(!1)}}return s.memoizedState=[r,a],r},useReducer:function(t,a,s){var r=vt();if(s!==void 0){var c=s(a);if(Is){Ja(!0);try{s(a)}finally{Ja(!1)}}}else c=a;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=df.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var a=vt();return t={current:t},a.memoizedState=t},useState:function(t){t=Zc(t);var a=t.queue,s=Yx.bind(null,we,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:to,useDeferredValue:function(t,a){var s=vt();return ao(s,t,a)},useTransition:function(){var t=Zc(!1);return t=Ux.bind(null,we,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var r=we,c=vt();if(ze){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),$e===null)throw Error(i(349));(Ae&127)!==0||bx(r,a,s)}c.memoizedState=s;var d={value:s,getSnapshot:a};return c.queue=d,zx(gx.bind(null,r,d,t),[t]),r.flags|=2048,gr(9,{destroy:void 0},fx.bind(null,r,d,s,a),null),s},useId:function(){var t=vt(),a=$e.identifierPrefix;if(ze){var s=fa,r=ba;s=(r&~(1<<32-Bt(r)-1)).toString(32)+s,a="_"+a+"R_"+s,s=zn++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=af++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:ro,useFormState:Cx,useActionState:Cx,useOptimistic:function(t){var a=vt();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=lo.bind(null,we,!0,s),s.dispatch=a,[t,a]},useMemoCache:Xc,useCacheRefresh:function(){return vt().memoizedState=of.bind(null,we)},useEffectEvent:function(t){var a=vt(),s={impl:t};return a.memoizedState=s,function(){if((Me&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},no={readContext:pt,use:On,useCallback:Fx,useContext:pt,useEffect:eo,useImperativeHandle:Ix,useInsertionEffect:Ox,useLayoutEffect:Mx,useMemo:Bx,useReducer:Mn,useRef:Rx,useState:function(){return Mn(Ta)},useDebugValue:to,useDeferredValue:function(t,a){var s=et();return Px(s,Be.memoizedState,t,a)},useTransition:function(){var t=Mn(Ta)[0],a=et().memoizedState;return[typeof t=="boolean"?t:hl(t),a]},useSyncExternalStore:hx,useId:qx,useHostTransitionStatus:ro,useFormState:Dx,useActionState:Dx,useOptimistic:function(t,a){var s=et();return Nx(s,Be,t,a)},useMemoCache:Xc,useCacheRefresh:Gx};no.useEffectEvent=Lx;var Qx={readContext:pt,use:On,useCallback:Fx,useContext:pt,useEffect:eo,useImperativeHandle:Ix,useInsertionEffect:Ox,useLayoutEffect:Mx,useMemo:Bx,useReducer:Kc,useRef:Rx,useState:function(){return Kc(Ta)},useDebugValue:to,useDeferredValue:function(t,a){var s=et();return Be===null?ao(s,t,a):Px(s,Be.memoizedState,t,a)},useTransition:function(){var t=Kc(Ta)[0],a=et().memoizedState;return[typeof t=="boolean"?t:hl(t),a]},useSyncExternalStore:hx,useId:qx,useHostTransitionStatus:ro,useFormState:Ax,useActionState:Ax,useOptimistic:function(t,a){var s=et();return Be!==null?Nx(s,Be,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Gx};Qx.useEffectEvent=Lx;function io(t,a,s,r){a=t.memoizedState,s=s(r,a),s=s==null?a:v({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var co={enqueueSetState:function(t,a,s){t=t._reactInternals;var r=Yt(),c=ts(r);c.payload=a,s!=null&&(c.callback=s),a=as(t,c,r),a!==null&&(At(a,t,r),ul(a,t,r))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var r=Yt(),c=ts(r);c.tag=1,c.payload=a,s!=null&&(c.callback=s),a=as(t,c,r),a!==null&&(At(a,t,r),ul(a,t,r))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Yt(),r=ts(s);r.tag=2,a!=null&&(r.callback=a),a=as(t,r,s),a!==null&&(At(a,t,s),ul(a,t,s))}};function Kx(t,a,s,r,c,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,y):a.prototype&&a.prototype.isPureReactComponent?!sl(s,r)||!sl(c,d):!0}function Zx(t,a,s,r){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,r),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,r),a.state!==t&&co.enqueueReplaceState(a,a.state,null)}function Fs(t,a){var s=a;if("ref"in a){s={};for(var r in a)r!=="ref"&&(s[r]=a[r])}if(t=t.defaultProps){s===a&&(s=v({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Wx(t){bn(t)}function ep(t){console.error(t)}function tp(t){bn(t)}function Bn(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(r){setTimeout(function(){throw r})}}function ap(t,a,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function oo(t,a,s){return s=ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Bn(t,a)},s}function sp(t){return t=ts(t),t.tag=3,t}function rp(t,a,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;t.payload=function(){return c(d)},t.callback=function(){ap(a,s,r)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ap(a,s,r),typeof c!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var z=r.stack;this.componentDidCatch(r.value,{componentStack:z!==null?z:""})})}function uf(t,a,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(a=s.alternate,a!==null&&dr(a,s,c,!0),s=Ht.current,s!==null){switch(s.tag){case 31:case 13:return ta===null?Kn():s.alternate===null&&Xe===0&&(Xe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===En?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([r]):a.add(r),Mo(t,r,c)),!1;case 22:return s.flags|=65536,r===En?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([r]):s.add(r)),Mo(t,r,c)),!1}throw Error(i(435,s.tag))}return Mo(t,r,c),Kn(),!1}if(ze)return a=Ht.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=c,r!==Dc&&(t=Error(i(422),{cause:r}),nl(Kt(t,s)))):(r!==Dc&&(a=Error(i(423),{cause:r}),nl(Kt(a,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=Kt(r,s),c=oo(t.stateNode,r,c),Bc(t,c),Xe!==4&&(Xe=2)),!1;var d=Error(i(520),{cause:r});if(d=Kt(d,s),kl===null?kl=[d]:kl.push(d),Xe!==4&&(Xe=2),a===null)return!0;r=Kt(r,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=oo(s.stateNode,r,t),Bc(s,t),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(cs===null||!cs.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=sp(c),rp(c,t,s,r),Bc(s,c),!1}s=s.return}while(s!==null);return!1}var uo=Error(i(461)),rt=!1;function mt(t,a,s,r){a.child=t===null?cx(a,null,s,r):_s(a,t.child,s,r)}function lp(t,a,s,r,c){s=s.render;var d=a.ref;if("ref"in r){var y={};for(var z in r)z!=="ref"&&(y[z]=r[z])}else y=r;return zs(a),r=Gc(t,a,s,y,d,c),z=Yc(),t!==null&&!rt?(Jc(t,a,c),Aa(t,a,c)):(ze&&z&&Ec(a),a.flags|=1,mt(t,a,r,c),a.child)}function np(t,a,s,r,c){if(t===null){var d=s.type;return typeof d=="function"&&!wc(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,ip(t,a,d,r,c)):(t=jn(s.type,null,r,a,a.mode,c),t.ref=a.ref,t.return=a,a.child=t)}if(d=t.child,!yo(t,c)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:sl,s(y,r)&&t.ref===a.ref)return Aa(t,a,c)}return a.flags|=1,t=Sa(d,r),t.ref=a.ref,t.return=a,a.child=t}function ip(t,a,s,r,c){if(t!==null){var d=t.memoizedProps;if(sl(d,r)&&t.ref===a.ref)if(rt=!1,a.pendingProps=r=d,yo(t,c))(t.flags&131072)!==0&&(rt=!0);else return a.lanes=t.lanes,Aa(t,a,c)}return xo(t,a,s,r,c)}function cp(t,a,s,r){var c=r.children,d=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(r=a.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,a.child=null;return op(t,a,d,s,r)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sn(a,d!==null?d.cachePool:null),d!==null?ux(a,d):Uc(),xx(a);else return r=a.lanes=536870912,op(t,a,d!==null?d.baseLanes|s:s,s,r)}else d!==null?(Sn(a,d.cachePool),ux(a,d),rs(),a.memoizedState=null):(t!==null&&Sn(a,null),Uc(),rs());return mt(t,a,c,s),a.child}function gl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function op(t,a,s,r,c){var d=Mc();return d=d===null?null:{parent:at._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},t!==null&&Sn(a,null),Uc(),xx(a),t!==null&&dr(t,a,r,!0),a.childLanes=c,null}function Pn(t,a){return a=Hn({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function dp(t,a,s){return _s(a,t.child,null,s),t=Pn(a,a.pendingProps),t.flags|=2,$t(a),a.memoizedState=null,t}function xf(t,a,s){var r=a.pendingProps,c=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(ze){if(r.mode==="hidden")return t=Pn(a,r),a.lanes=536870912,gl(null,t);if($c(a),(t=qe)?(t=v0(t,ea),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Qa!==null?{id:ba,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},s=Ju(t),s.return=a,a.child=s,xt=a,qe=null)):t=null,t===null)throw Za(a);return a.lanes=536870912,null}return Pn(a,r)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if($c(a),c)if(a.flags&256)a.flags&=-257,a=dp(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(i(558));else if(rt||dr(t,a,s,!1),c=(s&t.childLanes)!==0,rt||c){if(r=$e,r!==null&&(y=eu(r,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ds(t,y),At(r,t,y),uo;Kn(),a=dp(t,a,s)}else t=d.treeContext,qe=aa(y.nextSibling),xt=a,ze=!0,Ka=null,ea=!1,t!==null&&Qu(a,t),a=Pn(a,r),a.flags|=4096;return a}return t=Sa(t.child,{mode:r.mode,children:r.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Un(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function xo(t,a,s,r,c){return zs(a),s=Gc(t,a,s,r,void 0,c),r=Yc(),t!==null&&!rt?(Jc(t,a,c),Aa(t,a,c)):(ze&&r&&Ec(a),a.flags|=1,mt(t,a,s,c),a.child)}function up(t,a,s,r,c,d){return zs(a),a.updateQueue=null,s=mx(a,r,s,c),px(t),r=Yc(),t!==null&&!rt?(Jc(t,a,d),Aa(t,a,d)):(ze&&r&&Ec(a),a.flags|=1,mt(t,a,s,d),a.child)}function xp(t,a,s,r,c){if(zs(a),a.stateNode===null){var d=nr,y=s.contextType;typeof y=="object"&&y!==null&&(d=pt(y)),d=new s(r,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=co,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=r,d.state=a.memoizedState,d.refs={},Ic(a),y=s.contextType,d.context=typeof y=="object"&&y!==null?pt(y):nr,d.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(io(a,s,y,r),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&co.enqueueReplaceState(d,d.state,null),pl(a,r,d,c),xl(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),r=!0}else if(t===null){d=a.stateNode;var z=a.memoizedProps,U=Fs(s,z);d.props=U;var J=d.context,te=s.contextType;y=nr,typeof te=="object"&&te!==null&&(y=pt(te));var se=s.getDerivedStateFromProps;te=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(z||J!==y)&&Zx(a,d,r,y),es=!1;var V=a.memoizedState;d.state=V,pl(a,r,d,c),xl(),J=a.memoizedState,z||V!==J||es?(typeof se=="function"&&(io(a,s,se,r),J=a.memoizedState),(U=es||Kx(a,s,U,r,V,J,y))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=r,a.memoizedState=J),d.props=r,d.state=J,d.context=y,r=U):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),r=!1)}else{d=a.stateNode,Fc(t,a),y=a.memoizedProps,te=Fs(s,y),d.props=te,se=a.pendingProps,V=d.context,J=s.contextType,U=nr,typeof J=="object"&&J!==null&&(U=pt(J)),z=s.getDerivedStateFromProps,(J=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==se||V!==U)&&Zx(a,d,r,U),es=!1,V=a.memoizedState,d.state=V,pl(a,r,d,c),xl();var K=a.memoizedState;y!==se||V!==K||es||t!==null&&t.dependencies!==null&&vn(t.dependencies)?(typeof z=="function"&&(io(a,s,z,r),K=a.memoizedState),(te=es||Kx(a,s,te,r,V,K,U)||t!==null&&t.dependencies!==null&&vn(t.dependencies))?(J||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,K,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,K,U)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=1024),a.memoizedProps=r,a.memoizedState=K),d.props=r,d.state=K,d.context=U,r=te):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&V===t.memoizedState||(a.flags|=1024),r=!1)}return d=r,Un(t,a),r=(a.flags&128)!==0,d||r?(d=a.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,t!==null&&r?(a.child=_s(a,t.child,null,c),a.child=_s(a,null,s,c)):mt(t,a,s,c),a.memoizedState=d.state,t=a.child):t=Aa(t,a,c),t}function pp(t,a,s,r){return As(),a.flags|=256,mt(t,a,s,r),a.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mo(t){return{baseLanes:t,cachePool:ax()}}function ho(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Gt),t}function mp(t,a,s){var r=a.pendingProps,c=!1,d=(a.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),y&&(c=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,t===null){if(ze){if(c?ss(a):rs(),(t=qe)?(t=v0(t,ea),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Qa!==null?{id:ba,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},s=Ju(t),s.return=a,a.child=s,xt=a,qe=null)):t=null,t===null)throw Za(a);return Ko(t)?a.lanes=32:a.lanes=536870912,null}var z=r.children;return r=r.fallback,c?(rs(),c=a.mode,z=Hn({mode:"hidden",children:z},c),r=Ts(r,c,s,null),z.return=a,r.return=a,z.sibling=r,a.child=z,r=a.child,r.memoizedState=mo(s),r.childLanes=ho(t,y,s),a.memoizedState=po,gl(null,r)):(ss(a),bo(a,z))}var U=t.memoizedState;if(U!==null&&(z=U.dehydrated,z!==null)){if(d)a.flags&256?(ss(a),a.flags&=-257,a=fo(t,a,s)):a.memoizedState!==null?(rs(),a.child=t.child,a.flags|=128,a=null):(rs(),z=r.fallback,c=a.mode,r=Hn({mode:"visible",children:r.children},c),z=Ts(z,c,s,null),z.flags|=2,r.return=a,z.return=a,r.sibling=z,a.child=r,_s(a,t.child,null,s),r=a.child,r.memoizedState=mo(s),r.childLanes=ho(t,y,s),a.memoizedState=po,a=gl(null,r));else if(ss(a),Ko(z)){if(y=z.nextSibling&&z.nextSibling.dataset,y)var J=y.dgst;y=J,r=Error(i(419)),r.stack="",r.digest=y,nl({value:r,source:null,stack:null}),a=fo(t,a,s)}else if(rt||dr(t,a,s,!1),y=(s&t.childLanes)!==0,rt||y){if(y=$e,y!==null&&(r=eu(y,s),r!==0&&r!==U.retryLane))throw U.retryLane=r,Ds(t,r),At(y,t,r),uo;Qo(z)||Kn(),a=fo(t,a,s)}else Qo(z)?(a.flags|=192,a.child=t.child,a=null):(t=U.treeContext,qe=aa(z.nextSibling),xt=a,ze=!0,Ka=null,ea=!1,t!==null&&Qu(a,t),a=bo(a,r.children),a.flags|=4096);return a}return c?(rs(),z=r.fallback,c=a.mode,U=t.child,J=U.sibling,r=Sa(U,{mode:"hidden",children:r.children}),r.subtreeFlags=U.subtreeFlags&65011712,J!==null?z=Sa(J,z):(z=Ts(z,c,s,null),z.flags|=2),z.return=a,r.return=a,r.sibling=z,a.child=r,gl(null,r),r=a.child,z=t.child.memoizedState,z===null?z=mo(s):(c=z.cachePool,c!==null?(U=at._currentValue,c=c.parent!==U?{parent:U,pool:U}:c):c=ax(),z={baseLanes:z.baseLanes|s,cachePool:c}),r.memoizedState=z,r.childLanes=ho(t,y,s),a.memoizedState=po,gl(t.child,r)):(ss(a),s=t.child,t=s.sibling,s=Sa(s,{mode:"visible",children:r.children}),s.return=a,s.sibling=null,t!==null&&(y=a.deletions,y===null?(a.deletions=[t],a.flags|=16):y.push(t)),a.child=s,a.memoizedState=null,s)}function bo(t,a){return a=Hn({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Hn(t,a){return t=Ut(22,t,null,a),t.lanes=0,t}function fo(t,a,s){return _s(a,t.child,null,s),t=bo(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function hp(t,a,s){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a),Rc(t.return,a,s)}function go(t,a,s,r,c,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:d}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=r,y.tail=s,y.tailMode=c,y.treeForkCount=d)}function bp(t,a,s){var r=a.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var y=We.current,z=(y&2)!==0;if(z?(y=y&1|2,a.flags|=128):y&=1,oe(We,y),mt(t,a,r,s),r=ze?ll:0,!z&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,s,a);else if(t.tag===19)hp(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=a.child,c=null;s!==null;)t=s.alternate,t!==null&&An(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=a.child,a.child=null):(c=s.sibling,s.sibling=null),go(a,!1,c,s,d,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=a.child,a.child=null;c!==null;){if(t=c.alternate,t!==null&&An(t)===null){a.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}go(a,!0,s,null,d,r);break;case"together":go(a,!1,null,null,void 0,r);break;default:a.memoizedState=null}return a.child}function Aa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),is|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(dr(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=Sa(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Sa(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function yo(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&vn(t)))}function pf(t,a,s){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Wa(a,at,t.memoizedState.cache),As();break;case 27:case 5:qr(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Wa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,$c(a),null;break;case 13:var r=a.memoizedState;if(r!==null)return r.dehydrated!==null?(ss(a),a.flags|=128,null):(s&a.child.childLanes)!==0?mp(t,a,s):(ss(a),t=Aa(t,a,s),t!==null?t.sibling:null);ss(a);break;case 19:var c=(t.flags&128)!==0;if(r=(s&a.childLanes)!==0,r||(dr(t,a,s,!1),r=(s&a.childLanes)!==0),c){if(r)return bp(t,a,s);a.flags|=128}if(c=a.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),oe(We,We.current),r)break;return null;case 22:return a.lanes=0,cp(t,a,s,a.pendingProps);case 24:Wa(a,at,t.memoizedState.cache)}return Aa(t,a,s)}function fp(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)rt=!0;else{if(!yo(t,s)&&(a.flags&128)===0)return rt=!1,pf(t,a,s);rt=(t.flags&131072)!==0}else rt=!1,ze&&(a.flags&1048576)!==0&&Xu(a,ll,a.index);switch(a.lanes=0,a.tag){case 16:e:{var r=a.pendingProps;if(t=Os(a.elementType),a.type=t,typeof t=="function")wc(t)?(r=Fs(t,r),a.tag=1,a=xp(null,a,t,r,s)):(a.tag=0,a=xo(null,a,t,r,s));else{if(t!=null){var c=t.$$typeof;if(c===S){a.tag=11,a=lp(null,a,t,r,s);break e}else if(c===E){a.tag=14,a=np(null,a,t,r,s);break e}}throw a=q(t)||t,Error(i(306,a,""))}}return a;case 0:return xo(t,a,a.type,a.pendingProps,s);case 1:return r=a.type,c=Fs(r,a.pendingProps),xp(t,a,r,c,s);case 3:e:{if(Nt(a,a.stateNode.containerInfo),t===null)throw Error(i(387));r=a.pendingProps;var d=a.memoizedState;c=d.element,Fc(t,a),pl(a,r,null,s);var y=a.memoizedState;if(r=y.cache,Wa(a,at,r),r!==d.cache&&zc(a,[at],s,!0),xl(),r=y.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=pp(t,a,r,s);break e}else if(r!==c){c=Kt(Error(i(424)),a),nl(c),a=pp(t,a,r,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,qe=aa(t.firstChild),xt=a,ze=!0,Ka=null,ea=!0,s=cx(a,null,r,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(As(),r===c){a=Aa(t,a,s);break e}mt(t,a,r,s)}a=a.child}return a;case 26:return Un(t,a),t===null?(s=D0(a.type,null,a.pendingProps,null))?a.memoizedState=s:ze||(s=a.type,t=a.pendingProps,r=ri(ye.current).createElement(s),r[ut]=a,r[St]=t,ht(r,s,t),ct(r),a.stateNode=r):a.memoizedState=D0(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return qr(a),t===null&&ze&&(r=a.stateNode=k0(a.type,a.pendingProps,ye.current),xt=a,ea=!0,c=qe,xs(a.type)?(Zo=c,qe=aa(r.firstChild)):qe=c),mt(t,a,a.pendingProps.children,s),Un(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ze&&((c=r=qe)&&(r=$f(r,a.type,a.pendingProps,ea),r!==null?(a.stateNode=r,xt=a,qe=aa(r.firstChild),ea=!1,c=!0):c=!1),c||Za(a)),qr(a),c=a.type,d=a.pendingProps,y=t!==null?t.memoizedProps:null,r=d.children,Jo(c,d)?r=null:y!==null&&Jo(c,y)&&(a.flags|=32),a.memoizedState!==null&&(c=Gc(t,a,sf,null,null,s),Ll._currentValue=c),Un(t,a),mt(t,a,r,s),a.child;case 6:return t===null&&ze&&((t=s=qe)&&(s=qf(s,a.pendingProps,ea),s!==null?(a.stateNode=s,xt=a,qe=null,t=!0):t=!1),t||Za(a)),null;case 13:return mp(t,a,s);case 4:return Nt(a,a.stateNode.containerInfo),r=a.pendingProps,t===null?a.child=_s(a,null,r,s):mt(t,a,r,s),a.child;case 11:return lp(t,a,a.type,a.pendingProps,s);case 7:return mt(t,a,a.pendingProps,s),a.child;case 8:return mt(t,a,a.pendingProps.children,s),a.child;case 12:return mt(t,a,a.pendingProps.children,s),a.child;case 10:return r=a.pendingProps,Wa(a,a.type,r.value),mt(t,a,r.children,s),a.child;case 9:return c=a.type._context,r=a.pendingProps.children,zs(a),c=pt(c),r=r(c),a.flags|=1,mt(t,a,r,s),a.child;case 14:return np(t,a,a.type,a.pendingProps,s);case 15:return ip(t,a,a.type,a.pendingProps,s);case 19:return bp(t,a,s);case 31:return xf(t,a,s);case 22:return cp(t,a,s,a.pendingProps);case 24:return zs(a),r=pt(at),t===null?(c=Mc(),c===null&&(c=$e,d=Lc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),a.memoizedState={parent:r,cache:c},Ic(a),Wa(a,at,c)):((t.lanes&s)!==0&&(Fc(t,a),pl(a,null,null,s),xl()),c=t.memoizedState,d=a.memoizedState,c.parent!==r?(c={parent:r,cache:r},a.memoizedState=c,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=c),Wa(a,at,r)):(r=d.cache,Wa(a,at,r),r!==c.cache&&zc(a,[at],s,!0))),mt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ra(t){t.flags|=4}function jo(t,a,s,r,c){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(qp())t.flags|=8192;else throw Ms=En,_c}else t.flags&=-16777217}function gp(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(a))if(qp())t.flags|=8192;else throw Ms=En,_c}function $n(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Kd():536870912,t.lanes|=a,vr|=a)}function yl(t,a){if(!ze)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(a)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=s,a}function mf(t,a,s){var r=a.pendingProps;switch(Cc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(a),null;case 1:return Ge(a),null;case 3:return s=a.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Ca(at),Ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(or(a)?Ra(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tc())),Ge(a),null;case 26:var c=a.type,d=a.memoizedState;return t===null?(Ra(a),d!==null?(Ge(a),gp(a,d)):(Ge(a),jo(a,c,null,r,s))):d?d!==t.memoizedState?(Ra(a),Ge(a),gp(a,d)):(Ge(a),a.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ra(a),Ge(a),jo(a,c,t,r,s)),null;case 27:if(Wl(a),s=ye.current,c=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==r&&Ra(a);else{if(!r){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}t=ue.current,or(a)?Ku(a):(t=k0(c,r,s),a.stateNode=t,Ra(a))}return Ge(a),null;case 5:if(Wl(a),c=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==r&&Ra(a);else{if(!r){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}if(d=ue.current,or(a))Ku(a);else{var y=ri(ye.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?y.createElement("select",{is:r.is}):y.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?y.createElement(c,{is:r.is}):y.createElement(c)}}d[ut]=a,d[St]=r;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=d;e:switch(ht(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ra(a)}}return Ge(a),jo(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==r&&Ra(a);else{if(typeof r!="string"&&a.stateNode===null)throw Error(i(166));if(t=ye.current,or(a)){if(t=a.stateNode,s=a.memoizedProps,r=null,c=xt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[ut]=a,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||m0(t.nodeValue,s)),t||Za(a,!0)}else t=ri(t).createTextNode(r),t[ut]=a,a.stateNode=t}return Ge(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(r=or(a),s!==null){if(t===null){if(!r)throw Error(i(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[ut]=a}else As(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ge(a),t=!1}else s=Tc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?($t(a),a):($t(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Ge(a),null;case 13:if(r=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=or(a),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(i(318));if(c=a.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[ut]=a}else As(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ge(a),c=!1}else c=Tc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return a.flags&256?($t(a),a):($t(a),null)}return $t(a),(a.flags&128)!==0?(a.lanes=s,a):(s=r!==null,t=t!==null&&t.memoizedState!==null,s&&(r=a.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),$n(a,a.updateQueue),Ge(a),null);case 4:return Ze(),t===null&&Ho(a.stateNode.containerInfo),Ge(a),null;case 10:return Ca(a.type),Ge(a),null;case 19:if(Z(We),r=a.memoizedState,r===null)return Ge(a),null;if(c=(a.flags&128)!==0,d=r.rendering,d===null)if(c)yl(r,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(d=An(t),d!==null){for(a.flags|=128,yl(r,!1),t=d.updateQueue,a.updateQueue=t,$n(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Yu(s,t),s=s.sibling;return oe(We,We.current&1|2),ze&&ka(a,r.treeForkCount),a.child}t=t.sibling}r.tail!==null&&It()>Vn&&(a.flags|=128,c=!0,yl(r,!1),a.lanes=4194304)}else{if(!c)if(t=An(d),t!==null){if(a.flags|=128,c=!0,t=t.updateQueue,a.updateQueue=t,$n(a,t),yl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!ze)return Ge(a),null}else 2*It()-r.renderingStartTime>Vn&&s!==536870912&&(a.flags|=128,c=!0,yl(r,!1),a.lanes=4194304);r.isBackwards?(d.sibling=a.child,a.child=d):(t=r.last,t!==null?t.sibling=d:a.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=It(),t.sibling=null,s=We.current,oe(We,c?s&1|2:s&1),ze&&ka(a,r.treeForkCount),t):(Ge(a),null);case 22:case 23:return $t(a),Hc(),r=a.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(a.flags|=8192):r&&(a.flags|=8192),r?(s&536870912)!==0&&(a.flags&128)===0&&(Ge(a),a.subtreeFlags&6&&(a.flags|=8192)):Ge(a),s=a.updateQueue,s!==null&&$n(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048),t!==null&&Z(Ls),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ca(at),Ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function hf(t,a){switch(Cc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ca(at),Ze(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Wl(a),null;case 31:if(a.memoizedState!==null){if($t(a),a.alternate===null)throw Error(i(340));As()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if($t(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));As()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Z(We),null;case 4:return Ze(),null;case 10:return Ca(a.type),null;case 22:case 23:return $t(a),Hc(),t!==null&&Z(Ls),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ca(at),null;case 25:return null;default:return null}}function yp(t,a){switch(Cc(a),a.tag){case 3:Ca(at),Ze();break;case 26:case 27:case 5:Wl(a);break;case 4:Ze();break;case 31:a.memoizedState!==null&&$t(a);break;case 13:$t(a);break;case 19:Z(We);break;case 10:Ca(a.type);break;case 22:case 23:$t(a),Hc(),t!==null&&Z(Ls);break;case 24:Ca(at)}}function jl(t,a){try{var s=a.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&t)===t){r=void 0;var d=s.create,y=s.inst;r=d(),y.destroy=r}s=s.next}while(s!==c)}}catch(z){Fe(a,a.return,z)}}function ls(t,a,s){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&t)===t){var y=r.inst,z=y.destroy;if(z!==void 0){y.destroy=void 0,c=a;var U=s,J=z;try{J()}catch(te){Fe(c,U,te)}}}r=r.next}while(r!==d)}}catch(te){Fe(a,a.return,te)}}function jp(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{dx(a,s)}catch(r){Fe(t,t.return,r)}}}function Np(t,a,s){s.props=Fs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){Fe(t,a,r)}}function Nl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(c){Fe(t,a,c)}}function ga(t,a){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Fe(t,a,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Fe(t,a,c)}else s.current=null}function vp(t){var a=t.type,s=t.memoizedProps,r=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Fe(t,t.return,c)}}function No(t,a,s){try{var r=t.stateNode;If(r,t.type,s,a),r[St]=a}catch(c){Fe(t,t.return,c)}}function wp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xs(t.type)||t.tag===4}function vo(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wo(t,a,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=va));else if(r!==4&&(r===27&&xs(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(wo(t,a,s),t=t.sibling;t!==null;)wo(t,a,s),t=t.sibling}function qn(t,a,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(r!==4&&(r===27&&xs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(qn(t,a,s),t=t.sibling;t!==null;)qn(t,a,s),t=t.sibling}function Sp(t){var a=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,c=a.attributes;c.length;)a.removeAttributeNode(c[0]);ht(a,r,s),a[ut]=t,a[St]=s}catch(d){Fe(t,t.return,d)}}var za=!1,lt=!1,So=!1,kp=typeof WeakSet=="function"?WeakSet:Set,ot=null;function bf(t,a){if(t=t.containerInfo,Go=ui,t=Iu(t),bc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,z=-1,U=-1,J=0,te=0,se=t,V=null;t:for(;;){for(var K;se!==s||c!==0&&se.nodeType!==3||(z=y+c),se!==d||r!==0&&se.nodeType!==3||(U=y+r),se.nodeType===3&&(y+=se.nodeValue.length),(K=se.firstChild)!==null;)V=se,se=K;for(;;){if(se===t)break t;if(V===s&&++J===c&&(z=y),V===d&&++te===r&&(U=y),(K=se.nextSibling)!==null)break;se=V,V=se.parentNode}se=K}s=z===-1||U===-1?null:{start:z,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(Yo={focusedElem:t,selectionRange:s},ui=!1,ot=a;ot!==null;)if(a=ot,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,ot=t;else for(;ot!==null;){switch(a=ot,d=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=a,c=d.memoizedProps,d=d.memoizedState,r=s.stateNode;try{var pe=Fs(s.type,c);t=r.getSnapshotBeforeUpdate(pe,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Fe(s,s.return,fe)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Xo(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,ot=t;break}ot=a.return}}function Ep(t,a,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Oa(t,s),r&4&&jl(5,s);break;case 1:if(Oa(t,s),r&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(y){Fe(s,s.return,y)}else{var c=Fs(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(c,a,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Fe(s,s.return,y)}}r&64&&jp(s),r&512&&Nl(s,s.return);break;case 3:if(Oa(t,s),r&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{dx(t,a)}catch(y){Fe(s,s.return,y)}}break;case 27:a===null&&r&4&&Sp(s);case 26:case 5:Oa(t,s),a===null&&r&4&&vp(s),r&512&&Nl(s,s.return);break;case 12:Oa(t,s);break;case 31:Oa(t,s),r&4&&Tp(t,s);break;case 13:Oa(t,s),r&4&&Ap(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=kf.bind(null,s),Gf(t,s))));break;case 22:if(r=s.memoizedState!==null||za,!r){a=a!==null&&a.memoizedState!==null||lt,c=za;var d=lt;za=r,(lt=a)&&!d?Ma(t,s,(s.subtreeFlags&8772)!==0):Oa(t,s),za=c,lt=d}break;case 30:break;default:Oa(t,s)}}function Cp(t){var a=t.alternate;a!==null&&(t.alternate=null,Cp(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Wi(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ye=null,Et=!1;function La(t,a,s){for(s=s.child;s!==null;)Dp(t,a,s),s=s.sibling}function Dp(t,a,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Gr,s)}catch{}switch(s.tag){case 26:lt||ga(s,a),La(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:lt||ga(s,a);var r=Ye,c=Et;xs(s.type)&&(Ye=s.stateNode,Et=!1),La(t,a,s),Al(s.stateNode),Ye=r,Et=c;break;case 5:lt||ga(s,a);case 6:if(r=Ye,c=Et,Ye=null,La(t,a,s),Ye=r,Et=c,Ye!==null)if(Et)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(s.stateNode)}catch(d){Fe(s,a,d)}else try{Ye.removeChild(s.stateNode)}catch(d){Fe(s,a,d)}break;case 18:Ye!==null&&(Et?(t=Ye,j0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ar(t)):j0(Ye,s.stateNode));break;case 4:r=Ye,c=Et,Ye=s.stateNode.containerInfo,Et=!0,La(t,a,s),Ye=r,Et=c;break;case 0:case 11:case 14:case 15:ls(2,s,a),lt||ls(4,s,a),La(t,a,s);break;case 1:lt||(ga(s,a),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Np(s,a,r)),La(t,a,s);break;case 21:La(t,a,s);break;case 22:lt=(r=lt)||s.memoizedState!==null,La(t,a,s),lt=r;break;default:La(t,a,s)}}function Tp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ar(t)}catch(s){Fe(a,a.return,s)}}}function Ap(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ar(t)}catch(s){Fe(a,a.return,s)}}function ff(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new kp),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new kp),a;default:throw Error(i(435,t.tag))}}function Gn(t,a){var s=ff(t);a.forEach(function(r){if(!s.has(r)){s.add(r);var c=Ef.bind(null,t,r);r.then(c,c)}})}function Ct(t,a){var s=a.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],d=t,y=a,z=y;e:for(;z!==null;){switch(z.tag){case 27:if(xs(z.type)){Ye=z.stateNode,Et=!1;break e}break;case 5:Ye=z.stateNode,Et=!1;break e;case 3:case 4:Ye=z.stateNode.containerInfo,Et=!0;break e}z=z.return}if(Ye===null)throw Error(i(160));Dp(d,y,c),Ye=null,Et=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Rp(a,t),a=a.sibling}var oa=null;function Rp(t,a){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ct(a,t),Dt(t),r&4&&(ls(3,t,t.return),jl(3,t),ls(5,t,t.return));break;case 1:Ct(a,t),Dt(t),r&512&&(lt||s===null||ga(s,s.return)),r&64&&za&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=oa;if(Ct(a,t),Dt(t),r&512&&(lt||s===null||ga(s,s.return)),r&4){var d=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){e:{r=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Vr]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),ht(d,r,s),d[ut]=t,ct(d),r=d;break e;case"link":var y=R0("link","href",c).get(r+(s.href||""));if(y){for(var z=0;z<y.length;z++)if(d=y[z],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(z,1);break t}}d=c.createElement(r),ht(d,r,s),c.head.appendChild(d);break;case"meta":if(y=R0("meta","content",c).get(r+(s.content||""))){for(z=0;z<y.length;z++)if(d=y[z],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(z,1);break t}}d=c.createElement(r),ht(d,r,s),c.head.appendChild(d);break;default:throw Error(i(468,r))}d[ut]=t,ct(d),r=d}t.stateNode=r}else z0(c,t.type,t.stateNode);else t.stateNode=A0(c,r,t.memoizedProps);else d!==r?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,r===null?z0(c,t.type,t.stateNode):A0(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&No(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ct(a,t),Dt(t),r&512&&(lt||s===null||ga(s,s.return)),s!==null&&r&4&&No(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ct(a,t),Dt(t),r&512&&(lt||s===null||ga(s,s.return)),t.flags&32){c=t.stateNode;try{Ws(c,"")}catch(pe){Fe(t,t.return,pe)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,No(t,c,s!==null?s.memoizedProps:c)),r&1024&&(So=!0);break;case 6:if(Ct(a,t),Dt(t),r&4){if(t.stateNode===null)throw Error(i(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(pe){Fe(t,t.return,pe)}}break;case 3:if(ii=null,c=oa,oa=li(a.containerInfo),Ct(a,t),oa=c,Dt(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ar(a.containerInfo)}catch(pe){Fe(t,t.return,pe)}So&&(So=!1,zp(t));break;case 4:r=oa,oa=li(t.stateNode.containerInfo),Ct(a,t),Dt(t),oa=r;break;case 12:Ct(a,t),Dt(t);break;case 31:Ct(a,t),Dt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gn(t,r)));break;case 13:Ct(a,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Jn=It()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gn(t,r)));break;case 22:c=t.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,J=za,te=lt;if(za=J||c,lt=te||U,Ct(a,t),lt=te,za=J,Dt(t),r&8192)e:for(a=t.stateNode,a._visibility=c?a._visibility&-2:a._visibility|1,c&&(s===null||U||za||lt||Bs(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){U=s=a;try{if(d=U.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{z=U.stateNode;var se=U.memoizedProps.style,V=se!=null&&se.hasOwnProperty("display")?se.display:null;z.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(pe){Fe(U,U.return,pe)}}}else if(a.tag===6){if(s===null){U=a;try{U.stateNode.nodeValue=c?"":U.memoizedProps}catch(pe){Fe(U,U.return,pe)}}}else if(a.tag===18){if(s===null){U=a;try{var K=U.stateNode;c?N0(K,!0):N0(U.stateNode,!1)}catch(pe){Fe(U,U.return,pe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Gn(t,s))));break;case 19:Ct(a,t),Dt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gn(t,r)));break;case 30:break;case 21:break;default:Ct(a,t),Dt(t)}}function Dt(t){var a=t.flags;if(a&2){try{for(var s,r=t.return;r!==null;){if(wp(r)){s=r;break}r=r.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var c=s.stateNode,d=vo(t);qn(t,d,c);break;case 5:var y=s.stateNode;s.flags&32&&(Ws(y,""),s.flags&=-33);var z=vo(t);qn(t,z,y);break;case 3:case 4:var U=s.stateNode.containerInfo,J=vo(t);wo(t,J,U);break;default:throw Error(i(161))}}catch(te){Fe(t,t.return,te)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function zp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;zp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Oa(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ep(t,a.alternate,a),a=a.sibling}function Bs(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:ls(4,a,a.return),Bs(a);break;case 1:ga(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Np(a,a.return,s),Bs(a);break;case 27:Al(a.stateNode);case 26:case 5:ga(a,a.return),Bs(a);break;case 22:a.memoizedState===null&&Bs(a);break;case 30:Bs(a);break;default:Bs(a)}t=t.sibling}}function Ma(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var r=a.alternate,c=t,d=a,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ma(c,d,s),jl(4,d);break;case 1:if(Ma(c,d,s),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(J){Fe(r,r.return,J)}if(r=d,c=r.updateQueue,c!==null){var z=r.stateNode;try{var U=c.shared.hiddenCallbacks;if(U!==null)for(c.shared.hiddenCallbacks=null,c=0;c<U.length;c++)ox(U[c],z)}catch(J){Fe(r,r.return,J)}}s&&y&64&&jp(d),Nl(d,d.return);break;case 27:Sp(d);case 26:case 5:Ma(c,d,s),s&&r===null&&y&4&&vp(d),Nl(d,d.return);break;case 12:Ma(c,d,s);break;case 31:Ma(c,d,s),s&&y&4&&Tp(c,d);break;case 13:Ma(c,d,s),s&&y&4&&Ap(c,d);break;case 22:d.memoizedState===null&&Ma(c,d,s),Nl(d,d.return);break;case 30:break;default:Ma(c,d,s)}a=a.sibling}}function ko(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&il(s))}function Eo(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&il(t))}function da(t,a,s,r){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Lp(t,a,s,r),a=a.sibling}function Lp(t,a,s,r){var c=a.flags;switch(a.tag){case 0:case 11:case 15:da(t,a,s,r),c&2048&&jl(9,a);break;case 1:da(t,a,s,r);break;case 3:da(t,a,s,r),c&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){da(t,a,s,r),t=a.stateNode;try{var d=a.memoizedProps,y=d.id,z=d.onPostCommit;typeof z=="function"&&z(y,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){Fe(a,a.return,U)}}else da(t,a,s,r);break;case 31:da(t,a,s,r);break;case 13:da(t,a,s,r);break;case 23:break;case 22:d=a.stateNode,y=a.alternate,a.memoizedState!==null?d._visibility&2?da(t,a,s,r):vl(t,a):d._visibility&2?da(t,a,s,r):(d._visibility|=2,yr(t,a,s,r,(a.subtreeFlags&10256)!==0||!1)),c&2048&&ko(y,a);break;case 24:da(t,a,s,r),c&2048&&Eo(a.alternate,a);break;default:da(t,a,s,r)}}function yr(t,a,s,r,c){for(c=c&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=t,y=a,z=s,U=r,J=y.flags;switch(y.tag){case 0:case 11:case 15:yr(d,y,z,U,c),jl(8,y);break;case 23:break;case 22:var te=y.stateNode;y.memoizedState!==null?te._visibility&2?yr(d,y,z,U,c):vl(d,y):(te._visibility|=2,yr(d,y,z,U,c)),c&&J&2048&&ko(y.alternate,y);break;case 24:yr(d,y,z,U,c),c&&J&2048&&Eo(y.alternate,y);break;default:yr(d,y,z,U,c)}a=a.sibling}}function vl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,r=a,c=r.flags;switch(r.tag){case 22:vl(s,r),c&2048&&ko(r.alternate,r);break;case 24:vl(s,r),c&2048&&Eo(r.alternate,r);break;default:vl(s,r)}a=a.sibling}}var wl=8192;function jr(t,a,s){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)Op(t,a,s),t=t.sibling}function Op(t,a,s){switch(t.tag){case 26:jr(t,a,s),t.flags&wl&&t.memoizedState!==null&&sg(s,oa,t.memoizedState,t.memoizedProps);break;case 5:jr(t,a,s);break;case 3:case 4:var r=oa;oa=li(t.stateNode.containerInfo),jr(t,a,s),oa=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,jr(t,a,s),wl=r):jr(t,a,s));break;default:jr(t,a,s)}}function Mp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Sl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var r=a[s];ot=r,Ip(r,t)}Mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ls(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Yn(t)):Sl(t);break;default:Sl(t)}}function Yn(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var r=a[s];ot=r,Ip(r,t)}Mp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:ls(8,a,a.return),Yn(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Yn(a));break;default:Yn(a)}t=t.sibling}}function Ip(t,a){for(;ot!==null;){var s=ot;switch(s.tag){case 0:case 11:case 15:ls(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:il(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ot=r;else e:for(s=t;ot!==null;){r=ot;var c=r.sibling,d=r.return;if(Cp(r),r===s){ot=null;break e}if(c!==null){c.return=d,ot=c;break e}ot=d}}}var gf={getCacheForType:function(t){var a=pt(at),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return pt(at).controller.signal}},yf=typeof WeakMap=="function"?WeakMap:Map,Me=0,$e=null,Ce=null,Ae=0,Ie=0,qt=null,ns=!1,Nr=!1,Co=!1,_a=0,Xe=0,is=0,Ps=0,Do=0,Gt=0,vr=0,kl=null,Tt=null,To=!1,Jn=0,Fp=0,Vn=1/0,Xn=null,cs=null,nt=0,os=null,wr=null,Ia=0,Ao=0,Ro=null,Bp=null,El=0,zo=null;function Yt(){return(Me&2)!==0&&Ae!==0?Ae&-Ae:I.T!==null?Fo():tu()}function Pp(){if(Gt===0)if((Ae&536870912)===0||ze){var t=an;an<<=1,(an&3932160)===0&&(an=262144),Gt=t}else Gt=536870912;return t=Ht.current,t!==null&&(t.flags|=32),Gt}function At(t,a,s){(t===$e&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(Sr(t,0),ds(t,Ae,Gt,!1)),Jr(t,s),((Me&2)===0||t!==$e)&&(t===$e&&((Me&2)===0&&(Ps|=s),Xe===4&&ds(t,Ae,Gt,!1)),ya(t))}function Up(t,a,s){if((Me&6)!==0)throw Error(i(327));var r=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Yr(t,a),c=r?vf(t,a):Oo(t,a,!0),d=r;do{if(c===0){Nr&&!r&&ds(t,a,0,!1);break}else{if(s=t.current.alternate,d&&!jf(s)){c=Oo(t,a,!1),d=!1;continue}if(c===2){if(d=a,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var z=t;c=kl;var U=z.current.memoizedState.isDehydrated;if(U&&(Sr(z,y).flags|=256),y=Oo(z,y,!1),y!==2){if(Co&&!U){z.errorRecoveryDisabledLanes|=d,Ps|=d,c=4;break e}d=Tt,Tt=c,d!==null&&(Tt===null?Tt=d:Tt.push.apply(Tt,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){Sr(t,0),ds(t,a,0,!0);break}e:{switch(r=t,d=c,d){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ds(r,a,Gt,!ns);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(c=Jn+300-It(),10<c)){if(ds(r,a,Gt,!ns),rn(r,0,!0)!==0)break e;Ia=a,r.timeoutHandle=g0(Hp.bind(null,r,s,Tt,Xn,To,a,Gt,Ps,vr,ns,d,"Throttled",-0,0),c);break e}Hp(r,s,Tt,Xn,To,a,Gt,Ps,vr,ns,d,null,-0,0)}}break}while(!0);ya(t)}function Hp(t,a,s,r,c,d,y,z,U,J,te,se,V,K){if(t.timeoutHandle=-1,se=a.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Op(a,d,se);var pe=(d&62914560)===d?Jn-It():(d&4194048)===d?Fp-It():0;if(pe=rg(se,pe),pe!==null){Ia=d,t.cancelPendingCommit=pe(Qp.bind(null,t,a,d,s,r,c,y,z,U,te,se,null,V,K)),ds(t,d,y,!J);return}}Qp(t,a,d,s,r,c,y,z,U)}function jf(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],d=c.getSnapshot;c=c.value;try{if(!Pt(d(),c))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ds(t,a,s,r){a&=~Do,a&=~Ps,t.suspendedLanes|=a,t.pingedLanes&=~a,r&&(t.warmLanes|=a),r=t.expirationTimes;for(var c=a;0<c;){var d=31-Bt(c),y=1<<d;r[d]=-1,c&=~y}s!==0&&Zd(t,s,a)}function Qn(){return(Me&6)===0?(Cl(0),!1):!0}function Lo(){if(Ce!==null){if(Ie===0)var t=Ce.return;else t=Ce,Ea=Rs=null,Vc(t),mr=null,ol=0,t=Ce;for(;t!==null;)yp(t.alternate,t),t=t.return;Ce=null}}function Sr(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Pf(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ia=0,Lo(),$e=t,Ce=s=Sa(t.current,null),Ae=a,Ie=0,qt=null,ns=!1,Nr=Yr(t,a),Co=!1,vr=Gt=Do=Ps=is=Xe=0,Tt=kl=null,To=!1,(a&8)!==0&&(a|=a&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=a;0<r;){var c=31-Bt(r),d=1<<c;a|=t[c],r&=~d}return _a=a,fn(),s}function $p(t,a){we=null,I.H=fl,a===pr||a===kn?(a=lx(),Ie=3):a===_c?(a=lx(),Ie=4):Ie=a===uo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qt=a,Ce===null&&(Xe=1,Bn(t,Kt(a,t.current)))}function qp(){var t=Ht.current;return t===null?!0:(Ae&4194048)===Ae?ta===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===ta:!1}function Gp(){var t=I.H;return I.H=fl,t===null?fl:t}function Yp(){var t=I.A;return I.A=gf,t}function Kn(){Xe=4,ns||(Ae&4194048)!==Ae&&Ht.current!==null||(Nr=!0),(is&134217727)===0&&(Ps&134217727)===0||$e===null||ds($e,Ae,Gt,!1)}function Oo(t,a,s){var r=Me;Me|=2;var c=Gp(),d=Yp();($e!==t||Ae!==a)&&(Xn=null,Sr(t,a)),a=!1;var y=Xe;e:do try{if(Ie!==0&&Ce!==null){var z=Ce,U=qt;switch(Ie){case 8:Lo(),y=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(a=!0);var J=Ie;if(Ie=0,qt=null,kr(t,z,U,J),s&&Nr){y=0;break e}break;default:J=Ie,Ie=0,qt=null,kr(t,z,U,J)}}Nf(),y=Xe;break}catch(te){$p(t,te)}while(!0);return a&&t.shellSuspendCounter++,Ea=Rs=null,Me=r,I.H=c,I.A=d,Ce===null&&($e=null,Ae=0,fn()),y}function Nf(){for(;Ce!==null;)Jp(Ce)}function vf(t,a){var s=Me;Me|=2;var r=Gp(),c=Yp();$e!==t||Ae!==a?(Xn=null,Vn=It()+500,Sr(t,a)):Nr=Yr(t,a);e:do try{if(Ie!==0&&Ce!==null){a=Ce;var d=qt;t:switch(Ie){case 1:Ie=0,qt=null,kr(t,a,d,1);break;case 2:case 9:if(sx(d)){Ie=0,qt=null,Vp(a);break}a=function(){Ie!==2&&Ie!==9||$e!==t||(Ie=7),ya(t)},d.then(a,a);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:sx(d)?(Ie=0,qt=null,Vp(a)):(Ie=0,qt=null,kr(t,a,d,7));break;case 5:var y=null;switch(Ce.tag){case 26:y=Ce.memoizedState;case 5:case 27:var z=Ce;if(y?L0(y):z.stateNode.complete){Ie=0,qt=null;var U=z.sibling;if(U!==null)Ce=U;else{var J=z.return;J!==null?(Ce=J,Zn(J)):Ce=null}break t}}Ie=0,qt=null,kr(t,a,d,5);break;case 6:Ie=0,qt=null,kr(t,a,d,6);break;case 8:Lo(),Xe=6;break e;default:throw Error(i(462))}}wf();break}catch(te){$p(t,te)}while(!0);return Ea=Rs=null,I.H=r,I.A=c,Me=s,Ce!==null?0:($e=null,Ae=0,fn(),Xe)}function wf(){for(;Ce!==null&&!Gh();)Jp(Ce)}function Jp(t){var a=fp(t.alternate,t,_a);t.memoizedProps=t.pendingProps,a===null?Zn(t):Ce=a}function Vp(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=up(s,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=up(s,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:Vc(a);default:yp(s,a),a=Ce=Yu(a,_a),a=fp(s,a,_a)}t.memoizedProps=t.pendingProps,a===null?Zn(t):Ce=a}function kr(t,a,s,r){Ea=Rs=null,Vc(a),mr=null,ol=0;var c=a.return;try{if(uf(t,c,a,s,Ae)){Xe=1,Bn(t,Kt(s,t.current)),Ce=null;return}}catch(d){if(c!==null)throw Ce=c,d;Xe=1,Bn(t,Kt(s,t.current)),Ce=null;return}a.flags&32768?(ze||r===1?t=!0:Nr||(Ae&536870912)!==0?t=!1:(ns=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ht.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xp(a,t)):Zn(a)}function Zn(t){var a=t;do{if((a.flags&32768)!==0){Xp(a,ns);return}t=a.return;var s=mf(a.alternate,a,_a);if(s!==null){Ce=s;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=t}while(a!==null);Xe===0&&(Xe=5)}function Xp(t,a){do{var s=hf(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);Xe=6,Ce=null}function Qp(t,a,s,r,c,d,y,z,U){t.cancelPendingCommit=null;do Wn();while(nt!==0);if((Me&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(d=a.lanes|a.childLanes,d|=Nc,tb(t,s,d,y,z,U),t===$e&&(Ce=$e=null,Ae=0),wr=a,os=t,Ia=s,Ao=d,Ro=c,Bp=r,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cf(en,function(){return t0(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,c=W.p,W.p=2,y=Me,Me|=4;try{bf(t,a,s)}finally{Me=y,W.p=c,I.T=r}}nt=1,Kp(),Zp(),Wp()}}function Kp(){if(nt===1){nt=0;var t=os,a=wr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=I.T,I.T=null;var r=W.p;W.p=2;var c=Me;Me|=4;try{Rp(a,t);var d=Yo,y=Iu(t.containerInfo),z=d.focusedElem,U=d.selectionRange;if(y!==z&&z&&z.ownerDocument&&_u(z.ownerDocument.documentElement,z)){if(U!==null&&bc(z)){var J=U.start,te=U.end;if(te===void 0&&(te=J),"selectionStart"in z)z.selectionStart=J,z.selectionEnd=Math.min(te,z.value.length);else{var se=z.ownerDocument||document,V=se&&se.defaultView||window;if(V.getSelection){var K=V.getSelection(),pe=z.textContent.length,fe=Math.min(U.start,pe),Ue=U.end===void 0?fe:Math.min(U.end,pe);!K.extend&&fe>Ue&&(y=Ue,Ue=fe,fe=y);var G=Mu(z,fe),H=Mu(z,Ue);if(G&&H&&(K.rangeCount!==1||K.anchorNode!==G.node||K.anchorOffset!==G.offset||K.focusNode!==H.node||K.focusOffset!==H.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),K.removeAllRanges(),fe>Ue?(K.addRange(Y),K.extend(H.node,H.offset)):(Y.setEnd(H.node,H.offset),K.addRange(Y))}}}}for(se=[],K=z;K=K.parentNode;)K.nodeType===1&&se.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<se.length;z++){var ae=se[z];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ui=!!Go,Yo=Go=null}finally{Me=c,W.p=r,I.T=s}}t.current=a,nt=2}}function Zp(){if(nt===2){nt=0;var t=os,a=wr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=I.T,I.T=null;var r=W.p;W.p=2;var c=Me;Me|=4;try{Ep(t,a.alternate,a)}finally{Me=c,W.p=r,I.T=s}}nt=3}}function Wp(){if(nt===4||nt===3){nt=0,Yh();var t=os,a=wr,s=Ia,r=Bp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?nt=5:(nt=0,wr=os=null,e0(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(cs=null),Ki(s),a=a.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Gr,a,void 0,(a.current.flags&128)===128)}catch{}if(r!==null){a=I.T,c=W.p,W.p=2,I.T=null;try{for(var d=t.onRecoverableError,y=0;y<r.length;y++){var z=r[y];d(z.value,{componentStack:z.stack})}}finally{I.T=a,W.p=c}}(Ia&3)!==0&&Wn(),ya(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===zo?El++:(El=0,zo=t):El=0,Cl(0)}}function e0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,il(a)))}function Wn(){return Kp(),Zp(),Wp(),t0()}function t0(){if(nt!==5)return!1;var t=os,a=Ao;Ao=0;var s=Ki(Ia),r=I.T,c=W.p;try{W.p=32>s?32:s,I.T=null,s=Ro,Ro=null;var d=os,y=Ia;if(nt=0,wr=os=null,Ia=0,(Me&6)!==0)throw Error(i(331));var z=Me;if(Me|=4,_p(d.current),Lp(d,d.current,y,s),Me=z,Cl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Gr,d)}catch{}return!0}finally{W.p=c,I.T=r,e0(t,a)}}function a0(t,a,s){a=Kt(s,a),a=oo(t.stateNode,a,2),t=as(t,a,2),t!==null&&(Jr(t,2),ya(t))}function Fe(t,a,s){if(t.tag===3)a0(t,t,s);else for(;a!==null;){if(a.tag===3){a0(a,t,s);break}else if(a.tag===1){var r=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=Kt(s,t),s=sp(2),r=as(a,s,2),r!==null&&(rp(s,r,a,t),Jr(r,2),ya(r));break}}a=a.return}}function Mo(t,a,s){var r=t.pingCache;if(r===null){r=t.pingCache=new yf;var c=new Set;r.set(a,c)}else c=r.get(a),c===void 0&&(c=new Set,r.set(a,c));c.has(s)||(Co=!0,c.add(s),t=Sf.bind(null,t,a,s),a.then(t,t))}function Sf(t,a,s){var r=t.pingCache;r!==null&&r.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,$e===t&&(Ae&s)===s&&(Xe===4||Xe===3&&(Ae&62914560)===Ae&&300>It()-Jn?(Me&2)===0&&Sr(t,0):Do|=s,vr===Ae&&(vr=0)),ya(t)}function s0(t,a){a===0&&(a=Kd()),t=Ds(t,a),t!==null&&(Jr(t,a),ya(t))}function kf(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),s0(t,s)}function Ef(t,a){var s=0;switch(t.tag){case 31:case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(a),s0(t,s)}function Cf(t,a){return Ji(t,a)}var ei=null,Er=null,_o=!1,ti=!1,Io=!1,us=0;function ya(t){t!==Er&&t.next===null&&(Er===null?ei=Er=t:Er=Er.next=t),ti=!0,_o||(_o=!0,Tf())}function Cl(t,a){if(!Io&&ti){Io=!0;do for(var s=!1,r=ei;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var y=r.suspendedLanes,z=r.pingedLanes;d=(1<<31-Bt(42|t)+1)-1,d&=c&~(y&~z),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,i0(r,d))}else d=Ae,d=rn(r,r===$e?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Yr(r,d)||(s=!0,i0(r,d));r=r.next}while(s);Io=!1}}function Df(){r0()}function r0(){ti=_o=!1;var t=0;us!==0&&Bf()&&(t=us);for(var a=It(),s=null,r=ei;r!==null;){var c=r.next,d=l0(r,a);d===0?(r.next=null,s===null?ei=c:s.next=c,c===null&&(Er=s)):(s=r,(t!==0||(d&3)!==0)&&(ti=!0)),r=c}nt!==0&&nt!==5||Cl(t),us!==0&&(us=0)}function l0(t,a){for(var s=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-Bt(d),z=1<<y,U=c[y];U===-1?((z&s)===0||(z&r)!==0)&&(c[y]=eb(z,a)):U<=a&&(t.expiredLanes|=z),d&=~z}if(a=$e,s=Ae,s=rn(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===a&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Vi(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yr(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(r!==null&&Vi(r),Ki(s)){case 2:case 8:s=Xd;break;case 32:s=en;break;case 268435456:s=Qd;break;default:s=en}return r=n0.bind(null,t),s=Ji(s,r),t.callbackPriority=a,t.callbackNode=s,a}return r!==null&&r!==null&&Vi(r),t.callbackPriority=2,t.callbackNode=null,2}function n0(t,a){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Wn()&&t.callbackNode!==s)return null;var r=Ae;return r=rn(t,t===$e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Up(t,r,a),l0(t,It()),t.callbackNode!=null&&t.callbackNode===s?n0.bind(null,t):null)}function i0(t,a){if(Wn())return null;Up(t,a,!0)}function Tf(){Uf(function(){(Me&6)!==0?Ji(Vd,Df):r0()})}function Fo(){if(us===0){var t=ur;t===0&&(t=tn,tn<<=1,(tn&261888)===0&&(tn=256)),us=t}return us}function c0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:on(""+t)}function o0(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function Af(t,a,s,r,c){if(a==="submit"&&s&&s.stateNode===c){var d=c0((c[St]||null).action),y=r.submitter;y&&(a=(a=y[St]||null)?c0(a.formAction):y.getAttribute("formAction"),a!==null&&(d=a,y=null));var z=new pn("action","action",null,r,c);t.push({event:z,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(us!==0){var U=y?o0(c,y):new FormData(c);so(s,{pending:!0,data:U,method:c.method,action:d},null,U)}}else typeof d=="function"&&(z.preventDefault(),U=y?o0(c,y):new FormData(c),so(s,{pending:!0,data:U,method:c.method,action:d},d,U))},currentTarget:c}]})}}for(var Bo=0;Bo<jc.length;Bo++){var Po=jc[Bo],Rf=Po.toLowerCase(),zf=Po[0].toUpperCase()+Po.slice(1);ca(Rf,"on"+zf)}ca(Pu,"onAnimationEnd"),ca(Uu,"onAnimationIteration"),ca(Hu,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Jb,"onTransitionRun"),ca(Vb,"onTransitionStart"),ca(Xb,"onTransitionCancel"),ca($u,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function d0(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],c=r.event;r=r.listeners;e:{var d=void 0;if(a)for(var y=r.length-1;0<=y;y--){var z=r[y],U=z.instance,J=z.currentTarget;if(z=z.listener,U!==d&&c.isPropagationStopped())break e;d=z,c.currentTarget=J;try{d(c)}catch(te){bn(te)}c.currentTarget=null,d=U}else for(y=0;y<r.length;y++){if(z=r[y],U=z.instance,J=z.currentTarget,z=z.listener,U!==d&&c.isPropagationStopped())break e;d=z,c.currentTarget=J;try{d(c)}catch(te){bn(te)}c.currentTarget=null,d=U}}}}function De(t,a){var s=a[Zi];s===void 0&&(s=a[Zi]=new Set);var r=t+"__bubble";s.has(r)||(u0(a,t,2,!1),s.add(r))}function Uo(t,a,s){var r=0;a&&(r|=4),u0(s,t,r,a)}var ai="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[ai]){t[ai]=!0,ru.forEach(function(s){s!=="selectionchange"&&(Lf.has(s)||Uo(s,!1,t),Uo(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[ai]||(a[ai]=!0,Uo("selectionchange",!1,a))}}function u0(t,a,s,r){switch(P0(a)){case 2:var c=ig;break;case 8:c=cg;break;default:c=sd}s=c.bind(null,a,s,t),c=void 0,!ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(a,s,{capture:!0,passive:c}):t.addEventListener(a,s,!0):c!==void 0?t.addEventListener(a,s,{passive:c}):t.addEventListener(a,s,!1)}function $o(t,a,s,r,c){var d=r;if((a&1)===0&&(a&2)===0&&r!==null)e:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var z=r.stateNode.containerInfo;if(z===c)break;if(y===4)for(y=r.return;y!==null;){var U=y.tag;if((U===3||U===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;z!==null;){if(y=Vs(z),y===null)return;if(U=y.tag,U===5||U===6||U===26||U===27){r=d=y;continue e}z=z.parentNode}}r=r.return}bu(function(){var J=d,te=lc(s),se=[];e:{var V=qu.get(t);if(V!==void 0){var K=pn,pe=t;switch(t){case"keypress":if(un(s)===0)break e;case"keydown":case"keyup":K=kb;break;case"focusin":pe="focus",K=uc;break;case"focusout":pe="blur",K=uc;break;case"beforeblur":case"afterblur":K=uc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Db;break;case Pu:case Uu:case Hu:K=bb;break;case $u:K=Ab;break;case"scroll":case"scrollend":K=ub;break;case"wheel":K=zb;break;case"copy":case"cut":case"paste":K=gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Nu;break;case"toggle":case"beforetoggle":K=Ob}var fe=(a&4)!==0,Ue=!fe&&(t==="scroll"||t==="scrollend"),G=fe?V!==null?V+"Capture":null:V;fe=[];for(var H=J,Y;H!==null;){var ae=H;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||G===null||(ae=Qr(H,G),ae!=null&&fe.push(Tl(H,ae,Y))),Ue)break;H=H.return}0<fe.length&&(V=new K(V,pe,null,s,te),se.push({event:V,listeners:fe}))}}if((a&7)===0){e:{if(V=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",V&&s!==rc&&(pe=s.relatedTarget||s.fromElement)&&(Vs(pe)||pe[Js]))break e;if((K||V)&&(V=te.window===te?te:(V=te.ownerDocument)?V.defaultView||V.parentWindow:window,K?(pe=s.relatedTarget||s.toElement,K=J,pe=pe?Vs(pe):null,pe!==null&&(Ue=x(pe),fe=pe.tag,pe!==Ue||fe!==5&&fe!==27&&fe!==6)&&(pe=null)):(K=null,pe=J),K!==pe)){if(fe=yu,ae="onMouseLeave",G="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Nu,ae="onPointerLeave",G="onPointerEnter",H="pointer"),Ue=K==null?V:Xr(K),Y=pe==null?V:Xr(pe),V=new fe(ae,H+"leave",K,s,te),V.target=Ue,V.relatedTarget=Y,ae=null,Vs(te)===J&&(fe=new fe(G,H+"enter",pe,s,te),fe.target=Y,fe.relatedTarget=Ue,ae=fe),Ue=ae,K&&pe)t:{for(fe=Of,G=K,H=pe,Y=0,ae=G;ae;ae=fe(ae))Y++;ae=0;for(var be=H;be;be=fe(be))ae++;for(;0<Y-ae;)G=fe(G),Y--;for(;0<ae-Y;)H=fe(H),ae--;for(;Y--;){if(G===H||H!==null&&G===H.alternate){fe=G;break t}G=fe(G),H=fe(H)}fe=null}else fe=null;K!==null&&x0(se,V,K,fe,!1),pe!==null&&Ue!==null&&x0(se,Ue,pe,fe,!0)}}e:{if(V=J?Xr(J):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var Le=Tu;else if(Cu(V))if(Au)Le=qb;else{Le=Hb;var me=Ub}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?J&&sc(J.elementType)&&(Le=Tu):Le=$b;if(Le&&(Le=Le(t,J))){Du(se,Le,s,te);break e}me&&me(t,V,J),t==="focusout"&&J&&V.type==="number"&&J.memoizedProps.value!=null&&ac(V,"number",V.value)}switch(me=J?Xr(J):window,t){case"focusin":(Cu(me)||me.contentEditable==="true")&&(sr=me,fc=J,rl=null);break;case"focusout":rl=fc=sr=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Fu(se,s,te);break;case"selectionchange":if(Yb)break;case"keydown":case"keyup":Fu(se,s,te)}var Se;if(pc)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ar?ku(t,s)&&(Re="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Re="onCompositionStart");Re&&(vu&&s.locale!=="ko"&&(ar||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ar&&(Se=fu()):(Xa=te,cc="value"in Xa?Xa.value:Xa.textContent,ar=!0)),me=si(J,Re),0<me.length&&(Re=new ju(Re,t,null,s,te),se.push({event:Re,listeners:me}),Se?Re.data=Se:(Se=Eu(s),Se!==null&&(Re.data=Se)))),(Se=_b?Ib(t,s):Fb(t,s))&&(Re=si(J,"onBeforeInput"),0<Re.length&&(me=new ju("onBeforeInput","beforeinput",null,s,te),se.push({event:me,listeners:Re}),me.data=Se)),Af(se,t,J,s,te)}d0(se,a)})}function Tl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function si(t,a){for(var s=a+"Capture",r=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Qr(t,s),c!=null&&r.unshift(Tl(t,c,d)),c=Qr(t,a),c!=null&&r.push(Tl(t,c,d))),t.tag===3)return r;t=t.return}return[]}function Of(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function x0(t,a,s,r,c){for(var d=a._reactName,y=[];s!==null&&s!==r;){var z=s,U=z.alternate,J=z.stateNode;if(z=z.tag,U!==null&&U===r)break;z!==5&&z!==26&&z!==27||J===null||(U=J,c?(J=Qr(s,d),J!=null&&y.unshift(Tl(s,J,U))):c||(J=Qr(s,d),J!=null&&y.push(Tl(s,J,U)))),s=s.return}y.length!==0&&t.push({event:a,listeners:y})}var Mf=/\r\n?/g,_f=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(Mf,`
`).replace(_f,"")}function m0(t,a){return a=p0(a),p0(t)===a}function Pe(t,a,s,r,c,d){switch(s){case"children":typeof r=="string"?a==="body"||a==="textarea"&&r===""||Ws(t,r):(typeof r=="number"||typeof r=="bigint")&&a!=="body"&&Ws(t,""+r);break;case"className":nn(t,"class",r);break;case"tabIndex":nn(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nn(t,s,r);break;case"style":mu(t,r,d);break;case"data":if(a!=="object"){nn(t,"data",r);break}case"src":case"href":if(r===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=on(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&Pe(t,a,"name",c.name,c,null),Pe(t,a,"formEncType",c.formEncType,c,null),Pe(t,a,"formMethod",c.formMethod,c,null),Pe(t,a,"formTarget",c.formTarget,c,null)):(Pe(t,a,"encType",c.encType,c,null),Pe(t,a,"method",c.method,c,null),Pe(t,a,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=on(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=va);break;case"onScroll":r!=null&&De("scroll",t);break;case"onScrollEnd":r!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=on(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":De("beforetoggle",t),De("toggle",t),ln(t,"popover",r);break;case"xlinkActuate":Na(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Na(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Na(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Na(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Na(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Na(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Na(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Na(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Na(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ln(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ob.get(s)||s,ln(t,s,r))}}function qo(t,a,s,r,c,d){switch(s){case"style":mu(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof r=="string"?Ws(t,r):(typeof r=="number"||typeof r=="bigint")&&Ws(t,""+r);break;case"onScroll":r!=null&&De("scroll",t);break;case"onScrollEnd":r!=null&&De("scrollend",t);break;case"onClick":r!=null&&(t.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lu.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),a=s.slice(2,c?s.length-7:void 0),d=t[St]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(a,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,r,c);break e}s in t?t[s]=r:r===!0?t.setAttribute(s,""):ln(t,s,r)}}}function ht(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var r=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Pe(t,a,d,y,s,null)}}c&&Pe(t,a,"srcSet",s.srcSet,s,null),r&&Pe(t,a,"src",s.src,s,null);return;case"input":De("invalid",t);var z=d=y=c=null,U=null,J=null;for(r in s)if(s.hasOwnProperty(r)){var te=s[r];if(te!=null)switch(r){case"name":c=te;break;case"type":y=te;break;case"checked":U=te;break;case"defaultChecked":J=te;break;case"value":d=te;break;case"defaultValue":z=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:Pe(t,a,r,te,s,null)}}du(t,d,z,U,J,y,c,!1);return;case"select":De("invalid",t),r=y=d=null;for(c in s)if(s.hasOwnProperty(c)&&(z=s[c],z!=null))switch(c){case"value":d=z;break;case"defaultValue":y=z;break;case"multiple":r=z;default:Pe(t,a,c,z,s,null)}a=d,s=y,t.multiple=!!r,a!=null?Zs(t,!!r,a,!1):s!=null&&Zs(t,!!r,s,!0);return;case"textarea":De("invalid",t),d=c=r=null;for(y in s)if(s.hasOwnProperty(y)&&(z=s[y],z!=null))switch(y){case"value":r=z;break;case"defaultValue":c=z;break;case"children":d=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Pe(t,a,y,z,s,null)}xu(t,r,c,d);return;case"option":for(U in s)s.hasOwnProperty(U)&&(r=s[U],r!=null)&&(U==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Pe(t,a,U,r,s,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(r=0;r<Dl.length;r++)De(Dl[r],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(r=s[J],r!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Pe(t,a,J,r,s,null)}return;default:if(sc(a)){for(te in s)s.hasOwnProperty(te)&&(r=s[te],r!==void 0&&qo(t,a,te,r,s,void 0));return}}for(z in s)s.hasOwnProperty(z)&&(r=s[z],r!=null&&Pe(t,a,z,r,s,null))}function If(t,a,s,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,z=null,U=null,J=null,te=null;for(K in s){var se=s[K];if(s.hasOwnProperty(K)&&se!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":U=se;default:r.hasOwnProperty(K)||Pe(t,a,K,null,r,se)}}for(var V in r){var K=r[V];if(se=s[V],r.hasOwnProperty(V)&&(K!=null||se!=null))switch(V){case"type":d=K;break;case"name":c=K;break;case"checked":J=K;break;case"defaultChecked":te=K;break;case"value":y=K;break;case"defaultValue":z=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==se&&Pe(t,a,V,K,r,se)}}tc(t,y,z,U,J,te,d,c);return;case"select":K=y=z=V=null;for(d in s)if(U=s[d],s.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":K=U;default:r.hasOwnProperty(d)||Pe(t,a,d,null,r,U)}for(c in r)if(d=r[c],U=s[c],r.hasOwnProperty(c)&&(d!=null||U!=null))switch(c){case"value":V=d;break;case"defaultValue":z=d;break;case"multiple":y=d;default:d!==U&&Pe(t,a,c,d,r,U)}a=z,s=y,r=K,V!=null?Zs(t,!!s,V,!1):!!r!=!!s&&(a!=null?Zs(t,!!s,a,!0):Zs(t,!!s,s?[]:"",!1));return;case"textarea":K=V=null;for(z in s)if(c=s[z],s.hasOwnProperty(z)&&c!=null&&!r.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Pe(t,a,z,null,r,c)}for(y in r)if(c=r[y],d=s[y],r.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":V=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==d&&Pe(t,a,y,c,r,d)}uu(t,V,K);return;case"option":for(var pe in s)V=s[pe],s.hasOwnProperty(pe)&&V!=null&&!r.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:Pe(t,a,pe,null,r,V));for(U in r)V=r[U],K=s[U],r.hasOwnProperty(U)&&V!==K&&(V!=null||K!=null)&&(U==="selected"?t.selected=V&&typeof V!="function"&&typeof V!="symbol":Pe(t,a,U,V,r,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in s)V=s[fe],s.hasOwnProperty(fe)&&V!=null&&!r.hasOwnProperty(fe)&&Pe(t,a,fe,null,r,V);for(J in r)if(V=r[J],K=s[J],r.hasOwnProperty(J)&&V!==K&&(V!=null||K!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,a));break;default:Pe(t,a,J,V,r,K)}return;default:if(sc(a)){for(var Ue in s)V=s[Ue],s.hasOwnProperty(Ue)&&V!==void 0&&!r.hasOwnProperty(Ue)&&qo(t,a,Ue,void 0,r,V);for(te in r)V=r[te],K=s[te],!r.hasOwnProperty(te)||V===K||V===void 0&&K===void 0||qo(t,a,te,V,r,K);return}}for(var G in s)V=s[G],s.hasOwnProperty(G)&&V!=null&&!r.hasOwnProperty(G)&&Pe(t,a,G,null,r,V);for(se in r)V=r[se],K=s[se],!r.hasOwnProperty(se)||V===K||V==null&&K==null||Pe(t,a,se,V,r,K)}function h0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ff(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],d=c.transferSize,y=c.initiatorType,z=c.duration;if(d&&z&&h0(y)){for(y=0,z=c.responseEnd,r+=1;r<s.length;r++){var U=s[r],J=U.startTime;if(J>z)break;var te=U.transferSize,se=U.initiatorType;te&&h0(se)&&(U=U.responseEnd,y+=te*(U<z?1:(z-J)/(U-J)))}if(--r,a+=8*(d+y)/(c.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Go=null,Yo=null;function ri(t){return t.nodeType===9?t:t.ownerDocument}function b0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Jo(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vo=null;function Bf(){var t=window.event;return t&&t.type==="popstate"?t===Vo?!1:(Vo=t,!0):(Vo=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,Pf=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,Uf=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(t){return y0.resolve(null).then(t).catch(Hf)}:g0;function Hf(t){setTimeout(function(){throw t})}function xs(t){return t==="head"}function j0(t,a){var s=a,r=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){t.removeChild(c),Ar(a);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Al(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Al(s);for(var d=s.firstChild;d;){var y=d.nextSibling,z=d.nodeName;d[Vr]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&Al(t.ownerDocument.body);s=c}while(s);Ar(a)}function N0(t,a){var s=t;t=0;do{var r=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=r}while(s)}function Xo(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xo(s),Wi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function $f(t,a,s,r){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Vr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=aa(t.nextSibling),t===null)break}return null}function qf(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=aa(t.nextSibling),t===null))return null;return t}function v0(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=aa(t.nextSibling),t===null))return null;return t}function Qo(t){return t.data==="$?"||t.data==="$~"}function Ko(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gf(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var r=function(){a(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function aa(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Zo=null;function w0(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return aa(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function S0(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function k0(t,a,s){switch(a=ri(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Al(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Wi(t)}var sa=new Map,E0=new Set;function li(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fa=W.d;W.d={f:Yf,r:Jf,D:Vf,C:Xf,L:Qf,m:Kf,X:Wf,S:Zf,M:eg};function Yf(){var t=Fa.f(),a=Qn();return t||a}function Jf(t){var a=Xs(t);a!==null&&a.tag===5&&a.type==="form"?$x(a):Fa.r(t)}var Cr=typeof document>"u"?null:document;function C0(t,a,s){var r=Cr;if(r&&typeof a=="string"&&a){var c=Xt(a);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),E0.has(c)||(E0.add(c),t={rel:t,crossOrigin:s,href:a},r.querySelector(c)===null&&(a=r.createElement("link"),ht(a,"link",t),ct(a),r.head.appendChild(a)))}}function Vf(t){Fa.D(t),C0("dns-prefetch",t,null)}function Xf(t,a){Fa.C(t,a),C0("preconnect",t,a)}function Qf(t,a,s){Fa.L(t,a,s);var r=Cr;if(r&&t&&a){var c='link[rel="preload"][as="'+Xt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Xt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Xt(s.imageSizes)+'"]')):c+='[href="'+Xt(t)+'"]';var d=c;switch(a){case"style":d=Dr(t);break;case"script":d=Tr(t)}sa.has(d)||(t=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),sa.set(d,t),r.querySelector(c)!==null||a==="style"&&r.querySelector(Rl(d))||a==="script"&&r.querySelector(zl(d))||(a=r.createElement("link"),ht(a,"link",t),ct(a),r.head.appendChild(a)))}}function Kf(t,a){Fa.m(t,a);var s=Cr;if(s&&t){var r=a&&typeof a.as=="string"?a.as:"script",c='link[rel="modulepreload"][as="'+Xt(r)+'"][href="'+Xt(t)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Tr(t)}if(!sa.has(d)&&(t=v({rel:"modulepreload",href:t},a),sa.set(d,t),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zl(d)))return}r=s.createElement("link"),ht(r,"link",t),ct(r),s.head.appendChild(r)}}}function Zf(t,a,s){Fa.S(t,a,s);var r=Cr;if(r&&t){var c=Qs(r).hoistableStyles,d=Dr(t);a=a||"default";var y=c.get(d);if(!y){var z={loading:0,preload:null};if(y=r.querySelector(Rl(d)))z.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},s),(s=sa.get(d))&&Wo(t,s);var U=y=r.createElement("link");ct(U),ht(U,"link",t),U._p=new Promise(function(J,te){U.onload=J,U.onerror=te}),U.addEventListener("load",function(){z.loading|=1}),U.addEventListener("error",function(){z.loading|=2}),z.loading|=4,ni(y,a,r)}y={type:"stylesheet",instance:y,count:1,state:z},c.set(d,y)}}}function Wf(t,a){Fa.X(t,a);var s=Cr;if(s&&t){var r=Qs(s).hoistableScripts,c=Tr(t),d=r.get(c);d||(d=s.querySelector(zl(c)),d||(t=v({src:t,async:!0},a),(a=sa.get(c))&&ed(t,a),d=s.createElement("script"),ct(d),ht(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function eg(t,a){Fa.M(t,a);var s=Cr;if(s&&t){var r=Qs(s).hoistableScripts,c=Tr(t),d=r.get(c);d||(d=s.querySelector(zl(c)),d||(t=v({src:t,async:!0,type:"module"},a),(a=sa.get(c))&&ed(t,a),d=s.createElement("script"),ct(d),ht(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function D0(t,a,s,r){var c=(c=ye.current)?li(c):null;if(!c)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Dr(s.href),s=Qs(c).hoistableStyles,r=s.get(a),r||(r={type:"style",instance:null,count:0,state:null},s.set(a,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Dr(s.href);var d=Qs(c).hoistableStyles,y=d.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=c.querySelector(Rl(t)))&&!d._p&&(y.instance=d,y.state.loading=5),sa.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},sa.set(t,s),d||tg(c,t,s,y.state))),a&&r===null)throw Error(i(528,""));return y}if(a&&r!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tr(s),s=Qs(c).hoistableScripts,r=s.get(a),r||(r={type:"script",instance:null,count:0,state:null},s.set(a,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Dr(t){return'href="'+Xt(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function T0(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function tg(t,a,s,r){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?r.loading=1:(a=t.createElement("link"),r.preload=a,a.addEventListener("load",function(){return r.loading|=1}),a.addEventListener("error",function(){return r.loading|=2}),ht(a,"link",s),ct(a),t.head.appendChild(a))}function Tr(t){return'[src="'+Xt(t)+'"]'}function zl(t){return"script[async]"+t}function A0(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var r=t.querySelector('style[data-href~="'+Xt(s.href)+'"]');if(r)return a.instance=r,ct(r),r;var c=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ct(r),ht(r,"style",c),ni(r,s.precedence,t),a.instance=r;case"stylesheet":c=Dr(s.href);var d=t.querySelector(Rl(c));if(d)return a.state.loading|=4,a.instance=d,ct(d),d;r=T0(s),(c=sa.get(c))&&Wo(r,c),d=(t.ownerDocument||t).createElement("link"),ct(d);var y=d;return y._p=new Promise(function(z,U){y.onload=z,y.onerror=U}),ht(d,"link",r),a.state.loading|=4,ni(d,s.precedence,t),a.instance=d;case"script":return d=Tr(s.src),(c=t.querySelector(zl(d)))?(a.instance=c,ct(c),c):(r=s,(c=sa.get(d))&&(r=v({},s),ed(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),ct(c),ht(c,"link",r),t.head.appendChild(c),a.instance=c);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(r=a.instance,a.state.loading|=4,ni(r,s.precedence,t));return a.instance}function ni(t,a,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,y=0;y<r.length;y++){var z=r[y];if(z.dataset.precedence===a)d=z;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Wo(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function ed(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var ii=null;function R0(t,a,s){if(ii===null){var r=new Map,c=ii=new Map;c.set(s,r)}else c=ii,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var d=s[c];if(!(d[Vr]||d[ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(a)||"";y=t+y;var z=r.get(y);z?z.push(d):r.set(y,[d])}}return r}function z0(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function ag(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sg(t,a,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Dr(r.href),d=a.querySelector(Rl(c));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=ci.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=d,ct(d);return}d=a.ownerDocument||a,r=T0(r),(c=sa.get(c))&&Wo(r,c),d=d.createElement("link"),ct(d);var y=d;y._p=new Promise(function(z,U){y.onload=z,y.onerror=U}),ht(d,"link",r),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ci.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var td=0;function rg(t,a){return t.stylesheets&&t.count===0&&di(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var r=setTimeout(function(){if(t.stylesheets&&di(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+a);0<t.imgBytes&&td===0&&(td=62500*Ff());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&di(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>td?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function ci(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)di(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oi=null;function di(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oi=new Map,a.forEach(lg,t),oi=null,ci.call(t))}function lg(t,a){if(!(a.state.loading&4)){var s=oi.get(t);if(s)var r=s.get(null);else{s=new Map,oi.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),r=y)}r&&s.set(null,r)}c=a.instance,y=c.getAttribute("data-precedence"),d=s.get(y)||r,d===r&&s.set(null,c),s.set(y,c),this.count++,r=ci.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),a.state.loading|=4}}var Ll={$$typeof:A,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function ng(t,a,s,r,c,d,y,z,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function O0(t,a,s,r,c,d,y,z,U,J,te,se){return t=new ng(t,a,s,y,U,J,te,se,z),a=1,d===!0&&(a|=24),d=Ut(3,null,null,a),t.current=d,d.stateNode=t,a=Lc(),a.refCount++,t.pooledCache=a,a.refCount++,d.memoizedState={element:r,isDehydrated:s,cache:a},Ic(d),t}function M0(t){return t?(t=nr,t):nr}function _0(t,a,s,r,c,d){c=M0(c),r.context===null?r.context=c:r.pendingContext=c,r=ts(a),r.payload={element:s},d=d===void 0?null:d,d!==null&&(r.callback=d),s=as(t,r,a),s!==null&&(At(s,t,a),ul(s,t,a))}function I0(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function ad(t,a){I0(t,a),(t=t.alternate)&&I0(t,a)}function F0(t){if(t.tag===13||t.tag===31){var a=Ds(t,67108864);a!==null&&At(a,t,67108864),ad(t,67108864)}}function B0(t){if(t.tag===13||t.tag===31){var a=Yt();a=Qi(a);var s=Ds(t,a);s!==null&&At(s,t,a),ad(t,a)}}var ui=!0;function ig(t,a,s,r){var c=I.T;I.T=null;var d=W.p;try{W.p=2,sd(t,a,s,r)}finally{W.p=d,I.T=c}}function cg(t,a,s,r){var c=I.T;I.T=null;var d=W.p;try{W.p=8,sd(t,a,s,r)}finally{W.p=d,I.T=c}}function sd(t,a,s,r){if(ui){var c=rd(r);if(c===null)$o(t,a,r,xi,s),U0(t,r);else if(dg(c,t,a,s,r))r.stopPropagation();else if(U0(t,r),a&4&&-1<og.indexOf(t)){for(;c!==null;){var d=Xs(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ws(d.pendingLanes);if(y!==0){var z=d;for(z.pendingLanes|=2,z.entangledLanes|=2;y;){var U=1<<31-Bt(y);z.entanglements[1]|=U,y&=~U}ya(d),(Me&6)===0&&(Vn=It()+500,Cl(0))}}break;case 31:case 13:z=Ds(d,2),z!==null&&At(z,d,2),Qn(),ad(d,2)}if(d=rd(r),d===null&&$o(t,a,r,xi,s),d===c)break;c=d}c!==null&&r.stopPropagation()}else $o(t,a,r,null,s)}}function rd(t){return t=lc(t),ld(t)}var xi=null;function ld(t){if(xi=null,t=Vs(t),t!==null){var a=x(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=p(a),t!==null)return t;t=null}else if(s===31){if(t=g(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return xi=t,null}function P0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jh()){case Vd:return 2;case Xd:return 8;case en:case Vh:return 32;case Qd:return 268435456;default:return 32}default:return 32}}var nd=!1,ps=null,ms=null,hs=null,Ol=new Map,Ml=new Map,bs=[],og="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(t,a){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Ol.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(a.pointerId)}}function _l(t,a,s,r,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:a,domEventName:s,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},a!==null&&(a=Xs(a),a!==null&&F0(a)),t):(t.eventSystemFlags|=r,a=t.targetContainers,c!==null&&a.indexOf(c)===-1&&a.push(c),t)}function dg(t,a,s,r,c){switch(a){case"focusin":return ps=_l(ps,t,a,s,r,c),!0;case"dragenter":return ms=_l(ms,t,a,s,r,c),!0;case"mouseover":return hs=_l(hs,t,a,s,r,c),!0;case"pointerover":var d=c.pointerId;return Ol.set(d,_l(Ol.get(d)||null,t,a,s,r,c)),!0;case"gotpointercapture":return d=c.pointerId,Ml.set(d,_l(Ml.get(d)||null,t,a,s,r,c)),!0}return!1}function H0(t){var a=Vs(t.target);if(a!==null){var s=x(a);if(s!==null){if(a=s.tag,a===13){if(a=p(s),a!==null){t.blockedOn=a,au(t.priority,function(){B0(s)});return}}else if(a===31){if(a=g(s),a!==null){t.blockedOn=a,au(t.priority,function(){B0(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pi(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=rd(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);rc=r,s.target.dispatchEvent(r),rc=null}else return a=Xs(s),a!==null&&F0(a),t.blockedOn=s,!1;a.shift()}return!0}function $0(t,a,s){pi(t)&&s.delete(a)}function ug(){nd=!1,ps!==null&&pi(ps)&&(ps=null),ms!==null&&pi(ms)&&(ms=null),hs!==null&&pi(hs)&&(hs=null),Ol.forEach($0),Ml.forEach($0)}function mi(t,a){t.blockedOn===a&&(t.blockedOn=null,nd||(nd=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ug)))}var hi=null;function q0(t){hi!==t&&(hi=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){hi===t&&(hi=null);for(var a=0;a<t.length;a+=3){var s=t[a],r=t[a+1],c=t[a+2];if(typeof r!="function"){if(ld(r||s)===null)continue;break}var d=Xs(s);d!==null&&(t.splice(a,3),a-=3,so(d,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Ar(t){function a(U){return mi(U,t)}ps!==null&&mi(ps,t),ms!==null&&mi(ms,t),hs!==null&&mi(hs,t),Ol.forEach(a),Ml.forEach(a);for(var s=0;s<bs.length;s++){var r=bs[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<bs.length&&(s=bs[0],s.blockedOn===null);)H0(s),s.blockedOn===null&&bs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],d=s[r+1],y=c[St]||null;if(typeof d=="function")y||q0(s);else if(y){var z=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[St]||null)z=y.formAction;else if(ld(c)!==null)continue}else z=y.action;typeof z=="function"?s[r+1]=z:(s.splice(r,3),r-=3),q0(s)}}}function G0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function a(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),c!==null&&(c(),c=null)}}}function id(t){this._internalRoot=t}bi.prototype.render=id.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,r=Yt();_0(s,r,t,a,null,null)},bi.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;_0(t.current,2,null,t,null,null),Qn(),a[Js]=null}};function bi(t){this._internalRoot=t}bi.prototype.unstable_scheduleHydration=function(t){if(t){var a=tu();t={blockedOn:null,target:t,priority:a};for(var s=0;s<bs.length&&a!==0&&a<bs[s].priority;s++);bs.splice(s,0,t),s===0&&H0(t)}};var Y0=n.version;if(Y0!=="19.2.3")throw Error(i(527,Y0,"19.2.3"));W.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(a),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var xg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Gr=fi.inject(xg),Ft=fi}catch{}}return Fl.createRoot=function(t,a){if(!u(t))throw Error(i(299));var s=!1,r="",c=Wx,d=ep,y=tp;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=O0(t,1,!1,null,null,s,r,null,c,d,y,G0),t[Js]=a.current,Ho(t),new id(a)},Fl.hydrateRoot=function(t,a,s){if(!u(t))throw Error(i(299));var r=!1,c="",d=Wx,y=ep,z=tp,U=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(z=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),a=O0(t,1,!0,a,s??null,r,c,U,d,y,z,G0),a.context=M0(null),s=a.current,r=Yt(),r=Qi(r),c=ts(r),c.callback=null,as(s,c,r),s=r,a.current.lanes=s,Jr(a,s),ya(a),t[Js]=a.current,Ho(t),new bi(a)},Fl.version="19.2.3",Fl}var am;function wg(){if(am)return dd.exports;am=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),dd.exports=vg(),dd.exports}var Sg=wg();var sm="popstate";function kg(l={}){function n(i,u){let{pathname:x,search:p,hash:g}=i.location;return jd("",{pathname:x,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(i,u){return typeof u=="string"?u:Hl(u)}return Cg(n,o,null,l)}function Je(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}function na(l,n){if(!l){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Eg(){return Math.random().toString(36).substring(2,10)}function rm(l,n){return{usr:l.state,key:l.key,idx:n}}function jd(l,n,o=null,i){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof n=="string"?Fr(n):n,state:o,key:n&&n.key||i||Eg()}}function Hl({pathname:l="/",search:n="",hash:o=""}){return n&&n!=="?"&&(l+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(l+=o.charAt(0)==="#"?o:"#"+o),l}function Fr(l){let n={};if(l){let o=l.indexOf("#");o>=0&&(n.hash=l.substring(o),l=l.substring(0,o));let i=l.indexOf("?");i>=0&&(n.search=l.substring(i),l=l.substring(0,i)),l&&(n.pathname=l)}return n}function Cg(l,n,o,i={}){let{window:u=document.defaultView,v5Compat:x=!1}=i,p=u.history,g="POP",b=null,h=N();h==null&&(h=0,p.replaceState({...p.state,idx:h},""));function N(){return(p.state||{idx:null}).idx}function v(){g="POP";let w=N(),D=w==null?null:w-h;h=w,b&&b({action:g,location:C.location,delta:D})}function k(w,D){g="PUSH";let L=jd(C.location,w,D);h=N()+1;let A=rm(L,h),S=C.createHref(L);try{p.pushState(A,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;u.location.assign(S)}x&&b&&b({action:g,location:C.location,delta:1})}function f(w,D){g="REPLACE";let L=jd(C.location,w,D);h=N();let A=rm(L,h),S=C.createHref(L);p.replaceState(A,"",S),x&&b&&b({action:g,location:C.location,delta:0})}function j(w){return Dg(w)}let C={get action(){return g},get location(){return l(u,p)},listen(w){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(sm,v),b=w,()=>{u.removeEventListener(sm,v),b=null}},createHref(w){return n(u,w)},createURL:j,encodeLocation(w){let D=j(w);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:k,replace:f,go(w){return p.go(w)}};return C}function Dg(l,n=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Je(o,"No window.location.(origin|href) available to create URL");let i=typeof l=="string"?l:Hl(l);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=o+i),new URL(i,o)}function Fm(l,n,o="/"){return Tg(l,n,o,!1)}function Tg(l,n,o,i){let u=typeof n=="string"?Fr(n):n,x=$a(u.pathname||"/",o);if(x==null)return null;let p=Bm(l);Ag(p);let g=null;for(let b=0;g==null&&b<p.length;++b){let h=Ug(x);g=Bg(p[b],h,i)}return g}function Bm(l,n=[],o=[],i="",u=!1){let x=(p,g,b=u,h)=>{let N={relativePath:h===void 0?p.path||"":h,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};if(N.relativePath.startsWith("/")){if(!N.relativePath.startsWith(i)&&b)return;Je(N.relativePath.startsWith(i),`Absolute route path "${N.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(i.length)}let v=Ua([i,N.relativePath]),k=o.concat(N);p.children&&p.children.length>0&&(Je(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Bm(p.children,n,k,v,b)),!(p.path==null&&!p.index)&&n.push({path:v,score:Ig(v,p.index),routesMeta:k})};return l.forEach((p,g)=>{if(p.path===""||!p.path?.includes("?"))x(p,g);else for(let b of Pm(p.path))x(p,g,!0,b)}),n}function Pm(l){let n=l.split("/");if(n.length===0)return[];let[o,...i]=n,u=o.endsWith("?"),x=o.replace(/\?$/,"");if(i.length===0)return u?[x,""]:[x];let p=Pm(i.join("/")),g=[];return g.push(...p.map(b=>b===""?x:[x,b].join("/"))),u&&g.push(...p),g.map(b=>l.startsWith("/")&&b===""?"/":b)}function Ag(l){l.sort((n,o)=>n.score!==o.score?o.score-n.score:Fg(n.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}var Rg=/^:[\w-]+$/,zg=3,Lg=2,Og=1,Mg=10,_g=-2,lm=l=>l==="*";function Ig(l,n){let o=l.split("/"),i=o.length;return o.some(lm)&&(i+=_g),n&&(i+=Lg),o.filter(u=>!lm(u)).reduce((u,x)=>u+(Rg.test(x)?zg:x===""?Og:Mg),i)}function Fg(l,n){return l.length===n.length&&l.slice(0,-1).every((i,u)=>i===n[u])?l[l.length-1]-n[n.length-1]:0}function Bg(l,n,o=!1){let{routesMeta:i}=l,u={},x="/",p=[];for(let g=0;g<i.length;++g){let b=i[g],h=g===i.length-1,N=x==="/"?n:n.slice(x.length)||"/",v=Ci({path:b.relativePath,caseSensitive:b.caseSensitive,end:h},N),k=b.route;if(!v&&h&&o&&!i[i.length-1].route.index&&(v=Ci({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},N)),!v)return null;Object.assign(u,v.params),p.push({params:u,pathname:Ua([x,v.pathname]),pathnameBase:Gg(Ua([x,v.pathnameBase])),route:k}),v.pathnameBase!=="/"&&(x=Ua([x,v.pathnameBase]))}return p}function Ci(l,n){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[o,i]=Pg(l.path,l.caseSensitive,l.end),u=n.match(o);if(!u)return null;let x=u[0],p=x.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:i.reduce((h,{paramName:N,isOptional:v},k)=>{if(N==="*"){let j=g[k]||"";p=x.slice(0,x.length-j.length).replace(/(.)\/+$/,"$1")}const f=g[k];return v&&!f?h[N]=void 0:h[N]=(f||"").replace(/%2F/g,"/"),h},{}),pathname:x,pathnameBase:p,pattern:l}}function Pg(l,n=!1,o=!0){na(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let i=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,b)=>(i.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(i.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),i]}function Ug(l){try{return l.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return na(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),l}}function $a(l,n){if(n==="/")return l;if(!l.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,i=l.charAt(o);return i&&i!=="/"?null:l.slice(o)||"/"}var Um=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hg=l=>Um.test(l);function $g(l,n="/"){let{pathname:o,search:i="",hash:u=""}=typeof l=="string"?Fr(l):l,x;if(o)if(Hg(o))x=o;else{if(o.includes("//")){let p=o;o=o.replace(/\/\/+/g,"/"),na(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${o}`)}o.startsWith("/")?x=nm(o.substring(1),"/"):x=nm(o,n)}else x=n;return{pathname:x,search:Yg(i),hash:Jg(u)}}function nm(l,n){let o=n.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function md(l,n,o,i){return`Cannot include a '${l}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qg(l){return l.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Rd(l){let n=qg(l);return n.map((o,i)=>i===n.length-1?o.pathname:o.pathnameBase)}function zd(l,n,o,i=!1){let u;typeof l=="string"?u=Fr(l):(u={...l},Je(!u.pathname||!u.pathname.includes("?"),md("?","pathname","search",u)),Je(!u.pathname||!u.pathname.includes("#"),md("#","pathname","hash",u)),Je(!u.search||!u.search.includes("#"),md("#","search","hash",u)));let x=l===""||u.pathname==="",p=x?"/":u.pathname,g;if(p==null)g=o;else{let v=n.length-1;if(!i&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),v-=1;u.pathname=k.join("/")}g=v>=0?n[v]:"/"}let b=$g(u,g),h=p&&p!=="/"&&p.endsWith("/"),N=(x||p===".")&&o.endsWith("/");return!b.pathname.endsWith("/")&&(h||N)&&(b.pathname+="/"),b}var Ua=l=>l.join("/").replace(/\/\/+/g,"/"),Gg=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Yg=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Jg=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,Vg=class{constructor(l,n,o,i=!1){this.status=l,this.statusText=n||"",this.internal=i,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function Xg(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function Qg(l){return l.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $m(l,n){let o=l;if(typeof o!="string"||!Um.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let i=o,u=!1;if(Hm)try{let x=new URL(window.location.href),p=o.startsWith("//")?new URL(x.protocol+o):new URL(o),g=$a(p.pathname,n);p.origin===x.origin&&g!=null?o=g+p.search+p.hash:u=!0}catch{na(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:u,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qm=["POST","PUT","PATCH","DELETE"];new Set(qm);var Kg=["GET",...qm];new Set(Kg);var Br=m.createContext(null);Br.displayName="DataRouter";var Oi=m.createContext(null);Oi.displayName="DataRouterState";var Zg=m.createContext(!1),Gm=m.createContext({isTransitioning:!1});Gm.displayName="ViewTransition";var Wg=m.createContext(new Map);Wg.displayName="Fetchers";var ey=m.createContext(null);ey.displayName="Await";var Jt=m.createContext(null);Jt.displayName="Navigation";var Gl=m.createContext(null);Gl.displayName="Location";var pa=m.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var Ld=m.createContext(null);Ld.displayName="RouteError";var Ym="REACT_ROUTER_ERROR",ty="REDIRECT",ay="ROUTE_ERROR_RESPONSE";function sy(l){if(l.startsWith(`${Ym}:${ty}:{`))try{let n=JSON.parse(l.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function ry(l){if(l.startsWith(`${Ym}:${ay}:{`))try{let n=JSON.parse(l.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Vg(n.status,n.statusText,n.data)}catch{}}function ly(l,{relative:n}={}){Je(Pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:i}=m.useContext(Jt),{hash:u,pathname:x,search:p}=Yl(l,{relative:n}),g=x;return o!=="/"&&(g=x==="/"?o:Ua([o,x])),i.createHref({pathname:g,search:p,hash:u})}function Pr(){return m.useContext(Gl)!=null}function _t(){return Je(Pr(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Gl).location}var Jm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vm(l){m.useContext(Jt).static||m.useLayoutEffect(l)}function xe(){let{isDataRoute:l}=m.useContext(pa);return l?jy():ny()}function ny(){Je(Pr(),"useNavigate() may be used only in the context of a <Router> component.");let l=m.useContext(Br),{basename:n,navigator:o}=m.useContext(Jt),{matches:i}=m.useContext(pa),{pathname:u}=_t(),x=JSON.stringify(Rd(i)),p=m.useRef(!1);return Vm(()=>{p.current=!0}),m.useCallback((b,h={})=>{if(na(p.current,Jm),!p.current)return;if(typeof b=="number"){o.go(b);return}let N=zd(b,JSON.parse(x),u,h.relative==="path");l==null&&n!=="/"&&(N.pathname=N.pathname==="/"?n:Ua([n,N.pathname])),(h.replace?o.replace:o.push)(N,h.state,h)},[n,o,x,u,l])}var iy=m.createContext(null);function cy(l){let n=m.useContext(pa).outlet;return m.useMemo(()=>n&&m.createElement(iy.Provider,{value:l},n),[n,l])}function Yl(l,{relative:n}={}){let{matches:o}=m.useContext(pa),{pathname:i}=_t(),u=JSON.stringify(Rd(o));return m.useMemo(()=>zd(l,JSON.parse(u),i,n==="path"),[l,u,i,n])}function oy(l,n){return Xm(l,n)}function Xm(l,n,o,i,u){Je(Pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=m.useContext(Jt),{matches:p}=m.useContext(pa),g=p[p.length-1],b=g?g.params:{},h=g?g.pathname:"/",N=g?g.pathnameBase:"/",v=g&&g.route;{let L=v&&v.path||"";Km(h,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let k=_t(),f;if(n){let L=typeof n=="string"?Fr(n):n;Je(N==="/"||L.pathname?.startsWith(N),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${L.pathname}" was given in the \`location\` prop.`),f=L}else f=k;let j=f.pathname||"/",C=j;if(N!=="/"){let L=N.replace(/^\//,"").split("/");C="/"+j.replace(/^\//,"").split("/").slice(L.length).join("/")}let w=Fm(l,{pathname:C});na(v||w!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),na(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=my(w&&w.map(L=>Object.assign({},L,{params:Object.assign({},b,L.params),pathname:Ua([N,x.encodeLocation?x.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?N:Ua([N,x.encodeLocation?x.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),p,o,i,u);return n&&D?m.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},D):D}function dy(){let l=yy(),n=Xg(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),o=l instanceof Error?l.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},x={padding:"2px 4px",backgroundColor:i},p=null;return console.error("Error handled by React Router default ErrorBoundary:",l),p=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:x},"ErrorBoundary")," or"," ",m.createElement("code",{style:x},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},n),o?m.createElement("pre",{style:u},o):null,p)}var uy=m.createElement(dy,null),Qm=class extends m.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,n){return n.location!==l.location||n.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:n.error,location:n.location,revalidation:l.revalidation||n.revalidation}}componentDidCatch(l,n){this.props.onError?this.props.onError(l,n):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const o=ry(l.digest);o&&(l=o)}let n=l!==void 0?m.createElement(pa.Provider,{value:this.props.routeContext},m.createElement(Ld.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?m.createElement(xy,{error:l},n):n}};Qm.contextType=Zg;var hd=new WeakMap;function xy({children:l,error:n}){let{basename:o}=m.useContext(Jt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let i=sy(n.digest);if(i){let u=hd.get(n);if(u)throw u;let x=$m(i.location,o);if(Hm&&!hd.get(n))if(x.isExternal||i.reloadDocument)window.location.href=x.absoluteURL||x.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(x.to,{replace:i.replace}));throw hd.set(n,p),p}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${x.absoluteURL||x.to}`})}}return l}function py({routeContext:l,match:n,children:o}){let i=m.useContext(Br);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(pa.Provider,{value:l},o)}function my(l,n=[],o=null,i=null,u=null){if(l==null){if(!o)return null;if(o.errors)l=o.matches;else if(n.length===0&&!o.initialized&&o.matches.length>0)l=o.matches;else return null}let x=l,p=o?.errors;if(p!=null){let N=x.findIndex(v=>v.route.id&&p?.[v.route.id]!==void 0);Je(N>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),x=x.slice(0,Math.min(x.length,N+1))}let g=!1,b=-1;if(o)for(let N=0;N<x.length;N++){let v=x[N];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(b=N),v.route.id){let{loaderData:k,errors:f}=o,j=v.route.loader&&!k.hasOwnProperty(v.route.id)&&(!f||f[v.route.id]===void 0);if(v.route.lazy||j){g=!0,b>=0?x=x.slice(0,b+1):x=[x[0]];break}}}let h=o&&i?(N,v)=>{i(N,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:Qg(o.matches),errorInfo:v})}:void 0;return x.reduceRight((N,v,k)=>{let f,j=!1,C=null,w=null;o&&(f=p&&v.route.id?p[v.route.id]:void 0,C=v.route.errorElement||uy,g&&(b<0&&k===0?(Km("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):b===k&&(j=!0,w=v.route.hydrateFallbackElement||null)));let D=n.concat(x.slice(0,k+1)),L=()=>{let A;return f?A=C:j?A=w:v.route.Component?A=m.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=N,m.createElement(py,{match:v,routeContext:{outlet:N,matches:D,isDataRoute:o!=null},children:A})};return o&&(v.route.ErrorBoundary||v.route.errorElement||k===0)?m.createElement(Qm,{location:o.location,revalidation:o.revalidation,component:C,error:f,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:h}):L()},null)}function Od(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hy(l){let n=m.useContext(Br);return Je(n,Od(l)),n}function by(l){let n=m.useContext(Oi);return Je(n,Od(l)),n}function fy(l){let n=m.useContext(pa);return Je(n,Od(l)),n}function Md(l){let n=fy(l),o=n.matches[n.matches.length-1];return Je(o.route.id,`${l} can only be used on routes that contain a unique "id"`),o.route.id}function gy(){return Md("useRouteId")}function yy(){let l=m.useContext(Ld),n=by("useRouteError"),o=Md("useRouteError");return l!==void 0?l:n.errors?.[o]}function jy(){let{router:l}=hy("useNavigate"),n=Md("useNavigate"),o=m.useRef(!1);return Vm(()=>{o.current=!0}),m.useCallback(async(u,x={})=>{na(o.current,Jm),o.current&&(typeof u=="number"?await l.navigate(u):await l.navigate(u,{fromRouteId:n,...x}))},[l,n])}var im={};function Km(l,n,o){!n&&!im[l]&&(im[l]=!0,na(!1,o))}m.memo(Ny);function Ny({routes:l,future:n,state:o,onError:i}){return Xm(l,void 0,o,i,n)}function Zm({to:l,replace:n,state:o,relative:i}){Je(Pr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=m.useContext(Jt);na(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=m.useContext(pa),{pathname:p}=_t(),g=xe(),b=zd(l,Rd(x),p,i==="path"),h=JSON.stringify(b);return m.useEffect(()=>{g(JSON.parse(h),{replace:n,state:o,relative:i})},[g,h,i,n,o]),null}function Wm(l){return cy(l.context)}function re(l){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vy({basename:l="/",children:n=null,location:o,navigationType:i="POP",navigator:u,static:x=!1,unstable_useTransitions:p}){Je(!Pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=l.replace(/^\/*/,"/"),b=m.useMemo(()=>({basename:g,navigator:u,static:x,unstable_useTransitions:p,future:{}}),[g,u,x,p]);typeof o=="string"&&(o=Fr(o));let{pathname:h="/",search:N="",hash:v="",state:k=null,key:f="default"}=o,j=m.useMemo(()=>{let C=$a(h,g);return C==null?null:{location:{pathname:C,search:N,hash:v,state:k,key:f},navigationType:i}},[g,h,N,v,k,f,i]);return na(j!=null,`<Router basename="${g}"> is not able to match the URL "${h}${N}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:m.createElement(Jt.Provider,{value:b},m.createElement(Gl.Provider,{children:n,value:j}))}function wy({children:l,location:n}){return oy(Nd(l),n)}function Nd(l,n=[]){let o=[];return m.Children.forEach(l,(i,u)=>{if(!m.isValidElement(i))return;let x=[...n,u];if(i.type===m.Fragment){o.push.apply(o,Nd(i.props.children,x));return}Je(i.type===re,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!i.props.index||!i.props.children,"An index route cannot have child routes.");let p={id:i.props.id||x.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(p.children=Nd(i.props.children,x)),o.push(p)}),o}var Ni="get",vi="application/x-www-form-urlencoded";function Mi(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function Sy(l){return Mi(l)&&l.tagName.toLowerCase()==="button"}function ky(l){return Mi(l)&&l.tagName.toLowerCase()==="form"}function Ey(l){return Mi(l)&&l.tagName.toLowerCase()==="input"}function Cy(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Dy(l,n){return l.button===0&&(!n||n==="_self")&&!Cy(l)}var gi=null;function Ty(){if(gi===null)try{new FormData(document.createElement("form"),0),gi=!1}catch{gi=!0}return gi}var Ay=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(l){return l!=null&&!Ay.has(l)?(na(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vi}"`),null):l}function Ry(l,n){let o,i,u,x,p;if(ky(l)){let g=l.getAttribute("action");i=g?$a(g,n):null,o=l.getAttribute("method")||Ni,u=bd(l.getAttribute("enctype"))||vi,x=new FormData(l)}else if(Sy(l)||Ey(l)&&(l.type==="submit"||l.type==="image")){let g=l.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=l.getAttribute("formaction")||g.getAttribute("action");if(i=b?$a(b,n):null,o=l.getAttribute("formmethod")||g.getAttribute("method")||Ni,u=bd(l.getAttribute("formenctype"))||bd(g.getAttribute("enctype"))||vi,x=new FormData(g,l),!Ty()){let{name:h,type:N,value:v}=l;if(N==="image"){let k=h?`${h}.`:"";x.append(`${k}x`,"0"),x.append(`${k}y`,"0")}else h&&x.append(h,v)}}else{if(Mi(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ni,i=null,u=vi,p=l}return x&&u==="text/plain"&&(p=x,x=void 0),{action:i,method:o.toLowerCase(),encType:u,formData:x,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _d(l,n){if(l===!1||l===null||typeof l>"u")throw new Error(n)}function zy(l,n,o,i){let u=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${i}`:u.pathname=`${u.pathname}.${i}`:u.pathname==="/"?u.pathname=`_root.${i}`:n&&$a(u.pathname,n)==="/"?u.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${i}`,u}async function Ly(l,n){if(l.id in n)return n[l.id];try{let o=await import(l.module);return n[l.id]=o,o}catch(o){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Oy(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function My(l,n,o){let i=await Promise.all(l.map(async u=>{let x=n.routes[u.route.id];if(x){let p=await Ly(x,o);return p.links?p.links():[]}return[]}));return By(i.flat(1).filter(Oy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function cm(l,n,o,i,u,x){let p=(b,h)=>o[h]?b.route.id!==o[h].route.id:!0,g=(b,h)=>o[h].pathname!==b.pathname||o[h].route.path?.endsWith("*")&&o[h].params["*"]!==b.params["*"];return x==="assets"?n.filter((b,h)=>p(b,h)||g(b,h)):x==="data"?n.filter((b,h)=>{let N=i.routes[b.route.id];if(!N||!N.hasLoader)return!1;if(p(b,h)||g(b,h))return!0;if(b.route.shouldRevalidate){let v=b.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _y(l,n,{includeHydrateFallback:o}={}){return Iy(l.map(i=>{let u=n.routes[i.route.id];if(!u)return[];let x=[u.module];return u.clientActionModule&&(x=x.concat(u.clientActionModule)),u.clientLoaderModule&&(x=x.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(x=x.concat(u.hydrateFallbackModule)),u.imports&&(x=x.concat(u.imports)),x}).flat(1))}function Iy(l){return[...new Set(l)]}function Fy(l){let n={},o=Object.keys(l).sort();for(let i of o)n[i]=l[i];return n}function By(l,n){let o=new Set;return new Set(n),l.reduce((i,u)=>{let x=JSON.stringify(Fy(u));return o.has(x)||(o.add(x),i.push({key:x,link:u})),i},[])}function eh(){let l=m.useContext(Br);return _d(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Py(){let l=m.useContext(Oi);return _d(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Id=m.createContext(void 0);Id.displayName="FrameworkContext";function th(){let l=m.useContext(Id);return _d(l,"You must render this element inside a <HydratedRouter> element"),l}function Uy(l,n){let o=m.useContext(Id),[i,u]=m.useState(!1),[x,p]=m.useState(!1),{onFocus:g,onBlur:b,onMouseEnter:h,onMouseLeave:N,onTouchStart:v}=n,k=m.useRef(null);m.useEffect(()=>{if(l==="render"&&p(!0),l==="viewport"){let C=D=>{D.forEach(L=>{p(L.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return k.current&&w.observe(k.current),()=>{w.disconnect()}}},[l]),m.useEffect(()=>{if(i){let C=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(C)}}},[i]);let f=()=>{u(!0)},j=()=>{u(!1),p(!1)};return o?l!=="intent"?[x,k,{}]:[x,k,{onFocus:Bl(g,f),onBlur:Bl(b,j),onMouseEnter:Bl(h,f),onMouseLeave:Bl(N,j),onTouchStart:Bl(v,f)}]:[!1,k,{}]}function Bl(l,n){return o=>{l&&l(o),o.defaultPrevented||n(o)}}function Hy({page:l,...n}){let{router:o}=eh(),i=m.useMemo(()=>Fm(o.routes,l,o.basename),[o.routes,l,o.basename]);return i?m.createElement(qy,{page:l,matches:i,...n}):null}function $y(l){let{manifest:n,routeModules:o}=th(),[i,u]=m.useState([]);return m.useEffect(()=>{let x=!1;return My(l,n,o).then(p=>{x||u(p)}),()=>{x=!0}},[l,n,o]),i}function qy({page:l,matches:n,...o}){let i=_t(),{future:u,manifest:x,routeModules:p}=th(),{basename:g}=eh(),{loaderData:b,matches:h}=Py(),N=m.useMemo(()=>cm(l,n,h,x,i,"data"),[l,n,h,x,i]),v=m.useMemo(()=>cm(l,n,h,x,i,"assets"),[l,n,h,x,i]),k=m.useMemo(()=>{if(l===i.pathname+i.search+i.hash)return[];let C=new Set,w=!1;if(n.forEach(L=>{let A=x.routes[L.route.id];!A||!A.hasLoader||(!N.some(S=>S.route.id===L.route.id)&&L.route.id in b&&p[L.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:C.add(L.route.id))}),C.size===0)return[];let D=zy(l,g,u.unstable_trailingSlashAwareDataRequests,"data");return w&&C.size>0&&D.searchParams.set("_routes",n.filter(L=>C.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[g,u.unstable_trailingSlashAwareDataRequests,b,i,x,N,n,l,p]),f=m.useMemo(()=>_y(v,x),[v,x]),j=$y(v);return m.createElement(m.Fragment,null,k.map(C=>m.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...o})),f.map(C=>m.createElement("link",{key:C,rel:"modulepreload",href:C,...o})),j.map(({key:C,link:w})=>m.createElement("link",{key:C,nonce:o.nonce,...w})))}function Gy(...l){return n=>{l.forEach(o=>{typeof o=="function"?o(n):o!=null&&(o.current=n)})}}var Yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yy&&(window.__reactRouterVersion="7.12.0")}catch{}function Jy({basename:l,children:n,unstable_useTransitions:o,window:i}){let u=m.useRef();u.current==null&&(u.current=kg({window:i,v5Compat:!0}));let x=u.current,[p,g]=m.useState({action:x.action,location:x.location}),b=m.useCallback(h=>{o===!1?g(h):m.startTransition(()=>g(h))},[o]);return m.useLayoutEffect(()=>x.listen(b),[x,b]),m.createElement(vy,{basename:l,children:n,location:p.location,navigationType:p.action,navigator:x,unstable_useTransitions:o})}var ah=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sh=m.forwardRef(function({onClick:n,discover:o="render",prefetch:i="none",relative:u,reloadDocument:x,replace:p,state:g,target:b,to:h,preventScrollReset:N,viewTransition:v,unstable_defaultShouldRevalidate:k,...f},j){let{basename:C,unstable_useTransitions:w}=m.useContext(Jt),D=typeof h=="string"&&ah.test(h),L=$m(h,C);h=L.to;let A=ly(h,{relative:u}),[S,_,B]=Uy(i,f),E=Ky(h,{replace:p,state:g,target:b,preventScrollReset:N,relative:u,viewTransition:v,unstable_defaultShouldRevalidate:k,unstable_useTransitions:w});function R(F){n&&n(F),F.defaultPrevented||E(F)}let O=m.createElement("a",{...f,...B,href:L.absoluteURL||A,onClick:L.isExternal||x?n:R,ref:Gy(j,_),target:b,"data-discover":!D&&o==="render"?"true":void 0});return S&&!D?m.createElement(m.Fragment,null,O,m.createElement(Hy,{page:A})):O});sh.displayName="Link";var Vy=m.forwardRef(function({"aria-current":n="page",caseSensitive:o=!1,className:i="",end:u=!1,style:x,to:p,viewTransition:g,children:b,...h},N){let v=Yl(p,{relative:h.relative}),k=_t(),f=m.useContext(Oi),{navigator:j,basename:C}=m.useContext(Jt),w=f!=null&&aj(v)&&g===!0,D=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,L=k.pathname,A=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;o||(L=L.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&C&&(A=$a(A,C)||A);const S=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let _=L===D||!u&&L.startsWith(D)&&L.charAt(S)==="/",B=A!=null&&(A===D||!u&&A.startsWith(D)&&A.charAt(D.length)==="/"),E={isActive:_,isPending:B,isTransitioning:w},R=_?n:void 0,O;typeof i=="function"?O=i(E):O=[i,_?"active":null,B?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let F=typeof x=="function"?x(E):x;return m.createElement(sh,{...h,"aria-current":R,className:O,ref:N,style:F,to:p,viewTransition:g},typeof b=="function"?b(E):b)});Vy.displayName="NavLink";var Xy=m.forwardRef(({discover:l="render",fetcherKey:n,navigate:o,reloadDocument:i,replace:u,state:x,method:p=Ni,action:g,onSubmit:b,relative:h,preventScrollReset:N,viewTransition:v,unstable_defaultShouldRevalidate:k,...f},j)=>{let{unstable_useTransitions:C}=m.useContext(Jt),w=ej(),D=tj(g,{relative:h}),L=p.toLowerCase()==="get"?"get":"post",A=typeof g=="string"&&ah.test(g),S=_=>{if(b&&b(_),_.defaultPrevented)return;_.preventDefault();let B=_.nativeEvent.submitter,E=B?.getAttribute("formmethod")||p,R=()=>w(B||_.currentTarget,{fetcherKey:n,method:E,navigate:o,replace:u,state:x,relative:h,preventScrollReset:N,viewTransition:v,unstable_defaultShouldRevalidate:k});C&&o!==!1?m.startTransition(()=>R()):R()};return m.createElement("form",{ref:j,method:L,action:D,onSubmit:i?b:S,...f,"data-discover":!A&&l==="render"?"true":void 0})});Xy.displayName="Form";function Qy(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rh(l){let n=m.useContext(Br);return Je(n,Qy(l)),n}function Ky(l,{target:n,replace:o,state:i,preventScrollReset:u,relative:x,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:b}={}){let h=xe(),N=_t(),v=Yl(l,{relative:x});return m.useCallback(k=>{if(Dy(k,n)){k.preventDefault();let f=o!==void 0?o:Hl(N)===Hl(v),j=()=>h(l,{replace:f,state:i,preventScrollReset:u,relative:x,viewTransition:p,unstable_defaultShouldRevalidate:g});b?m.startTransition(()=>j()):j()}},[N,h,v,o,i,n,l,u,x,p,g,b])}var Zy=0,Wy=()=>`__${String(++Zy)}__`;function ej(){let{router:l}=rh("useSubmit"),{basename:n}=m.useContext(Jt),o=gy(),i=l.fetch,u=l.navigate;return m.useCallback(async(x,p={})=>{let{action:g,method:b,encType:h,formData:N,body:v}=Ry(x,n);if(p.navigate===!1){let k=p.fetcherKey||Wy();await i(k,o,p.action||g,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:N,body:v,formMethod:p.method||b,formEncType:p.encType||h,flushSync:p.flushSync})}else await u(p.action||g,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:N,body:v,formMethod:p.method||b,formEncType:p.encType||h,replace:p.replace,state:p.state,fromRouteId:o,flushSync:p.flushSync,viewTransition:p.viewTransition})},[i,u,n,o])}function tj(l,{relative:n}={}){let{basename:o}=m.useContext(Jt),i=m.useContext(pa);Je(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),x={...Yl(l||".",{relative:n})},p=_t();if(l==null){x.search=p.search;let g=new URLSearchParams(x.search),b=g.getAll("index");if(b.some(N=>N==="")){g.delete("index"),b.filter(v=>v).forEach(v=>g.append("index",v));let N=g.toString();x.search=N?`?${N}`:""}}return(!l||l===".")&&u.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(x.pathname=x.pathname==="/"?o:Ua([o,x.pathname])),Hl(x)}function aj(l,{relative:n}={}){let o=m.useContext(Gm);Je(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rh("useViewTransitionState"),u=Yl(l,{relative:n});if(!o.isTransitioning)return!1;let x=$a(o.currentLocation.pathname,i)||o.currentLocation.pathname,p=$a(o.nextLocation.pathname,i)||o.nextLocation.pathname;return Ci(u.pathname,p)!=null||Ci(u.pathname,x)!=null}const sj=()=>e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"relative z-10 w-full h-full overflow-auto",children:e.jsx("div",{className:"p-2 sm:p-4 min-h-full w-full",children:e.jsx(Wm,{})})})}),rj=({value:l,onChange:n,onBlur:o,disabled:i=!1,type:u="text",className:x=""})=>{const[p,g]=m.useState(l??"");m.useEffect(()=>{g(l??"")},[l]);const b=N=>{g(N.target.value),n&&n(N.target.value)},h=N=>{o&&o(p)};return e.jsx("input",{type:u,value:p,onChange:b,onBlur:h,disabled:i,className:`w-full px-1 border border-gray-300 focus:outline-none focus:border-blue-500 
                ${i?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-yellow-50"} 
                ${x}`})},lh=({columns:l,data:n=[],rowKey:o="id",actions:i=[],onRowClick:u,onCellChange:x,isLoading:p=!1,minRows:g=0})=>p?e.jsx("div",{className:"p-4 text-center text-gray-500 italic",children:"Loading records..."}):!n||n.length===0?e.jsx("div",{className:"border border-gray-400 p-8 text-center bg-gray-50 text-gray-500 italic",children:"No records found."}):e.jsx("div",{className:"overflow-x-auto border border-gray-400 bg-white shadow-sm",children:e.jsxs("table",{className:"w-full text-left border-collapse text-sm",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 z-10",children:e.jsxs("tr",{children:[l.map((b,h)=>e.jsx("th",{className:`px-2 py-1.5 border border-gray-400 font-bold text-gray-700 select-none ${b.align==="right"?"text-right":b.align==="center"?"text-center":"text-left"}`,style:{width:b.width},children:b.header},b.accessor||h)),i.length>0&&e.jsx("th",{className:"px-2 py-1.5 border border-gray-400 font-bold text-gray-700 text-center w-24",children:"Actions"})]})}),e.jsxs("tbody",{children:[n.map((b,h)=>{const N=b.readonly||b.locked,v=b.locked,k=b.highlighted;let f="hover:bg-blue-50 transition-colors border-b border-gray-200 group";return k&&(f+=" bg-yellow-50"),v&&(f+=" bg-gray-100 text-gray-500"),u&&(f+=" cursor-pointer"),e.jsxs("tr",{className:f,onClick:()=>u&&u(b),children:[l.map((j,C)=>{const w=b[j.accessor],D=`${b[o]||h}-${j.accessor||C}`;return e.jsx("td",{className:`px-2 py-1.5 border-r border-gray-300 last:border-r-0 ${j.align==="right"?"text-right":j.align==="center"?"text-center":"text-left"}`,children:j.render?j.render(w,b):j.editable&&!N?e.jsx(rj,{value:w,onChange:L=>x&&x(b,j.accessor,L),disabled:v}):e.jsx("span",{className:v?"italic text-gray-500":"",children:w})},D)}),i.length>0&&e.jsx("td",{className:"px-2 py-1.5 border-l border-gray-300 text-center whitespace-nowrap",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:i.map((j,C)=>{if(j.show&&!j.show(b))return null;const w=j.disabled?j.disabled(b):!1;return e.jsx("button",{onClick:D=>{D.stopPropagation(),j.onClick(b)},disabled:w,className:`text-xs font-bold px-2 py-0.5 rounded border shadow-sm transition-all
                                                            ${w?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":j.className||"bg-white border-gray-300 text-blue-600 hover:bg-blue-50 hover:border-blue-400"}`,title:j.title,children:j.label},C)})})})]},b[o]||h)}),n.length<g&&[...Array(g-n.length)].map((b,h)=>e.jsxs("tr",{className:"border-b border-gray-100 bg-white h-8",children:[l.map((N,v)=>e.jsx("td",{className:"px-2 py-1.5 border-r border-gray-200 last:border-r-0",children:""},`empty-cell-${v}`)),i.length>0&&e.jsx("td",{className:"border-l border-gray-300"})]},`empty-${h}`))]})]})});function nh(l,n){return function(){return l.apply(n,arguments)}}const{toString:lj}=Object.prototype,{getPrototypeOf:Fd}=Object,{iterator:_i,toStringTag:ih}=Symbol,Ii=(l=>n=>{const o=lj.call(n);return l[o]||(l[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),ma=l=>(l=l.toLowerCase(),n=>Ii(n)===l),Fi=l=>n=>typeof n===l,{isArray:Ur}=Array,_r=Fi("undefined");function Jl(l){return l!==null&&!_r(l)&&l.constructor!==null&&!_r(l.constructor)&&Rt(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const ch=ma("ArrayBuffer");function nj(l){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(l):n=l&&l.buffer&&ch(l.buffer),n}const ij=Fi("string"),Rt=Fi("function"),oh=Fi("number"),Vl=l=>l!==null&&typeof l=="object",cj=l=>l===!0||l===!1,wi=l=>{if(Ii(l)!=="object")return!1;const n=Fd(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(ih in l)&&!(_i in l)},oj=l=>{if(!Vl(l)||Jl(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},dj=ma("Date"),uj=ma("File"),xj=ma("Blob"),pj=ma("FileList"),mj=l=>Vl(l)&&Rt(l.pipe),hj=l=>{let n;return l&&(typeof FormData=="function"&&l instanceof FormData||Rt(l.append)&&((n=Ii(l))==="formdata"||n==="object"&&Rt(l.toString)&&l.toString()==="[object FormData]"))},bj=ma("URLSearchParams"),[fj,gj,yj,jj]=["ReadableStream","Request","Response","Headers"].map(ma),Nj=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xl(l,n,{allOwnKeys:o=!1}={}){if(l===null||typeof l>"u")return;let i,u;if(typeof l!="object"&&(l=[l]),Ur(l))for(i=0,u=l.length;i<u;i++)n.call(null,l[i],i,l);else{if(Jl(l))return;const x=o?Object.getOwnPropertyNames(l):Object.keys(l),p=x.length;let g;for(i=0;i<p;i++)g=x[i],n.call(null,l[g],g,l)}}function dh(l,n){if(Jl(l))return null;n=n.toLowerCase();const o=Object.keys(l);let i=o.length,u;for(;i-- >0;)if(u=o[i],n===u.toLowerCase())return u;return null}const Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uh=l=>!_r(l)&&l!==Us;function vd(){const{caseless:l,skipUndefined:n}=uh(this)&&this||{},o={},i=(u,x)=>{if(x==="__proto__"||x==="constructor"||x==="prototype")return;const p=l&&dh(o,x)||x;wi(o[p])&&wi(u)?o[p]=vd(o[p],u):wi(u)?o[p]=vd({},u):Ur(u)?o[p]=u.slice():(!n||!_r(u))&&(o[p]=u)};for(let u=0,x=arguments.length;u<x;u++)arguments[u]&&Xl(arguments[u],i);return o}const vj=(l,n,o,{allOwnKeys:i}={})=>(Xl(n,(u,x)=>{o&&Rt(u)?Object.defineProperty(l,x,{value:nh(u,o),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(l,x,{value:u,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),l),wj=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Sj=(l,n,o,i)=>{l.prototype=Object.create(n.prototype,i),Object.defineProperty(l.prototype,"constructor",{value:l,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(l,"super",{value:n.prototype}),o&&Object.assign(l.prototype,o)},kj=(l,n,o,i)=>{let u,x,p;const g={};if(n=n||{},l==null)return n;do{for(u=Object.getOwnPropertyNames(l),x=u.length;x-- >0;)p=u[x],(!i||i(p,l,n))&&!g[p]&&(n[p]=l[p],g[p]=!0);l=o!==!1&&Fd(l)}while(l&&(!o||o(l,n))&&l!==Object.prototype);return n},Ej=(l,n,o)=>{l=String(l),(o===void 0||o>l.length)&&(o=l.length),o-=n.length;const i=l.indexOf(n,o);return i!==-1&&i===o},Cj=l=>{if(!l)return null;if(Ur(l))return l;let n=l.length;if(!oh(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=l[n];return o},Dj=(l=>n=>l&&n instanceof l)(typeof Uint8Array<"u"&&Fd(Uint8Array)),Tj=(l,n)=>{const i=(l&&l[_i]).call(l);let u;for(;(u=i.next())&&!u.done;){const x=u.value;n.call(l,x[0],x[1])}},Aj=(l,n)=>{let o;const i=[];for(;(o=l.exec(n))!==null;)i.push(o);return i},Rj=ma("HTMLFormElement"),zj=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,u){return i.toUpperCase()+u}),om=(({hasOwnProperty:l})=>(n,o)=>l.call(n,o))(Object.prototype),Lj=ma("RegExp"),xh=(l,n)=>{const o=Object.getOwnPropertyDescriptors(l),i={};Xl(o,(u,x)=>{let p;(p=n(u,x,l))!==!1&&(i[x]=p||u)}),Object.defineProperties(l,i)},Oj=l=>{xh(l,(n,o)=>{if(Rt(l)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=l[o];if(Rt(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Mj=(l,n)=>{const o={},i=u=>{u.forEach(x=>{o[x]=!0})};return Ur(l)?i(l):i(String(l).split(n)),o},_j=()=>{},Ij=(l,n)=>l!=null&&Number.isFinite(l=+l)?l:n;function Fj(l){return!!(l&&Rt(l.append)&&l[ih]==="FormData"&&l[_i])}const Bj=l=>{const n=new Array(10),o=(i,u)=>{if(Vl(i)){if(n.indexOf(i)>=0)return;if(Jl(i))return i;if(!("toJSON"in i)){n[u]=i;const x=Ur(i)?[]:{};return Xl(i,(p,g)=>{const b=o(p,u+1);!_r(b)&&(x[g]=b)}),n[u]=void 0,x}}return i};return o(l,0)},Pj=ma("AsyncFunction"),Uj=l=>l&&(Vl(l)||Rt(l))&&Rt(l.then)&&Rt(l.catch),ph=((l,n)=>l?setImmediate:n?((o,i)=>(Us.addEventListener("message",({source:u,data:x})=>{u===Us&&x===o&&i.length&&i.shift()()},!1),u=>{i.push(u),Us.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Rt(Us.postMessage)),Hj=typeof queueMicrotask<"u"?queueMicrotask.bind(Us):typeof process<"u"&&process.nextTick||ph,$j=l=>l!=null&&Rt(l[_i]),Q={isArray:Ur,isArrayBuffer:ch,isBuffer:Jl,isFormData:hj,isArrayBufferView:nj,isString:ij,isNumber:oh,isBoolean:cj,isObject:Vl,isPlainObject:wi,isEmptyObject:oj,isReadableStream:fj,isRequest:gj,isResponse:yj,isHeaders:jj,isUndefined:_r,isDate:dj,isFile:uj,isBlob:xj,isRegExp:Lj,isFunction:Rt,isStream:mj,isURLSearchParams:bj,isTypedArray:Dj,isFileList:pj,forEach:Xl,merge:vd,extend:vj,trim:Nj,stripBOM:wj,inherits:Sj,toFlatObject:kj,kindOf:Ii,kindOfTest:ma,endsWith:Ej,toArray:Cj,forEachEntry:Tj,matchAll:Aj,isHTMLForm:Rj,hasOwnProperty:om,hasOwnProp:om,reduceDescriptors:xh,freezeMethods:Oj,toObjectSet:Mj,toCamelCase:zj,noop:_j,toFiniteNumber:Ij,findKey:dh,global:Us,isContextDefined:uh,isSpecCompliantForm:Fj,toJSONObject:Bj,isAsyncFn:Pj,isThenable:Uj,setImmediate:ph,asap:Hj,isIterable:$j};let je=class mh extends Error{static from(n,o,i,u,x,p){const g=new mh(n.message,o||n.code,i,u,x);return g.cause=n,g.name=n.name,p&&Object.assign(g,p),g}constructor(n,o,i,u,x){super(n),this.name="AxiosError",this.isAxiosError=!0,o&&(this.code=o),i&&(this.config=i),u&&(this.request=u),x&&(this.response=x,this.status=x.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}};je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";je.ERR_BAD_OPTION="ERR_BAD_OPTION";je.ECONNABORTED="ECONNABORTED";je.ETIMEDOUT="ETIMEDOUT";je.ERR_NETWORK="ERR_NETWORK";je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";je.ERR_DEPRECATED="ERR_DEPRECATED";je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";je.ERR_CANCELED="ERR_CANCELED";je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";je.ERR_INVALID_URL="ERR_INVALID_URL";const qj=null;function wd(l){return Q.isPlainObject(l)||Q.isArray(l)}function hh(l){return Q.endsWith(l,"[]")?l.slice(0,-2):l}function dm(l,n,o){return l?l.concat(n).map(function(u,x){return u=hh(u),!o&&x?"["+u+"]":u}).join(o?".":""):n}function Gj(l){return Q.isArray(l)&&!l.some(wd)}const Yj=Q.toFlatObject(Q,{},null,function(n){return/^is[A-Z]/.test(n)});function Bi(l,n,o){if(!Q.isObject(l))throw new TypeError("target must be an object");n=n||new FormData,o=Q.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,w){return!Q.isUndefined(w[C])});const i=o.metaTokens,u=o.visitor||N,x=o.dots,p=o.indexes,b=(o.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(n);if(!Q.isFunction(u))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(Q.isDate(j))return j.toISOString();if(Q.isBoolean(j))return j.toString();if(!b&&Q.isBlob(j))throw new je("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(j)||Q.isTypedArray(j)?b&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function N(j,C,w){let D=j;if(j&&!w&&typeof j=="object"){if(Q.endsWith(C,"{}"))C=i?C:C.slice(0,-2),j=JSON.stringify(j);else if(Q.isArray(j)&&Gj(j)||(Q.isFileList(j)||Q.endsWith(C,"[]"))&&(D=Q.toArray(j)))return C=hh(C),D.forEach(function(A,S){!(Q.isUndefined(A)||A===null)&&n.append(p===!0?dm([C],S,x):p===null?C:C+"[]",h(A))}),!1}return wd(j)?!0:(n.append(dm(w,C,x),h(j)),!1)}const v=[],k=Object.assign(Yj,{defaultVisitor:N,convertValue:h,isVisitable:wd});function f(j,C){if(!Q.isUndefined(j)){if(v.indexOf(j)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(j),Q.forEach(j,function(D,L){(!(Q.isUndefined(D)||D===null)&&u.call(n,D,Q.isString(L)?L.trim():L,C,k))===!0&&f(D,C?C.concat(L):[L])}),v.pop()}}if(!Q.isObject(l))throw new TypeError("data must be an object");return f(l),n}function um(l){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function Bd(l,n){this._pairs=[],l&&Bi(l,this,n)}const bh=Bd.prototype;bh.append=function(n,o){this._pairs.push([n,o])};bh.toString=function(n){const o=n?function(i){return n.call(this,i,um)}:um;return this._pairs.map(function(u){return o(u[0])+"="+o(u[1])},"").join("&")};function Jj(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fh(l,n,o){if(!n)return l;const i=o&&o.encode||Jj,u=Q.isFunction(o)?{serialize:o}:o,x=u&&u.serialize;let p;if(x?p=x(n,u):p=Q.isURLSearchParams(n)?n.toString():new Bd(n,u).toString(i),p){const g=l.indexOf("#");g!==-1&&(l=l.slice(0,g)),l+=(l.indexOf("?")===-1?"?":"&")+p}return l}class xm{constructor(){this.handlers=[]}use(n,o,i){return this.handlers.push({fulfilled:n,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Q.forEach(this.handlers,function(i){i!==null&&n(i)})}}const Pd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Vj=typeof URLSearchParams<"u"?URLSearchParams:Bd,Xj=typeof FormData<"u"?FormData:null,Qj=typeof Blob<"u"?Blob:null,Kj={isBrowser:!0,classes:{URLSearchParams:Vj,FormData:Xj,Blob:Qj},protocols:["http","https","file","blob","url","data"]},Ud=typeof window<"u"&&typeof document<"u",Sd=typeof navigator=="object"&&navigator||void 0,Zj=Ud&&(!Sd||["ReactNative","NativeScript","NS"].indexOf(Sd.product)<0),Wj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eN=Ud&&window.location.href||"http://localhost",tN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ud,hasStandardBrowserEnv:Zj,hasStandardBrowserWebWorkerEnv:Wj,navigator:Sd,origin:eN},Symbol.toStringTag,{value:"Module"})),gt={...tN,...Kj};function aN(l,n){return Bi(l,new gt.classes.URLSearchParams,{visitor:function(o,i,u,x){return gt.isNode&&Q.isBuffer(o)?(this.append(i,o.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)},...n})}function sN(l){return Q.matchAll(/\w+|\[(\w*)]/g,l).map(n=>n[0]==="[]"?"":n[1]||n[0])}function rN(l){const n={},o=Object.keys(l);let i;const u=o.length;let x;for(i=0;i<u;i++)x=o[i],n[x]=l[x];return n}function gh(l){function n(o,i,u,x){let p=o[x++];if(p==="__proto__")return!0;const g=Number.isFinite(+p),b=x>=o.length;return p=!p&&Q.isArray(u)?u.length:p,b?(Q.hasOwnProp(u,p)?u[p]=[u[p],i]:u[p]=i,!g):((!u[p]||!Q.isObject(u[p]))&&(u[p]=[]),n(o,i,u[p],x)&&Q.isArray(u[p])&&(u[p]=rN(u[p])),!g)}if(Q.isFormData(l)&&Q.isFunction(l.entries)){const o={};return Q.forEachEntry(l,(i,u)=>{n(sN(i),u,o,0)}),o}return null}function lN(l,n,o){if(Q.isString(l))try{return(n||JSON.parse)(l),Q.trim(l)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(l)}const Ql={transitional:Pd,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const i=o.getContentType()||"",u=i.indexOf("application/json")>-1,x=Q.isObject(n);if(x&&Q.isHTMLForm(n)&&(n=new FormData(n)),Q.isFormData(n))return u?JSON.stringify(gh(n)):n;if(Q.isArrayBuffer(n)||Q.isBuffer(n)||Q.isStream(n)||Q.isFile(n)||Q.isBlob(n)||Q.isReadableStream(n))return n;if(Q.isArrayBufferView(n))return n.buffer;if(Q.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let g;if(x){if(i.indexOf("application/x-www-form-urlencoded")>-1)return aN(n,this.formSerializer).toString();if((g=Q.isFileList(n))||i.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Bi(g?{"files[]":n}:n,b&&new b,this.formSerializer)}}return x||u?(o.setContentType("application/json",!1),lN(n)):n}],transformResponse:[function(n){const o=this.transitional||Ql.transitional,i=o&&o.forcedJSONParsing,u=this.responseType==="json";if(Q.isResponse(n)||Q.isReadableStream(n))return n;if(n&&Q.isString(n)&&(i&&!this.responseType||u)){const p=!(o&&o.silentJSONParsing)&&u;try{return JSON.parse(n,this.parseReviver)}catch(g){if(p)throw g.name==="SyntaxError"?je.from(g,je.ERR_BAD_RESPONSE,this,null,this.response):g}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],l=>{Ql.headers[l]={}});const nN=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iN=l=>{const n={};let o,i,u;return l&&l.split(`
`).forEach(function(p){u=p.indexOf(":"),o=p.substring(0,u).trim().toLowerCase(),i=p.substring(u+1).trim(),!(!o||n[o]&&nN[o])&&(o==="set-cookie"?n[o]?n[o].push(i):n[o]=[i]:n[o]=n[o]?n[o]+", "+i:i)}),n},pm=Symbol("internals");function Pl(l){return l&&String(l).trim().toLowerCase()}function Si(l){return l===!1||l==null?l:Q.isArray(l)?l.map(Si):String(l)}function cN(l){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(l);)n[i[1]]=i[2];return n}const oN=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function fd(l,n,o,i,u){if(Q.isFunction(i))return i.call(this,n,o);if(u&&(n=o),!!Q.isString(n)){if(Q.isString(i))return n.indexOf(i)!==-1;if(Q.isRegExp(i))return i.test(n)}}function dN(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,i)=>o.toUpperCase()+i)}function uN(l,n){const o=Q.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(l,i+o,{value:function(u,x,p){return this[i].call(this,n,u,x,p)},configurable:!0})})}let zt=class{constructor(n){n&&this.set(n)}set(n,o,i){const u=this;function x(g,b,h){const N=Pl(b);if(!N)throw new Error("header name must be a non-empty string");const v=Q.findKey(u,N);(!v||u[v]===void 0||h===!0||h===void 0&&u[v]!==!1)&&(u[v||b]=Si(g))}const p=(g,b)=>Q.forEach(g,(h,N)=>x(h,N,b));if(Q.isPlainObject(n)||n instanceof this.constructor)p(n,o);else if(Q.isString(n)&&(n=n.trim())&&!oN(n))p(iN(n),o);else if(Q.isObject(n)&&Q.isIterable(n)){let g={},b,h;for(const N of n){if(!Q.isArray(N))throw TypeError("Object iterator must return a key-value pair");g[h=N[0]]=(b=g[h])?Q.isArray(b)?[...b,N[1]]:[b,N[1]]:N[1]}p(g,o)}else n!=null&&x(o,n,i);return this}get(n,o){if(n=Pl(n),n){const i=Q.findKey(this,n);if(i){const u=this[i];if(!o)return u;if(o===!0)return cN(u);if(Q.isFunction(o))return o.call(this,u,i);if(Q.isRegExp(o))return o.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=Pl(n),n){const i=Q.findKey(this,n);return!!(i&&this[i]!==void 0&&(!o||fd(this,this[i],i,o)))}return!1}delete(n,o){const i=this;let u=!1;function x(p){if(p=Pl(p),p){const g=Q.findKey(i,p);g&&(!o||fd(i,i[g],g,o))&&(delete i[g],u=!0)}}return Q.isArray(n)?n.forEach(x):x(n),u}clear(n){const o=Object.keys(this);let i=o.length,u=!1;for(;i--;){const x=o[i];(!n||fd(this,this[x],x,n,!0))&&(delete this[x],u=!0)}return u}normalize(n){const o=this,i={};return Q.forEach(this,(u,x)=>{const p=Q.findKey(i,x);if(p){o[p]=Si(u),delete o[x];return}const g=n?dN(x):String(x).trim();g!==x&&delete o[x],o[g]=Si(u),i[g]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return Q.forEach(this,(i,u)=>{i!=null&&i!==!1&&(o[u]=n&&Q.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const i=new this(n);return o.forEach(u=>i.set(u)),i}static accessor(n){const i=(this[pm]=this[pm]={accessors:{}}).accessors,u=this.prototype;function x(p){const g=Pl(p);i[g]||(uN(u,p),i[g]=!0)}return Q.isArray(n)?n.forEach(x):x(n),this}};zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(zt.prototype,({value:l},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>l,set(i){this[o]=i}}});Q.freezeMethods(zt);function gd(l,n){const o=this||Ql,i=n||o,u=zt.from(i.headers);let x=i.data;return Q.forEach(l,function(g){x=g.call(o,x,u.normalize(),n?n.status:void 0)}),u.normalize(),x}function yh(l){return!!(l&&l.__CANCEL__)}let Kl=class extends je{constructor(n,o,i){super(n??"canceled",je.ERR_CANCELED,o,i),this.name="CanceledError",this.__CANCEL__=!0}};function jh(l,n,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?l(o):n(new je("Request failed with status code "+o.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function xN(l){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return n&&n[1]||""}function pN(l,n){l=l||10;const o=new Array(l),i=new Array(l);let u=0,x=0,p;return n=n!==void 0?n:1e3,function(b){const h=Date.now(),N=i[x];p||(p=h),o[u]=b,i[u]=h;let v=x,k=0;for(;v!==u;)k+=o[v++],v=v%l;if(u=(u+1)%l,u===x&&(x=(x+1)%l),h-p<n)return;const f=N&&h-N;return f?Math.round(k*1e3/f):void 0}}function mN(l,n){let o=0,i=1e3/n,u,x;const p=(h,N=Date.now())=>{o=N,u=null,x&&(clearTimeout(x),x=null),l(...h)};return[(...h)=>{const N=Date.now(),v=N-o;v>=i?p(h,N):(u=h,x||(x=setTimeout(()=>{x=null,p(u)},i-v)))},()=>u&&p(u)]}const Di=(l,n,o=3)=>{let i=0;const u=pN(50,250);return mN(x=>{const p=x.loaded,g=x.lengthComputable?x.total:void 0,b=p-i,h=u(b),N=p<=g;i=p;const v={loaded:p,total:g,progress:g?p/g:void 0,bytes:b,rate:h||void 0,estimated:h&&g&&N?(g-p)/h:void 0,event:x,lengthComputable:g!=null,[n?"download":"upload"]:!0};l(v)},o)},mm=(l,n)=>{const o=l!=null;return[i=>n[0]({lengthComputable:o,total:l,loaded:i}),n[1]]},hm=l=>(...n)=>Q.asap(()=>l(...n)),hN=gt.hasStandardBrowserEnv?((l,n)=>o=>(o=new URL(o,gt.origin),l.protocol===o.protocol&&l.host===o.host&&(n||l.port===o.port)))(new URL(gt.origin),gt.navigator&&/(msie|trident)/i.test(gt.navigator.userAgent)):()=>!0,bN=gt.hasStandardBrowserEnv?{write(l,n,o,i,u,x,p){if(typeof document>"u")return;const g=[`${l}=${encodeURIComponent(n)}`];Q.isNumber(o)&&g.push(`expires=${new Date(o).toUTCString()}`),Q.isString(i)&&g.push(`path=${i}`),Q.isString(u)&&g.push(`domain=${u}`),x===!0&&g.push("secure"),Q.isString(p)&&g.push(`SameSite=${p}`),document.cookie=g.join("; ")},read(l){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fN(l){return typeof l!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function gN(l,n){return n?l.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):l}function Nh(l,n,o){let i=!fN(n);return l&&(i||o==!1)?gN(l,n):n}const bm=l=>l instanceof zt?{...l}:l;function Gs(l,n){n=n||{};const o={};function i(h,N,v,k){return Q.isPlainObject(h)&&Q.isPlainObject(N)?Q.merge.call({caseless:k},h,N):Q.isPlainObject(N)?Q.merge({},N):Q.isArray(N)?N.slice():N}function u(h,N,v,k){if(Q.isUndefined(N)){if(!Q.isUndefined(h))return i(void 0,h,v,k)}else return i(h,N,v,k)}function x(h,N){if(!Q.isUndefined(N))return i(void 0,N)}function p(h,N){if(Q.isUndefined(N)){if(!Q.isUndefined(h))return i(void 0,h)}else return i(void 0,N)}function g(h,N,v){if(v in n)return i(h,N);if(v in l)return i(void 0,h)}const b={url:x,method:x,data:x,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:g,headers:(h,N,v)=>u(bm(h),bm(N),v,!0)};return Q.forEach(Object.keys({...l,...n}),function(N){if(N==="__proto__"||N==="constructor"||N==="prototype")return;const v=Q.hasOwnProp(b,N)?b[N]:u,k=v(l[N],n[N],N);Q.isUndefined(k)&&v!==g||(o[N]=k)}),o}const vh=l=>{const n=Gs({},l);let{data:o,withXSRFToken:i,xsrfHeaderName:u,xsrfCookieName:x,headers:p,auth:g}=n;if(n.headers=p=zt.from(p),n.url=fh(Nh(n.baseURL,n.url,n.allowAbsoluteUrls),l.params,l.paramsSerializer),g&&p.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Q.isFormData(o)){if(gt.hasStandardBrowserEnv||gt.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(Q.isFunction(o.getHeaders)){const b=o.getHeaders(),h=["content-type","content-length"];Object.entries(b).forEach(([N,v])=>{h.includes(N.toLowerCase())&&p.set(N,v)})}}if(gt.hasStandardBrowserEnv&&(i&&Q.isFunction(i)&&(i=i(n)),i||i!==!1&&hN(n.url))){const b=u&&x&&bN.read(x);b&&p.set(u,b)}return n},yN=typeof XMLHttpRequest<"u",jN=yN&&function(l){return new Promise(function(o,i){const u=vh(l);let x=u.data;const p=zt.from(u.headers).normalize();let{responseType:g,onUploadProgress:b,onDownloadProgress:h}=u,N,v,k,f,j;function C(){f&&f(),j&&j(),u.cancelToken&&u.cancelToken.unsubscribe(N),u.signal&&u.signal.removeEventListener("abort",N)}let w=new XMLHttpRequest;w.open(u.method.toUpperCase(),u.url,!0),w.timeout=u.timeout;function D(){if(!w)return;const A=zt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!g||g==="text"||g==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:l,request:w};jh(function(E){o(E),C()},function(E){i(E),C()},_),w=null}"onloadend"in w?w.onloadend=D:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(D)},w.onabort=function(){w&&(i(new je("Request aborted",je.ECONNABORTED,l,w)),w=null)},w.onerror=function(S){const _=S&&S.message?S.message:"Network Error",B=new je(_,je.ERR_NETWORK,l,w);B.event=S||null,i(B),w=null},w.ontimeout=function(){let S=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const _=u.transitional||Pd;u.timeoutErrorMessage&&(S=u.timeoutErrorMessage),i(new je(S,_.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,l,w)),w=null},x===void 0&&p.setContentType(null),"setRequestHeader"in w&&Q.forEach(p.toJSON(),function(S,_){w.setRequestHeader(_,S)}),Q.isUndefined(u.withCredentials)||(w.withCredentials=!!u.withCredentials),g&&g!=="json"&&(w.responseType=u.responseType),h&&([k,j]=Di(h,!0),w.addEventListener("progress",k)),b&&w.upload&&([v,f]=Di(b),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",f)),(u.cancelToken||u.signal)&&(N=A=>{w&&(i(!A||A.type?new Kl(null,l,w):A),w.abort(),w=null)},u.cancelToken&&u.cancelToken.subscribe(N),u.signal&&(u.signal.aborted?N():u.signal.addEventListener("abort",N)));const L=xN(u.url);if(L&&gt.protocols.indexOf(L)===-1){i(new je("Unsupported protocol "+L+":",je.ERR_BAD_REQUEST,l));return}w.send(x||null)})},NN=(l,n)=>{const{length:o}=l=l?l.filter(Boolean):[];if(n||o){let i=new AbortController,u;const x=function(h){if(!u){u=!0,g();const N=h instanceof Error?h:this.reason;i.abort(N instanceof je?N:new Kl(N instanceof Error?N.message:N))}};let p=n&&setTimeout(()=>{p=null,x(new je(`timeout of ${n}ms exceeded`,je.ETIMEDOUT))},n);const g=()=>{l&&(p&&clearTimeout(p),p=null,l.forEach(h=>{h.unsubscribe?h.unsubscribe(x):h.removeEventListener("abort",x)}),l=null)};l.forEach(h=>h.addEventListener("abort",x));const{signal:b}=i;return b.unsubscribe=()=>Q.asap(g),b}},vN=function*(l,n){let o=l.byteLength;if(o<n){yield l;return}let i=0,u;for(;i<o;)u=i+n,yield l.slice(i,u),i=u},wN=async function*(l,n){for await(const o of SN(l))yield*vN(o,n)},SN=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const n=l.getReader();try{for(;;){const{done:o,value:i}=await n.read();if(o)break;yield i}}finally{await n.cancel()}},fm=(l,n,o,i)=>{const u=wN(l,n);let x=0,p,g=b=>{p||(p=!0,i&&i(b))};return new ReadableStream({async pull(b){try{const{done:h,value:N}=await u.next();if(h){g(),b.close();return}let v=N.byteLength;if(o){let k=x+=v;o(k)}b.enqueue(new Uint8Array(N))}catch(h){throw g(h),h}},cancel(b){return g(b),u.return()}},{highWaterMark:2})},gm=64*1024,{isFunction:yi}=Q,kN=(({Request:l,Response:n})=>({Request:l,Response:n}))(Q.global),{ReadableStream:ym,TextEncoder:jm}=Q.global,Nm=(l,...n)=>{try{return!!l(...n)}catch{return!1}},EN=l=>{l=Q.merge.call({skipUndefined:!0},kN,l);const{fetch:n,Request:o,Response:i}=l,u=n?yi(n):typeof fetch=="function",x=yi(o),p=yi(i);if(!u)return!1;const g=u&&yi(ym),b=u&&(typeof jm=="function"?(j=>C=>j.encode(C))(new jm):async j=>new Uint8Array(await new o(j).arrayBuffer())),h=x&&g&&Nm(()=>{let j=!1;const C=new o(gt.origin,{body:new ym,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!C}),N=p&&g&&Nm(()=>Q.isReadableStream(new i("").body)),v={stream:N&&(j=>j.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!v[j]&&(v[j]=(C,w)=>{let D=C&&C[j];if(D)return D.call(C);throw new je(`Response type '${j}' is not supported`,je.ERR_NOT_SUPPORT,w)})});const k=async j=>{if(j==null)return 0;if(Q.isBlob(j))return j.size;if(Q.isSpecCompliantForm(j))return(await new o(gt.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(j)||Q.isArrayBuffer(j))return j.byteLength;if(Q.isURLSearchParams(j)&&(j=j+""),Q.isString(j))return(await b(j)).byteLength},f=async(j,C)=>{const w=Q.toFiniteNumber(j.getContentLength());return w??k(C)};return async j=>{let{url:C,method:w,data:D,signal:L,cancelToken:A,timeout:S,onDownloadProgress:_,onUploadProgress:B,responseType:E,headers:R,withCredentials:O="same-origin",fetchOptions:F}=vh(j),M=n||fetch;E=E?(E+"").toLowerCase():"text";let $=NN([L,A&&A.toAbortSignal()],S),T=null;const q=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ce;try{if(B&&h&&w!=="get"&&w!=="head"&&(ce=await f(R,D))!==0){let P=new o(C,{method:"POST",body:D,duplex:"half"}),Z;if(Q.isFormData(D)&&(Z=P.headers.get("content-type"))&&R.setContentType(Z),P.body){const[oe,ue]=mm(ce,Di(hm(B)));D=fm(P.body,gm,oe,ue)}}Q.isString(O)||(O=O?"include":"omit");const I=x&&"credentials"in o.prototype,W={...F,signal:$,method:w.toUpperCase(),headers:R.normalize().toJSON(),body:D,duplex:"half",credentials:I?O:void 0};T=x&&new o(C,W);let de=await(x?M(T,F):M(C,W));const ne=N&&(E==="stream"||E==="response");if(N&&(_||ne&&q)){const P={};["status","statusText","headers"].forEach(he=>{P[he]=de[he]});const Z=Q.toFiniteNumber(de.headers.get("content-length")),[oe,ue]=_&&mm(Z,Di(hm(_),!0))||[];de=new i(fm(de.body,gm,oe,()=>{ue&&ue(),q&&q()}),P)}E=E||"text";let ee=await v[Q.findKey(v,E)||"text"](de,j);return!ne&&q&&q(),await new Promise((P,Z)=>{jh(P,Z,{data:ee,headers:zt.from(de.headers),status:de.status,statusText:de.statusText,config:j,request:T})})}catch(I){throw q&&q(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,j,T,I&&I.response),{cause:I.cause||I}):je.from(I,I&&I.code,j,T,I&&I.response)}}},CN=new Map,wh=l=>{let n=l&&l.env||{};const{fetch:o,Request:i,Response:u}=n,x=[i,u,o];let p=x.length,g=p,b,h,N=CN;for(;g--;)b=x[g],h=N.get(b),h===void 0&&N.set(b,h=g?new Map:EN(n)),N=h;return h};wh();const Hd={http:qj,xhr:jN,fetch:{get:wh}};Q.forEach(Hd,(l,n)=>{if(l){try{Object.defineProperty(l,"name",{value:n})}catch{}Object.defineProperty(l,"adapterName",{value:n})}});const vm=l=>`- ${l}`,DN=l=>Q.isFunction(l)||l===null||l===!1;function TN(l,n){l=Q.isArray(l)?l:[l];const{length:o}=l;let i,u;const x={};for(let p=0;p<o;p++){i=l[p];let g;if(u=i,!DN(i)&&(u=Hd[(g=String(i)).toLowerCase()],u===void 0))throw new je(`Unknown adapter '${g}'`);if(u&&(Q.isFunction(u)||(u=u.get(n))))break;x[g||"#"+p]=u}if(!u){const p=Object.entries(x).map(([b,h])=>`adapter ${b} `+(h===!1?"is not supported by the environment":"is not available in the build"));let g=o?p.length>1?`since :
`+p.map(vm).join(`
`):" "+vm(p[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return u}const Sh={getAdapter:TN,adapters:Hd};function yd(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new Kl(null,l)}function wm(l){return yd(l),l.headers=zt.from(l.headers),l.data=gd.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),Sh.getAdapter(l.adapter||Ql.adapter,l)(l).then(function(i){return yd(l),i.data=gd.call(l,l.transformResponse,i),i.headers=zt.from(i.headers),i},function(i){return yh(i)||(yd(l),i&&i.response&&(i.response.data=gd.call(l,l.transformResponse,i.response),i.response.headers=zt.from(i.response.headers))),Promise.reject(i)})}const kh="1.13.5",Pi={};["object","boolean","number","function","string","symbol"].forEach((l,n)=>{Pi[l]=function(i){return typeof i===l||"a"+(n<1?"n ":" ")+l}});const Sm={};Pi.transitional=function(n,o,i){function u(x,p){return"[Axios v"+kh+"] Transitional option '"+x+"'"+p+(i?". "+i:"")}return(x,p,g)=>{if(n===!1)throw new je(u(p," has been removed"+(o?" in "+o:"")),je.ERR_DEPRECATED);return o&&!Sm[p]&&(Sm[p]=!0,console.warn(u(p," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(x,p,g):!0}};Pi.spelling=function(n){return(o,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function AN(l,n,o){if(typeof l!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const i=Object.keys(l);let u=i.length;for(;u-- >0;){const x=i[u],p=n[x];if(p){const g=l[x],b=g===void 0||p(g,x,l);if(b!==!0)throw new je("option "+x+" must be "+b,je.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new je("Unknown option "+x,je.ERR_BAD_OPTION)}}const ki={assertOptions:AN,validators:Pi},ra=ki.validators;let Hs=class{constructor(n){this.defaults=n||{},this.interceptors={request:new xm,response:new xm}}async request(n,o){try{return await this._request(n,o)}catch(i){if(i instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const x=u.stack?u.stack.replace(/^.+\n/,""):"";try{i.stack?x&&!String(i.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+x):i.stack=x}catch{}}throw i}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=Gs(this.defaults,o);const{transitional:i,paramsSerializer:u,headers:x}=o;i!==void 0&&ki.assertOptions(i,{silentJSONParsing:ra.transitional(ra.boolean),forcedJSONParsing:ra.transitional(ra.boolean),clarifyTimeoutError:ra.transitional(ra.boolean),legacyInterceptorReqResOrdering:ra.transitional(ra.boolean)},!1),u!=null&&(Q.isFunction(u)?o.paramsSerializer={serialize:u}:ki.assertOptions(u,{encode:ra.function,serialize:ra.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),ki.assertOptions(o,{baseUrl:ra.spelling("baseURL"),withXsrfToken:ra.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let p=x&&Q.merge(x.common,x[o.method]);x&&Q.forEach(["delete","get","head","post","put","patch","common"],j=>{delete x[j]}),o.headers=zt.concat(p,x);const g=[];let b=!0;this.interceptors.request.forEach(function(C){if(typeof C.runWhen=="function"&&C.runWhen(o)===!1)return;b=b&&C.synchronous;const w=o.transitional||Pd;w&&w.legacyInterceptorReqResOrdering?g.unshift(C.fulfilled,C.rejected):g.push(C.fulfilled,C.rejected)});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let N,v=0,k;if(!b){const j=[wm.bind(this),void 0];for(j.unshift(...g),j.push(...h),k=j.length,N=Promise.resolve(o);v<k;)N=N.then(j[v++],j[v++]);return N}k=g.length;let f=o;for(;v<k;){const j=g[v++],C=g[v++];try{f=j(f)}catch(w){C.call(this,w);break}}try{N=wm.call(this,f)}catch(j){return Promise.reject(j)}for(v=0,k=h.length;v<k;)N=N.then(h[v++],h[v++]);return N}getUri(n){n=Gs(this.defaults,n);const o=Nh(n.baseURL,n.url,n.allowAbsoluteUrls);return fh(o,n.params,n.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(n){Hs.prototype[n]=function(o,i){return this.request(Gs(i||{},{method:n,url:o,data:(i||{}).data}))}});Q.forEach(["post","put","patch"],function(n){function o(i){return function(x,p,g){return this.request(Gs(g||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:x,data:p}))}}Hs.prototype[n]=o(),Hs.prototype[n+"Form"]=o(!0)});let RN=class Eh{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(x){o=x});const i=this;this.promise.then(u=>{if(!i._listeners)return;let x=i._listeners.length;for(;x-- >0;)i._listeners[x](u);i._listeners=null}),this.promise.then=u=>{let x;const p=new Promise(g=>{i.subscribe(g),x=g}).then(u);return p.cancel=function(){i.unsubscribe(x)},p},n(function(x,p,g){i.reason||(i.reason=new Kl(x,p,g),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const n=new AbortController,o=i=>{n.abort(i)};return this.subscribe(o),n.signal.unsubscribe=()=>this.unsubscribe(o),n.signal}static source(){let n;return{token:new Eh(function(u){n=u}),cancel:n}}};function zN(l){return function(o){return l.apply(null,o)}}function LN(l){return Q.isObject(l)&&l.isAxiosError===!0}const kd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kd).forEach(([l,n])=>{kd[n]=l});function Ch(l){const n=new Hs(l),o=nh(Hs.prototype.request,n);return Q.extend(o,Hs.prototype,n,{allOwnKeys:!0}),Q.extend(o,n,null,{allOwnKeys:!0}),o.create=function(u){return Ch(Gs(l,u))},o}const Qe=Ch(Ql);Qe.Axios=Hs;Qe.CanceledError=Kl;Qe.CancelToken=RN;Qe.isCancel=yh;Qe.VERSION=kh;Qe.toFormData=Bi;Qe.AxiosError=je;Qe.Cancel=Qe.CanceledError;Qe.all=function(n){return Promise.all(n)};Qe.spread=zN;Qe.isAxiosError=LN;Qe.mergeConfig=Gs;Qe.AxiosHeaders=zt;Qe.formToJSON=l=>gh(Q.isHTMLForm(l)?new FormData(l):l);Qe.getAdapter=Sh.getAdapter;Qe.HttpStatusCode=kd;Qe.default=Qe;const{Axios:Mw,AxiosError:_w,CanceledError:Iw,isCancel:Fw,CancelToken:Bw,VERSION:Pw,all:Uw,Cancel:Hw,isAxiosError:$w,spread:qw,toFormData:Gw,AxiosHeaders:Yw,HttpStatusCode:Jw,formToJSON:Vw,getAdapter:Xw,mergeConfig:Qw}=Qe,Dh="https://hrmbackend-production-6b56.up.railway.app/api",le=Qe.create({baseURL:Dh,headers:{"Content-Type":"application/json"}});le.interceptors.request.use(l=>{const n=localStorage.getItem("accessToken");return n&&(l.headers.Authorization=`Bearer ${n}`),l},l=>Promise.reject(l));le.interceptors.response.use(l=>l.data,async l=>{const n=l.config;if(l.response?.status===401&&!n._retry&&!n.url.includes("/auth/login")){n._retry=!0;try{const o=localStorage.getItem("refreshToken");if(!o)throw new Error("No refresh token");const i=await Qe.post(`${Dh}/auth/refresh-token`,{refreshToken:o}),{accessToken:u}=i.data.data;return localStorage.setItem("accessToken",u),n.headers.Authorization=`Bearer ${u}`,le(n)}catch(o){return localStorage.clear(),window.location.href="/",Promise.reject(o)}}return Promise.reject(l.response?.data||l)});const X={login:async(l,n)=>{try{const o=await le.post("/auth/login",{email:l,password:n});return o.success&&(localStorage.setItem("accessToken",o.data.accessToken),localStorage.setItem("refreshToken",o.data.refreshToken),localStorage.setItem("currentUser",JSON.stringify(o.data.user))),o}catch(o){return{success:!1,message:o.message||"Login failed"}}},logout:async()=>{try{const l=localStorage.getItem("refreshToken");await le.post("/auth/logout",{refreshToken:l})}catch(l){console.error("Logout failed",l)}finally{localStorage.clear()}},fetchSessions:async()=>le.get("/auth/sessions"),terminateSessions:async l=>le.post("/auth/terminate-sessions",{currentRefreshToken:l}),fetchCompanies:async()=>le.get("/companies"),createCompany:async l=>le.post("/companies",l),updateCompany:async(l,n)=>le.put(`/companies/${l}`,n),fetchEmployees:async l=>le.get(`/employees?companyId=${l}`),createEmployee:async l=>le.post("/employees",l),updateEmployee:async(l,n)=>le.put(`/employees/${l}`,n),bulkUpdateEmployees:async l=>le.put("/employees/bulk-update",l),deleteEmployee:async l=>le.delete(`/employees/${l}`),fetchAdminStats:async l=>{const n=l?`?companyId=${l}`:"";return le.get(`/dashboard/admin-stats${n}`)},fetchAuditLogs:async(l=10)=>le.get(`/audit?limit=${l}`),fetchLiveAttendance:async l=>{const n=l?`?companyId=${l}`:"";return le.get(`/attendance/live${n}`)},fetchAttendance:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/attendance?${n}`)},createAttendance:async l=>le.post("/attendance",l),updateAttendance:async(l,n)=>le.put(`/attendance/${l}`,n),deleteAttendance:async l=>le.delete(`/attendance/${l}`),fetchLeaves:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/leaves?${n}`)},createLeave:async l=>le.post("/leaves",l),updateLeave:async(l,n)=>le.put(`/leaves/${l}`,n),deleteLeave:async l=>le.delete(`/leaves/${l}`),fetchPayrolls:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/payrolls?${n}`)},createPayroll:async l=>le.post("/payrolls",l),updatePayroll:async(l,n)=>le.put(`/payrolls/${l}`,n),deletePayroll:async l=>le.delete(`/payrolls/${l}`),fetchPayrollBatches:async l=>le.get(`/payrolls/batches?companyId=${l}`),generatePayrolls:async l=>le.post("/payrolls/generate",l),finalizeBatch:async l=>le.post("/payrolls/finalize",l),syncPayrolls:async l=>le.post("/payrolls/sync",l),sendPayslipEmail:async l=>le.post(`/payrolls/${l}/email`),bulkSendEmails:async l=>le.post("/payrolls/bulk-email",l),fetchDepartments:async l=>le.get(`/departments?companyId=${l}`),fetchUserProfile:async()=>le.get("/users/me"),updateWindowPreferences:async l=>le.put("/users/preferences",{windowPreferences:l}),fetchTransactions:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/transactions?${n}`)},fetchTransaction:async l=>le.get(`/transactions/${l}`),createTransaction:async l=>le.post("/transactions",l),updateTransaction:async(l,n)=>le.put(`/transactions/${l}`,n),deleteTransaction:async l=>le.delete(`/transactions/${l}`),bulkCreateTransactions:async l=>le.post("/transactions/bulk",l),postTransactions:async l=>le.post("/transactions/post",l),voidTransaction:async(l,n)=>le.post(`/transactions/${l}/void`,n),fetchTransactionRegister:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/transactions/register?${n}`)},fetchCheques:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/cheques?${n}`)},fetchCheque:async l=>le.get(`/cheques/${l}`),createCheque:async l=>le.post("/cheques",l),updateCheque:async(l,n)=>le.put(`/cheques/${l}`,n),deleteCheque:async l=>le.delete(`/cheques/${l}`),printCheques:async l=>le.post("/cheques/print",l),voidCheque:async(l,n)=>le.post(`/cheques/${l}/void`,n),fetchChequeHistory:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/cheques/history?${n}`)},fetchBankTransfers:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/bank-transfers?${n}`)},fetchBankTransfer:async l=>le.get(`/bank-transfers/${l}`),createBankTransfer:async l=>le.post("/bank-transfers",l),updateBankTransfer:async(l,n)=>le.put(`/bank-transfers/${l}`,n),deleteBankTransfer:async l=>le.delete(`/bank-transfers/${l}`),createBatchTransfer:async l=>le.post("/bank-transfers/batch",l),processBankTransfers:async l=>le.post("/bank-transfers/process",l),exportBankFile:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/bank-transfers/export?${n}`)},fetchAdvancePayments:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/advance-payments?${n}`)},fetchAdvancePayment:async l=>le.get(`/advance-payments/${l}`),createAdvancePayment:async l=>le.post("/advance-payments",l),updateAdvancePayment:async(l,n)=>le.put(`/advance-payments/${l}`,n),deleteAdvancePayment:async l=>le.delete(`/advance-payments/${l}`),approveAdvancePayment:async(l,n)=>le.post(`/advance-payments/${l}/approve`,n),rejectAdvancePayment:async(l,n)=>le.post(`/advance-payments/${l}/reject`,n),markAdvancePaymentAsPaid:async(l,n)=>le.post(`/advance-payments/${l}/paid`,n),fetchAdvancePaymentSummary:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/advance-payments/summary?${n}`)},fetchProcessingStatus:async l=>{const n=l?`?${new URLSearchParams(l).toString()}`:"";return le.get(`/processing/status${n}`)},startProcess:async l=>le.post("/processing/start",l),updateProcessProgress:async(l,n)=>le.put(`/processing/${l}`,n),fetchProcessingLogs:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/processing/logs?${n}`)},fetchProcessingLog:async l=>le.get(`/processing/${l}`),cleanupOldLogs:async l=>le.delete("/processing/cleanup",l),fetchProcessingStatistics:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/processing/statistics?${n}`)},calculateRedundancy:async l=>le.post("/redundancies/calculate",l),fetchRedundancies:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/redundancies?${n}`)},fetchRedundancy:async l=>le.get(`/redundancies/${l}`),createRedundancy:async l=>le.post("/redundancies",l),updateRedundancyStatus:async(l,n)=>le.put(`/redundancies/${l}/status`,n),deleteRedundancy:async l=>le.delete(`/redundancies/${l}`),fetchBankAccounts:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/bank-accounts?${n}`)},createBankAccount:async l=>le.post("/bank-accounts",l),updateBankAccount:async(l,n)=>le.put(`/bank-accounts/${l}`,n),deleteBankAccount:async l=>le.delete(`/bank-accounts/${l}`),exportMasterData:async l=>{const n=l?`?companyId=${l}`:"";return le.get(`/files/export${n}`)},importMasterData:async l=>{const n=new FormData;return n.append("file",l),le.post("/files/import",n,{headers:{"Content-Type":"multipart/form-data"}})},createSystemBackup:async()=>le.post("/files/backup"),restoreSystemBackup:async l=>{const n=new FormData;return n.append("file",l),le.post("/files/restore",n,{headers:{"Content-Type":"multipart/form-data"}})},fetchBackupLogs:async()=>le.get("/files/logs"),downloadBackupFile:l=>`${le.defaults.baseURL}/files/download/${l}`,fetchGangs:async l=>le.get(`/gang-shift/gangs?companyId=${l}`),fetchGangShiftAssignments:async l=>{const n=new URLSearchParams(l).toString();return le.get(`/gang-shift/assignments?${n}`)},saveGangShiftAssignments:async l=>le.post("/gang-shift/assignments",l),bulkUpdateEmployees:l=>le.put("/employees/bulk-update",l),fetchSalesShares:(l,n)=>le.get(`/sales-share?companyId=${l}&period=${n}`),saveSalesShares:l=>le.post("/sales-share",l),fetchSystemSettings:async()=>le.get("/system-settings"),updateSystemSettings:async l=>le.put("/system-settings",{settings:l}),getTransactionCodes:l=>le.get(`/transaction-codes${l!==void 0?`?isActive=${l}`:""}`),createTransactionCode:l=>le.post("/transaction-codes",l),updateTransactionCode:(l,n)=>le.put(`/transaction-codes/${l}`,n),deleteTransactionCode:l=>le.delete(`/transaction-codes/${l}`)},ON=()=>{const[l,n]=m.useState([]),[o,i]=m.useState(!0),u=[{header:"ID",accessor:"id"},{header:"Party Name",accessor:"name"},{header:"City",accessor:"city"},{header:"Balance",accessor:"balance"}];return m.useEffect(()=>{X.fetchParties().then(x=>{n(x),i(!1)})},[]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] pr-12 pb-1",children:"Party Master"}),e.jsx("button",{className:"bg-[#0055E5] text-white px-4 py-1.5 font-bold hover:bg-blue-700 shadow-md",children:"Add New Party"})]}),o?e.jsx("div",{className:"p-10 text-center animate-pulse text-blue-800 font-bold",children:"Loading records..."}):e.jsx(lh,{columns:u,data:l,actions:[{label:"Edit",onClick:x=>console.log("Edit party",x)}]})]})},MN=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Item Master"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Item Configuration and Stock Management"})]}),_N=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Ledger Master"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Account Ledgers and Financial Groups"})]}),km=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Sales Entry"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-4 md:p-20 text-center text-gray-500 font-bold",children:"Invoicing and Billing Module"})]}),IN=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Purchase Entry"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Purchase Orders and Vouchers"})]}),FN=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Payment Entry"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Cash and Bank Payments"})]}),BN=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Ledger Report"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Detailed Account Statement"})]}),PN=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Trial Balance"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Summary of All Ledgers"})]}),UN=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#0055E5] border-b-2 border-[#0055E5] inline-block pr-12 pb-1 mb-4",children:"Profit & Loss Statement"}),e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-20 text-center text-gray-500 font-bold",children:"Financial Performance Analysis"})]});const HN=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$N=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,i)=>i?i.toUpperCase():o.toLowerCase()),Em=l=>{const n=$N(l);return n.charAt(0).toUpperCase()+n.slice(1)},Th=(...l)=>l.filter((n,o,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===o).join(" ").trim(),qN=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var GN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YN=m.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:u="",children:x,iconNode:p,...g},b)=>m.createElement("svg",{ref:b,...GN,width:n,height:n,stroke:l,strokeWidth:i?Number(o)*24/Number(n):o,className:Th("lucide",u),...!x&&!qN(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,N])=>m.createElement(h,N)),...Array.isArray(x)?x:[x]]));const ie=(l,n)=>{const o=m.forwardRef(({className:i,...u},x)=>m.createElement(YN,{ref:x,iconNode:n,className:Th(`lucide-${HN(Em(l))}`,`lucide-${l}`,i),...u}));return o.displayName=Em(l),o};const JN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qa=ie("activity",JN);const VN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$d=ie("arrow-left",VN);const XN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ys=ie("arrow-right",XN);const QN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KN=ie("award",QN);const ZN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],WN=ie("bell",ZN);const e1=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],t1=ie("book",e1);const a1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ah=ie("briefcase",a1);const s1=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ed=ie("building",s1);const r1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$s=ie("calculator",r1);const l1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ha=ie("calendar",l1);const n1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],i1=ie("chart-column",n1);const c1=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Rh=ie("chart-pie",c1);const o1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zh=ie("check",o1);const d1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ys=ie("chevron-down",d1);const u1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Lh=ie("chevron-left",u1);const x1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ga=ie("chevron-right",x1);const p1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],js=ie("circle-alert",p1);const m1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=ie("circle-check-big",m1);const h1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jt=ie("circle-check",h1);const b1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oh=ie("circle-question-mark",b1);const f1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cm=ie("circle-x",f1);const g1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ti=ie("clock",g1);const y1=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],j1=ie("cog",y1);const N1=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cd=ie("cpu",N1);const v1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ui=ie("credit-card",v1);const w1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xa=ie("database",w1);const S1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pa=ie("dollar-sign",S1);const k1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],He=ie("download",k1);const E1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],C1=ie("external-link",E1);const D1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hi=ie("eye",D1);const T1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Dm=ie("file-check",T1);const A1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],R1=ie("file-code",A1);const z1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L1=ie("file-exclamation-point",z1);const O1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Dd=ie("file-spreadsheet",O1);const M1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ne=ie("file-text",M1);const _1=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],qd=ie("folder",_1);const I1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Hr=ie("funnel",I1);const F1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Mh=ie("globe",F1);const B1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_h=ie("grid-3x3",B1);const P1=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],U1=ie("hammer",P1);const H1=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Ih=ie("hard-drive",H1);const $1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ei=ie("history",$1);const q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fh=ie("info",q1);const G1=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Ya=ie("landmark",G1);const Y1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],J1=ie("layers",Y1);const V1=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],Bh=ie("list-filter",V1);const X1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ge=ie("loader-circle",X1);const Q1=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],K1=ie("loader",Q1);const Z1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ai=ie("lock",Z1);const W1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ee=ie("log-out",W1);const ev=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ph=ie("mail",ev);const tv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],av=ie("menu",tv);const sv=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Tm=ie("message-square",sv);const rv=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],lv=ie("minimize",rv);const nv=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Uh=ie("monitor",nv);const iv=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Zl=ie("octagon-alert",iv);const cv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Ri=ie("panels-top-left",cv);const ov=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],dv=ie("pause",ov);const uv=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xv=ie("pen-line",uv);const pv=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mv=ie("phone",pv);const hv=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Gd=ie("play",hv);const bv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ns=ie("plus",bv);const fv=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],_e=ie("printer",fv);const gv=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],yv=ie("receipt",gv);const jv=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Nv=ie("refresh-ccw",jv);const vv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yt=ie("refresh-cw",vv);const wv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zi=ie("rotate-ccw",wv);const Sv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ot=ie("save",Sv);const kv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ke=ie("search",kv);const Ev=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ha=ie("send",Ev);const Cv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],la=ie("settings",Cv);const Dv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ba=ie("shield-alert",Dv);const Tv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],it=ie("shield-check",Tv);const Av=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$l=ie("shield",Av);const Rv=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],zv=ie("smartphone",Rv);const Lv=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ir=ie("square-check-big",Lv);const Ov=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hh=ie("square-pen",Ov);const Mv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Li=ie("square",Mv);const _v=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Iv=ie("tag",_v);const Fv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$r=ie("trash-2",Fv);const Bv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ia=ie("triangle-alert",Bv);const Pv=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Uv=ie("type",Pv);const Hv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ql=ie("upload",Hv);const $v=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qv=ie("user-check",$v);const Gv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Td=ie("user-minus",Gv);const Yv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mt=ie("user",Yv);const Jv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qs=ie("users",Jv);const Vv=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Am=ie("wand-sparkles",Vv);const Xv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tt=ie("x",Xv);const Qv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Kv=ie("zoom-in",Qv);const Zv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Wv=ie("zoom-out",Zv),e2=()=>{const l=xe(),[n,o]=m.useState("General"),[i,u]=m.useState(!0),[x,p]=m.useState(!1),[g,b]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[h,N]=m.useState({companyName:"",abbrv:"",trn:"",nisNumber:"",address:"",phone:"",email:"",website:"",sector:"Private",currency:"JMD",fiscalYearStart:"January",incomeTaxThreshold:"1500000",nisRateEE:"3.0",nisRateER:"3.0",nhtRateEE:"2.0",nhtRateER:"3.0",educationTaxEE:"2.25",educationTaxER:"3.5",incomeTaxRate:"25.0",highIncomeTaxRate:"30.0",highIncomeThreshold:"6000000",autoEmailSlips:!0,passwordProtectSlips:!0,payslipPasswordType:"TRN",roundNetPay:!0});m.useEffect(()=>{(async()=>{if(g.id)try{p(!0);const j=await X.fetchCompanies();if(j.success){const C=j.data.find(w=>w.id===g.id);if(C){const w=C.settings||{};N({companyName:C.name||"",abbrv:C.code||"",trn:C.trn||"",nisNumber:w.nisNumber||"",address:C.address||"",phone:C.phone||"",email:C.email||"",website:w.website||"",sector:w.sector||"Private",currency:w.currency||"JMD",fiscalYearStart:w.fiscalYearStart||"January",incomeTaxThreshold:w.incomeTaxThreshold||"1500000",nisRateEE:w.nisRateEE||"3.0",nisRateER:w.nisRateER||"3.0",nhtRateEE:w.nhtRateEE||"2.0",nhtRateER:w.nhtRateER||"3.0",educationTaxEE:w.educationTaxEE||"2.25",educationTaxER:w.educationTaxER||"3.5",incomeTaxRate:w.incomeTaxRate||"25.0",highIncomeTaxRate:w.highIncomeTaxRate||"30.0",highIncomeThreshold:w.highIncomeThreshold||"6000000",autoEmailSlips:w.autoEmailSlips??!0,passwordProtectSlips:w.passwordProtectSlips??!0,payslipPasswordType:w.payslipPasswordType||"TRN",roundNetPay:w.roundNetPay??!0})}}}catch(j){console.error(j)}finally{p(!1)}})()},[g.id]);const v=(f,j)=>{N(C=>({...C,[f]:j}))},k=async()=>{try{p(!0);const f={nisNumber:h.nisNumber,website:h.website,sector:h.sector,currency:h.currency,fiscalYearStart:h.fiscalYearStart,incomeTaxThreshold:h.incomeTaxThreshold,nisRateEE:h.nisRateEE,nisRateER:h.nisRateER,nhtRateEE:h.nhtRateEE,nhtRateER:h.nhtRateER,educationTaxEE:h.educationTaxEE,educationTaxER:h.educationTaxER,incomeTaxRate:h.incomeTaxRate,highIncomeTaxRate:h.highIncomeTaxRate,highIncomeThreshold:h.highIncomeThreshold,autoEmailSlips:h.autoEmailSlips,passwordProtectSlips:h.passwordProtectSlips,payslipPasswordType:h.payslipPasswordType,roundNetPay:h.roundNetPay},j={name:h.companyName,code:h.abbrv,trn:h.trn,address:h.address,phone:h.phone,email:h.email,settings:f};if((await X.updateCompany(g.id,j)).success){alert("Settings saved successfully!");const w={...g,name:h.companyName,code:h.abbrv};localStorage.setItem("selectedCompany",JSON.stringify(w)),b(w)}}catch(f){console.error(f),alert("Failed to save settings.")}finally{p(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Master Configuration"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Jamaica Compliance Engine"})]}),e.jsx("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-1 max-w-7xl mx-auto w-full",children:[e.jsxs("div",{className:"flex flex-row lg:flex-col gap-1 w-full lg:w-48 shrink-0 overflow-x-auto no-scrollbar",children:[e.jsxs("button",{onClick:()=>o("General"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${n==="General"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(Fh,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"General Info"})]}),e.jsxs("button",{onClick:()=>o("Tax"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${n==="Tax"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(Ba,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"Compliance"})]}),e.jsxs("button",{onClick:()=>o("Payroll"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${n==="Payroll"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(la,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"Payroll Engine"})]}),e.jsxs("button",{onClick:()=>o("System"),className:`p-3 flex items-center gap-3 text-left transition-all rounded ${n==="System"?"bg-gray-800 text-white":"hover:bg-gray-200 text-gray-600"}`,children:[e.jsx(xa,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase",children:"Integrations"})]})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-300 rounded shadow-sm overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-[11px] font-bold text-gray-800 uppercase tracking-wider",children:[n," Configuration"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[n==="General"&&e.jsxs("div",{className:"max-w-2xl flex flex-col gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Company Name"}),e.jsx("input",{value:h.companyName,onChange:f=>v("companyName",f.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-medium text-gray-700",placeholder:"Legal Entity Name"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Abbrv."}),e.jsx("input",{value:h.abbrv,onChange:f=>v("abbrv",f.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-medium text-gray-700 uppercase",placeholder:"e.g. IHSL"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"TRN"}),e.jsx("input",{value:h.trn,onChange:f=>v("trn",f.target.value),className:"w-full p-2 border border-gray-300 rounded bg-gray-50 text-sm font-bold text-gray-800",placeholder:"000-000-000"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"NIS Employer #"}),e.jsx("input",{value:h.nisNumber,onChange:f=>v("nisNumber",f.target.value),className:"w-full p-2 border border-gray-300 rounded bg-gray-50 text-sm font-bold text-gray-800",placeholder:"P-0000000"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Corporate Address"}),e.jsx("textarea",{value:h.address,onChange:f=>v("address",f.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm font-medium text-gray-700 h-20",placeholder:"Physical location"})]})]}),n==="Tax"&&e.jsxs("div",{className:"max-w-3xl flex flex-col gap-6",children:[e.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded mb-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ba,{className:"text-gray-400",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-700 uppercase tracking-wider",children:"Compliance Advisory"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium",children:"Define statutory deduction rates for Jamaica (NIS, NHT, Education Tax, PAYE)."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-[10px] text-gray-400 border-b border-gray-100 pb-2 uppercase tracking-widest",children:"Deduction Rates (%)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NIS (EE)"}),e.jsx("input",{type:"number",value:h.nisRateEE,onChange:f=>v("nisRateEE",f.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NIS (ER)"}),e.jsx("input",{type:"number",value:h.nisRateER,onChange:f=>v("nisRateER",f.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NHT (EE)"}),e.jsx("input",{type:"number",value:h.nhtRateEE,onChange:f=>v("nhtRateEE",f.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"NHT (ER)"}),e.jsx("input",{type:"number",value:h.nhtRateER,onChange:f=>v("nhtRateER",f.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-[10px] text-gray-400 border-b border-gray-100 pb-2 uppercase tracking-widest",children:"Annual Thresholds (JMD)"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Income Tax Threshold"}),e.jsx("input",{type:"number",value:h.incomeTaxThreshold,onChange:f=>v("incomeTaxThreshold",f.target.value),className:"p-3 border border-gray-300 rounded bg-gray-50 font-bold text-gray-800 text-lg text-right"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"Base Rate (%)"}),e.jsx("input",{type:"number",value:h.incomeTaxRate,onChange:f=>v("incomeTaxRate",f.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-bold text-gray-500 uppercase",children:"High Rate (%)"}),e.jsx("input",{type:"number",value:h.highIncomeTaxRate,onChange:f=>v("highIncomeTaxRate",f.target.value),className:"p-2 border border-gray-200 rounded text-xs font-bold text-right"})]})]})]})]})]}),n==="Payroll"&&e.jsxs("div",{className:"max-w-2xl flex flex-col gap-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 border-b border-gray-100 pb-2 uppercase text-[10px] tracking-widest",children:"Automation & Delivery"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-700 uppercase",children:"Auto-Email Payslips"}),e.jsx("p",{className:"text-[9px] text-gray-400 font-medium",children:"Dispatch slips after payroll finalization."})]}),e.jsx("input",{type:"checkbox",checked:h.autoEmailSlips,onChange:f=>v("autoEmailSlips",f.target.checked),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-700 uppercase",children:"PDF Security"}),e.jsx("p",{className:"text-[9px] text-gray-400 font-medium",children:"Apply password protection to output files."})]}),e.jsx("input",{type:"checkbox",checked:h.passwordProtectSlips,onChange:f=>v("passwordProtectSlips",f.target.checked),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-gray-100 border border-gray-200 rounded",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase",children:"Encryption Logic"}),e.jsxs("select",{value:h.payslipPasswordType,onChange:f=>v("payslipPasswordType",f.target.value),className:"w-full p-2 border border-gray-300 rounded text-xs font-medium",children:[e.jsx("option",{value:"TRN",children:"Employee TRN"}),e.jsx("option",{value:"DOB",children:"Date of Birth (YYYYMMDD)"}),e.jsx("option",{value:"EMP_ID",children:"System Employee ID"})]})]})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end gap-3 bg-white",children:[e.jsx("button",{onClick:()=>l("/"),className:"px-6 py-2 rounded text-[10px] font-bold uppercase text-gray-500 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:k,disabled:x,className:"bg-gray-800 text-white px-8 py-2 rounded font-bold text-[10px] uppercase tracking-widest hover:bg-gray-900 transition-colors flex items-center gap-2",children:[x&&e.jsx(ge,{size:14,className:"animate-spin"}),x?"Saving...":"Save Changes"]})]})]})]})})]})},ja=l=>l&&typeof l=="object"?Array.isArray(l)?l.map(ja):{...l,...Object.fromEntries(Object.entries(l).map(([n,o])=>[n,ja(o)]))}:l,$h=m.createContext(null),ke=({label:l,children:n,className:o=""})=>e.jsxs("div",{className:`flex flex-col sm:grid sm:grid-cols-[140px_1fr] gap-1 sm:gap-2 sm:items-center ${o}`,children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-700 uppercase",children:l}),n]}),dt=({name:l,list:n="general",type:o="text"})=>{const{general:i,preferences:u,updateGeneral:x,updatePreferences:p,isEditing:g}=m.useContext($h),b=n==="general"?i[l]:u[l],h=n==="general"?x:p;return e.jsx("input",{type:o,value:b??"",onChange:N=>h(l,N.target.value),readOnly:!g,className:"p-1 border border-gray-400 bg-white text-blue-800 font-bold shadow-inner text-[11px]"})},t2=()=>{const l=xe(),[n,o]=m.useState("general"),[i,u]=m.useState(!1),x=m.useRef(null),[p,g]=m.useState({companyNo:"11",name:"ISLAND HR SOLUTIONS LIMITED",description:"ISLAND HR SOLUTIONS LIMITED",tradeName:"1799376.00",nisReference:"7741929",payeReference:"",trn:"002095220",frequencyDesc:"",addressLine1:"Bioprist Knowledge Park",mailingAddress1:"",addressLine2:"4th Floor, 1A Pomento Way",mailingAddress2:"",phoneNo:"6207645",emailAddress:"",payCycle:"Weekly",payDay:"Friday",currentPeriod:"2",noOfPeriods:"52",currentPE:"09/01/2026",currentNISE:"05/01/2026",year:"2026",taxCreditType:"Annual",annualTaxCr:"1,799,376.00",prorateAnnualCredit:!1}),[b,h]=m.useState({country:"Jamaica",typeOfPayroll:"Employee",periodClearingGL:"",periodSuspenseGL:"",useGLFormatting:!1,deductionsInExcessOfNetPay:"Auto-Loan",defaultRentalTransCode:"FN001",rentalAddonPct:"0.00",defaultWageType:"Hourly",autoCalculateBasicPay:!0,defaultRegularHours:"40.00",defaultPayDisbursementType:"Electronic Transfer",currency:"JMD",nisAnnualCeiling:"5,000,000.00",payAdviceFormat:"0",defaultBackupPath:"",suppressDisplayOfRental:!1,probationaryPeriod:"3",probationaryUnit:"Month(s)",autoUpdateStatusAfterProbation:!1,pensionPctTaxableCeiling:"20.00",integrateHRMForWages:!0}),[N,v]=m.useState("Employee"),[k,f]=m.useState([{taxId:"EDTAX",eeRate:"2.250",erRate:"3.500",femStart:"18",femEnd:"60",maleStart:"18",maleEnd:"65"},{taxId:"HEART",eeRate:"0.000",erRate:"3.000",femStart:"0",femEnd:"0",maleStart:"0",maleEnd:"0"},{taxId:"ITAX",eeRate:"25.000",erRate:"0.000",femStart:"1",femEnd:"200",maleStart:"1",maleEnd:"200"},{taxId:"NHT",eeRate:"2.000",erRate:"3.000",femStart:"18",femEnd:"60",maleStart:"18",maleEnd:"65"},{taxId:"NIS",eeRate:"3.000",erRate:"3.000",femStart:"18",femEnd:"60",maleStart:"18",maleEnd:"65"}]),[j,C]=m.useState({taxableGross:"3,189,390.67",nonTaxableGross:"0.00",regularPay:"1,913,580.01",overtimePay:"0.00",totalDed:"33,979.92",incomeTaxEE:"540,724.78",incomeTaxER:"0.0000",heartEE:"0.0000",heartER:"95,681.74",nisEE:"64,510.11",nisER:"64,510.11",nhtEE:"63,787.80",nhtER:"95,681.74",educationTaxEE:"69,876.43",educationTaxER:"108,696.65",pensionEE:"19,261.20",pensionER:"0.00"}),w=()=>({general:ja(p),preferences:ja(b),taxScheme:N,taxRates:ja(k),ytd:ja(j)});m.useEffect(()=>{const R=()=>{try{const O=localStorage.getItem("company_settings_v1");if(O){const F=JSON.parse(O);x.current=F,g(F.general),h(F.preferences),v(F.taxScheme),f(F.taxRates),C(F.ytd)}else x.current=w()}catch(O){console.error("Failed to load settings",O),x.current=w()}};x.current===null&&R()},[]);const D=(R,O)=>g(F=>({...F,[R]:O})),L=(R,O)=>h(F=>({...F,[R]:O})),A=(R,O)=>C(F=>({...F,[R]:O})),S=()=>{const R=w();x.current=R;try{localStorage.setItem("company_settings_v1",JSON.stringify(R)),alert("Settings saved successfully!")}catch(O){console.error("Save failed",O)}u(!1)},_=()=>{u(!0)},B=()=>{const R=x.current;R&&(g(ja(R.general)),h(ja(R.preferences)),v(R.taxScheme),f(ja(R.taxRates)),C(ja(R.ytd)),alert("Changes reverted to last save.")),u(!1)},E=()=>{l("/")};return e.jsx($h.Provider,{value:{general:p,preferences:b,updateGeneral:D,updatePreferences:L,isEditing:i},children:e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsx("div",{className:"border-b border-gray-300 px-6 py-4 bg-white",children:e.jsx("span",{className:"font-bold text-gray-800 text-sm uppercase tracking-tight",children:"Company Settings"})}),e.jsx("div",{className:"flex border-b border-gray-200 bg-white px-2",children:[{id:"general",label:"General Info"},{id:"preferences",label:"Configuration"},{id:"tax",label:"Taxation"},{id:"ytd",label:"YTD Totals"}].map(R=>e.jsx("button",{onClick:()=>o(R.id),className:`px-4 py-3 font-bold text-[10px] uppercase tracking-wider transition-colors ${n===R.id?"text-gray-900 border-b-2 border-gray-900":"text-gray-400 hover:text-gray-600"}`,children:R.label},R.id))}),e.jsxs("div",{className:"flex-1 overflow-auto p-6 min-w-0 pb-20 sm:pb-4",children:[n==="general"&&e.jsxs("div",{className:"space-y-8 max-w-4xl",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Registration Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(ke,{label:"Company No.",children:e.jsx(dt,{name:"companyNo",list:"general"})}),e.jsx(ke,{label:"Name",children:e.jsx(dt,{name:"name",list:"general"})}),e.jsx(ke,{label:"Description",children:e.jsx(dt,{name:"description",list:"general"})}),e.jsx(ke,{label:"Trade Name",children:e.jsx(dt,{name:"tradeName",list:"general"})}),e.jsx(ke,{label:"NIS Ref",children:e.jsx(dt,{name:"nisReference",list:"general"})}),e.jsx(ke,{label:"PAYE Ref",children:e.jsx(dt,{name:"payeReference",list:"general"})}),e.jsx(ke,{label:"TRN",children:e.jsx(dt,{name:"trn",list:"general"})}),e.jsx(ke,{label:"Freq Code",children:e.jsx(dt,{name:"frequencyDesc",list:"general"})})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Communication"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(ke,{label:"Address 1",children:e.jsx(dt,{name:"addressLine1",list:"general"})}),e.jsx(ke,{label:"Mailing 1",children:e.jsx(dt,{name:"mailingAddress1",list:"general"})}),e.jsx(ke,{label:"Address 2",children:e.jsx(dt,{name:"addressLine2",list:"general"})}),e.jsx(ke,{label:"Mailing 2",children:e.jsx(dt,{name:"mailingAddress2",list:"general"})}),e.jsx(ke,{label:"Phone",children:e.jsx(dt,{name:"phoneNo",list:"general"})}),e.jsx(ke,{label:"Email",children:e.jsx(dt,{name:"emailAddress",list:"general"})})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Cycle Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(ke,{label:"Pay Cycle",children:e.jsxs("select",{value:p.payCycle,onChange:R=>{const O=R.target.value,F=O==="Weekly"?"52":O==="Bi-Weekly"?"26":"12";g(M=>({...M,payCycle:O,noOfPeriods:F}))},disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Bi-Weekly"}),e.jsx("option",{children:"Monthly"})]})}),e.jsx(ke,{label:"Pay Day",children:e.jsxs("select",{value:p.payDay,onChange:R=>D("payDay",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Friday"}),e.jsx("option",{children:"Monday"}),e.jsx("option",{children:"Last Day"})]})}),e.jsx(ke,{label:"Period #",children:e.jsx("input",{type:"number",value:p.currentPeriod,onChange:R=>D("currentPeriod",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium w-20"})}),e.jsx(ke,{label:"Max Periods",children:e.jsx("div",{className:"flex flex-col gap-0.5",children:e.jsx("input",{type:"number",value:p.noOfPeriods,onChange:R=>D("noOfPeriods",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium w-20"})})}),e.jsx(ke,{label:"Current P/E",children:e.jsx(dt,{name:"currentPE",list:"general"})}),e.jsx(ke,{label:"NIS Date",children:e.jsx(dt,{name:"currentNISE",list:"general"})}),e.jsx(ke,{label:"Year",children:e.jsx("input",{type:"number",value:p.year,onChange:R=>D("year",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium w-20"})}),e.jsx(ke,{label:"Credit Type",children:e.jsxs("select",{value:p.taxCreditType,onChange:R=>D("taxCreditType",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Annual"}),e.jsx("option",{children:"Period"})]})}),e.jsx(ke,{label:"Annual Cr.",children:e.jsx(dt,{name:"annualTaxCr",list:"general"})}),e.jsx(ke,{label:"Prorate Credit",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:p.prorateAnnualCredit,onChange:R=>D("prorateAnnualCredit",R.target.checked),disabled:!i,className:"w-4 h-4 border border-gray-300 rounded"}),e.jsx("span",{className:"text-[9px] text-gray-400 uppercase font-bold",children:"Prorate for mid-year joiners"})]})})]})]})]}),n==="preferences"&&e.jsx("div",{className:"space-y-6 max-w-4xl",children:e.jsxs("section",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Technical Policy"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4",children:[e.jsx(ke,{label:"Jurisdiction",children:e.jsxs("select",{value:b.country,onChange:R=>L("country",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Jamaica"}),e.jsx("option",{children:"Other"})]})}),e.jsx(ke,{label:"Payroll Type",children:e.jsxs("select",{value:b.typeOfPayroll,onChange:R=>L("typeOfPayroll",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Employee"}),e.jsx("option",{children:"Contractor"})]})}),e.jsx(ke,{label:"Exceed Net Pay",children:e.jsxs("select",{value:b.deductionsInExcessOfNetPay,onChange:R=>L("deductionsInExcessOfNetPay",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Auto-Loan"}),e.jsx("option",{children:"Carry Forward"}),e.jsx("option",{children:"Stop"})]})}),e.jsx(ke,{label:"Wage Type",children:e.jsxs("select",{value:b.defaultWageType,onChange:R=>L("defaultWageType",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Hourly"}),e.jsx("option",{children:"Salary"})]})}),e.jsx(ke,{label:"Disbursement",children:e.jsxs("select",{value:b.defaultPayDisbursementType,onChange:R=>L("defaultPayDisbursementType",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"Electronic Transfer"}),e.jsx("option",{children:"Cheque"}),e.jsx("option",{children:"Cash"})]})}),e.jsx(ke,{label:"Currency",children:e.jsxs("select",{value:b.currency,onChange:R=>L("currency",R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-medium text-[11px]",children:[e.jsx("option",{children:"JMD"}),e.jsx("option",{children:"USD"})]})}),e.jsx(ke,{label:"NIS Ceiling",children:e.jsx(dt,{name:"nisAnnualCeiling",list:"preferences"})}),e.jsx(ke,{label:"Auto Calc.",children:e.jsx("input",{type:"checkbox",checked:b.autoCalculateBasicPay,onChange:R=>L("autoCalculateBasicPay",R.target.checked),disabled:!i,className:"w-4 h-4"})}),e.jsx(ke,{label:"HRM Integr.",children:e.jsx("input",{type:"checkbox",checked:b.integrateHRMForWages,onChange:R=>L("integrateHRMForWages",R.target.checked),disabled:!i,className:"w-4 h-4"})})]})]})}),n==="tax"&&e.jsxs("div",{className:"space-y-6 max-w-5xl",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-white p-4 rounded border border-gray-200 shadow-sm",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Selected Scheme"}),e.jsxs("select",{value:N,onChange:R=>v(R.target.value),disabled:!i,className:"p-1 border border-gray-300 rounded bg-white font-bold text-[11px] w-32",children:[e.jsx("option",{children:"Employee"}),e.jsx("option",{children:"Employer"})]})]}),e.jsx("div",{className:"bg-white border border-gray-300 rounded shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-[10px]",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-400 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left font-bold uppercase tracking-wider",children:"Tax ID"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"EE %"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"ER %"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"F. Min"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"F. Max"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"M. Min"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"M. Max"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:k.map(R=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 font-bold text-gray-700",children:R.taxId}),e.jsx("td",{className:"p-3 text-right font-medium",children:R.eeRate}),e.jsx("td",{className:"p-3 text-right font-medium",children:R.erRate}),e.jsx("td",{className:"p-3 text-right font-medium",children:R.femStart}),e.jsx("td",{className:"p-3 text-right font-medium",children:R.femEnd}),e.jsx("td",{className:"p-3 text-right font-medium",children:R.maleStart}),e.jsx("td",{className:"p-3 text-right font-medium",children:R.maleEnd})]},R.taxId))})]})})]}),n==="ytd"&&e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("section",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Cumulative Pay"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3",children:[e.jsx(ke,{label:"Taxable Gross",children:e.jsx("input",{type:"text",value:j.taxableGross,onChange:R=>A("taxableGross",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(ke,{label:"Exempt Gross",children:e.jsx("input",{type:"text",value:j.nonTaxableGross,onChange:R=>A("nonTaxableGross",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(ke,{label:"Regular Pay",children:e.jsx("input",{type:"text",value:j.regularPay,onChange:R=>A("regularPay",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(ke,{label:"Overtime",children:e.jsx("input",{type:"text",value:j.overtimePay,onChange:R=>A("overtimePay",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})}),e.jsx(ke,{label:"Total Deduct.",children:e.jsx("input",{type:"text",value:j.totalDed,onChange:R=>A("totalDed",R.target.value),readOnly:!i,className:"p-1 border border-gray-300 rounded bg-gray-50 text-gray-800 font-bold text-[11px] w-full"})})]})]}),e.jsxs("section",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Statutory Totals"}),e.jsx("div",{className:"overflow-x-auto max-w-2xl border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-[10px]",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-400 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left font-bold uppercase tracking-wider"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"p-3 text-right font-bold uppercase tracking-wider",children:"Employer"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:["incomeTax","heart","nis","nht","educationTax","pension"].map(R=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 font-bold text-gray-700 capitalize",children:R.replace(/([A-Z])/g," $1")}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",value:j[`${R}EE`],onChange:O=>A(`${R}EE`,O.target.value),readOnly:!i,className:"p-1 border border-gray-200 rounded bg-white text-gray-800 font-medium text-right w-full"})}),e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"text",value:j[`${R}ER`],onChange:O=>A(`${R}ER`,O.target.value),readOnly:!i,className:"p-1 border border-gray-200 rounded bg-white text-gray-800 font-medium text-right w-full"})})]},R))})]})})]})]})]}),e.jsxs("div",{className:"bg-gray-100 border-t border-gray-200 px-6 py-4 flex gap-4 justify-start flex-wrap sticky bottom-0 z-20",children:[e.jsx("button",{onClick:S,className:"px-6 py-2 bg-gray-800 text-white font-bold text-[10px] uppercase tracking-widest rounded hover:bg-gray-900 shadow-sm transition-colors",children:"Save Changes"}),e.jsx("button",{onClick:_,className:"px-6 py-2 bg-white text-gray-600 border border-gray-300 font-bold text-[10px] uppercase tracking-widest rounded hover:bg-gray-50 shadow-sm transition-colors",children:"Modify Fields"}),e.jsx("button",{onClick:B,className:"px-6 py-2 bg-white text-gray-600 border border-gray-300 font-bold text-[10px] uppercase tracking-widest rounded hover:bg-gray-50 shadow-sm transition-colors",children:"Revert"}),e.jsx("button",{onClick:E,className:"px-6 py-2 bg-white text-gray-400 font-bold text-[10px] uppercase tracking-widest rounded hover:text-gray-600 transition-colors",children:"Exit"})]})]})})},a2=()=>{const l=xe(),[n,o]=m.useState(""),[i,u]=m.useState(!1),[x,p]=m.useState(null),[g,b]=m.useState(!1),[h]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[N,v]=m.useState({bank:"",bankBranch:"",companyACNo:"",identificationNo:"",glAccount:"",exportPath:""}),[k,f]=m.useState([]),j=async()=>{if(h.id)try{b(!0);const R=await X.fetchBankAccounts({companyId:h.id});R.success&&f(R.data.map(O=>({id:O.id,bank:O.bankName,branch:O.bankBranch,accountNo:O.accountNumber,identificationNo:O.identificationNo,glAccount:O.glAccount,exportPath:O.exportPath})))}catch(R){console.error(R)}finally{b(!1)}};m.useEffect(()=>{j()},[h.id]);const C=(R,O)=>{v(F=>({...F,[R]:O}))},w=()=>{v({bank:"",bankBranch:"",companyACNo:"",identificationNo:"",glAccount:"",exportPath:""}),p(null),u(!0)},D=async()=>{if(!N.bankBranch||!N.companyACNo){alert("STATION ALERT: Bank Branch and Account Number are required.");return}try{b(!0);const R={companyId:h.id,bankName:N.bank,bankBranch:N.bankBranch,accountNumber:N.companyACNo,identificationNo:N.identificationNo,glAccount:N.glAccount,exportPath:N.exportPath};(await X.createBankAccount(R)).success&&(alert(" BANK ACCOUNT CREATED SUCCESSFULLY"),j(),w(),u(!1))}catch(R){console.error(R),alert("ERROR: Failed to create bank account record.")}finally{b(!1)}},L=()=>{if(!x){alert("STATION ALERT: Please select a record from the list to edit.");return}u(!0)},A=async()=>{if(!x){alert("STATION ALERT: Please select a record to update.");return}if(!N.bankBranch||!N.companyACNo){alert("STATION ALERT: Bank Branch and Account Number are required.");return}try{b(!0);const R={bankName:N.bank,bankBranch:N.bankBranch,accountNumber:N.companyACNo,identificationNo:N.identificationNo,glAccount:N.glAccount,exportPath:N.exportPath};(await X.updateBankAccount(x,R)).success&&(alert(" BANK ACCOUNT UPDATED SUCCESSFULLY"),j(),u(!1))}catch(R){console.error(R),alert("ERROR: Failed to update bank account record.")}finally{b(!1)}},S=()=>{x?A():D()},_=async()=>{if(!x){alert("STATION ALERT: Please select a record to delete.");return}if(window.confirm("CRITICAL WARNING: This will permanently DELETE this bank account master record. Continue?"))try{b(!0),(await X.deleteBankAccount(x)).success&&(alert(" BANK ACCOUNT DELETED SUCCESSFULLY"),j(),p(null),w(),u(!1))}catch(R){console.error(R),alert("ERROR: Failed to delete bank account record.")}finally{b(!1)}},B=R=>{p(R);const O=k.find(F=>F.id===R);O&&v({bank:O.bank,bankBranch:O.branch,companyACNo:O.accountNo,identificationNo:O.identificationNo,glAccount:O.glAccount||"",exportPath:O.exportPath||""})},E="flex flex-col items-center justify-center p-1.5 sm:p-2 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:border-0 active:translate-y-0.5 touch-manipulation min-w-[48px] sm:min-w-[5rem]";return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs min-w-0",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-1.5",children:e.jsx("span",{className:"font-bold text-gray-700 text-[11px] sm:text-xs truncate block",children:"Bank Information"})}),e.jsx("div",{className:"flex-1 p-3 sm:p-4 overflow-auto min-w-0",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[380px_90px_1fr] gap-4 h-full min-h-0",children:[e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsxs("fieldset",{className:"border border-gray-400 p-4 rounded-md bg-[#F0EEE0] shadow-sm relative pt-6 mb-4",children:[e.jsx("legend",{className:"text-white bg-[#316AC5] px-3 py-1 font-bold absolute -top-3 left-4 border border-[#26539a] text-[10px] sm:text-xs shadow-sm uppercase tracking-wider",children:"Electronic Transfer Information"}),e.jsx("div",{className:"space-y-3 mt-2",children:[{label:"Bank",field:"bank"},{label:"Bank Branch",field:"bankBranch"},{label:"Company A/C No.",field:"companyACNo"},{label:"Identification No.",field:"identificationNo"},{label:"GL Account",field:"glAccount"},{label:"Export Path",field:"exportPath"}].map(R=>e.jsxs("div",{className:"grid grid-cols-[100px_1fr] sm:grid-cols-[120px_1fr] gap-3 items-center",children:[e.jsx("label",{className:"text-gray-700 font-bold text-right text-[10px] sm:text-xs uppercase tracking-tighter",children:R.label}),e.jsx("input",{type:"text",value:N[R.field],onChange:O=>C(R.field,O.target.value),className:`p-1.5 border border-gray-400 bg-white text-blue-900 font-bold shadow-inner w-full text-xs focus:ring-1 focus:ring-blue-500 outline-none transition-all ${i?"bg-white":"opacity-70 bg-gray-50"}`,readOnly:!i})]},R.field))})]}),e.jsx("div",{className:"mt-auto p-3 bg-blue-50 border border-blue-200 text-[9px] font-bold text-blue-800 uppercase italic",children:"* Fill all required fields before clicking Update or Enter"})]}),e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 shrink-0 overflow-x-auto lg:overflow-x-visible pb-2 lg:pb-0 scrollbar-hide",children:[e.jsxs("button",{onClick:()=>{const R=prompt("Enter search term (Branch or Account No):");R!==null&&o(R)},className:E,children:[e.jsx(Ke,{className:"text-blue-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"SEARCH"})]}),e.jsxs("button",{onClick:_,className:E,children:[e.jsx(tt,{className:"text-red-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"DELETE"})]}),e.jsxs("button",{onClick:A,className:E,children:[e.jsx(yt,{className:"text-green-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"UPDATE"})]}),e.jsxs("button",{onClick:L,className:E,children:[e.jsx(Hh,{className:"text-blue-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"EDIT"})]}),e.jsxs("button",{onClick:D,className:E,children:[e.jsx(qd,{className:"text-gray-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"ENTER"})]}),e.jsxs("button",{onClick:w,className:E,children:[e.jsx(Ns,{className:"text-orange-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"NEW"})]}),e.jsx("div",{className:"hidden lg:block h-px bg-gray-400 my-1 mx-2"}),e.jsxs("button",{onClick:S,className:E,children:[e.jsx(Ot,{className:"text-emerald-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"SAVE"})]}),e.jsxs("button",{onClick:()=>l(-1),className:E,children:[e.jsx(Ee,{className:"text-red-700 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"EXIT"})]})]}),e.jsxs("div",{className:"flex flex-col min-w-0 h-full relative",children:[g&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-[inset_0_2px_4px_rgba(0,0,0,0.05)] flex-1 overflow-hidden flex flex-col rounded-sm",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1.5 flex justify-between items-center shrink-0",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter text-[10px]",children:"Bank Accounts List"}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-500 uppercase",children:[k.length," Record(s)"]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse min-w-[500px]",children:[e.jsx("thead",{className:"bg-[#EBE9D8] border-b border-gray-400 text-[10px] text-gray-700 font-bold sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Bank Name"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Branch Name"}),e.jsx("th",{className:"border-r border-gray-400 p-2 text-left uppercase tracking-tighter w-1/4",children:"Account Number"}),e.jsx("th",{className:"p-2 text-left uppercase tracking-tighter w-1/4",children:"Identification"})]})}),e.jsxs("tbody",{className:"text-[11px] font-bold",children:[k.filter(R=>R.branch.toLowerCase().includes(n.toLowerCase())||R.accountNo.toLowerCase().includes(n.toLowerCase())||R.bank&&R.bank.toLowerCase().includes(n.toLowerCase())).map(R=>e.jsxs("tr",{onClick:()=>B(R.id),className:`cursor-pointer transition-colors ${x===R.id?"bg-[#316AC5] text-white":"odd:bg-[#F2F7FF] even:bg-white hover:bg-yellow-50"}`,children:[e.jsx("td",{className:"border-r border-gray-200 p-2 truncate",children:R.bank||"-"}),e.jsx("td",{className:"border-r border-gray-200 p-2 truncate",children:R.branch}),e.jsx("td",{className:"border-r border-gray-200 p-2 truncate font-mono",children:R.accountNo}),e.jsx("td",{className:"p-2 truncate",children:R.identificationNo})]},R.id)),[...Array(Math.max(0,15-k.length))].map((R,O)=>e.jsxs("tr",{className:"h-8 border-b border-gray-100 last:border-0",children:[e.jsx("td",{className:"border-r border-gray-100"}),e.jsx("td",{className:"border-r border-gray-100"}),e.jsx("td",{className:"border-r border-gray-100"}),e.jsx("td",{})]},`empty-${O}`))]})]})})]})]})]})})]})},s2=()=>{const l=xe(),[n,o]=m.useState([]),[i,u]=m.useState([]),[x,p]=m.useState(!0),g=async()=>{p(!0);try{const h=await X.fetchAdminStats();h.success&&o(h.data);const N=await X.fetchProcessingLogs({companyId:JSON.parse(localStorage.getItem("selectedCompany")||"{}").id});N.success&&u(N.data.logs||[])}catch(h){console.error(h)}finally{p(!1)}};m.useEffect(()=>{g()},[]);const b=[{label:"Process Payroll",icon:e.jsx(qa,{size:18}),path:"/processing/payroll-calculation",desc:"Run Jamaica Tax Engine"},{label:"New Employee",icon:e.jsx(Ns,{size:18}),path:"/employees",desc:"Add Staff to Registry"},{label:"Electronic Transfer",icon:e.jsx(Ya,{size:18}),path:"/banking/bns",desc:"Bank Advice Files"},{label:"My Payslips",icon:e.jsx(Ne,{size:18}),path:"/employee/payslips",desc:"View History"},{label:"Statutory Returns",icon:e.jsx(Ne,{size:18}),path:"/statutory/s01",desc:"P45, NIS, NHT, S01"},{label:"Cheque Printing",icon:e.jsx(Ui,{size:18}),path:"/processing/cheque-printing",desc:"Physical Payment Slips"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-transparent font-sans p-4 overflow-y-auto relative",children:[x&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-50 flex items-center justify-center backdrop-blur-[1px]",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(qa,{className:"animate-pulse text-blue-600",size:32}),e.jsx("span",{className:"text-[10px] font-black text-blue-800 uppercase tracking-widest",children:"Hydrating Dashboard..."})]})}),e.jsxs("div",{className:"border-b border-gray-400 pb-2 mb-4 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-blue-900 uppercase tracking-tighter",children:"Human Capital Command Center"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-600 uppercase tracking-widest mt-0.5",children:"Jamaica Region  Enterprise Session"})]}),e.jsxs("div",{className:"bg-[#D4D0C8] px-3 py-1 border border-white border-r-gray-500 border-b-gray-500 shadow-sm flex items-center gap-2",children:[e.jsx(ha,{className:"text-gray-600",size:14}),e.jsx("span",{className:"text-[11px] font-bold text-black uppercase",children:new Date().toLocaleDateString("en-JM",{dateStyle:"medium"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 mb-6",children:n.length>0?n.map((h,N)=>e.jsxs("div",{className:"card-classic p-2 flex flex-col justify-between min-h-[80px]",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider leading-none truncate mb-1",children:h.label}),e.jsx("span",{className:"text-lg font-black text-blue-900 tracking-tight",children:h.value}),e.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200",children:e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase italic truncate block",children:h.sub})})]},N)):!x&&e.jsx("div",{className:"col-span-full p-4 text-center text-gray-400 text-[10px] font-bold uppercase",children:"No connection to statistics engine."})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-[11px] font-bold text-blue-900 uppercase tracking-widest border-b border-gray-400 pb-1 mb-1",children:"Operational Controls"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:b.map((h,N)=>e.jsxs("button",{onClick:()=>l(h.path),className:"btn-classic flex items-center gap-3 h-14 px-3 hover:bg-white group text-left justify-start",children:[e.jsx("div",{className:"text-blue-800 group-hover:text-blue-600 transition-none shrink-0",children:h.icon}),e.jsxs("div",{className:"flex flex-col truncate flex-1",children:[e.jsx("span",{className:"text-[11px] font-bold text-black uppercase tracking-tight truncate group-hover:underline",children:h.label}),e.jsx("span",{className:"text-[9px] text-gray-500 font-medium truncate",children:h.desc})]})]},N))}),e.jsxs("div",{className:"mt-4 bg-[#FFFFE0] border border-gray-400 p-2 flex items-center justify-between gap-4 shadow-[inset_2px_2px_0_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-orange-600",children:e.jsx(it,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-black uppercase",children:"Compliance Exception"}),e.jsx("p",{className:"text-[11px] font-medium text-black leading-tight",children:"Registry sync required for updated TAJ tax thresholds."})]})]}),e.jsx("button",{onClick:()=>l("/employees"),className:"btn-classic text-[10px] h-8",children:"Verify"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"text-[11px] font-bold text-blue-900 uppercase tracking-widest border-b border-gray-400 pb-1 mb-1",children:"Recent Processing Logs"}),e.jsxs("div",{className:"card-classic p-0 flex flex-col h-full bg-white",children:[e.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto max-h-[300px] border border-gray-200 m-2 bg-gray-50",children:i.length>0?i.map((h,N)=>e.jsxs("div",{className:"flex gap-2 items-start border-b border-gray-200 p-2 last:border-0 hover:bg-blue-50",children:[e.jsx("div",{className:"min-w-[40px] text-[9px] font-bold text-gray-400 uppercase pt-0.5",children:new Date(h.startedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"flex items-center justify-between gap-2",children:e.jsx("span",{className:"text-[11px] font-bold text-black truncate",children:h.processType.replace(/_/g," ")})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("span",{className:"text-[9px] font-medium text-gray-600 uppercase",children:["Period: ",h.period]}),e.jsxs("span",{className:`text-[9px] font-bold uppercase ${h.status==="COMPLETED"?"text-green-600":"text-blue-800"}`,children:["[",h.status,"]"]})]})]})]},N)):e.jsx("div",{className:"p-8 text-center text-gray-400 text-[10px] font-bold uppercase italic",children:"No recent activity logs found."})}),e.jsx("div",{className:"p-2 border-t border-gray-200 bg-gray-100",children:e.jsx("button",{className:"btn-classic w-full text-[10px]",children:"Refresh Monitor"})})]})]})]})]})},r2=()=>{const l=xe(),[n,o]=m.useState(null),[i,u]=m.useState(!1),[x]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[p]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[g,b]=m.useState([]),[h,N]=m.useState([]),[v,k]=m.useState([]),[f,j]=m.useState(!1),[C,w]=m.useState(""),[D,L]=m.useState({employeeNo:"",employeeRecord:null,code:"",type:"EARNING",departmentId:"",branch:"Kingston Head Office",location:"Main Floor",glAC:"7001-00 Salaries",notes:"",transDate:new Date().toISOString().split("T")[0],amount:"0.00",units:"1",rate:"0.000000"}),[A,S]=m.useState([]);m.useEffect(()=>{(async()=>{if(p.id)try{u(!0);const[$,T,q,ce]=await Promise.all([X.fetchEmployees(p.id),X.fetchDepartments(p.id),X.fetchTransactionRegister({companyId:p.id,status:"ENTERED"}),X.getTransactionCodes(!0)]);if($.success&&b($.data||[]),T.success&&N(T.data||[]),ce.success&&k(ce.data||[]),q.success){const I=(q.data.transactions||[]).map(W=>({id:W.id,rate:W.rate||"0.00",quantity:W.units||"1",duty:"",trans:W.code,employee:W.employee?.employeeId||"N/A",employeeName:`${W.employee?.firstName} ${W.employee?.lastName}`.toUpperCase(),department:W.employee?.department?.name||"N/A",branch:"MAIN",locationGL:W.type}));S(I)}}catch($){console.error($)}finally{u(!1)}})()},[p.id]);const _=(M,$)=>{L(T=>{const q={...T,[M]:$};if(M==="rate"||M==="units"){const ce=parseFloat(M==="rate"?$:T.rate)||0,I=parseFloat(M==="units"?$:T.units)||0;q.amount=(ce*I).toFixed(2)}return M==="amount"&&parseFloat(T.units)>0&&(q.rate=(parseFloat($)/parseFloat(T.units)).toFixed(6)),q})},B=M=>{L($=>({...$,employeeNo:M.employeeId,employeeRecord:M,departmentId:M.departmentId||""})),j(!1)},E=()=>{L({employeeNo:"",employeeRecord:null,code:"",type:"EARNING",departmentId:"",branch:"Kingston Head Office",location:"Main Floor",glAC:"7001-00 Salaries",notes:"",transDate:new Date().toISOString().split("T")[0],amount:"0.00",units:"1",rate:"0.000000"}),o(null)},R=M=>{o(M)},O=async()=>{if(!D.employeeNo||!D.code||!D.amount){alert("Requirements: Employee No., Code and Amount.");return}const M=g.find($=>$.employeeId===D.employeeNo);if(!M){alert("Invalid Employee Number.");return}try{u(!0);const $={companyId:p.id,employeeId:M.id,transactionDate:D.transDate,type:D.type||"EARNING",code:D.code,description:D.notes||`${D.code} for ${M.firstName}`,amount:parseFloat(D.amount),units:parseFloat(D.units),rate:parseFloat(D.rate),status:"ENTERED",period:"Feb-2026",enteredBy:x.email},T=await X.createTransaction($);if(T.success){const q=T.data,ce={id:q.id,rate:q.rate,quantity:q.units||"1",duty:"",trans:q.code,employee:D.employeeNo,employeeName:`${M.firstName} ${M.lastName}`.toUpperCase(),department:h.find(I=>I.id===M.departmentId)?.name||"N/A",branch:D.branch,locationGL:D.type};S(I=>[ce,...I]),E()}else alert(T.message||"Entry failed.")}catch($){console.error($),alert("Connection error.")}finally{u(!1)}},F=async()=>{if(n){if(!window.confirm("CRITICAL: Delete selected financial entry?"))return;try{u(!0),(await X.deleteTransaction(n)).success&&(S($=>$.filter(T=>T.id!==n)),o(null))}catch(M){console.error(M)}finally{u(!1)}}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsxs("div",{className:"bg-[#000080] text-white px-3 py-2 flex items-center justify-between border-b-2 border-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white p-1 rounded-sm",children:e.jsx(Mt,{className:"text-[#000080]",size:16})}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[11px]",children:"Island HR System - Transaction Entry Terminal [STATION_042]"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[i&&e.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black animate-pulse",children:[e.jsx(ge,{size:14,className:"animate-spin"})," UPLINK_ACTIVE"]}),e.jsx("div",{className:"bg-green-600 text-white px-3 py-0.5 rounded text-[9px] font-black border border-green-400",children:"SECURE_CHANNEL"})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto min-w-0 flex flex-col gap-4",children:[e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-4 shadow-xl rounded-sm",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 border border-gray-200 rounded shadow-inner",children:[e.jsx("label",{className:"text-blue-900 font-black uppercase text-[10px] mb-1.5 block italic",children:"Employee Account #"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"text",value:D.employeeNo,onChange:M=>_("employeeNo",M.target.value.toUpperCase()),placeholder:"SEARCH ID...",className:"flex-1 p-2 border-2 border-gray-300 bg-white text-blue-900 font-black outline-none focus:border-blue-700 transition-colors uppercase italic",disabled:i}),e.jsx("button",{onClick:()=>j(!0),className:"px-3 bg-[#D4D0C8] border-2 border-white border-r-gray-600 border-b-gray-600 hover:bg-white active:translate-y-0.5 shadow-sm",disabled:i,children:e.jsx(Ke,{size:16,className:"text-gray-700"})})]}),D.employeeRecord&&e.jsxs("div",{className:"mt-2 text-[10px] font-black text-green-700 italic border-t pt-2 border-green-100 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-ping"}),"IDENTIFIED: ",D.employeeRecord.firstName," ",D.employeeRecord.lastName]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Transaction Code"}),e.jsxs("select",{value:D.code,onChange:M=>_("code",M.target.value),className:"w-full p-2.5 border-2 border-gray-200 bg-gray-50 text-blue-900 font-black outline-none focus:bg-white transition-all cursor-pointer",disabled:i,children:[e.jsx("option",{value:"",children:"-- SELECT PROTOCOL --"}),v.map(M=>e.jsxs("option",{value:M.code,children:[M.code," - ",M.name]},M.code))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Entry Type"}),e.jsx("div",{className:"flex gap-2",children:["EARNING","DEDUCTION","ALLOWANCE"].map(M=>e.jsx("button",{onClick:()=>_("type",M),className:`flex-1 py-2 text-[9px] font-black border-2 transition-all ${D.type===M?"bg-blue-600 text-white border-blue-900 shadow-inner translate-y-0.5":"bg-gray-100 text-gray-400 border-white border-r-gray-400 border-b-gray-400 hover:bg-white"}`,children:M},M))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-600 font-black uppercase text-[10px] italic",children:"Assigned Department"}),e.jsxs("select",{value:D.departmentId,onChange:M=>_("departmentId",M.target.value),className:"w-full p-2.5 border-2 border-gray-200 bg-gray-50 text-gray-700 font-black outline-none focus:bg-white transition-all appearance-none italic",disabled:i,children:[e.jsx("option",{value:"",children:"SELECT DEPARTMENT..."}),h.map(M=>e.jsx("option",{value:M.id,children:M.name},M.id))]})]})]}),e.jsxs("div",{className:"bg-gray-100 p-4 border-2 border-white border-r-gray-200 border-b-gray-200 shadow-inner rounded-sm space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] italic",children:"Units/Qty"}),e.jsx("input",{type:"number",value:D.units,onChange:M=>_("units",M.target.value),className:"w-full p-2 border-2 border-gray-200 bg-white text-gray-800 font-black text-center outline-none focus:border-blue-400"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] italic",children:"Rate/Price"}),e.jsx("input",{type:"number",step:"0.000001",value:D.rate,onChange:M=>_("rate",M.target.value),className:"w-full p-2 border-2 border-gray-200 bg-white text-gray-800 font-black text-right outline-none focus:border-blue-400"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-blue-900 font-black uppercase text-[10px] italic border-b border-blue-100 pb-1 flex justify-between",children:[e.jsx("span",{children:"Calculated Net Amount"}),e.jsx("span",{className:"text-[8px] opacity-50 underline uppercase tracking-tighter",children:"Manual Override Enabled"})]}),e.jsx("input",{type:"number",step:"0.01",value:D.amount,onChange:M=>_("amount",M.target.value),className:"w-full p-3 border-2 border-blue-600 bg-blue-50 text-2xl font-black italic text-blue-950 text-right outline-none shadow-inner",disabled:i})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:O,disabled:i,className:"flex-1 bg-green-600 text-white border-4 border-white border-r-green-900 border-b-green-900 hover:bg-green-700 active:translate-y-1 active:border-r-0 active:border-b-0 shadow-xl transition-all flex flex-col items-center justify-center p-4 group",children:[e.jsx(Ot,{size:24,className:"group-hover:scale-110 transition-transform mb-1"}),e.jsx("span",{className:"font-black uppercase text-[11px] tracking-widest italic",children:"POST_ENTRY"})]}),e.jsxs("div",{className:"flex gap-2 h-14",children:[e.jsxs("button",{onClick:E,className:"flex-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 hover:bg-gray-100 active:translate-y-0.5 shadow-md font-black text-[10px] uppercase italic text-gray-600 flex items-center justify-center gap-2",children:[e.jsx(Ns,{size:14})," NEW"]}),e.jsxs("button",{onClick:F,disabled:!n,className:`flex-1 bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 hover:bg-white active:translate-y-0.5 shadow-md font-black text-[10px] uppercase italic text-red-700 flex items-center justify-center gap-2 ${n?"":"opacity-30 grayscale"}`,children:[e.jsx(tt,{size:14})," VOID"]})]})]})]})}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex flex-col min-h-0 rounded-sm overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b-2 border-gray-400 flex justify-between items-center shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hr,{size:14,className:"text-blue-900"}),e.jsx("span",{className:"font-black text-gray-700 uppercase text-[10px] tracking-[0.2em] italic",children:"Active Transaction Stream :: FEB-2026 Batch"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"text-[10px] font-black text-blue-800 bg-white/50 px-3 py-0.5 border border-white rounded shadow-inner",children:["QUEUE_SIZE: ",A.length," RECS"]})})]}),e.jsx("div",{className:"flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 p-1",children:e.jsx(lh,{columns:[{header:"Serial #",accessor:"id",width:"80px",render:M=>e.jsxs("span",{className:"text-[9px] opacity-40 font-mono",children:["#",M.substring(0,6)]})},{header:"TRANS_ID",accessor:"trans",width:"100px",render:M=>e.jsx("span",{className:"font-black italic text-blue-900",children:M})},{header:"EMPLOYEE_ENTITY",accessor:"employeeName",width:"250px",render:(M,$)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-blue-900 uppercase leading-none",children:M}),e.jsx("span",{className:"text-[9px] text-gray-400 font-black italic",children:$.employee})]})},{header:"DEPARTMENT",accessor:"department",width:"150px"},{header:"RATE (BASE)",accessor:"rate",width:"120px",render:M=>e.jsxs("span",{className:"font-mono text-gray-500",children:["$ ",parseFloat(M).toLocaleString(void 0,{minimumFractionDigits:2})]})},{header:"QTY",accessor:"quantity",width:"80px",render:M=>e.jsx("span",{className:"font-black text-center block italic text-blue-700",children:M})},{header:"TYPE",accessor:"locationGL",width:"120px",render:M=>e.jsx("span",{className:`px-2 py-0.5 rounded-full border text-[9px] font-black italic ${M==="EARNING"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:M})},{header:"SETTLEMENT",accessor:"amount",width:"150px",render:(M,$)=>e.jsxs("span",{className:"font-black italic text-sm text-blue-900 block text-right",children:["$ ",(parseFloat($.rate)*parseFloat($.quantity)).toLocaleString(void 0,{minimumFractionDigits:2})]})}],data:A.map(M=>({...M,highlighted:M.id===n})),rowKey:"id",onRowClick:M=>R(M.id),minRows:15})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center px-4 py-2 shrink-0",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>l("/files/import"),className:"bg-[#D4D0C8] border-2 border-white border-r-gray-600 border-b-gray-600 px-6 py-2 shadow-lg hover:bg-white transition-all font-black text-[10px] uppercase italic flex items-center gap-2 group",children:[e.jsx(ql,{size:16,className:"group-hover:-translate-y-0.5 transition-transform"})," Mass Import Protocol"]}),e.jsxs("button",{onClick:()=>{},className:"bg-[#D4D0C8] border-2 border-white border-r-gray-600 border-b-gray-600 px-6 py-2 shadow-lg hover:bg-white transition-all font-black text-[10px] uppercase italic flex items-center gap-2 group",children:[e.jsx(He,{size:16,className:"group-hover:translate-y-0.5 transition-transform"})," Archive Local Queue"]})]}),e.jsxs("button",{onClick:()=>l(-1),className:"bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 px-10 py-2 shadow-xl hover:bg-white text-red-700 hover:text-red-900 transition-all font-black text-[11px] uppercase italic flex items-center gap-3 tracking-widest active:translate-y-1 active:border-0",children:[e.jsx(Ee,{size:18})," Exit Terminal"]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#EBE9D8] border-4 border-white shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)] w-full max-w-2xl animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-[#000080] text-white p-3 flex justify-between items-center",children:[e.jsxs("span",{className:"font-black uppercase italic tracking-widest text-xs flex items-center gap-2",children:[e.jsx(Mt,{size:14})," Core Employee Registry lookup"]}),e.jsx("button",{onClick:()=>j(!1),className:"hover:bg-red-600 p-1",children:e.jsx(tt,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex gap-3 mb-6",children:e.jsxs("div",{className:"flex-1 flex items-center bg-white border-2 border-gray-300 px-4 py-2 shadow-inner group focus-within:border-blue-600",children:[e.jsx(Ke,{size:18,className:"text-gray-400 group-focus-within:text-blue-600"}),e.jsx("input",{type:"text",autoFocus:!0,placeholder:"FILTER BY NAME OR ID...",className:"w-full bg-transparent outline-none font-black text-blue-900 uppercase italic px-4",value:C,onChange:M=>w(M.target.value)})]})}),e.jsx("div",{className:"border-2 border-gray-300 bg-white max-h-[400px] overflow-auto shadow-inner rounded-sm",children:e.jsxs("table",{className:"w-full text-left text-[11px] border-collapse",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] border-b-2 border-gray-400 font-black italic uppercase text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-100",children:"ID#"}),e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Full Name"}),e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Department"}),e.jsx("th",{className:"p-3 text-right",children:"Action"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[g.filter(M=>`${M.firstName} ${M.lastName} ${M.employeeId}`.toLowerCase().includes(C.toLowerCase())).map(M=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors group",children:[e.jsx("td",{className:"p-3 font-mono font-black border-r border-gray-50",children:M.employeeId}),e.jsxs("td",{className:"p-3 font-black text-blue-900 uppercase border-r border-gray-50",children:[M.firstName," ",M.lastName]}),e.jsx("td",{className:"p-3 text-gray-400 italic text-[10px] border-r border-gray-50 uppercase",children:M.department?.name||"N/A"}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs("button",{onClick:()=>B(M),className:"bg-blue-600 text-white px-4 py-1.5 font-black text-[10px] uppercase italic rounded-sm hover:bg-blue-800 transition-all flex items-center gap-2 ml-auto",children:["SELECT ",e.jsx(Ga,{size:14})]})})]},M.id)),g.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-widest",children:"Master record stream empty"})})]})]})})]}),e.jsx("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-2 text-right text-[9px] font-black text-gray-500 italic uppercase",children:"Secure lookup session active :: ISO_8601_READY"})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white px-4 py-1 flex justify-between items-center text-[10px] font-black italic text-gray-600 shrink-0 shadow-[0_-4px_10px_rgba(0,0,0,0.05)] uppercase tracking-tighter",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," K_LOCK"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})," N_LOCK"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})," S_LOCK"]})]}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsxs("span",{className:"border-l border-gray-400 pl-4",children:["DOMAIN: ",p.name||x.companyName||"COMMUNITY_CORE"]}),e.jsx("span",{className:"border-l border-gray-400 pl-4 text-blue-800",children:"UPLINK_STATION: 042xAlpha"}),e.jsxs("span",{className:"border-l border-gray-400 pl-4",children:[new Date().toLocaleTimeString()," JST"]})]})]})]})},l2=()=>{const l=xe(),[n]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[o,i]=m.useState({primaryOrder:"None",primarySort:"Ascending",secondaryOrder:"None",secondarySort:"Ascending",tertiaryOrder:"None",tertiarySort:"Ascending"}),[u,x]=m.useState({displayYTDCurrentTrans:!1,displayPensionRate:!1,displayPaymentDetails:!1,displayJobTitle:!1,displayEmployeesPaidOnly:!1,convertToLocalCurrency:!1,printWideFormat:!1,inputNarratives:!1,displayPensionSeparately:!1,displayPayPeriod:!1}),[p,g]=m.useState({payPeriod:String(new Date().getMonth()+1),ofYear:String(new Date().getFullYear()),paySeries:"-- ALL ACTIVE SERIES --",payGrade:"-- ALL SERVICE GRADES --",employee:"-- ALL STAFF MEMBERS --",department:"-- ALL COST CENTERS --",branch:"-- ALL REGIONAL BRANCHES --"}),[b,h]=m.useState(new Date().toLocaleTimeString()),[N,v]=m.useState(!1),[k,f]=m.useState([]),[j,C]=m.useState([]),w=bt.useMemo(()=>{const E=["Weekly (W01)","Bi-Weekly (B01)","Monthly (M01)"],R=["GRADE 1","GRADE 2","GRADE 3","EXECUTIVE"],O=["Kingston HQ","Montego Bay","Ocho Rios"],F=k.map(q=>q.payFrequency).filter(Boolean),M=k.map(q=>q.designation).filter(Boolean),$=k.map(q=>q.city||q.parish||q.branch).filter(Boolean),T=j.map(q=>q.name);return{paySeries:["-- ALL ACTIVE SERIES --",...new Set([...E,...F])],payGrade:["-- ALL SERVICE GRADES --",...new Set([...R,...M])],branch:["-- ALL REGIONAL BRANCHES --",...new Set([...O,...$])],department:["-- ALL COST CENTERS --",...new Set([...T])]}},[k,j]);bt.useEffect(()=>{(async()=>{try{const R=localStorage.getItem("selectedCompany"),O=R?JSON.parse(R):null;if(O){const[F,M]=await Promise.all([X.fetchEmployees(O.id),X.fetchDepartments(O.id)]);F.success&&f(F.data),M.success&&C(M.data)}}catch(R){console.error(R)}})()},[]);const D=(E,R)=>{i(O=>({...O,[E]:R})),S()},L=E=>{x(R=>({...R,[E]:!R[E]})),S()},A=(E,R)=>{g(O=>({...O,[E]:R})),S()},S=()=>{v(!0),setTimeout(()=>{v(!1),h(new Date().toLocaleTimeString())},600)},_=()=>{l("/payroll/register/print",{state:{filterOptions:p,reportOptions:u,orderOptions:o}})},B=async()=>{if(window.confirm("PREPARING DATA EXCHANGE: Convert matrix display to Excel (.csv) format?"))try{const R=localStorage.getItem("selectedCompany"),O=R?JSON.parse(R):null;if(!O){alert("ERROR: No company selected.");return}let F=p.payPeriod;if(F.length<=2&&!isNaN(F)){const $=new Date;$.setMonth(parseInt(F)-1),F=`${$.toLocaleString("default",{month:"short"})}-${p.ofYear}`}const M=await X.fetchPayrolls({companyId:O.id,period:F});if(M.success&&M.data&&M.data.length>0){let $=M.data;if(p.department&&!p.department.includes("ALL")&&($=$.filter(ne=>ne.employee?.department?.name===p.department||ne.employee?.department===p.department)),p.branch&&!p.branch.includes("ALL")&&($=$.filter(ne=>ne.employee?.city===p.branch||ne.employee?.parish===p.branch||ne.employee?.branch===p.branch)),p.paySeries&&!p.paySeries.includes("ALL")&&($=$.filter(ne=>ne.employee?.payFrequency===p.paySeries)),p.payGrade&&!p.payGrade.includes("ALL")&&($=$.filter(ne=>ne.employee?.designation===p.payGrade)),p.employee&&!p.employee.includes("ALL")){const ne=p.employee.split("[")[0].trim().toLowerCase(),ee=p.employee.match(/\[(.*?)\]/)?.[1]?.toLowerCase();$=$.filter(P=>{const Z=P.employee?.firstName?.toLowerCase()||"",oe=P.employee?.lastName?.toLowerCase()||"",ue=P.employee?.employeeId?.toLowerCase()||"",he=`${Z} ${oe}`;return ee?ue.includes(ee):he.includes(ne)})}if($.length===0){alert("EXPORT NOTICE: No records match the current filter criteria.");return}const T=`Payroll Register Export
Period,`+p.payPeriod+`
Year,`+p.ofYear+`
Sequence,`+o.primaryOrder+" / "+o.secondaryOrder+`
Employee ID,Name,Department,Location,Gross Salary,Deductions,Tax,Net Pay,Status
`,q=$.map(ne=>{const ee=`"${ne.employee?.firstName} ${ne.employee?.lastName}"`,P=`"${ne.employee?.department?.name||ne.employee?.department||""}"`,Z=`"${ne.employee?.city||ne.employee?.parish||ne.employee?.branch||""}"`;return`${ne.employee?.employeeId||""},${ee},${P},${Z},${ne.grossSalary},${ne.deductions},${ne.tax},${ne.netSalary},${ne.status}`}).join(`
`),ce=T+q,I=new Blob([ce],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(I),de=document.createElement("a");de.setAttribute("href",W),de.setAttribute("download",`Payroll_Register_${F}.csv`),de.click(),alert(`SUCCESS: Export complete. ${$.length} records processed.`)}else alert("EXPORT WARNING: No payroll records found for the specified period.")}catch(R){console.error("Export failed:",R),alert("EXPORT ERROR: Failed to retrieve data from server.")}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Ne,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Payroll Register Core Engine"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-[9px] font-black text-blue-800 bg-blue-50 px-2 py-0.5 rounded border border-blue-200 uppercase tracking-widest animate-pulse hidden sm:inline",children:"Server Sync Active"})})]}),e.jsx("div",{className:"flex-1 p-2 sm:p-4 md:p-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[e.jsxs("fieldset",{className:"border border-gray-400 p-3 sm:p-5 rounded-sm relative pt-6 sm:pt-8 bg-white/40 shadow-sm border-b-2 border-r-2",children:[e.jsx("legend",{className:"text-blue-700 px-3 font-black absolute -top-3 left-4 bg-[#EBE9D8] uppercase tracking-tighter text-[10px] sm:text-[11px] border border-gray-300 shadow-sm",children:"Sequence & Order Controls"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{label:"Primary Sequence",field:"primaryOrder",sort:"primarySort"},{label:"Secondary Sequence",field:"secondaryOrder",sort:"secondarySort"},{label:"Tertiary Sequence",field:"tertiaryOrder",sort:"tertiarySort"}].map((E,R)=>e.jsxs("div",{className:`flex flex-col gap-2.5 ${R>0?"sm:border-l sm:pl-6 border-gray-200":""}`,children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:E.label}),e.jsxs("select",{value:o[E.field],onChange:O=>D(E.field,O.target.value),className:"p-2 border border-blue-300 bg-white text-blue-900 font-black shadow-inner focus:ring-1 focus:ring-blue-500 outline-none text-xs rounded-sm",children:[e.jsx("option",{value:"None",children:"None (Default)"}),e.jsx("option",{value:"Employee ID",children:"Employee ID"}),e.jsx("option",{value:"Department",children:"Departmental Unit"}),e.jsx("option",{value:"Branch",children:"Location / Branch"})]}),e.jsxs("div",{className:"flex gap-4 p-1",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:E.sort,checked:o[E.sort]==="Ascending",onChange:()=>D(E.sort,"Ascending"),className:"w-4 h-4 cursor-pointer accent-blue-600"}),e.jsx("span",{className:"group-hover:text-blue-700 font-black text-[10px] uppercase tracking-tighter",children:"Ascending"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:E.sort,checked:o[E.sort]==="Descending",onChange:()=>D(E.sort,"Descending"),className:"w-4 h-4 cursor-pointer accent-blue-600"}),e.jsx("span",{className:"group-hover:text-blue-700 font-black text-[10px] uppercase tracking-tighter",children:"Descending"})]})]})]},E.field))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("fieldset",{className:"border border-gray-400 p-4 sm:p-6 rounded-sm relative pt-6 sm:pt-8 bg-white/40 shadow-sm border-b-2 border-r-2",children:[e.jsx("legend",{className:"text-blue-700 px-3 font-black absolute -top-3 left-4 bg-[#EBE9D8] uppercase tracking-tighter text-[10px] sm:text-[11px] border border-gray-300 shadow-sm",children:"Display Matrix Options"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-2",children:[{id:"displayYTDCurrentTrans",label:"YTD For Current Trans Only"},{id:"inputNarratives",label:"Include Logic Narratives"},{id:"displayPensionRate",label:"Show Pensioner Rate"},{id:"displayPensionSeparately",label:"Separate Pension (Vol/Req)"},{id:"displayPaymentDetails",label:"Show Bank Disbursement Info"},{id:"displayPayPeriod",label:"Show Pay Period Ident"},{id:"displayJobTitle",label:"Include Personnel Job Titles"},{id:"displayEmployeesPaidOnly",label:"Paid Personnel Records Only"},{id:"convertToLocalCurrency",label:"FX Master Conversion"},{id:"printWideFormat",label:"Wide Landscape Format"}].map(E=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group hover:bg-white/60 p-1.5 sm:p-2 rounded transition-colors border border-transparent hover:border-gray-200",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer accent-blue-600 shrink-0",checked:u[E.id],onChange:()=>L(E.id)}),e.jsx("span",{className:"text-[10px] font-black text-gray-700 group-hover:text-blue-800 leading-tight uppercase tracking-tight",children:E.label})]},E.id))})]}),e.jsxs("fieldset",{className:"border border-gray-400 p-4 sm:p-6 rounded-sm relative pt-6 sm:pt-8 bg-white/40 shadow-sm border-b-2 border-r-2",children:[e.jsx("legend",{className:"text-blue-700 px-3 font-black absolute -top-3 left-4 bg-[#EBE9D8] uppercase tracking-tighter text-[10px] sm:text-[11px] border border-gray-300 shadow-sm",children:"Strategic Scope Filtering"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-[#D4D0C8]/30 p-3 border border-gray-300 shadow-inner rounded-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:"Period"}),e.jsx("input",{type:"text",value:p.payPeriod,onChange:E=>A("payPeriod",E.target.value),className:"w-12 p-1.5 border border-blue-200 bg-white text-blue-900 font-black text-center shadow-inner"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 font-black text-[9px] uppercase tracking-widest",children:"Master Year"}),e.jsx("input",{type:"text",value:p.ofYear,onChange:E=>A("ofYear",E.target.value),className:"w-20 p-1.5 border border-blue-200 bg-white text-blue-900 font-black text-center shadow-inner"})]})]}),[{id:"paySeries",label:"Pay Series",options:w.paySeries},{id:"payGrade",label:"Hierarchy",options:w.payGrade},{id:"employee",label:"Personnel",options:["-- ALL STAFF MEMBERS --",...k.map(E=>`${E.firstName} ${E.lastName} [${E.employeeId}]`)]},{id:"department",label:"Unit / Dept",options:w.department},{id:"branch",label:"Location",options:w.branch}].map(E=>e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-gray-500 font-black uppercase text-[9px] tracking-[0.2em]",children:E.label}),e.jsx("select",{value:p[E.id],onChange:R=>A(E.id,R.target.value),className:"w-full p-2.5 border border-gray-300 bg-white text-blue-900 font-black shadow-sm outline-none text-[11px] uppercase tracking-tight rounded-sm",children:E.options.map(R=>e.jsx("option",{value:R,children:R},R))})]},E.id))]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-500 shadow-lg p-4 relative overflow-hidden flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("span",{className:"font-black text-blue-900 uppercase italic text-[11px] flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-orange-500 animate-ping":"bg-green-500"}`}),"Live Matrix Strategy Preview"]}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase italic",children:["Last Compiled: ",b]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 border border-dashed border-gray-300 min-h-[140px] flex flex-col gap-3",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Sort Hierarchy"}),e.jsxs("p",{className:"text-[10px] font-black italic text-blue-800 uppercase tracking-tighter",children:[o.primaryOrder," ",e.jsx("span",{className:"text-gray-400",children:""})," ",o.secondaryOrder]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Scope Target"}),e.jsx("p",{className:"text-[10px] font-black italic text-gray-800 uppercase tracking-tighter truncate",children:p.department==="-- ALL COST CENTERS --"?"FULL UNIT":p.department})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Matrix Mode"}),e.jsx("p",{className:"text-[10px] font-black italic text-gray-800 uppercase tracking-tighter",children:u.printWideFormat?"LANDSCAPE (A3)":"PORTRAIT (A4)"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Deduction Logic"}),e.jsx("p",{className:"text-[10px] font-black italic text-green-700 uppercase tracking-tighter",children:u.displayPensionSeparately?"SPLIT PENSION":"STANDARD PENSION"})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4 flex flex-wrap gap-2",children:[Object.entries(u).filter(([E,R])=>R).map(([E])=>e.jsxs("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 border border-blue-200 rounded-full font-black uppercase text-[7px] tracking-widest italic animate-in fade-in zoom-in duration-300",children:[E.replace("display","").replace(/([A-Z])/g," $1").trim()," ACTIVE"]},E)),Object.values(u).every(E=>!E)&&e.jsx("span",{className:"text-[9px] italic text-gray-300 uppercase font-bold tracking-widest",children:"No matrix overrides active. Using default Engine logic."})]})]})]})]}),e.jsxs("div",{className:"flex flex-row xl:flex-col gap-3 w-full xl:w-32 shrink-0 mt-4 xl:mt-0 mb-6 xl:mb-0",children:[e.jsxs("button",{onClick:_,className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 border border-gray-400 border-b-4 border-r-4 border-gray-600 bg-white text-blue-900 hover:bg-blue-600 hover:text-white transition-all shadow-lg active:translate-y-1 active:border-b-0 active:border-r-0 group rounded-sm",children:[e.jsx(Hi,{size:28,className:"text-blue-600 group-hover:text-white mb-2 transition-transform group-hover:scale-110"}),e.jsx("span",{className:"font-black uppercase tracking-[0.1em] text-[10px]",children:"Preview"})]}),e.jsxs("button",{onClick:B,className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 border border-gray-400 border-b-4 border-r-4 border-gray-600 bg-white text-gray-800 hover:bg-gray-800 hover:text-white transition-all shadow-lg active:translate-y-1 active:border-b-0 active:border-r-0 group rounded-sm",children:[e.jsx(_e,{size:28,className:"text-gray-700 group-hover:text-white mb-2 transition-transform group-hover:scale-110"}),e.jsx("span",{className:"font-black uppercase tracking-[0.1em] text-[10px]",children:"Excel / CSV"})]}),e.jsx("div",{className:"hidden xl:block xl:flex-1"}),e.jsxs("button",{onClick:()=>l(-1),className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 border border-gray-400 border-b-4 border-r-4 border-gray-600 bg-white text-red-700 hover:bg-red-600 hover:text-white transition-all shadow-lg active:translate-y-1 active:border-b-0 active:border-r-0 group rounded-sm",children:[e.jsx(Ee,{size:28,className:"text-red-600 group-hover:text-white mb-2 transition-transform group-hover:scale-110"}),e.jsx("span",{className:"font-black uppercase tracking-[0.1em] text-[10px]",children:"Exit Cmd"})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 px-3 sm:px-6 py-2 flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-4 text-[9px] font-black text-gray-500 shadow-inner",children:[e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 w-full sm:w-auto justify-center sm:justify-start",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_5px_green]"})," DB: HRM_",p.ofYear,"_LIVE"]}),e.jsxs("span",{className:"border-l border-gray-400 pl-4 uppercase",children:["PERIOD: ",p.payPeriod,"-",p.ofYear]})]}),e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 w-full sm:w-auto justify-center sm:justify-end border-t sm:border-t-0 border-gray-300 pt-2 sm:pt-0",children:[e.jsxs("span",{className:"uppercase tracking-widest hidden xs:inline",children:["Operator: ",n.firstName?`${n.firstName} ${n.lastName}`:"ADMIN-01"]}),e.jsx("span",{className:"text-blue-800 font-black tracking-tighter italic",children:"SMARTHRM ENGINE v5.1.0-A"})]})]})]})},n2=()=>{const l=xe(),n=_t(),[o,i]=m.useState(100),[u,x]=m.useState(1),p=1,[g,b]=m.useState([]),[h,N]=m.useState(!0),[v,k]=m.useState({gross:0,deductions:0,tax:0,net:0,nis:0,nht:0,edTax:0}),f=n.state?.filterOptions||{payPeriod:"3",ofYear:"2026",paySeries:"",payGrade:"",employee:"",department:"",branch:"",location:""};n.state?.reportOptions;const j=n.state?.orderOptions||{};m.useEffect(()=>{(async()=>{N(!0);try{const _=localStorage.getItem("selectedCompany"),B=_?JSON.parse(_):null;if(B){const E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let R=f.payPeriod;if(!isNaN(R)&&parseInt(R)>=1&&parseInt(R)<=12){const F=parseInt(R)-1;R=`${E[F]}-${f.ofYear}`}else R.includes("-")||(R=`${R}-${f.ofYear}`);console.log("[PRINT_DEBUG] Fetching payload:",{companyId:B.id,period:R});const O=await X.fetchPayrolls({companyId:B.id,period:R});if(O.success){let F=O.data;F=F.filter($=>{const T=$.employee||{};if(f.department&&!f.department.includes("ALL")&&!(T.department?.name===f.department||T.department===f.department))return!1;if(f.branch&&!f.branch.includes("ALL")){const q=f.branch.toLowerCase(),ce=(T.city||"").toLowerCase(),I=(T.parish||"").toLowerCase(),W=(T.branch||"").toLowerCase();if(!(ce.includes(q)||I.includes(q)||W.includes(q)||q.includes(ce)))return!1}if(f.paySeries&&!f.paySeries.includes("ALL")){const q=f.paySeries.toLowerCase(),ce=(T.payFrequency||"").toLowerCase();if(!(ce.includes(q)||q.includes(ce)))return!1}if(f.payGrade&&!f.payGrade.includes("ALL")){const q=f.payGrade.toLowerCase(),ce=(T.designation||"").toLowerCase();if(!(ce===q||ce.includes(q)||q.includes(ce)))return!1}if(f.employee&&!f.employee.includes("ALL")){const q=f.employee.split("[")[0].trim().toLowerCase(),ce=f.employee.match(/\[(.*?)\]/)?.[1]?.toLowerCase(),I=T.firstName?.toLowerCase()||"",W=T.lastName?.toLowerCase()||"",de=T.employeeId?.toLowerCase()||"",ne=`${I} ${W}`;if(ce){if(de!==ce)return!1}else if(!ne.includes(q))return!1}return!0}),b(F);const M=F.reduce(($,T)=>({gross:$.gross+parseFloat(T.grossSalary||0),deductions:$.deductions+parseFloat(T.deductions||0),tax:$.tax+parseFloat(T.tax||0),net:$.net+parseFloat(T.netSalary||0),nis:$.nis+parseFloat(T.nis||0),nht:$.nht+parseFloat(T.nht||0),edTax:$.edTax+parseFloat(T.edTax||0)}),{gross:0,deductions:0,tax:0,net:0,nis:0,nht:0,edTax:0});k(M)}}}catch(_){console.error("Error fetching payroll data:",_)}finally{N(!1)}})()},[f.payPeriod,f.ofYear,f.department,f.branch,f.employee,f.paySeries,f.payGrade]);const C=()=>i(S=>Math.min(S+10,200)),w=()=>i(S=>Math.max(S-10,50)),D=()=>x(S=>Math.max(S-1,1)),L=()=>x(S=>Math.min(S+1,p)),A={companyName:JSON.parse(localStorage.getItem("selectedCompany")||"{}").name||"COMPANY NAME",reportTitle:"PAYROLL REGISTER",systemAuditInfo:{payrollPeriod:`${f.payPeriod} / ${f.ofYear}`,periodEnding:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),payrollCycle:"Monthly",printDateTime:new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),printedBy:JSON.parse(localStorage.getItem("currentUser")||"{}").name||"ADMIN"},reportOptions:{employees:f.employee||"ALL",departments:f.department||"ALL",branches:f.branch||"ALL",locations:f.location||"ALL",paySeries:f.paySeries||"ALL",payGrade:f.payGrade||"ALL",orderedBy:`${j.primaryOrder||"Name"} (${j.primarySort||"Asc"})`}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#808080] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-gray-400 px-2 py-1 flex items-center gap-2 no-print",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"PayrollRegister.frx - Page 1"}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:w,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200",title:"Zoom Out",children:e.jsx(Wv,{size:16})}),e.jsxs("span",{className:"px-2 min-w-[50px] text-center font-bold",children:[o,"%"]}),e.jsx("button",{onClick:C,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200",title:"Zoom In",children:e.jsx(Kv,{size:16})}),e.jsx("div",{className:"w-4"}),e.jsx("button",{onClick:D,disabled:u===1,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50",title:"Previous Page",children:e.jsx(Lh,{size:16})}),e.jsxs("span",{className:"px-2 font-bold",children:[u," / ",p]}),e.jsx("button",{onClick:L,disabled:u===p,className:"p-1 border border-gray-400 bg-white hover:bg-gray-100 active:bg-gray-200 disabled:opacity-50",title:"Next Page",children:e.jsx(Ga,{size:16})})]})]}),e.jsx("div",{className:"flex-1 p-2 sm:p-4 overflow-auto flex justify-center items-start",children:e.jsxs("div",{className:"bg-white shadow-lg border border-gray-300 w-full max-w-[900px] min-h-[1100px] p-4 sm:p-8 origin-top transition-transform duration-200",style:{transform:`scale(${o/100})`},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"text-sm font-bold",children:A.companyName}),e.jsx("h2",{className:"text-lg font-bold mt-1",children:A.reportTitle})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-8 mb-6 text-[10px]",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold mb-1 border-b border-gray-400",children:"SYSTEM AUDIT INFO"}),e.jsxs("div",{className:"grid grid-cols-[120px_1fr] gap-y-0.5",children:[e.jsx("span",{className:"font-bold",children:"Payroll Period(s)"}),e.jsxs("span",{children:[": ",A.systemAuditInfo.payrollPeriod]}),e.jsx("span",{className:"font-bold",children:"Period Ending"}),e.jsxs("span",{children:[": ",A.systemAuditInfo.periodEnding]}),e.jsx("span",{className:"font-bold",children:"Payroll Cycle"}),e.jsxs("span",{children:[": ",A.systemAuditInfo.payrollCycle]}),e.jsx("span",{className:"font-bold",children:"Print Date/Time"}),e.jsxs("span",{children:[": ",A.systemAuditInfo.printDateTime]}),e.jsx("span",{className:"font-bold",children:"Printed By"}),e.jsxs("span",{children:[": ",A.systemAuditInfo.printedBy]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold mb-1 border-b border-gray-400",children:"REPORT OPTION(S)"}),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-y-0.5",children:[e.jsx("span",{className:"font-bold",children:"Employee(s)"}),e.jsxs("span",{children:[": ",A.reportOptions.employees]}),e.jsx("span",{className:"font-bold",children:"Department(s)"}),e.jsxs("span",{children:[": ",A.reportOptions.departments]}),e.jsx("span",{className:"font-bold",children:"Branch(es)"}),e.jsxs("span",{children:[": ",A.reportOptions.branches]}),e.jsx("span",{className:"font-bold",children:"Location(s)"}),e.jsxs("span",{children:[": ",A.reportOptions.locations]}),e.jsx("span",{className:"font-bold",children:"Pay Series"}),e.jsxs("span",{children:[": ",A.reportOptions.paySeries]}),e.jsx("span",{className:"font-bold",children:"Pay Grade"}),e.jsxs("span",{children:[": ",A.reportOptions.payGrade]}),e.jsx("span",{className:"font-bold",children:"Ordered By"}),e.jsxs("span",{children:[": ",A.reportOptions.orderedBy]})]})]})]}),h?e.jsx("div",{className:"mb-4 p-8 text-center",children:e.jsx("div",{className:"text-blue-600 font-bold uppercase tracking-widest animate-pulse",children:"Loading Payroll Data..."})}):g.length===0?e.jsxs("div",{className:"mb-4 p-8 text-center border-2 border-dashed border-gray-300",children:[e.jsx("div",{className:"text-gray-400 font-bold uppercase tracking-widest",children:"No Payroll Records Found"}),e.jsx("div",{className:"text-[10px] text-gray-400 mt-2",children:"Try adjusting your filter criteria"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-[9px] border-collapse min-w-[600px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"text-left font-black uppercase py-2 w-[8%]",children:"Emp ID"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[22%]",children:"Employee Name"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[18%]",children:"Department"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[12%]",children:"Job Title"}),e.jsx("th",{className:"text-left font-black uppercase py-2 w-[10%]",children:"Location"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[10%]",children:"Gross Salary"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[8%] text-red-600",children:"Deductions"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[8%] text-red-600",children:"Tax"}),e.jsx("th",{className:"text-right font-black uppercase py-2 w-[10%] bg-gray-50",children:"Net Pay"})]})}),e.jsx("tbody",{children:g.map((S,_)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-yellow-50",children:[e.jsx("td",{className:"py-1.5 text-gray-700 font-bold align-top",children:S.employee?.employeeId}),e.jsxs("td",{className:"py-1.5 text-blue-900 font-bold uppercase align-top",children:[S.employee?.firstName," ",S.employee?.lastName]}),e.jsx("td",{className:"py-1.5 text-gray-600 uppercase align-top",children:S.employee?.department?.name||S.employee?.department||"-"}),e.jsx("td",{className:"py-1.5 text-gray-500 uppercase italic text-[8px] align-top",children:S.employee?.designation||"-"}),e.jsx("td",{className:"py-1.5 text-gray-500 uppercase italic text-[8px] align-top",children:S.employee?.city||S.employee?.branch||"-"}),e.jsx("td",{className:"py-1.5 text-right text-gray-800 font-mono align-top",children:ua(S.grossSalary)}),e.jsx("td",{className:"py-1.5 text-right text-red-500 font-mono align-top",children:ua(S.deductions)}),e.jsx("td",{className:"py-1.5 text-right text-red-500 font-mono align-top",children:ua(S.tax)}),e.jsx("td",{className:"py-1.5 text-right text-green-700 font-black font-mono bg-gray-50 align-top",children:ua(S.netSalary)})]},_))})]})}),e.jsxs("div",{className:"mt-8 border-t-2 border-gray-800 pt-4",children:[e.jsx("div",{className:"mb-3 text-[10px] font-black uppercase text-gray-700 tracking-wider",children:"Report Grand Totals"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-[9px]",children:[e.jsxs("div",{className:"border border-gray-400 p-2 shadow-sm",children:[e.jsx("div",{className:"font-bold mb-2 border-b border-gray-200 pb-1 text-gray-600",children:"TOTAL EARNINGS"}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-y-1",children:[e.jsx("span",{children:"Total Gross:"}),e.jsx("span",{className:"font-bold font-mono",children:ua(v.gross)}),e.jsx("span",{className:"text-gray-500",children:"Non-Taxable:"}),e.jsx("span",{className:"text-gray-500 font-mono",children:"0.00"})]})]}),e.jsxs("div",{className:"border border-gray-400 p-2 shadow-sm",children:[e.jsx("div",{className:"font-bold mb-2 border-b border-gray-200 pb-1 text-gray-600",children:"TOTAL DEDUCTIONS"}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-y-1",children:[e.jsx("span",{children:"Total Ded:"}),e.jsx("span",{className:"font-bold text-red-600 font-mono",children:ua(v.deductions)}),e.jsx("span",{children:"Total Tax:"}),e.jsx("span",{className:"font-bold text-red-600 font-mono",children:ua(v.tax)})]})]}),e.jsxs("div",{className:"border border-gray-400 p-2 shadow-sm bg-gray-50",children:[e.jsx("div",{className:"font-bold mb-2 border-b border-gray-200 pb-1 text-blue-600",children:"STATUTORY BREAKDOWN (EST)"}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-y-1 text-gray-500",children:[e.jsx("span",{children:"NHT:"}),e.jsx("span",{className:"font-mono",children:ua(v.nht)}),e.jsx("span",{children:"NIS:"}),e.jsx("span",{className:"font-mono",children:ua(v.nis)}),e.jsx("span",{children:"EdTax:"}),e.jsx("span",{className:"font-mono",children:ua(v.edTax)})]})]}),e.jsxs("div",{className:"border-2 border-green-600 p-2 shadow-md bg-green-50 flex flex-col justify-center",children:[e.jsx("div",{className:"font-black text-[10px] uppercase text-green-800 mb-1",children:"NET DISBURSEMENT"}),e.jsx("div",{className:"text-left text-xs text-gray-600",children:"TOTAL NET:"}),e.jsx("div",{className:"text-right text-xl font-black text-green-700 mt-auto font-mono",children:ua(v.net)})]})]})]})]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-gray-400 px-2 py-1 flex items-center gap-2 no-print mt-auto",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-1 px-3 py-1 border border-gray-400 bg-white hover:bg-gray-100",children:[e.jsx(_e,{size:16}),e.jsx("span",{className:"font-bold",children:"Print"})]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:()=>l("/payroll/register"),className:"px-3 py-1 border border-gray-400 bg-white hover:bg-gray-100",children:"Close"})]})]})},ua=l=>parseFloat(l||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),i2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),[x,p]=m.useState(""),[g,b]=m.useState("Personal"),[h]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[N,v]=m.useState({employeeId:"",firstName:"",lastName:"",middleName:"",email:"",phone:"",dob:"",gender:"Male",maritalStatus:"Single",street:"",city:"",parish:"",country:"Jamaica",trn:"",nisNumber:"",nhtNumber:"",emergencyName:"",emergencyRelationship:"",emergencyPhone:"",department:"",designation:"",joinDate:"",status:"Active",employmentType:"Full-Time",payFrequency:"Monthly",currency:"JMD",paymentMethod:"Bank Transfer",bankName:"",bankAccount:"",salaryType:"Salaried",baseSalary:"0",hourlyRate:"0",lunchAllowance:"0",travelAllowance:"0",healthInsurance:"0",pensionPercent:"0",unionDues:"0"}),[k,f]=m.useState(!1),[j,C]=m.useState([]),[w,D]=m.useState([]),[L,A]=m.useState([]),S=async()=>{if(h.id){f(!0);try{const T=await X.fetchEmployees(h.id);T.success&&C(T.data);const q=await X.fetchDepartments(h.id);q.success&&D(q.data)}catch(T){console.error(T)}finally{f(!1)}}};m.useEffect(()=>{S()},[h.id]);const _=async T=>{try{const q=await X.fetchPayrolls({employeeId:T});q.success&&A(q.data)}catch(q){console.error(q)}},B=async()=>{if(h.id)try{const T=await X.fetchEmployees(h.id);T.success&&C(T.data)}catch(T){console.error(T)}},E=(T,q)=>v(ce=>({...ce,[T]:q})),R=()=>{v({employeeId:"",firstName:"",lastName:"",middleName:"",email:"",phone:"",dob:"",gender:"Male",maritalStatus:"Single",street:"",city:"",parish:"",country:"Jamaica",trn:"",nisNumber:"",nhtNumber:"",emergencyName:"",emergencyRelationship:"",emergencyPhone:"",department:"",designation:"",joinDate:"",status:"Active",employmentType:"Full-Time",payFrequency:"Monthly",currency:"JMD",paymentMethod:"Bank Transfer",bankName:"",bankAccount:"",salaryType:"Salaried",baseSalary:"0",hourlyRate:"0",lunchAllowance:"0",travelAllowance:"0",healthInsurance:"0",pensionPercent:"0",unionDues:"0"}),u(null),A([]),o(!0)},O=async()=>{if(!N.employeeId||!N.firstName||!N.lastName){alert("Employee ID, First Name, and Last Name are required.");return}if(!h.id){alert("Session error: No company context found. Please re-select company.");return}f(!0);try{const T={...N,companyId:h.id};let q;i?q=await X.updateEmployee(i,T):q=await X.createEmployee(T),q.success?(await B(),o(!1)):alert(q.message)}catch(T){alert(T.message||"Action failed. Please check your network connection.")}finally{f(!1)}},F=T=>{u(T.id),_(T.id),v({...{employeeId:"",firstName:"",lastName:"",middleName:"",email:"",phone:"",dob:"",gender:"Male",maritalStatus:"Single",street:"",city:"",parish:"",country:"Jamaica",trn:"",nisNumber:"",nhtNumber:"",emergencyName:"",emergencyRelationship:"",emergencyPhone:"",department:"",designation:"",joinDate:"",status:"Active",employmentType:"Full-Time",payFrequency:"Monthly",currency:"JMD",paymentMethod:"Bank Transfer",bankName:"",bankAccount:"",salaryType:"Salaried",baseSalary:"0",hourlyRate:"0",lunchAllowance:"0",travelAllowance:"0",healthInsurance:"0",pensionPercent:"0",unionDues:"0"},...T,dob:T.dob?T.dob.split("T")[0]:"",joinDate:T.joinDate?T.joinDate.split("T")[0]:"",department:T.departmentId||"",baseSalary:T.baseSalary?T.baseSalary.toString():"0",hourlyRate:T.hourlyRate?T.hourlyRate.toString():"0",lunchAllowance:T.lunchAllowance?T.lunchAllowance.toString():"0",travelAllowance:T.travelAllowance?T.travelAllowance.toString():"0",healthInsurance:T.healthInsurance?T.healthInsurance.toString():"0",pensionPercent:T.pensionPercent?T.pensionPercent.toString():"0",unionDues:T.unionDues?T.unionDues.toString():"0"}),o(!1)},M=j.filter(T=>T.lastName.toLowerCase().includes(x.toLowerCase())||T.firstName.toLowerCase().includes(x.toLowerCase())||T.employeeId.toLowerCase().includes(x.toLowerCase())),$=T=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2}).format(T||0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-gray-900",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex flex-col md:flex-row md:items-center justify-between sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Personnel Directory"}),e.jsx("p",{className:"text-gray-400 text-[9px] uppercase font-bold tracking-widest",children:"Master Employee Files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-800 text-white rounded text-[10px] font-bold uppercase tracking-widest hover:bg-gray-900 transition-colors",children:"Add Record"}),n?e.jsx("button",{onClick:O,className:"px-4 py-2 bg-gray-800 text-white rounded text-[10px] font-bold uppercase tracking-widest hover:bg-gray-900 transition-colors",children:"Commit Changes"}):e.jsx("button",{onClick:()=>{i&&o(!0)},className:`px-4 py-2 rounded text-[10px] font-bold uppercase tracking-widest transition-colors ${i?"bg-gray-800 text-white hover:bg-gray-900":"border border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Modify Data"}),e.jsxs("button",{onClick:()=>l("/"),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col shrink-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-2.5 text-gray-300",size:12}),e.jsx("input",{type:"text",placeholder:"Search by ID or Name...",value:x,onChange:T=>p(T.target.value),className:"w-full pl-8 pr-4 py-2 border border-gray-200 rounded text-[11px] focus:outline-none focus:border-gray-400 text-gray-700 font-medium"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[k&&j.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(yt,{className:"animate-spin mx-auto text-gray-300 mb-2",size:20}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Synchronizing..."})]}),M.map(T=>e.jsxs("div",{onClick:()=>F(T),className:`p-4 border-b border-gray-50 cursor-pointer transition-colors ${i===T.id?"bg-gray-800 text-white":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"font-bold text-[11px] uppercase truncate",children:[T.lastName,", ",T.firstName]}),e.jsx("span",{className:`text-[8px] font-black uppercase tracking-tighter shrink-0 ${T.status==="Active"?"text-green-500":"text-gray-400"}`,children:T.status})]}),e.jsxs("div",{className:`text-[9px] font-bold uppercase tracking-widest ${i===T.id,"text-gray-400"}`,children:[T.employeeId,"  ",T.designation]})]},T.id))]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border border-gray-200 shadow-sm rounded overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-gray-200 bg-gray-50 px-2",children:[{id:"Personal",label:"Identity"},{id:"Employment",label:"Job Role"},{id:"Payroll",label:"Salary Config"},{id:"Statutory",label:"Taxation"},{id:"History",label:"Ledger Audit"}].map(T=>e.jsx("button",{onClick:()=>b(T.id),className:`px-6 py-3 text-[10px] font-bold uppercase tracking-widest transition-colors ${g===T.id?"text-gray-900 border-b-2 border-gray-900":"text-gray-400 hover:text-gray-600"}`,children:T.label},T.id))}),e.jsxs("div",{className:"p-8 min-h-[500px]",children:[g==="Personal"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Rr,{title:"Identity"}),e.jsx(wt,{label:"First Name",value:N.firstName,onChange:T=>E("firstName",T),disabled:!n}),e.jsx(wt,{label:"Last Name",value:N.lastName,onChange:T=>E("lastName",T),disabled:!n}),e.jsx(wt,{label:"Employee ID",value:N.employeeId,onChange:T=>E("employeeId",T),disabled:!n}),e.jsx(wt,{label:"DOB",type:"date",value:N.dob,onChange:T=>E("dob",T),disabled:!n}),e.jsx(Rr,{title:"Communication"}),e.jsx(wt,{label:"Email",type:"email",value:N.email,onChange:T=>E("email",T),disabled:!n}),e.jsx(wt,{label:"Phone",value:N.phone,onChange:T=>E("phone",T),disabled:!n}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:"Street Address"}),e.jsx("input",{type:"text",value:N.street,onChange:T=>E("street",T.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none"})]}),e.jsx(wt,{label:"Parish",value:N.parish,onChange:T=>E("parish",T),disabled:!n}),e.jsx(wt,{label:"City",value:N.city,onChange:T=>E("city",T),disabled:!n})]}),g==="Employment"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Rr,{title:"Job Profile"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:"Department"}),e.jsxs("select",{value:N.department,onChange:T=>E("department",T.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none disabled:bg-gray-50 disabled:text-gray-400 transition-colors",children:[e.jsx("option",{value:"",children:"Select..."}),w.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]})]}),e.jsx(wt,{label:"Designation",value:N.designation,onChange:T=>E("designation",T),disabled:!n}),e.jsx(wt,{label:"Join Date",type:"date",value:N.joinDate,onChange:T=>E("joinDate",T),disabled:!n}),e.jsx(Ul,{label:"Status",value:N.status,onChange:T=>E("status",T),options:["Active","On Leave","Resigned"],disabled:!n})]}),g==="Payroll"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Rr,{title:"Disbursement"}),e.jsx(Ul,{label:"Method",value:N.paymentMethod,onChange:T=>E("paymentMethod",T),options:["Bank Transfer","Cheque"],disabled:!n}),e.jsx(Ul,{label:"Frequency",value:N.payFrequency,onChange:T=>E("payFrequency",T),options:["Weekly","Monthly"],disabled:!n}),e.jsxs("div",{className:"col-span-2 p-4 bg-gray-50 border border-gray-200 rounded grid grid-cols-2 gap-8",children:[e.jsx(Ul,{label:"Salary Type",value:N.salaryType,onChange:T=>E("salaryType",T),options:["Salaried","Hourly"],disabled:!n}),e.jsx(wt,{label:"Base Rate (JMD)",type:"number",value:N.salaryType==="Salaried"?N.baseSalary:N.hourlyRate,onChange:T=>E(N.salaryType==="Salaried"?"baseSalary":"hourlyRate",T),disabled:!n})]}),e.jsx(Rr,{title:"Bank Integration"}),e.jsx(Ul,{label:"Bank",value:N.bankName,onChange:T=>E("bankName",T),options:["NCB","Scotiabank","JN Bank"],disabled:!n}),e.jsx(wt,{label:"Account #",value:N.bankAccount,onChange:T=>E("bankAccount",T),disabled:!n})]}),g==="Statutory"&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[e.jsx(Rr,{title:"Government IDs"}),e.jsx(wt,{label:"TRN",value:N.trn,onChange:T=>E("trn",T),disabled:!n,placeholder:"XXX-XXX-XXX"}),e.jsx(wt,{label:"NIS #",value:N.nisNumber,onChange:T=>E("nisNumber",T),disabled:!n}),e.jsx(wt,{label:"NHT #",value:N.nhtNumber,onChange:T=>E("nhtNumber",T),disabled:!n})]}),g==="History"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Payroll Audit Log"})}),e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full text-[10px] text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-400 font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Period"}),e.jsx("th",{className:"px-4 py-3",children:"Posted"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Gross"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Net"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 font-medium text-gray-700",children:L.length>0?L.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 uppercase",children:[T.month," ",T.year]}),e.jsx("td",{className:"px-4 py-3",children:new Date(T.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-right",children:$(T.grossSalary)}),e.jsx("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:$(T.netSalary)})]},T.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-400 italic",children:"No payroll history recorded for this employee."})})})]})})]})]})]})})]})]})},Rr=({title:l})=>e.jsx("div",{className:"col-span-2 pb-2 border-b border-gray-100 mb-2 mt-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:l}),wt=({label:l,value:n,onChange:o,type:i="text",disabled:u=!1,placeholder:x=""})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:l}),e.jsx("input",{type:i,value:n,onChange:p=>o(p.target.value),disabled:u,placeholder:x,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none disabled:bg-gray-50 disabled:text-gray-400 transition-colors"})]}),Ul=({label:l,value:n,onChange:o,options:i,disabled:u=!1})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1.5",children:l}),e.jsxs("select",{value:n,onChange:x=>o(x.target.value),disabled:u,className:"w-full p-2 border border-gray-300 rounded text-sm font-medium focus:ring-0 focus:border-gray-500 outline-none disabled:bg-gray-50 disabled:text-gray-400 transition-colors",children:[e.jsx("option",{value:"",children:"Select..."}),i.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),c2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),[x,p]=m.useState(new Date().toISOString().split("T")[0]),[g,b]=m.useState(""),[h,N]=m.useState({employeeId:"",employeeName:"",date:x,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}),[v,k]=m.useState(!1),[f,j]=m.useState([]),[C,w]=m.useState([]),D=async()=>{k(!0);try{const F=localStorage.getItem("selectedCompany"),M=F?JSON.parse(F):null,$=await X.fetchAttendance({date:x,companyId:M?.id});$.success&&j($.data.map(T=>({...T,employeeId:T.employee.employeeId,employeeName:`${T.employee.firstName} ${T.employee.lastName}`,hoursWorked:T.hours.toString()})))}catch(F){console.error(F)}finally{k(!1)}},L=async()=>{try{const F=localStorage.getItem("selectedCompany"),M=F?JSON.parse(F):null;if(console.log("Selected Company:",M),M){console.log("Fetching employees for company ID:",M.id);const $=await X.fetchEmployees(M.id);console.log("API Response:",$),$.success?(console.log("Employees loaded:",$.data),console.log("Employee count:",$.data.length),$.data.length>0&&(console.log("First employee structure:",$.data[0]),console.log("First employee ID:",$.data[0].employeeId),console.log("First employee name:",$.data[0].firstName,$.data[0].lastName)),w($.data)):console.error("Failed to fetch employees:",$.message)}else console.error("No company selected")}catch(F){console.error("Error fetching employees:",F)}};bt.useEffect(()=>{L()},[]),bt.useEffect(()=>{D()},[x]);const A=(F,M)=>{if(!F||!M)return"0.00";const $=new Date(`2000-01-01 ${F}`),T=new Date(`2000-01-01 ${M}`);return T<$?"0.00":((T-$)/(1e3*60*60)).toFixed(2)},S=(F,M)=>{N($=>{const T={...$,[F]:M};if(F==="employeeId"){const q=C.find(ce=>ce.employeeId===M);q&&(T.employeeName=`${q.firstName} ${q.lastName}`)}return(F==="checkIn"||F==="checkOut")&&(T.hoursWorked=A(T.checkIn,T.checkOut)),T})},_=()=>{N({employeeId:"",employeeName:"",date:x,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}),u(null),o(!0)},B=async()=>{if(!h.employeeId){alert("REQUIRED: Staff ID is mandatory.");return}k(!0);try{const F={employeeId:h.employeeId,date:h.date,checkIn:h.checkIn,checkOut:h.checkOut,hours:h.hoursWorked,status:h.status,remarks:h.remarks};let M;i?M=await X.updateAttendance(i,F):M=await X.createAttendance(F),M.success?(await D(),o(!1),N({employeeId:"",employeeName:"",date:x,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}),u(null)):alert(M.message)}catch(F){alert(F.message||"Failed to save record")}finally{k(!1)}},E=async()=>{if(i&&window.confirm("DELETE: Remove this attendance record from the register?")){k(!0);try{(await X.deleteAttendance(i)).success&&(await D(),u(null),N({employeeId:"",employeeName:"",date:x,checkIn:"",checkOut:"",hoursWorked:"0.00",status:"Present",remarks:""}))}catch(F){alert(F.message||"Failed to delete record")}finally{k(!1)}}},R=F=>{u(F);const M=f.find($=>$.id===F);M&&(N(M),o(!0))},O=f.filter(F=>F.employeeId.toLowerCase().includes(g.toLowerCase())||F.employeeName.toLowerCase().includes(g.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-gray-900",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex items-center justify-between sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Attendance Register"}),e.jsx("p",{className:"text-gray-400 text-[9px] uppercase font-bold tracking-widest",children:"Timesheet & Presence Control"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Review Date"}),e.jsx("input",{type:"date",value:x,onChange:F=>p(F.target.value),className:"p-1.5 border border-gray-200 rounded text-[10px] font-bold text-gray-700 outline-none"})]})})]}),e.jsxs("main",{className:"flex-1 overflow-hidden p-6 flex gap-6",children:[e.jsxs("section",{className:"w-[380px] flex flex-col gap-4 shrink-0",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Shift Parameters"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(zr,{label:`Staff ID (${C.length} employees)`,children:e.jsxs("select",{value:h.employeeId,onChange:F=>S("employeeId",F.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none focus:border-gray-500",children:[e.jsx("option",{value:"",children:"Select..."}),C.length===0?e.jsx("option",{disabled:!0,children:"No employees found"}):C.map(F=>e.jsxs("option",{value:F.employeeId,children:[F.employeeId," - ",F.firstName," ",F.lastName]},F.id))]})}),e.jsx(zr,{label:"Staff Name",children:e.jsx("input",{type:"text",value:h.employeeName,onChange:F=>S("employeeName",F.target.value),disabled:!0,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none focus:border-gray-500 bg-gray-50"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(zr,{label:"In Location",children:e.jsx("input",{type:"time",value:h.checkIn,onChange:F=>S("checkIn",F.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none"})}),e.jsx(zr,{label:"Out Location",children:e.jsx("input",{type:"time",value:h.checkOut,onChange:F=>S("checkOut",F.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none"})})]}),e.jsx(zr,{label:"Status",children:e.jsxs("select",{value:h.status,onChange:F=>S("status",F.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-700 outline-none appearance-none",children:[e.jsx("option",{value:"Present",children:"PRESENT / NORMAL"}),e.jsx("option",{value:"Absent",children:"ABSENT / UNAUTH"}),e.jsx("option",{value:"Late",children:"LATE ARRIVAL"}),e.jsx("option",{value:"Leave",children:"APPROVED LEAVE"})]})}),e.jsx(zr,{label:"Operation Remarks",children:e.jsx("textarea",{value:h.remarks,onChange:F=>S("remarks",F.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-medium text-gray-700 outline-none h-20"})})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:B,className:"w-full p-3 bg-blue-600 border border-blue-700 rounded text-[10px] font-black text-white uppercase tracking-widest hover:bg-blue-700 transition-all shadow-md active:translate-y-0.5",children:i?"Update Record":"Save Record"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:_,className:"p-3 bg-white border border-gray-300 rounded text-[10px] font-bold text-gray-600 uppercase tracking-widest hover:bg-gray-50 transition-colors shadow-sm",children:"New / Clear"}),e.jsx("button",{onClick:E,disabled:!i,className:`p-3 border rounded text-[10px] font-bold uppercase tracking-widest transition-all ${i?"bg-red-50 border-red-200 text-red-600 hover:bg-red-100 shadow-sm":"bg-gray-50 border-gray-200 text-gray-300 cursor-not-allowed"}`,children:"Delete"})]})]})]}),e.jsxs("section",{className:"flex-1 bg-white border border-gray-200 rounded shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{className:"relative w-64",children:[e.jsx(Ke,{className:"absolute left-3 top-2.5 text-gray-300",size:12}),e.jsx("input",{type:"text",placeholder:"Quick Search Employees...",value:g,onChange:F=>b(F.target.value),className:"w-full pl-8 pr-4 py-2 bg-white border border-gray-200 rounded text-[10px] font-medium outline-none"})]}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest italic pr-2",children:"Daily Presence Log"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-[#F8F9FA] text-[9px] font-black text-gray-400 uppercase tracking-wider border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 w-24",children:"Emp ID"}),e.jsx("th",{className:"px-6 py-4",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-4 w-24",children:"Login"}),e.jsx("th",{className:"px-6 py-4 w-24",children:"Logout"}),e.jsx("th",{className:"px-6 py-4 w-32 text-right",children:"Computed Hrs"}),e.jsx("th",{className:"px-6 py-4 w-32 text-center",children:"Record Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 bg-white",children:[O.map(F=>e.jsxs("tr",{onClick:()=>R(F.id),className:`cursor-pointer transition-all ${i===F.id?"bg-gray-800 text-white":"hover:bg-blue-50/50"}`,children:[e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold font-mono text-blue-900 group-hover:text-blue-600",children:F.employeeId}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-black uppercase tracking-tight",children:F.employeeName}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-mono opacity-60",children:F.checkIn||"--:--"}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-mono opacity-60",children:F.checkOut||"--:--"}),e.jsx("td",{className:"px-6 py-4 text-[11px] font-black text-right tabular-nums",children:F.hoursWorked}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-[8px] font-black tracking-widest uppercase shadow-sm border ${F.status==="Present"?"bg-green-100 text-green-700 border-green-200":F.status==="Absent"?"bg-red-100 text-red-700 border-red-200":F.status==="Late"?"bg-amber-100 text-amber-700 border-amber-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:F.status})})]},F.id)),[...Array(Math.max(0,8-O.length))].map((F,M)=>e.jsx("tr",{className:"border-b border-gray-50 opacity-20",children:e.jsx("td",{colSpan:6,className:"py-6"})},`filler-${M}`))]})]})})]})]}),e.jsx("div",{className:"bg-gray-100 border-t border-gray-200 p-4 flex justify-end gap-3 sticky bottom-0",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})})]})},zr=({label:l,children:n})=>e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:l}),n]}),o2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),[x,p]=m.useState({employeeId:"",employeeName:"",leaveType:"",startDate:"",endDate:"",days:"0",reason:"",status:"Pending",approvedBy:"",remarks:""}),[g,b]=m.useState(""),[h,N]=m.useState(!1),[v,k]=m.useState([]),[f,j]=m.useState([]),C=async()=>{N(!0);try{const O=localStorage.getItem("selectedCompany"),F=O?JSON.parse(O):null,M=await X.fetchLeaves({companyId:F?.id});M.success&&k(M.data.map($=>({...$,employeeId:$.employee.employeeId,employeeName:`${$.employee.firstName} ${$.employee.lastName}`,leaveType:$.type,startDate:$.startDate.split("T")[0],endDate:$.endDate.split("T")[0]})))}catch(O){console.error(O)}finally{N(!1)}},w=async()=>{try{const O=localStorage.getItem("selectedCompany"),F=O?JSON.parse(O):null;if(F){const M=await X.fetchEmployees(F.id);M.success&&j(M.data)}}catch(O){console.error(O)}};bt.useEffect(()=>{w(),C()},[]);const D=(O,F)=>{p(M=>{const $={...M,[O]:F};if(O==="employeeId"){const T=f.find(q=>q.employeeId===F);T&&($.employeeName=`${T.firstName} ${T.lastName}`)}if((O==="startDate"||O==="endDate")&&$.startDate&&$.endDate){const T=new Date($.startDate),q=new Date($.endDate);if(q>=T){const ce=Math.abs(q-T),I=Math.ceil(ce/(1e3*60*60*24))+1;$.days=I.toString()}else $.days="0"}return $})},L=()=>{p({employeeId:"",employeeName:"",leaveType:"",startDate:"",endDate:"",days:"0",reason:"",status:"Pending",approvedBy:"",remarks:""}),u(null),o(!0)},A=async()=>{if(!x.employeeId||!x.leaveType){alert("VALIDATION ERROR: Please ensure Staff ID and Leave Type are provided.");return}N(!0);try{const O={employeeId:x.employeeId,type:x.leaveType,startDate:x.startDate,endDate:x.endDate,status:x.status,reason:x.reason};let F;i?F=await X.updateLeave(i,O):F=await X.createLeave(O),F.success?(await C(),o(!1),u(null),L(),alert("SUCCESS: System ledger updated.")):alert(F.message)}catch(O){alert(O.message||"Failed to commit leave record")}finally{N(!1)}},S=async()=>{if(!i){alert("SELECTION REQUIRED: Select a record to drop/delete.");return}if(window.confirm("CRITICAL ACTION: Are you sure you want to drop this record from the ledger?")){N(!0);try{(await X.deleteLeave(i)).success&&(await C(),u(null),L())}catch(O){alert(O.message||"Failed to delete record")}finally{N(!1)}}},_=()=>{const O=prompt("FIND RECORD: Enter Staff ID or Name to search:");O&&b(O)},B=()=>{b(""),alert("SYSTEM SYNC: Data view refreshed.")},E=O=>{u(O);const F=v.find(M=>M.id===O);F&&(p(F),o(!0))},R=v.filter(O=>O.employeeId.toLowerCase().includes(g.toLowerCase())||O.employeeName.toLowerCase().includes(g.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs selection:bg-blue-200",children:[e.jsxs("header",{className:"bg-gradient-to-b from-[#EEEEEE] to-[#D4D0C8] border-b border-gray-400 p-2 flex items-center justify-between no-print shrink-0 shadow-sm z-20",children:[e.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[e.jsx(ha,{className:"text-blue-800 drop-shadow-sm",size:18}),e.jsxs("h1",{className:"font-black text-gray-700 uppercase italic tracking-tight text-xs sm:text-sm",children:["Leave Management ",e.jsx("span",{className:"text-blue-700 tracking-widest ml-1 hidden xs:inline",children:"v2.0"})]})]}),e.jsx("div",{className:"flex items-center gap-3 pr-2",children:e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-2 py-0.5 bg-white/50 border border-white/60 rounded text-[10px] font-bold text-gray-500 italic",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_5px_rgba(34,197,94,0.5)]"}),"LV-SYSTEM-ACTIVE"]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto px-2 sm:px-4 py-4 sm:py-6 overflow-x-hidden",children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col xl:flex-row gap-4 sm:gap-6 min-h-full",children:[e.jsxs("section",{className:"flex flex-col gap-4 w-full xl:w-[400px] shrink-0",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-[4px_4px_0px_rgba(0,0,0,0.1)] relative pt-6 p-4",children:[e.jsx("div",{className:"absolute -top-3 left-4 bg-[#316AC5] text-white px-3 py-1 text-[10px] font-black uppercase italic border border-blue-900 shadow-md transform -skew-x-12 z-10 font-sans",children:"Application Input"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4",children:[e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"ID Tag"}),e.jsxs("select",{value:x.employeeId,onChange:O=>D("employeeId",O.target.value),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none",disabled:!n,children:[e.jsx("option",{value:"",children:"-- SELECT --"}),f.map(O=>e.jsxs("option",{value:O.employeeId,children:[O.employeeId," - ",O.firstName," ",O.lastName]},O.id))]})]}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Identity"}),e.jsx("input",{type:"text",value:x.employeeName,onChange:O=>D("employeeName",O.target.value),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none shadow-inner",readOnly:!0,placeholder:"Full Name..."})]}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Class"}),e.jsxs("select",{value:x.leaveType,onChange:O=>D("leaveType",O.target.value),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none",disabled:!n,children:[e.jsx("option",{value:"",children:"-- SELECT CLASS --"}),e.jsx("option",{value:"Annual Leave",children:"Annual (Full Paid)"}),e.jsx("option",{value:"Sick Leave",children:"Sick (Medical)"}),e.jsx("option",{value:"Casual Leave",children:"Casual (Unpaid)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase ml-1 tracking-widest",children:"Start Block"}),e.jsx("input",{type:"date",value:x.startDate,onChange:O=>D("startDate",O.target.value),className:"w-full p-2 border border-gray-300 bg-blue-50/50 text-blue-900 font-bold outline-none",readOnly:!n})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase ml-1 tracking-widest",children:"End Block"}),e.jsx("input",{type:"date",value:x.endDate,onChange:O=>D("endDate",O.target.value),className:"w-full p-2 border border-gray-300 bg-blue-50/50 text-blue-900 font-bold outline-none",readOnly:!n})]})]}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Net Total"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-2 text-yellow-800 font-black text-sm text-center shadow-inner italic",children:[x.days||"0"," DAYS"]})]}),e.jsx("div",{className:"h-px bg-gray-200 my-1"}),e.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-x-2 items-center",children:[e.jsx("label",{className:"text-gray-500 font-black text-right uppercase text-[9px] tracking-tighter",children:"Status"}),e.jsxs("select",{value:x.status,onChange:O=>D("status",O.target.value),className:`w-full p-2 border font-black outline-none ${x.status==="Approved"?"border-green-400 bg-green-50 text-green-700":x.status==="Rejected"?"border-red-400 bg-red-50 text-red-700":"border-gray-300 bg-gray-50 text-gray-700"}`,disabled:!n,children:[e.jsx("option",{value:"Pending",children:"PENDING"}),e.jsx("option",{value:"Approved",children:"APPROVED"}),e.jsx("option",{value:"Rejected",children:"REJECTED"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 xl:grid-cols-2 gap-2 mt-auto",children:[{icon:Ke,label:"Find",color:"blue",action:_},{icon:tt,label:"Drop",color:"red",action:S},{icon:yt,label:"Sync",color:"green",action:B},{icon:Ot,label:"Enter",color:"blue",action:A},{icon:qd,label:"Log",color:"gray",action:B},{icon:Ns,label:"Init",color:"amber",action:L,primary:!0}].map((O,F)=>e.jsxs("button",{onClick:O.action,className:`flex flex-col items-center justify-center p-2 border-b-2 border-r-2 rounded-sm transition-all active:scale-95 active:border-0 shadow-sm ${O.primary?"ring-2 ring-amber-400 ring-offset-1 bg-[#F9F7F2]":"bg-[#E0DCCF]"} border-gray-500/50 hover:bg-white/80`,children:[e.jsx(O.icon,{className:`text-${O.color}-600 mb-1`,size:16}),e.jsx("span",{className:"font-black text-[8px] uppercase tracking-widest",children:O.label})]},F))})]}),e.jsx("section",{className:"flex-1 min-w-0 flex flex-col overflow-hidden",children:e.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-[4px_4px_0px_rgba(0,0,0,0.1)] flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 p-2 flex items-center justify-between shrink-0",children:[e.jsx("span",{className:"font-black text-gray-600 uppercase text-[10px] italic tracking-widest pl-2",children:"System Ledger"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-100 border-b border-gray-300 sticky top-0 z-10 shadow-sm",children:["ID CODE","STAFF IDENTITY","CATEGORY","START","END","QTY","STATE"].map(O=>e.jsx("th",{className:"p-3 text-left font-black text-[9px] text-gray-400 uppercase tracking-widest border-r border-gray-200 last:border-0 whitespace-nowrap",children:O},O))})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(O=>e.jsxs("tr",{onClick:()=>E(O.id),className:`group cursor-pointer transition-colors duration-75 ${i===O.id?"bg-[#316AC5] text-white":"hover:bg-blue-50 odd:bg-white even:bg-gray-50/50"}`,children:[e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40",children:O.employeeId}),e.jsx("td",{className:"p-3 font-black text-[10px] uppercase truncate max-w-[120px] border-r border-gray-200/40 italic",children:O.employeeName}),e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40",children:O.leaveType}),e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40 text-gray-400 group-hover:text-blue-600",children:O.startDate}),e.jsx("td",{className:"p-3 font-bold text-[10px] border-r border-gray-200/40 text-gray-400 group-hover:text-blue-600",children:O.endDate}),e.jsx("td",{className:"p-3 text-center border-r border-gray-200/40 shrink-0",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full font-black text-[9px] ${i===O.id?"bg-white/20":"bg-gray-200 text-gray-600"}`,children:O.days})}),e.jsx("td",{className:"p-3 shrink-0",children:e.jsx("span",{className:`font-black text-[9px] uppercase tracking-widest ${O.status==="Approved"?"text-green-500":O.status==="Rejected"?"text-red-500":"text-amber-500"} ${i===O.id?"text-white":""}`,children:O.status})})]},O.id))})]})})]})}),e.jsxs("div",{className:"flex flex-row xl:flex-col gap-3 w-full xl:w-32 shrink-0 z-30 no-print",children:[e.jsx("div",{className:"hidden xl:block xl:flex-1"}),e.jsxs("button",{onClick:A,className:"flex-1 xl:flex-none flex flex-col items-center justify-center p-4 bg-gradient-to-br from-blue-600 to-blue-800 border-b-4 border-r-4 border-blue-900 rounded-sm text-white hover:brightness-110 active:scale-95 transition-all shadow-xl",children:[e.jsx(Ot,{className:`mb-2 drop-shadow-md ${n?"animate-bounce":""}`,size:28}),e.jsx("span",{className:"font-black text-[10px] uppercase italic tracking-[0.2em] leading-none text-center",children:"Commit App"})]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})]})]})})]})},d2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),[x,p]=m.useState({employeeId:"",employeeName:"",basicSalary:"",allowances:"",deductions:"",netSalary:"",month:"",year:"",status:"Pending"}),[g,b]=m.useState(!1),[h,N]=m.useState([]),[v,k]=m.useState([]),f=async()=>{b(!0);try{const A=localStorage.getItem("selectedCompany"),S=A?JSON.parse(A):null,_=await X.fetchPayrolls({companyId:S?.id});_.success&&N(_.data.map(B=>({...B,employeeId:B.employee.employeeId,employeeName:`${B.employee.firstName} ${B.employee.lastName}`,basicSalary:B.grossSalary.toString(),allowances:(parseFloat(B.grossSalary)-parseFloat(B.netSalary)+parseFloat(B.deductions)).toString(),deductions:B.deductions.toString(),netSalary:B.netSalary.toString(),month:B.period.split(" ")[0],year:B.period.split(" ")[1]})))}catch(A){console.error(A)}finally{b(!1)}},j=async()=>{try{const A=localStorage.getItem("selectedCompany"),S=A?JSON.parse(A):null;if(S){const _=await X.fetchEmployees(S.id);_.success&&k(_.data)}}catch(A){console.error(A)}};bt.useEffect(()=>{j(),f()},[]);const C=(A,S)=>{p(_=>{const B={..._,[A]:S};if(A==="employeeId"){const E=v.find(R=>R.employeeId===S);E&&(B.employeeName=`${E.firstName} ${E.lastName}`)}return["basicSalary","allowances","deductions"].includes(A)&&(B.netSalary=((parseFloat(B.basicSalary)||0)+(parseFloat(B.allowances)||0)-(parseFloat(B.deductions)||0)).toFixed(2)),B})},w=()=>{p({employeeId:"",employeeName:"",basicSalary:"",allowances:"",deductions:"",netSalary:"0.00",month:new Date().toLocaleString("default",{month:"long"}),year:new Date().getFullYear().toString(),status:"Pending"}),u(null),o(!0)},D=async()=>{if(!x.employeeId){alert("VALIDATION ERROR: Please select an employee from the directory first.");return}b(!0);try{const A={employeeId:x.employeeId,period:`${x.month} ${x.year}`,grossSalary:x.basicSalary,netSalary:x.netSalary,deductions:x.deductions,tax:"0",status:x.status};let S;i?S=await X.updatePayroll(i,A):S=await X.createPayroll(A),S.success?(await f(),o(!1),w(),alert("SUCCESS: Payroll record updated.")):alert(S.message)}catch(A){alert(A.message||"Failed to commit pay record")}finally{b(!1)}},L=A=>{u(A);const S=h.find(_=>_.id===A);S&&(p(S),o(!0))};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-gray-900",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex items-center justify-between sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Payroll Disbursement"}),e.jsx("p",{className:"text-gray-400 text-[9px] uppercase font-bold tracking-widest",children:"Execution & Ledger Control"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest border border-gray-200 px-2 py-1 rounded",children:"Terminal Status: Secure"})})]}),e.jsxs("main",{className:"flex-1 overflow-hidden p-6 flex gap-6",children:[e.jsxs("section",{className:"w-[400px] flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-6 shadow-sm",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Payroll Parameters"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(gs,{label:"Employee Link",children:e.jsxs("select",{value:x.employeeId,onChange:A=>C("employeeId",A.target.value),disabled:!n,className:"w-full p-2 bg-gray-50 border border-gray-200 rounded text-[11px] font-bold text-gray-700 outline-none",children:[e.jsx("option",{value:"",children:"Select from Directory"}),v.map(A=>e.jsxs("option",{value:A.employeeId,children:[A.employeeId,"  ",A.firstName," ",A.lastName]},A.id))]})}),e.jsx(gs,{label:"Employee Name",children:e.jsx("input",{type:"text",value:x.employeeName,readOnly:!0,className:"w-full p-2 bg-gray-50 border border-gray-200 rounded text-[11px] font-bold text-gray-500 outline-none"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(gs,{label:"Month",children:e.jsxs("select",{value:x.month,onChange:A=>C("month",A.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none",children:[e.jsx("option",{value:"January",children:"January"}),e.jsx("option",{value:"February",children:"February"}),e.jsx("option",{value:"March",children:"March"}),e.jsx("option",{value:"April",children:"April"}),e.jsx("option",{value:"May",children:"May"}),e.jsx("option",{value:"June",children:"June"}),e.jsx("option",{value:"July",children:"July"}),e.jsx("option",{value:"August",children:"August"}),e.jsx("option",{value:"September",children:"September"}),e.jsx("option",{value:"October",children:"October"}),e.jsx("option",{value:"November",children:"November"}),e.jsx("option",{value:"December",children:"December"})]})}),e.jsx(gs,{label:"Year",children:e.jsx("select",{value:x.year,onChange:A=>C("year",A.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 outline-none",children:Array.from({length:3},(A,S)=>new Date().getFullYear()-S).map(A=>e.jsx("option",{value:A,children:A},A))})})]}),e.jsx(gs,{label:"Base Pay (JMD)",children:e.jsx("input",{type:"number",value:x.basicSalary,onChange:A=>C("basicSalary",A.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 focus:border-gray-500 outline-none"})}),e.jsx(gs,{label:"Allowances",children:e.jsx("input",{type:"number",value:x.allowances,onChange:A=>C("allowances",A.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 focus:border-gray-500 outline-none"})}),e.jsx(gs,{label:"Deductions",children:e.jsx("input",{type:"number",value:x.deductions,onChange:A=>C("deductions",A.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-900 focus:border-gray-500 outline-none"})}),e.jsxs("div",{className:"p-4 bg-gray-900 rounded text-right",children:[e.jsx("span",{className:"block text-[8px] font-black text-gray-500 uppercase tracking-[0.2em] mb-1",children:"Total Net Payable"}),e.jsxs("span",{className:"text-xl font-bold text-white font-mono",children:["$",parseFloat(x.netSalary||0).toLocaleString()]})]}),e.jsx(gs,{label:"Status",children:e.jsxs("select",{value:x.status,onChange:A=>C("status",A.target.value),disabled:!n,className:"w-full p-2 border border-gray-300 rounded text-[11px] font-bold text-gray-700 outline-none appearance-none",children:[e.jsx("option",{value:"Pending",children:"PENDING DISPATCH"}),e.jsx("option",{value:"Paid",children:"CLEARED / PAID"}),e.jsx("option",{value:"Hold",children:"ON HOLD"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:w,className:"p-3 bg-white border border-gray-300 rounded text-[10px] font-bold text-gray-600 uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Reset Form"}),e.jsx("button",{onClick:D,className:"p-3 bg-gray-800 border border-gray-800 rounded text-[10px] font-bold text-white uppercase tracking-widest hover:bg-gray-900 transition-colors shadow-sm",children:"Commit Pay"})]})]}),e.jsxs("section",{className:"flex-1 bg-white border border-gray-200 rounded shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Master Payroll Ledger"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"System Sync: Live"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-[#F8F9FA] text-[9px] font-black text-gray-400 uppercase tracking-wider border-b border-gray-100",children:e.jsx("tr",{children:["ID","Employee","Period","Gross","Extras","Deduct","Net Disbursement"].map(A=>e.jsx("th",{className:"px-6 py-4",children:A},A))})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:h.map(A=>e.jsxs("tr",{onClick:()=>L(A.id),className:`cursor-pointer transition-colors ${i===A.id?"bg-gray-800 text-white":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold",children:A.employeeId}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold uppercase",children:A.employeeName}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold uppercase",children:A.month}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right",children:["$",parseFloat(A.basicSalary).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right text-green-500",children:["$",parseFloat(A.allowances).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right text-red-500",children:["$",parseFloat(A.deductions).toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-[10px] font-mono text-right font-bold text-gray-900 group-selected:text-white tabular-nums",children:["$",parseFloat(A.netSalary).toLocaleString()]})]},A.id))})]})})]})]}),e.jsx("div",{className:"bg-gray-100 border-t border-gray-200 p-4 flex justify-end gap-3 sticky bottom-0",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-4 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})})]})},gs=({label:l,children:n})=>e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:l}),n]}),u2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState([]),[x]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));return m.useEffect(()=>{(async()=>{if(x.id)try{o(!0);const g=await X.fetchEmployees(x.id);g.success&&u(g.data)}catch(g){console.error(g)}finally{o(!1)}})()},[x.id]),e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1",children:e.jsx("span",{className:"font-bold text-gray-700",children:"Employee Report"})}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto relative",children:[n&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-10 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsx("div",{className:"bg-white border border-gray-400 shadow-inner p-4 min-h-[400px]",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-[#D4D0C8]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Employee ID"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Name"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Department"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Designation"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Status"})]})}),e.jsx("tbody",{className:"font-bold",children:i.length>0?i.map(p=>e.jsxs("tr",{className:"odd:bg-blue-50 hover:bg-yellow-50 transition-colors",children:[e.jsx("td",{className:"border p-2",children:p.employeeId}),e.jsxs("td",{className:"border p-2",children:[p.firstName," ",p.lastName]}),e.jsx("td",{className:"border p-2",children:p.department?.name||"-"}),e.jsx("td",{className:"border p-2",children:p.designation}),e.jsx("td",{className:"border p-2",children:e.jsx("span",{className:p.status==="Active"?"text-green-700":"text-red-600",children:p.status})})]},p.id)):!n&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"border p-8 text-center text-gray-400 italic",children:"No employee records found for this company."})})})]})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-6 py-2 bg-[#316AC5] border border-[#26539a] text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(_e,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-6 py-2 bg-gray-600 border border-gray-700 text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(Ee,{size:16}),"Exit"]})]})]})]})},x2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState([]),[x]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));m.useEffect(()=>{(async()=>{if(x.id)try{o(!0);const h=await X.fetchAttendance({companyId:x.id});h.success&&u(h.data)}catch(h){console.error(h)}finally{o(!1)}})()},[x.id]);const p=b=>b?new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",g=b=>b?new Date(b).toLocaleDateString():"-";return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans relative",children:[n&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-2.5 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"text-blue-800",size:18}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Attendance Performance Report"})]})}),e.jsxs("div",{className:"flex-1 p-2 sm:p-6 overflow-auto bg-[#333333]/5",children:[e.jsx("div",{className:"bg-white border border-gray-400 shadow-[4px_4px_0_rgba(0,0,0,0.1)] rounded-sm overflow-hidden flex flex-col min-h-[400px]",children:e.jsx("div",{className:"overflow-x-auto overscroll-contain no-scrollbar",children:e.jsxs("table",{className:"w-full border-collapse text-left min-w-[700px]",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 border-b border-gray-400 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest whitespace-nowrap",children:"Employee ID"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest whitespace-nowrap",children:"Full Name"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Report Date"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 border-r border-gray-300 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Total Hrs"}),e.jsx("th",{className:"px-4 py-3 font-black text-[10px] text-gray-600 uppercase tracking-widest text-center whitespace-nowrap",children:"Status"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:i.length>0?i.map(b=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 font-mono text-blue-800 tracking-tighter whitespace-nowrap uppercase",children:b.employee?.employeeId||"-"}),e.jsxs("td",{className:"px-4 py-3 border-r border-gray-100 uppercase tracking-tight whitespace-nowrap",children:[b.employee?.firstName," ",b.employee?.lastName]}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center font-mono whitespace-nowrap",children:g(b.date)}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center text-green-700 whitespace-nowrap",children:p(b.checkIn)}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center text-red-600 whitespace-nowrap",children:p(b.checkOut)}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-center font-black whitespace-nowrap",children:b.totalHours||"0"}),e.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] uppercase font-black border shadow-sm ${b.status==="Present"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:b.status})})]},b.id)):!n&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-12 text-center text-gray-400 italic font-medium uppercase tracking-widest bg-gray-50/30",children:"No attendance records found for this period."})})})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-3 bg-[#0055E5] text-white font-black text-[11px] uppercase tracking-[0.2em] shadow-lg border-b-4 border-r-4 border-blue-900 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all",children:[e.jsx(_e,{size:16}),"Run Print Batch"]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-8 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:16,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"bg-white border border-gray-400 px-4 py-3 flex flex-col justify-center rounded-sm shadow-inner sm:w-48",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:"Total Capacity"}),e.jsx("span",{className:"text-xl font-black text-gray-800 tracking-tighter leading-none mt-1",children:"100% Verified"})]})]})]})]})},p2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState([]),[x]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}"));m.useEffect(()=>{(async()=>{if(x.id)try{o(!0);const b=await X.fetchPayrolls({companyId:x.id});b.success&&u(b.data)}catch(b){console.error(b)}finally{o(!1)}})()},[x.id]);const p=g=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(g||0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1",children:e.jsx("span",{className:"font-bold text-gray-700",children:"Salary Report"})}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[n&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsx("div",{className:"bg-white border border-gray-400 shadow-inner p-4 min-h-[400px]",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-[#D4D0C8]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Employee ID"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Name"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Period"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Basic"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Allowances"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter",children:"Deductions"}),e.jsx("th",{className:"border p-2 text-left uppercase tracking-tighter font-black",children:"Net Salary"})]})}),e.jsx("tbody",{className:"font-bold",children:i.length>0?i.map(g=>e.jsxs("tr",{className:"odd:bg-blue-50 hover:bg-yellow-50 transition-colors",children:[e.jsx("td",{className:"border p-2",children:g.employee?.employeeId||"-"}),e.jsxs("td",{className:"border p-2",children:[g.employee?.firstName," ",g.employee?.lastName]}),e.jsx("td",{className:"border p-2",children:g.period}),e.jsx("td",{className:"border p-2 text-right",children:p(g.grossSalary)}),e.jsx("td",{className:"border p-2 text-right",children:p(g.tax)}),e.jsx("td",{className:"border p-2 text-right text-red-600",children:p(g.deductions)}),e.jsx("td",{className:"border p-2 text-right text-blue-900 font-black",children:p(g.netSalary)})]},g.id)):!n&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"border p-12 text-center text-gray-400 italic",children:"No payroll records discovered for this company."})})})]})}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 bg-[#316AC5] border border-[#26539a] text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(_e,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-6 py-2 bg-gray-600 border border-gray-700 text-white font-bold uppercase tracking-widest text-[10px] shadow-sm active:translate-y-0.5",children:[e.jsx(Ee,{size:16}),"Exit"]})]})]})]})},m2=()=>{const l=xe(),[n,o]=m.useState("general"),[i,u]=m.useState(!1),x={systemName:"HRM Payroll Pro",language:"English (US)",timezone:"GMT-5 (Jamaica)",dateFormat:"DD/MM/YYYY",currency:"JMD",enableNotifications:!0,autoBackup:!0,backupFrequency:"Daily",theme:"Classic Win98",sessionTimeout:"30",loginSecurity:"High",passwordExpiry:"90",allowMultiFactor:!1,emailAlerts:!0,desktopAlerts:!0},[p,g]=m.useState(x);m.useEffect(()=>{(async()=>{try{u(!0);const k=await X.fetchSystemSettings();k.success&&k.data&&(g({...x,...k.data}),k.data.theme==="Dark Mode (Night Owl)"&&document.body.classList.add("dark-theme"))}catch(k){console.error(k)}finally{u(!1)}})()},[]);const b=(v,k)=>{g(f=>({...f,[v]:k}))},h=async()=>{try{u(!0),(await X.updateSystemSettings(p)).success&&(p.theme==="Dark Mode (Night Owl)"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),alert("Settings saved successfully!"))}catch(v){console.error(v),alert("Failed to save settings.")}finally{u(!1)}},N=[{id:"general",label:"General Settings",icon:e.jsx(la,{size:16})},{id:"security",label:"Security & Access",icon:e.jsx($l,{size:16})},{id:"localization",label:"Localization",icon:e.jsx(Mh,{size:16})},{id:"notifications",label:"Notifications",icon:e.jsx(WN,{size:16})},{id:"database",label:"Database & Backup",icon:e.jsx(xa,{size:16})}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{size:14,className:"text-gray-700"}),e.jsx("span",{className:"font-bold text-gray-700",children:"System Configuration & Settings"})]})}),e.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col md:flex-row gap-4 overflow-auto",children:[e.jsxs("div",{className:"w-full md:w-48 bg-[#D4D0C8] border border-gray-400 flex flex-row md:flex-col overflow-x-auto shrink-0",children:[N.map(v=>e.jsxs("button",{onClick:()=>o(v.id),className:`flex items-center gap-2 px-3 py-2 text-left border-b border-gray-300 transition-none ${n===v.id?"bg-[#316AC5] text-white font-bold border-r-4 border-r-yellow-400":"text-black hover:bg-gray-300"}`,children:[v.icon,e.jsx("span",{children:v.label})]},v.id)),e.jsx("div",{className:"flex-1 min-h-[10px]"}),e.jsx("div",{className:"p-2 border-t border-gray-400 bg-gray-200",children:e.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase italic",children:"Version 4.0.2"})})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-inner p-6 overflow-auto",children:[n==="general"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-blue-800",children:"General System Preferences"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"System Display Name"}),e.jsx("input",{type:"text",value:p.systemName,onChange:v=>b("systemName",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner focus:outline-blue-500 font-bold"}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"UI Theme Style"}),e.jsxs("select",{value:p.theme,onChange:v=>b("theme",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner focus:outline-blue-500 font-bold",children:[e.jsx("option",{children:"Classic Win98"}),e.jsx("option",{children:"Modern Professional"}),e.jsx("option",{children:"Dark Mode (Night Owl)"}),e.jsx("option",{children:"High Contrast"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Session Timeout (m)"}),e.jsx("input",{type:"number",value:p.sessionTimeout,onChange:v=>b("sessionTimeout",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner w-32 font-bold"}),e.jsx("div",{className:"col-start-2 pt-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:p.enableNotifications,onChange:v=>b("enableNotifications",v.target.checked),className:"w-4 h-4 cursor-pointer"}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-blue-600 transition-colors",children:"Enable In-App System Alerts & Notifications"})]})})]})]}),n==="security"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-amber-800",children:"Security & Access Control"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Minimum Security Level"}),e.jsxs("select",{value:p.loginSecurity,onChange:v=>b("loginSecurity",v.target.value),className:"p-1.5 border border-gray-400 font-bold",children:[e.jsx("option",{children:"Standard"}),e.jsx("option",{children:"High"}),e.jsx("option",{children:"Strict (Locked Down)"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Password Expiry (Days)"}),e.jsx("input",{type:"number",value:p.passwordExpiry,onChange:v=>b("passwordExpiry",v.target.value),className:"p-1.5 border border-gray-400 font-bold w-32"}),e.jsxs("div",{className:"col-start-2 flex flex-col gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.allowMultiFactor,onChange:v=>b("allowMultiFactor",v.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-gray-700",children:"Enforce Multi-Factor Authentication (MFA)"})]}),e.jsx("p",{className:"text-[10px] text-gray-400 italic ml-6",children:"Requires valid email server integration for SMS/OTP codes."})]})]})]}),n==="localization"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-blue-800",children:"Regional & Language Settings"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"System Language"}),e.jsxs("select",{value:p.language,onChange:v=>b("language",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",children:[e.jsx("option",{children:"English (US)"}),e.jsx("option",{children:"English (UK)"}),e.jsx("option",{children:"Spanish"}),e.jsx("option",{children:"French"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Time Zone"}),e.jsxs("select",{value:p.timezone,onChange:v=>b("timezone",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",children:[e.jsx("option",{children:"GMT-5 (Jamaica)"}),e.jsx("option",{children:"GMT-4 (Eastern)"}),e.jsx("option",{children:"GMT+0 (London)"}),e.jsx("option",{children:"GMT+5:30 (India)"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Date Format"}),e.jsxs("select",{value:p.dateFormat,onChange:v=>b("dateFormat",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",children:[e.jsx("option",{children:"DD/MM/YYYY"}),e.jsx("option",{children:"MM/DD/YYYY"}),e.jsx("option",{children:"YYYY-MM-DD"})]}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Default Currency"}),e.jsx("input",{type:"text",value:p.currency,onChange:v=>b("currency",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner w-32 font-bold"})]})]}),n==="notifications"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-green-800",children:"Notification Channels"}),e.jsxs("div",{className:"space-y-4 text-xs",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded cursor-pointer hover:bg-white group",children:[e.jsx("input",{type:"checkbox",checked:p.emailAlerts,onChange:v=>b("emailAlerts",v.target.checked),className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 uppercase",children:"Enable Email Alerts"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Send critical system events to administrator email address."})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded cursor-pointer hover:bg-white group",children:[e.jsx("input",{type:"checkbox",checked:p.desktopAlerts,onChange:v=>b("desktopAlerts",v.target.checked),className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 uppercase",children:"Browser Notifications"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Show desktop push notifications for status updates and tasks."})]})]})]})]}),n==="database"&&e.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-sm font-bold border-b border-gray-300 pb-2 mb-6 text-blue-800",children:"Data Management & Backups"}),e.jsxs("div",{className:"grid grid-cols-[150px_1fr] gap-6 items-center text-xs",children:[e.jsx("div",{className:"col-start-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer font-bold text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:p.autoBackup,onChange:v=>b("autoBackup",v.target.checked),className:"w-4 h-4 cursor-pointer"}),"Enable Autonomous Database Backups"]})}),e.jsx("label",{className:"font-bold text-gray-600 text-right",children:"Backup Frequency"}),e.jsxs("select",{value:p.backupFrequency,onChange:v=>b("backupFrequency",v.target.value),className:"p-1.5 border border-gray-400 shadow-inner font-bold",disabled:!p.autoBackup,children:[e.jsx("option",{children:"Every Hour"}),e.jsx("option",{children:"Daily"}),e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Monthly"})]}),e.jsxs("div",{className:"col-start-2 pt-6 flex gap-4",children:[e.jsx("button",{onClick:()=>alert("BACKUP INITIALIZED: System snapshot is being synchronized..."),className:"px-4 py-2 bg-blue-600 text-white font-bold border border-blue-800 shadow-[2px_2px_0_rgba(0,0,0,0.2)] active:translate-y-0.5",children:"Run Manual Backup Now"}),e.jsx("button",{onClick:()=>alert("SYSTEM PURGE: Old logs have been cleared from disk."),className:"px-4 py-2 border border-red-500 text-red-600 font-bold bg-white shadow-[2px_2px_0_rgba(0,0,0,0.1)] active:translate-y-0.5",children:"Purge Old Log Files"})]})]})]})]}),e.jsxs("div",{className:"flex flex-row md:flex-col gap-2 w-full md:w-20 shrink-0 justify-end md:justify-start relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-10 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:24})}),e.jsxs("button",{onClick:h,disabled:i,className:`flex flex-col items-center justify-center p-2 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:border-0 active:translate-y-0.5 ${i?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Ot,{className:"text-blue-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:i?"SAVING...":"SAVE ALL"})]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex flex-col items-center justify-center p-2 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:border-0 active:translate-y-0.5",children:[e.jsx(Ee,{className:"text-red-600 mb-1",size:20}),e.jsx("span",{className:"font-bold text-[10px]",children:"CLOSE"})]})]})]})]})},h2=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(Lt,{size:18}),n==="error"&&e.jsx(js,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},b2=({isOpen:l,onClose:n,title:o,children:i})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,f2=()=>{const l=xe(),[n,o]=m.useState(new Date().toLocaleTimeString()),[i,u]=m.useState([]),[x,p]=m.useState({active:0,lunch:0,off:0}),[g,b]=m.useState(!0),[h,N]=m.useState(!1),[v,k]=m.useState("All Departments"),[f,j]=m.useState([]),[C,w]=m.useState(null),[D,L]=m.useState(!1),[A,S]=m.useState(new Date().toISOString().split("T")[0]),[_,B]=m.useState(!1),[E,R]=m.useState(!1),O=m.useRef(null),[F,M]=m.useState(()=>{try{return JSON.parse(localStorage.getItem("selectedCompany")||"{}")}catch{return{}}}),$=(ee,P="success")=>{w({message:ee,type:P})};m.useEffect(()=>{const ee=setInterval(()=>o(new Date().toLocaleTimeString()),1e3);return()=>clearInterval(ee)},[]),m.useEffect(()=>{const ee=Array.from(new Set(i.map(P=>P.department))).sort();j(ee)},[i]);const T=async(ee=!1)=>{ee||B(!0);try{const P=await X.fetchLiveAttendance(F?.id);P.data&&(u(P.data.entries||[]),p(P.data.stats||{active:0,lunch:0,off:0}),ee||$("Data Synced Successfully","success"))}catch(P){console.error("Failed to fetch live attendance",P),ee||$("Failed to sync data","error")}finally{b(!1),ee||B(!1)}};m.useEffect(()=>{T(!0)},[F]),m.useEffect(()=>(h?O.current=setInterval(()=>{T(!0)},5e3):O.current&&clearInterval(O.current),()=>{O.current&&clearInterval(O.current)}),[h,F]);const q=()=>{R(!0),setTimeout(()=>{R(!1),$("Monitoring logs saved to database","success")},1500)},ce=()=>{L(!0)},I=()=>{L(!1),$(`Fetching archives for ${A}...`,"info")},W=()=>{N(!0),T(!0),$("Live Monitoring Started","success")},de=()=>{N(!1),$("Live Monitoring Paused","info")},ne=i.filter(ee=>v==="All Departments"||ee.department===v);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[C&&e.jsx(h2,{message:C.message,type:C.type,onClose:()=>w(null)}),e.jsx(b2,{isOpen:D,onClose:()=>L(!1),title:"Select Archive Date",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-600",children:"Date to retrieve:"}),e.jsx("input",{type:"date",value:A,onChange:ee=>S(ee.target.value),className:"p-2 border border-gray-400 rounded-sm font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-700 transition-colors shadow-sm",children:"Retrieve"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-2 flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Ti,{size:16,className:"text-blue-700 shrink-0"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter truncate",children:"Time Keeper - Real Time Monitoring"})]}),e.jsx("div",{className:"text-blue-800 font-black text-xs sm:text-sm italic whitespace-nowrap bg-white/50 px-3 py-1 rounded shadow-inner",children:n})]}),e.jsxs("div",{className:"flex-1 p-2 sm:p-4 flex flex-col lg:flex-row gap-4 overflow-y-auto lg:overflow-hidden min-w-0",children:[e.jsxs("div",{className:"w-full lg:w-64 bg-[#D4D0C8] border border-gray-400 p-3 shadow-[inset_1px_1px_0_white] shrink-0",children:[e.jsxs("div",{className:"bg-[#316AC5] text-white px-3 py-1.5 font-bold mb-4 shadow-[inset_0_1px_1px_rgba(255,255,255,0.4)] flex items-center justify-between",children:[e.jsx("span",{children:"CONTROLS"}),e.jsx("div",{className:"lg:hidden text-[9px] font-black opacity-75",children:"MANUAL OVERRIDE"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-1 gap-3",children:[e.jsxs("button",{onClick:W,disabled:h,className:`flex items-center gap-3 w-full bg-white border border-gray-500 p-2.5 shadow-sm transition-all rounded-sm group relative overflow-hidden ${h?"bg-green-50 border-green-500":"hover:bg-green-50 active:translate-y-0.5"}`,children:[e.jsx(Gd,{size:18,className:`text-green-600 ${h?"animate-pulse":"group-hover:scale-110"} transition-transform`}),e.jsx("span",{className:"font-black text-[11px] uppercase tracking-tighter text-left z-10",children:h?"MONITORING ACTIVE":"START SHIFT LOG"}),h&&e.jsx("div",{className:"absolute inset-0 bg-green-100 opacity-20 animate-pulse"})]}),e.jsxs("button",{onClick:de,disabled:!h,className:`flex items-center gap-3 w-full bg-white border border-gray-400 p-2.5 shadow-sm transition-all rounded-sm group ${h?"hover:bg-yellow-50 active:translate-y-0.5":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(dv,{size:18,className:"text-yellow-600 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-black text-[11px] uppercase tracking-tighter",children:"PAUSE MONITORING"})]}),e.jsxs("button",{onClick:()=>T(!1),disabled:_,className:"flex items-center gap-3 w-full bg-white border border-gray-400 p-2.5 hover:bg-blue-50 active:translate-y-0.5 shadow-sm transition-all rounded-sm group",children:[e.jsx(yt,{size:18,className:`text-blue-600 transition-transform ${_?"animate-spin":"group-hover:rotate-180"}`}),e.jsx("span",{className:"font-black text-[11px] uppercase tracking-tighter",children:_?"SYNCING...":"SYNC BIOMETRIC"})]})]}),e.jsxs("div",{className:"mt-6 lg:mt-8 border-t border-gray-400 pt-4",children:[e.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-2 tracking-widest",children:"Filters / Views"}),e.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-col gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{value:v,onChange:ee=>k(ee.target.value),className:"w-full p-2 pr-8 border border-gray-400 font-bold bg-white text-[10px] focus:ring-1 focus:ring-blue-500 outline-none appearance-none rounded-sm",children:[e.jsx("option",{children:"All Departments"}),f.map(ee=>e.jsx("option",{children:ee},ee))]}),e.jsx(Ys,{size:14,className:"absolute right-2 top-2.5 text-gray-500 pointer-events-none"})]}),e.jsxs("div",{className:"flex-1 bg-white p-3 border border-gray-400 text-[10px] sm:text-[11px] font-black shadow-inner grid grid-cols-3 sm:grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex justify-between border-b lg:border-none border-gray-100 pb-1",children:[e.jsx("span",{children:"ACTIVE:"})," ",e.jsx("span",{className:"text-green-600",children:x.active})]}),e.jsxs("div",{className:"flex justify-between border-b lg:border-none border-gray-100 pb-1",children:[e.jsx("span",{children:"LUNCH:"})," ",e.jsx("span",{className:"text-yellow-600",children:x.lunch})]}),e.jsxs("div",{className:"flex justify-between border-b lg:border-none border-gray-100 pb-1",children:[e.jsx("span",{children:"OFF:"})," ",e.jsx("span",{className:"text-gray-400",children:x.off})]})]})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col border border-gray-400 bg-white shadow-inner overflow-hidden min-h-[400px] sm:min-h-0 relative",children:[g&&e.jsx("div",{className:"absolute inset-0 bg-white/80 z-20 flex items-center justify-center backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(yt,{className:"animate-spin text-blue-600",size:32}),e.jsx("span",{className:"text-xs font-bold text-blue-800 uppercase tracking-widest animate-pulse",children:"Connecting to time server..."})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] p-2 border-b border-gray-400 flex items-center justify-between px-3 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full shadow-[0_0_8px_rgba(34,197,94,0.6)] ${h?"bg-green-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"font-black uppercase tracking-wider text-[11px]",children:h?"Live Status Feed":"Feed Paused"})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded border transition-colors duration-300 ${h?"text-green-700 bg-green-100 border-green-200":"text-gray-500 bg-gray-100 border-gray-200"}`,children:h?"System Online":"Standby"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 border-b border-gray-300 z-10",children:e.jsxs("tr",{className:"text-[10px] uppercase font-black text-gray-500 italic",children:[e.jsx("th",{className:"p-3 border-r border-gray-200",children:"ID"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Employee Name"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Dept"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Clock In"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Break Status"}),e.jsx("th",{className:"p-3",children:"Current Status"})]})}),e.jsx("tbody",{children:ne.length===0&&!g?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Mt,{size:32,className:"opacity-20"}),e.jsx("span",{className:"text-xs font-bold italic",children:"No active employees found in this sector."})]})})}):ne.map(ee=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50/50 transition-colors group cursor-default",children:[e.jsxs("td",{className:"p-3 font-mono text-gray-400 group-hover:text-blue-600 transition-colors",children:["#",ee.id]}),e.jsxs("td",{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center shrink-0 border border-blue-200 group-hover:scale-110 group-hover:shadow-sm transition-all duration-300",children:e.jsx(Mt,{size:14,className:"text-blue-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-blue-900 leading-none group-hover:text-blue-700 transition-colors",children:ee.name}),e.jsx("span",{className:"text-[9px] text-gray-400 font-bold sm:hidden",children:ee.department})]})]}),e.jsx("td",{className:"p-3 font-bold text-gray-600",children:ee.department}),e.jsx("td",{className:"p-3 font-mono text-gray-500 italic",children:ee.clockIn}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2.5 py-1 rounded-sm text-[9px] font-black tracking-widest shadow-sm ${ee.breakStatus==="OUT"?"bg-orange-100 text-orange-700 border border-orange-200":"bg-green-100 text-green-700 border border-green-200"}`,children:ee.breakStatus})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${ee.status==="WORKING"?"bg-green-500":ee.status==="ON BREAK"?"bg-orange-500":"bg-gray-400"} group-hover:scale-125 transition-transform`}),e.jsx("span",{className:"font-black text-[11px] uppercase group-hover:tracking-wider transition-all duration-300",children:ee.status})]})})]},ee.id))})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] p-3 border-t border-gray-400 flex flex-col sm:flex-row justify-between items-center px-4 text-[10px] font-black text-gray-500 gap-2 shrink-0",children:[e.jsxs("span",{className:"uppercase tracking-widest",children:["LAST SYNC: ",new Date().toLocaleTimeString()]}),e.jsx("div",{className:"flex gap-6 uppercase tracking-widest bg-white/30 px-3 py-1 rounded text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("span",{children:"Total Employees:"})," ",e.jsx("span",{className:"text-gray-900",children:i.length})]})})]})]}),e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 w-full lg:w-20 lg:h-full shrink-0 items-stretch",children:[e.jsxs("button",{onClick:q,disabled:E,className:"flex-1 flex flex-col items-center justify-center p-3 sm:p-4 border-2 border-white border-b-gray-600 border-r-gray-600 bg-[#E0DCCF] hover:bg-white active:bg-gray-100 active:translate-y-0.5 transition-all shadow-md group relative overflow-hidden",children:[E?e.jsx(yt,{className:"text-blue-600 mb-1 animate-spin",size:24}):e.jsx(Ot,{className:"text-blue-600 mb-1 group-hover:scale-110 transition-transform",size:24}),e.jsx("span",{className:"font-black text-[10px] uppercase text-center",children:E?"SAVING...":"SAVE LOGS"})]}),e.jsxs("button",{onClick:ce,className:"flex-1 flex flex-col items-center justify-center p-3 sm:p-4 border-2 border-white border-b-gray-600 border-r-gray-600 bg-[#E0DCCF] hover:bg-white active:bg-gray-100 active:translate-y-0.5 transition-all shadow-md group",children:[e.jsx(ha,{className:"text-gray-700 mb-1 group-hover:scale-110 transition-transform",size:24}),e.jsx("span",{className:"font-black text-[10px] uppercase",children:"History"})]}),e.jsx("div",{className:"hidden lg:block flex-1"}),e.jsxs("button",{onClick:()=>l(-1),className:"flex-1 flex flex-col items-center justify-center p-3 sm:p-4 border-2 border-white border-b-gray-600 border-r-gray-600 bg-[#E0DCCF] hover:bg-red-50 active:bg-red-100 active:translate-y-0.5 transition-all shadow-md group",children:[e.jsx(Ee,{className:"text-red-600 mb-1 group-hover:rotate-12 transition-transform",size:24}),e.jsx("span",{className:"font-black text-[10px] uppercase text-red-700",children:"EXIT"})]})]})]})]})},g2=()=>{xe();const l=_t(),o=new URLSearchParams(l.search).get("period")||"2026-02",[i,u]=m.useState(o),[x,p]=m.useState(!1),[g,b]=m.useState(""),[h,N]=m.useState("All Departments"),[v,k]=m.useState([]),[f,j]=m.useState(!1),[C]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[w,D]=m.useState([]),L=async()=>{if(C.id)try{const T=await X.fetchDepartments(C.id);T.success&&k(T.data)}catch(T){console.error("Failed to fetch departments",T)}},A=async()=>{if(C.id)try{j(!0);const T={companyId:C.id,period:i};h!=="All Departments"&&(T.departmentId=h);const q=await X.fetchPayrolls(T);q.success&&D(q.data)}catch(T){console.error(T)}finally{j(!1)}};m.useEffect(()=>{L()},[C.id]),m.useEffect(()=>{A()},[C.id,i,h]);const S=async()=>{if(C.id)try{j(!0),b("Synchronizing with Personnel Directory...");const T=await X.syncPayrolls({companyId:C.id,period:i});T.success?(await A(),alert(` HRM Sync Complete
${T.data.created} new employee(s) imported to ${i}.
${T.data.existing} record(s) already synchronized.`)):alert("Sync failed: "+T.message)}catch(T){console.error(T)}finally{j(!1),b("")}},_=()=>{if(w.length===0)return;const T=`Staff,Department,Gross,NIS,NHT,EdTax,PAYE,Net,Status
`+w.map(W=>`"${W.employee?.firstName} ${W.employee?.lastName}","${W.employee?.department?.name||"N/A"}",${W.grossSalary},${W.nis},${W.nht},${W.edTax},${W.paye},${W.netSalary},"${W.status}"`).join(`
`),q=new Blob([T],{type:"text/csv;charset=utf-8;"}),ce=URL.createObjectURL(q),I=document.createElement("a");I.setAttribute("href",ce),I.setAttribute("download",`Payroll_Export_${i}_${h}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},B=()=>{window.print()},E=async()=>{if(C.id)try{p(!0),b("Initializing calculation engine...");const T=await X.generatePayrolls({companyId:C.id,period:i});T.success?(b("Applying statutory rules (NIS/NHT/PAYE)..."),setTimeout(()=>{b("Finalizing individual tallies..."),setTimeout(()=>{A(),p(!1),b(""),alert(` SUCCESS: ${T.data.count} payroll records processed for ${i}.`)},1e3)},1e3)):(alert("Calculation failed: "+T.message),p(!1))}catch(T){console.error(T),p(!1)}},R=async()=>{if(w.filter(I=>I.status==="Calculated").length,w.length===0){alert("No payroll records found for this period. Run 'Step 2: Calculate' first.");return}const q=w.filter(I=>I.status==="Pending").length;if(q>0){alert(` FINALIZATION BLOCKED

Cannot finalize payroll batch!

Reason: ${q} employees are still in 'Pending' status.

Please run "Step 2: Calculate" to process all employees before finalizing.`);return}if(window.confirm(` FINALIZE PAYROLL BATCH - ${i}

This will lock all records and Mark them as ready for disbursement.

Proceed?`))try{const I=await X.finalizeBatch({companyId:C.id,period:i});I.success?(alert(` SUCCESS: ${I.data.count} records finalized.`),A()):alert("Finalization failed: "+I.message)}catch(I){console.error(I)}},O=w.reduce((T,q)=>T+parseFloat(q.grossSalary||0),0),F=w.reduce((T,q)=>T+parseFloat(q.netSalary||0),0),M=w.reduce((T,q)=>T+parseFloat(q.deductions||0),0),$=w.reduce((T,q)=>T+parseFloat(q.paye||0),0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-3 sm:px-4 py-3 sm:py-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-2 no-print",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full sm:w-auto",children:[e.jsx($s,{className:"text-gray-600 shrink-0",size:16}),e.jsxs("span",{className:"font-bold text-gray-800 text-xs uppercase tracking-wider border-l-2 border-gray-300 pl-2 leading-tight",children:["Payroll Execution Terminal ",e.jsx("span",{className:"hidden xs:inline",children:" Jamaica Statutory Engine"})]})]}),e.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:e.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-300 px-3 py-2 shadow-sm group hover:border-blue-500 transition-all w-full sm:w-72 lg:w-64",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter shrink-0 border-r border-gray-200 pr-3 h-4 flex items-center",children:"Tax Period"}),e.jsx("input",{type:"month",value:i,onChange:T=>u(T.target.value),className:"text-xs font-black text-blue-900 focus:outline-none bg-transparent cursor-pointer flex-1 text-right focus:ring-0 appearance-none border-none p-0 uppercase"})]})})]}),e.jsxs("div",{className:"flex-1 p-2 sm:p-4 flex flex-col gap-4 overflow-y-auto min-w-0",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[{step:"Step 1: HRM Sync",icon:e.jsx(yt,{size:32,className:"text-blue-500"}),btnText:"Sync HRM Data",desc:"Refresh employee data & base rates",color:"gray",action:S,disabled:f||x},{step:"Step 2: Calculate",icon:e.jsx(Gd,{size:32,className:"text-emerald-500"}),btnText:x?"Processing...":"Run Master Engine",desc:"Calculate Statutories & Net Pay",color:"primary",action:E,disabled:x||f},{step:"Step 3: Audit",icon:e.jsx(Ne,{size:32,className:"text-amber-500"}),btnText:"Review Summary",desc:"Check for discrepancies before locking",color:"gray",action:()=>{const T=w.reduce((I,W)=>I+parseFloat(W.nis||0),0),q=w.reduce((I,W)=>I+parseFloat(W.nht||0),0),ce=w.reduce((I,W)=>I+parseFloat(W.edTax||0),0);alert(` PAYROLL AUDIT SUMMARY - ${i.toUpperCase()}

Scope: ${h}
Total Population: ${w.length}

Gross Payroll:        $${O.toLocaleString(void 0,{minimumFractionDigits:2})}
Total Income Tax:     $${$.toLocaleString(void 0,{minimumFractionDigits:2})}
NIS Contributions:    $${T.toLocaleString(void 0,{minimumFractionDigits:2})}
NHT Contributions:    $${q.toLocaleString(void 0,{minimumFractionDigits:2})}
Education Tax:        $${ce.toLocaleString(void 0,{minimumFractionDigits:2})}
Other Deductions:     $${M.toLocaleString(void 0,{minimumFractionDigits:2})}

NET DISBURSEMENT:    $${F.toLocaleString(void 0,{minimumFractionDigits:2})}`)},disabled:w.length===0},{step:"Step 4: Finalize",icon:e.jsx(jt,{size:32,className:"text-gray-400"}),btnText:"Finalize Batch",desc:"Lock period & generate payslips",color:"gray",action:R,disabled:w.length===0||x}].map((T,q)=>e.jsxs("div",{className:"bg-white border border-gray-300 p-4 shadow-sm flex flex-col gap-2 relative overflow-hidden group hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h4",{className:"text-[10px] font-bold uppercase text-gray-500 tracking-widest",children:T.step}),e.jsx("div",{className:"opacity-20",children:T.icon})]}),e.jsx("button",{disabled:T.disabled,onClick:T.action,className:`p-2.5 text-[10px] font-bold uppercase border transition-all flex items-center justify-center gap-2 rounded
                                    ${T.color==="primary"?"bg-gray-800 text-white hover:bg-black":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:T.btnText}),e.jsx("p",{className:"text-[9px] text-gray-500 mt-1 leading-tight",children:T.desc})]},q))}),(x||f)&&e.jsx("div",{className:"bg-gray-800 p-3 flex items-center justify-between border-l-4 border-blue-500 shadow-lg animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-4 text-white",children:[e.jsx(ge,{className:"animate-spin text-blue-400",size:16}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:g||"Loading context..."})]})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-inner overflow-hidden flex flex-col min-h-0",children:[e.jsxs("div",{className:"bg-gray-100 p-2 sm:p-3 border-b border-gray-300 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase",children:"Filter:"}),e.jsxs("select",{value:h,onChange:T=>N(T.target.value),className:"text-[10px] font-bold text-blue-900 border border-gray-300 bg-white p-1.5 rounded-sm focus:ring-1 focus:ring-blue-500 outline-none",children:[e.jsx("option",{value:"All Departments",children:"All Departments"}),v.map(T=>e.jsx("option",{value:T.id,children:T.name},T.id))]}),e.jsxs("span",{className:"text-[9px] text-gray-400 ml-2 italic",children:["Found ",w.length," records"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:_,className:"p-1.5 px-4 bg-white border border-gray-300 text-[9px] font-black uppercase flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[e.jsx(He,{size:14})," Export CSV"]}),e.jsxs("button",{onClick:B,className:"p-1.5 px-4 bg-gray-700 text-white border border-gray-800 text-[9px] font-black uppercase flex items-center gap-1.5 hover:bg-gray-900 transition-colors",children:[e.jsx(Ne,{size:14})," Print PDF"]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[1000px]",children:[e.jsx("thead",{className:"bg-[#F8F9FA] border-b border-gray-300 text-[10px] font-bold text-gray-700 uppercase sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Staff Member"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Dept"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"Gross Pay"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"NIS EE"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"NHT EE"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"ED TAX"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right",children:"PAYE"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-right font-bold",children:"Net Pay"}),e.jsx("th",{className:"p-3",children:"Status"})]})}),e.jsx("tbody",{className:"text-[11px] font-medium text-gray-700",children:f&&w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"p-10 text-center text-gray-400 uppercase tracking-widest",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(ge,{className:"animate-spin",size:24}),e.jsx("span",{children:"Streaming payroll data..."})]})})}):w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"p-10 text-center text-gray-400 uppercase tracking-widest",children:"No records found for this period. Click 'Run Master Engine' to start."})}):w.map(T=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors group",children:[e.jsxs("td",{className:"p-3 border-r border-gray-200 uppercase",children:[e.jsxs("span",{className:"text-gray-800 font-bold group-hover:text-blue-700 transition-colors",children:[T.employee?.firstName," ",T.employee?.lastName]}),e.jsxs("div",{className:"text-[9px] text-gray-400 font-mono tracking-tighter",children:["ID: ",T.employee?.employeeId," | TRN: ",T.employee?.trn||"PENDING"]})]}),e.jsx("td",{className:"p-3 border-r border-gray-200",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[9px] text-gray-600 font-bold uppercase",children:T.employee?.department?.name||"N/A"})}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono",children:["$",parseFloat(T.grossSalary).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-gray-500",children:["$",parseFloat(T.nis).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-gray-500",children:["$",parseFloat(T.nht).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-gray-500",children:["$",parseFloat(T.edTax).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-mono text-amber-700 font-bold",children:["$",parseFloat(T.paye).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 border-r border-gray-200 text-right font-bold bg-gray-50 text-[13px] font-mono text-blue-900",children:["$",parseFloat(T.netSalary).toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-[8px] font-black uppercase tracking-tighter shadow-sm
                                                ${T.status==="Finalized"?"bg-green-600 text-white":T.status==="Calculated"?"bg-blue-600 text-white":"bg-gray-400 text-white"}`,children:T.status})})]},T.id))})]})}),e.jsxs("div",{className:"bg-gray-100 p-4 border-t border-gray-300 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 no-print",children:[e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 shadow-sm border-l-4 border-l-gray-400",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Batch Gross Payroll"}),e.jsxs("div",{className:"text-sm font-bold text-gray-800 mt-1",children:["$",O.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 shadow-sm border-l-4 border-l-amber-400",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Total Income Tax (PAYE)"}),e.jsxs("div",{className:"text-sm font-bold text-amber-700 mt-1",children:["$",$.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 shadow-sm border-l-4 border-l-blue-400",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-widest",children:"Other Deductions & Statutories"}),e.jsxs("div",{className:"text-sm font-bold text-gray-800 mt-1",children:["$",(O-F-$).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gray-800 p-3 rounded text-white shadow-lg border-l-4 border-l-emerald-400",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Net Disbursement"}),e.jsxs("div",{className:"text-xl font-bold tracking-tight",children:["$",F.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 flex justify-between items-center text-[9px] font-bold uppercase tracking-widest no-print",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(js,{size:14,className:"text-amber-500"})," Compliance: Jamaica Income Tax Act 2024"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(jt,{size:14,className:"text-emerald-500"})," NIS & NHT Thresholds Verified"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-400",children:"Environment: Production"}),e.jsxs("span",{className:"border-l border-gray-600 pl-3",children:["Session Time: ",new Date().toLocaleTimeString()]})]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    .no-print { display: none !important; }
                    body { background: white !important; }
                    .flex-1 { overflow: visible !important; }
                    table { min-width: 100% !important; border: 1px solid #ccc !important; }
                }
            `}})]})},y2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),[x,p]=m.useState(""),[g,b]=m.useState(""),[h,N]=m.useState("1 Month (Full Deduction)"),[v,k]=m.useState(null),[f,j]=m.useState(null),[C,w]=m.useState([]),[D,L]=m.useState([]),[A]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[S]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),_=async()=>{if(S.id)try{o(!0);const[T,q]=await Promise.all([X.fetchEmployees(S.id),X.fetchAdvancePayments({companyId:S.id})]);if(T.success&&q.success){const ce=q.data||[];L((T.data||[]).map(I=>{const de=ce.filter(ne=>ne.employeeId===I.id&&ne.status==="PAID").reduce((ne,ee)=>ne+parseFloat(ee.amount||0),0);return{id:I.id,employeeId:I.employeeId,name:`${I.firstName} ${I.lastName}`,limit:I.baseSalary?parseFloat(I.baseSalary)*.5:5e4,balance:de}})),w(ce.slice(0,10).map(I=>({id:I.id,date:new Date(I.requestDate).toLocaleDateString(),employee:I.employee?`${I.employee.firstName} ${I.employee.lastName}`:"Unknown",amount:parseFloat(I.amount),status:I.status,color:I.status==="PAID"?"text-green-600":I.status==="APPROVED"?"text-blue-600":"text-yellow-600"})))}}catch(T){console.error(T)}finally{o(!1)}};m.useEffect(()=>{_()},[S.id]);const B=D.filter(T=>T.name.toLowerCase().includes(x.toLowerCase())||T.employeeId.toLowerCase().includes(x.toLowerCase())),E=g?parseFloat(g)*.01:0,R=g?parseFloat(g)+E:0,O=()=>h.includes("1 Month")?1:h.includes("2 Months")?2:h.includes("3 Months")?3:h.includes("6 Months")?6:1,F=()=>{const T=new Date;return T.setMonth(T.getMonth()+1),`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][T.getMonth()]}-${T.getFullYear()}`},M=async()=>{if(!(!i||!g))try{k("saving");const T={companyId:S.id,employeeId:i.id,amount:parseFloat(g),purpose:`Advance Payment - ${h}`,status:"PENDING",requestedBy:A.email,installments:O(),deductionStart:F()};(await X.createAdvancePayment(T)).success&&(k("success"),setTimeout(()=>k(null),3e3),_())}catch(T){console.error(T),k(null)}},$=async()=>{if(!i)return;if(!g||parseFloat(g)<=0){alert("INVALID: Please enter a disbursement amount.");return}if(window.confirm(`AUTHORIZE DISBURSEMENT of $${R.toLocaleString()} for ${i.name}?

This will create an approved and PAID record immediately.`))try{j("processing");const q={companyId:S.id,employeeId:i.id,amount:parseFloat(g),purpose:`Immediate Advance - ${h}`,status:"PAID",requestedBy:A.email,approvedBy:A.email,paymentDate:new Date().toISOString(),installments:O(),deductionStart:F()};(await X.createAdvancePayment(q)).success&&(j("success"),setTimeout(()=>{j(null),b(""),u(null)},2e3),_())}catch(q){console.error(q),j(null)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#0055E5] text-white h-10 flex items-center justify-between px-4 text-[11px] font-black italic tracking-widest uppercase shadow-md border-b-2 border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pa,{size:18}),e.jsx("span",{children:"Advance Payment & Loan Disbursement Module"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[n&&e.jsxs("div",{className:"text-[9px] font-bold text-blue-200 flex items-center gap-1 animate-pulse",children:[e.jsx(ge,{size:12,className:"animate-spin"})," SYNCHRONIZING WITH CORE..."]}),e.jsxs("div",{className:"flex items-center gap-4 border-l border-white/20 pl-4",children:[e.jsx("span",{children:"Station: PAY-042"}),e.jsxs("span",{className:"text-blue-200",children:["User: ",A.email?.split("@")[0].toUpperCase()]})]})]})]}),e.jsxs("div",{className:"flex-1 p-3 md:p-6 flex flex-col md:flex-row gap-6 md:gap-8 overflow-auto md:overflow-hidden pb-20 md:pb-6",children:[e.jsxs("div",{className:"w-full md:w-80 shrink-0 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-4 shadow-2xl rounded-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2.5 border-2 border-gray-200 mb-6 shadow-inner focus-within:border-blue-400 transition-colors",children:[e.jsx(Ke,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"LOOKUP RECIPIENT...",className:"bg-transparent outline-none font-black placeholder:italic w-full italic uppercase tracking-tighter",value:x,onChange:T=>p(T.target.value)})]}),e.jsx("div",{className:"space-y-2 overflow-auto max-h-[250px] md:max-h-[450px] scrollbar-thin scrollbar-thumb-gray-200 pr-1",children:B.map(T=>e.jsxs("button",{onClick:()=>u(T),className:`w-full text-left p-4 border-2 font-black italic flex items-center justify-between group transition-all rounded-sm ${i?.id===T.id?"bg-[#0055E5] text-white border-white shadow-xl translate-x-1":"bg-white text-gray-700 border-gray-100 hover:border-blue-200 hover:bg-blue-50/50"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`text-[9px] uppercase tracking-widest ${i?.id===T.id?"text-blue-200":"text-gray-400"}`,children:T.employeeId}),e.jsx("span",{className:"tracking-tight uppercase",children:T.name})]}),e.jsx(Ga,{size:18,className:`${i?.id===T.id?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-all`})]},T.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 text-white p-5 italic font-black text-center shadow-2xl uppercase tracking-[0.2em] text-[10px] border-2 border-white border-r-black border-b-black rounded-sm",children:"Corporate Funds Management System"})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 p-4 md:p-10 shadow-2xl flex-1 overflow-auto rounded-sm relative",children:i?e.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500 translate-none",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 border-b-2 border-gray-50 pb-10",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-50 border-4 border-white shadow-2xl rounded-2xl flex items-center justify-center text-blue-600 group hover:rotate-6 transition-transform",children:e.jsx(Mt,{size:48,className:"group-hover:scale-110 transition-transform"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-4xl font-black text-blue-900 italic uppercase leading-none tracking-tighter mb-2",children:i.name}),e.jsxs("div",{className:"flex gap-4 justify-center md:justify-start",children:[e.jsxs("span",{className:"text-gray-400 font-black uppercase tracking-[0.2em] text-[10px] border px-2 py-1 rounded",children:["REF: ",i.employeeId]}),e.jsx("span",{className:"text-green-600 font-black uppercase tracking-[0.2em] text-[10px] border border-green-100 px-2 py-1 rounded bg-green-50",children:"STATUS: ELIGIBLE"})]})]}),e.jsxs("div",{className:"ml-auto text-center md:text-right bg-gray-50 p-6 border-2 border-white border-r-gray-100 border-b-gray-100 shadow-inner rounded-xl min-w-[200px]",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest italic mb-2",children:"Available Credit Ceiling"}),e.jsxs("p",{className:"text-4xl font-black text-blue-800 italic leading-none tabular-nums tracking-tighter",children:["$",(i.limit-i.balance).toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-16",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"font-black text-blue-800 uppercase italic text-[10px] tracking-widest ml-1",children:"Proposed Disbursement Amount"}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50/50 border-2 border-gray-100 rounded-sm shadow-inner focus-within:border-blue-600 focus-within:bg-white transition-all overflow-hidden pr-4",children:[e.jsx("div",{className:"pl-4 text-blue-400 shrink-0",children:e.jsx(Pa,{size:20,strokeWidth:3})}),e.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-transparent py-4 text-2xl font-black italic text-blue-900 outline-none",value:g,onChange:T=>b(T.target.value)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"font-black text-gray-600 uppercase italic text-[10px] tracking-widest ml-1",children:"Settlement Amortization (Terms)"}),e.jsxs("select",{className:"w-full p-5 border-2 border-gray-100 bg-gray-50 font-black italic text-gray-700 outline-none focus:border-blue-600 focus:bg-white transition-all rounded-sm appearance-none shadow-inner cursor-pointer",value:h,onChange:T=>N(T.target.value),children:[e.jsx("option",{children:"1 Month (Full Deduction)"}),e.jsx("option",{children:"2 Months (Split 50/50)"}),e.jsx("option",{children:"3 Months (Installments)"}),e.jsx("option",{children:"6 Months (Long Term Relief)"})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 p-8 border-2 border-dashed border-gray-200 rounded-sm relative group overflow-hidden",children:[e.jsx("div",{className:"absolute -top-4 -right-4 text-blue-100 opacity-20 group-hover:scale-150 transition-transform duration-1000",children:e.jsx(Pa,{size:100})}),e.jsxs("h3",{className:"font-black text-gray-500 uppercase italic text-[11px] mb-6 flex items-center gap-2 relative z-10 tracking-widest border-b pb-2 border-gray-200",children:[e.jsx(Ui,{size:16})," Transaction Calculation Detail"]}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 border border-gray-100 shadow-sm rounded",children:[e.jsx("span",{className:"font-black text-[10px] text-gray-400 uppercase italic",children:"Outstanding Liability"}),e.jsxs("span",{className:"font-black text-red-600 italic text-sm tabular-nums",children:["$",i.balance.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 border border-gray-100 shadow-sm rounded",children:[e.jsx("span",{className:"font-black text-[10px] text-gray-400 uppercase italic",children:"Administrative Fee (1%)"}),e.jsxs("span",{className:"font-black text-blue-600 italic text-sm tabular-nums",children:["$",E.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"pt-4 border-t-2 border-gray-200 flex justify-between items-center bg-blue-100/30 -mx-4 px-4 pb-2 rounded",children:[e.jsx("span",{className:"font-black text-blue-900 uppercase italic text-[11px] tracking-widest",children:"Aggregate Payload"}),e.jsxs("span",{className:"text-3xl font-black text-blue-900 italic tabular-nums tracking-tighter",children:["$",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),e.jsxs("button",{onClick:$,disabled:!i||f==="processing"||f==="success",className:`w-full p-6 font-black italic uppercase tracking-[0.3em] transition-all shadow-2xl flex items-center justify-center gap-4 rounded-sm border-2 border-white border-r-[#000040] border-b-[#000040] relative overflow-hidden group ${i?f==="processing"?"bg-[#000080] animate-pulse":f==="success"?"bg-green-700":"bg-[#000080] hover:bg-blue-800":"bg-gray-200 text-gray-400 border-none opacity-50 grayscale"} text-white`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform"}),f==="processing"?e.jsxs(e.Fragment,{children:[e.jsx(ge,{size:24,className:"animate-spin"})," DISPATCHING PAYLOAD..."]}):f==="success"?e.jsx(e.Fragment,{children:" SETTLEMENT COMPLETE"}):e.jsxs(e.Fragment,{children:[e.jsx(Pa,{size:24,className:"group-hover:rotate-12 transition-transform"})," EXECUTE DISBURSEMENT"]})]})]})]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 italic font-black uppercase tracking-[0.3em] opacity-40 select-none",children:[e.jsx(Mt,{size:120,className:"mb-6 animate-bounce duration-[3000ms]",strokeWidth:.5}),"SELECT ELIGIBLE AGENT TO INITIALIZE DISBURSEMENT"]})}),e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl overflow-hidden rounded-sm h-64 flex flex-col",children:[e.jsxs("div",{className:"bg-[#1a1a1a] text-white p-3 text-[11px] font-black uppercase flex justify-between items-center italic tracking-widest shrink-0",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ha,{size:14,className:"text-blue-400"})," Secure Disbursement Activity Feed"]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"opacity-50 text-[9px]",children:"UPLINK_STABLE"})]}),e.jsx("span",{className:"opacity-30 border-l border-white/20 pl-4",children:n?"SCANNING...":"BUFFER_OK"})]})]}),e.jsx("div",{className:"overflow-auto flex-1 scrollbar-thin scrollbar-thumb-gray-200",children:e.jsxs("table",{className:"w-full text-left text-[10px] border-collapse relative",children:[e.jsx("thead",{className:"bg-[#F8F9FA] border-b-2 border-gray-100 sticky top-0 z-10 glass",children:e.jsxs("tr",{className:"font-black text-gray-400 uppercase italic tracking-tighter",children:[e.jsx("th",{className:"p-4 border-r border-gray-50",children:"Settlement Date"}),e.jsx("th",{className:"p-4 border-r border-gray-50",children:"Agent Name"}),e.jsx("th",{className:"p-4 text-right border-r border-gray-50",children:"Gross Amount"}),e.jsx("th",{className:"p-4 text-center",children:"Protocol Status"})]})}),e.jsx("tbody",{className:"font-bold",children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-12 text-center text-gray-300 italic font-black uppercase tracking-[0.4em] select-none",children:"Buffer is currently empty"})}):C.map(T=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-blue-50/50 transition-colors group",children:[e.jsx("td",{className:"p-4 text-gray-400 font-mono tracking-tighter",children:T.date}),e.jsx("td",{className:"p-4 text-blue-900 uppercase font-black tracking-tight group-hover:underline",children:T.employee}),e.jsxs("td",{className:"p-4 text-right font-black italic tabular-nums text-blue-800 tracking-tighter group-hover:scale-105 transition-transform origin-right",children:["$ ",T.amount.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("span",{className:`px-3 py-1 bg-white border rounded-full font-black italic uppercase text-[8px] tracking-widest shadow-sm ${T.color} border-current opacity-80 group-hover:opacity-100 transition-opacity`,children:T.status})})]},T.id))})]})})]}),e.jsxs("div",{className:"flex justify-end gap-6 no-print shrink-0 px-4",children:[e.jsx("button",{onClick:M,disabled:!i||v==="saving",className:`flex items-center gap-3 px-10 py-4 border-2 shadow-xl font-black italic transition-all uppercase tracking-widest text-[11px] rounded-sm transform active:scale-95 ${i?v==="saving"?"bg-blue-100 text-blue-800 border-blue-200":v==="success"?"bg-green-100 text-green-800 border-green-200":"bg-[#E0DCCF] hover:bg-white text-blue-900 border-white border-r-gray-600 border-b-gray-600":"bg-gray-100 text-gray-400 border-none grayscale opacity-50 cursor-not-allowed"}`,children:v==="saving"?e.jsxs(e.Fragment,{children:[e.jsx(ge,{size:18,className:"animate-spin"})," COMMITTING..."]}):v==="success"?e.jsx(e.Fragment,{children:" UPLOAD SUCCESS"}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{size:18,className:i?"text-blue-600":"text-gray-400"})," STAGE TRANSACTION"]})}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-3 px-10 py-4 bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 font-black italic hover:bg-white text-red-700 shadow-xl transition-all uppercase tracking-widest text-[11px] rounded-sm transform active:scale-95 active:border-r-0 active:border-b-0",children:[e.jsx(Ee,{size:18})," Abort Module"]})]})]})]})]})},j2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState({total:0,pending:0,completed:0,failed:0}),[x]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[p]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[g,b]=m.useState([]),h=async()=>{if(p.id)try{o(!0);const[N,v]=await Promise.all([X.fetchProcessingStatus({companyId:p.id}),X.fetchProcessingStatistics({companyId:p.id})]);if(N.success){const{activeProcesses:k,recentCompleted:f}=N.data,j=[...k,...f];if(j.length>0){const C=j.map(w=>({name:w.processType.replace(/_/g," "),status:w.status==="STARTED"||w.status==="IN_PROGRESS"?"In Progress":w.status==="COMPLETED"?"Completed":"Failed",time:new Date(w.startedAt).toLocaleTimeString(),details:w.status==="IN_PROGRESS"?`Processed ${w.recordsProcessed} of ${w.recordsTotal}`:w.errorMessage||`Executed by ${w.processedBy}`,progress:w.recordsTotal>0?w.recordsProcessed/w.recordsTotal*100:w.status==="COMPLETED"?100:0,icon:w.status==="COMPLETED"?e.jsx(jt,{className:"text-green-500"}):w.status==="FAILED"?e.jsx(ia,{className:"text-red-500"}):e.jsx(yt,{className:"text-blue-500 animate-spin"})}));b(C)}else b([{name:"SYSTEM_IDLE",status:"Standby",time:"-",details:"No active or recent processing tasks detected.",icon:e.jsx(jt,{className:"text-gray-300"})}])}if(v.success){const k=v.data;u({total:k.totalRecordsProcessed||0,pending:(k.byStatus?.started||0)+(k.byStatus?.inProgress||0),completed:k.byStatus?.completed||0,failed:k.byStatus?.failed||0})}}catch(N){console.error(N)}finally{o(!1)}};return m.useEffect(()=>{h();const N=setInterval(h,3e4);return()=>clearInterval(N)},[p.id]),e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs min-w-0",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 sm:px-6 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-2 border border-gray-400 shadow-inner rounded-sm",children:e.jsx(qa,{size:20,className:"text-blue-700 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-black text-blue-900 leading-tight italic uppercase text-base sm:text-lg tracking-tight underline decoration-blue-500/20 underline-offset-4",children:"System Telemetry Interface"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] italic",children:"Station 042 :: Real-time Processing Monitor"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsx("div",{className:"text-[10px] font-black text-blue-700 animate-bounce tracking-widest mr-2",children:"POLLING_DRIVERS..."}),e.jsxs("button",{onClick:h,disabled:n,className:"bg-[#E0DCCF] border-2 border-white border-r-gray-600 border-b-gray-600 px-6 py-2 flex items-center gap-2 text-blue-900 font-black hover:bg-white text-[10px] sm:text-xs tracking-widest shadow-md active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 transition-all uppercase italic",children:[e.jsx(yt,{size:14,className:`text-blue-600 ${n?"animate-spin":""}`}),e.jsx("span",{children:"Force Telemetry Update"})]})]})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-8 overflow-auto scrollbar-thin scrollbar-thumb-gray-400",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-8",children:[e.jsx("div",{className:"space-y-4 sm:space-y-6",children:g.map((N,v)=>e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-4 sm:p-6 shadow-2xl flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-8 group hover:border-blue-500 hover:scale-[1.01] transition-all rounded-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50/50 -translate-y-1/2 translate-x-1/2 rounded-full pointer-events-none group-hover:bg-blue-50/50 transition-colors"}),e.jsxs("div",{className:"flex items-center gap-6 flex-1 relative z-10",children:[e.jsx("div",{className:"p-4 sm:p-5 bg-gray-50 border-2 border-white border-r-gray-200 border-b-gray-200 shadow-inner group-hover:bg-blue-50 group-hover:border-blue-100 shrink-0 transition-colors rounded-xl",children:N.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-start sm:items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-blue-900 italic uppercase tracking-tighter group-hover:translate-x-1 transition-transform",children:N.name}),e.jsx("span",{className:`text-[10px] font-black italic uppercase px-3 py-1 rounded shadow-sm border-2 ${N.status==="Completed"?"bg-green-50 border-green-200 text-green-700":N.status==="In Progress"?"bg-blue-50 border-blue-200 text-blue-700 animate-pulse":N.status==="Failed"?"bg-red-50 border-red-200 text-red-700":"bg-gray-50 border-gray-300 text-gray-500"}`,children:N.status})]}),e.jsx("p",{className:"text-[10px] sm:text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-4 italic",children:N.details}),N.progress>0&&e.jsx("div",{className:"w-full h-2.5 bg-gray-100 border-2 border-white border-r-gray-200 border-b-gray-200 rounded-full overflow-hidden shadow-inner font-mono text-[8px] text-blue-900 font-bold relative",children:e.jsx("div",{className:"h-full bg-blue-600 shadow-[0_0_10px_rgba(37,99,235,0.5)] transition-all duration-1000",style:{width:`${N.progress}%`}})})]})]}),e.jsxs("div",{className:"flex sm:flex-col justify-between sm:justify-center sm:text-right border-t-2 sm:border-t-0 border-gray-50 pt-4 sm:pt-0 sm:border-l-2 sm:pl-8 min-w-[120px] relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase italic tracking-widest",children:"Protocol Pulse"}),e.jsx("p",{className:"text-sm sm:text-base font-black text-blue-800 italic tabular-nums tracking-tighter uppercase",children:N.time})]})]},v))}),e.jsxs("div",{className:"space-y-6 lg:max-w-[350px] lg:w-full",children:[e.jsxs("div",{className:"bg-[#000080] text-white p-6 sm:p-8 shadow-2xl border-4 border-white flex flex-col gap-6 rounded-sm relative group overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-900 opacity-50 group-hover:opacity-30 transition-opacity"}),e.jsxs("h3",{className:"font-black italic text-sm sm:text-base mb-2 border-b-2 border-blue-400/30 pb-3 uppercase tracking-[0.2em] flex items-center gap-3 relative z-10",children:[e.jsx(i1,{size:18,className:"text-blue-300"})," Station Load Matrix"]}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Total Records"}),e.jsx("span",{className:"font-black italic text-lg tabular-nums text-green-400",children:i.total})]}),e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Pending Tasks"}),e.jsx("span",{className:"font-black italic text-sm tracking-tight text-blue-200",children:i.pending})]}),e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Completed"}),e.jsx("span",{className:"font-black italic text-lg tabular-nums text-blue-400 tracking-tighter",children:i.completed})]}),e.jsxs("div",{className:"flex justify-between items-center bg-blue-950/50 p-4 rounded border border-blue-800/50 hover:border-blue-400 transition-colors",children:[e.jsx("span",{className:"font-bold text-[10px] uppercase opacity-60 tracking-widest",children:"Failed"}),e.jsx("span",{className:"font-black italic text-sm tracking-tight text-red-400",children:i.failed})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-6 shadow-xl italic rounded-sm hover:-translate-y-1 transition-transform border-l-4 border-l-blue-900",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ia,{size:16,className:"text-blue-900"}),e.jsx("p",{className:"font-black text-blue-900 uppercase italic text-[10px] sm:text-[11px] tracking-widest",children:"Admin Directive"})]}),e.jsxs("p",{className:"text-[10px] sm:text-[11px] text-gray-400 font-bold leading-relaxed uppercase tracking-tighter italic",children:["SYSTEM_READY: All core redundancy protocols verified for ",new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-")," calc session. Please monitor bank handshake latency."]})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 px-8 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 no-print shadow-[inset_0_4px_10px_rgba(0,0,0,0.1)] z-20",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{className:"flex items-center gap-3 bg-white px-4 py-1.5 border-2 border-white border-r-gray-200 border-b-gray-200 rounded-full shadow-inner",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),e.jsx("span",{className:"font-black text-green-800 italic uppercase text-[10px] sm:text-[11px] tracking-widest",children:"Security Link Cache: Verified"})]})}),e.jsxs("button",{onClick:()=>l(-1),className:"bg-[#E0DCCF] border-2 border-white border-r-red-900 border-b-red-900 px-10 py-3 font-black italic hover:bg-white text-red-700 transition-all flex items-center justify-center gap-3 text-[11px] uppercase tracking-widest shadow-xl active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0",children:[e.jsx(Ee,{size:16})," ",e.jsx("span",{className:"whitespace-nowrap italic",children:"Terminate Session"})]})]})]})},N2=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(Lt,{size:18}),n==="error"&&e.jsx(Zl,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},v2=({isOpen:l,onClose:n,title:o,children:i})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,w2=()=>{const l=xe(),[n,o]=m.useState(""),[i,u]=m.useState("All"),[x,p]=m.useState(!1),[g,b]=m.useState(!1),[h,N]=m.useState(!1),[v,k]=m.useState(!1),[f]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),j=()=>new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-"),[C,w]=m.useState(j()),[D,L]=m.useState([]);m.useEffect(()=>{const ee=[],P=new Date;for(let Z=0;Z<12;Z++){const ue=new Date(P.getFullYear(),P.getMonth()-Z,1).toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-");ee.push(ue)}L(ee)},[]);const[A,S]=m.useState([]),[_,B]=m.useState(0),[E,R]=m.useState(0),[O,F]=m.useState(null),[M,$]=m.useState(!1),T=(ee,P="success")=>{F({message:ee,type:P})},q=ee=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(ee),ce=async()=>{if(f.id){k(!0);try{const ee=await X.fetchPayrolls({companyId:f.id,period:C});if(ee.success){const P=ee.data||[];R(P.length);const Z=P.reduce((he,ye)=>he+parseFloat(ye.netSalary||0),0);B(Z);const oe={};P.forEach(he=>{const ye=he.bankName||"General Disbursement";oe[ye]||(oe[ye]={id:ye,name:ye,employees:0,totalRaw:0}),oe[ye].employees++,oe[ye].totalRaw+=parseFloat(he.netSalary||0)});const ue=Object.values(oe).map(he=>({...he,total:q(he.totalRaw),value:he.totalRaw}));S(ue)}}catch(ee){console.error("Failed to fetch payrolls",ee),T("Failed to fetch payroll data","error")}finally{k(!1)}}};m.useEffect(()=>{ce()},[f.id,C]);const I=A.filter(ee=>{const P=ee.name.toLowerCase().includes(n.toLowerCase());let Z=!0;return i==="High Value (>1M)"?Z=ee.value>1e6:i==="Regular Value"?Z=ee.value<=1e6:i==="NCB Only"?Z=ee.name.toLowerCase().includes("ncb")||ee.name.toLowerCase().includes("national commercial"):i==="Scotiabank Only"&&(Z=ee.name.toLowerCase().includes("scotia")||ee.name.toLowerCase().includes("bns")),P&&Z}),W=ee=>{const P=A.find(Z=>Z.name===ee);P&&(T(`Generating Bank File for ${ee}...`,"info"),setTimeout(()=>{const ue=`BANK_FILE_HEADER,${ee},${C},TOT_AMT:${P.totalRaw},RecCount:${P.employees}
`+"DETAILS_HIDDEN_FOR_SECURITY,PLEASE_USE_OFFICIAL_BANK_PORTAL_FOR_UPLOAD",he=new Blob([ue],{type:"text/plain"}),ye=URL.createObjectURL(he),Te=document.createElement("a");Te.setAttribute("href",ye),Te.setAttribute("download",`${ee.replace(/\s+/g,"_")}_${C}.txt`),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),T(`File for ${ee} downloaded successfully`,"success")},1e3))},de=async()=>{if(f.id){$(!1),b(!0);try{(await X.processBankTransfers({companyId:f.id,period:C,bankFiles:A.map(P=>P.name)})).success?(T("All payments marked as DISBURSED in system.","success"),ce()):T("Transactions marked as Processing...","info")}catch(ee){console.error(ee),T("Disbursement process initiated.","success")}finally{b(!1)}}},ne=()=>{T("Preparing Disbursement Log for printing...","info"),setTimeout(()=>{window.print()},500)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[O&&e.jsx(N2,{message:O.message,type:O.type,onClose:()=>F(null)}),e.jsx(v2,{isOpen:M,onClose:()=>$(!1),title:"Confirm Disbursement",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-blue-900 text-xs flex items-start gap-2",children:[e.jsx(Lt,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["You are about to release payments for ",e.jsxs("strong",{children:[I.length," bank files"]})," totaling ",e.jsxs("strong",{children:["$",q(_)]}),"."]})]}),e.jsx("p",{className:"text-gray-600 italic",children:"This action cannot be undone once processed by the bank."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:de,className:"px-4 py-2 bg-blue-800 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-900 transition-colors shadow-sm",children:"Confirm Release"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-3 py-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Ya,{size:14,className:"text-blue-800 shrink-0"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic text-[10px] sm:text-xs truncate",children:"Bank Pay Disbursement  Upload uses DBF file format"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Period:"}),e.jsx("select",{value:C,onChange:ee=>w(ee.target.value),className:"text-xs font-bold p-1 border border-gray-400 outline-none uppercase bg-white min-w-[100px]",children:D.map(ee=>e.jsx("option",{value:ee,children:ee},ee))})]})]}),e.jsx("div",{className:"flex-1 p-3 sm:p-6 flex flex-col gap-4 sm:gap-6 overflow-auto min-w-0",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 min-w-0",children:[e.jsxs("div",{className:"flex-1 bg-white border-2 border-gray-500 p-3 sm:p-6 shadow-md min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-base sm:text-xl font-black text-blue-900 uppercase italic tracking-tighter truncate",children:"Pending Bank Files"}),e.jsxs("div",{className:"flex gap-2 shrink-0 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>p(!x),className:`p-2 border border-gray-400 font-bold flex items-center gap-2 hover:bg-blue-50 text-[10px] sm:text-xs ${i!=="All"?"bg-blue-100 text-blue-900 border-blue-500":"bg-gray-100"}`,children:[e.jsx(Hr,{size:14})," FILTER: ",i.toUpperCase()]}),x&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border-2 border-gray-500 shadow-xl z-50 py-1",children:["All","High Value (>1M)","Regular Value","NCB Only","Scotiabank Only"].map(ee=>e.jsx("button",{onClick:()=>{u(ee),p(!1)},className:"w-full text-left px-4 py-2 hover:bg-blue-600 hover:text-white font-bold text-[10px] uppercase border-b border-gray-100 last:border-0",children:ee},ee))})]}),e.jsxs("button",{onClick:()=>{const ee=prompt("Enter Bank Name to Search:",n);ee!==null&&o(ee)},className:`p-2 border border-gray-400 font-bold flex items-center gap-2 hover:bg-blue-50 text-[10px] sm:text-xs ${n?"bg-blue-100 text-blue-900 border-blue-500":"bg-gray-100"}`,children:[e.jsx(Ke,{size:14})," ",n?`SEARCH: ${n.toUpperCase()}`:"SEARCH"]})]})]}),e.jsx("div",{className:"overflow-x-auto min-h-[200px]",children:v?e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 gap-4 text-gray-400",children:[e.jsx(ge,{size:32,className:"animate-spin text-blue-600"}),e.jsx("span",{className:"font-black italic uppercase tracking-widest",children:"Scanning Payroll Ledger..."})]}):e.jsxs("table",{className:"w-full text-left border-collapse min-w-[400px]",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-400 italic",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-black text-gray-700",children:"BANK / INSTITUTION"}),e.jsx("th",{className:"p-3 font-black text-gray-700",children:"EMPLOYEES"}),e.jsx("th",{className:"p-3 font-black text-gray-700",children:"TOTAL JMD"}),e.jsx("th",{className:"p-3 font-black text-gray-700 text-right",children:"ACTIONS"})]})}),e.jsxs("tbody",{children:[I.map((ee,P)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50",children:[e.jsx("td",{className:"p-3 font-black text-blue-900 italic",children:ee.name}),e.jsx("td",{className:"p-3 font-bold",children:ee.employees}),e.jsxs("td",{className:"p-3 font-black text-green-700 italic",children:["$ ",ee.total]}),e.jsx("td",{className:"p-3 text-right",children:e.jsx("button",{onClick:()=>W(ee.name),className:"px-3 py-1 bg-blue-600 text-white font-bold hover:bg-blue-700 italic uppercase text-[10px] shadow-sm active:translate-y-0.5",title:"Bank upload file format: DBF",children:"GENERATE DBF FILE"})})]},P)),I.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-10 text-center font-bold text-gray-400 italic",children:"No bank files generated for this period. check if payroll is run."})})]})]})})]}),e.jsxs("div",{className:"w-full lg:w-80 shrink-0 space-y-4",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-6 shadow-xl border-4 border-white",children:[e.jsxs("h3",{className:"font-black italic text-sm mb-4 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Lt,{size:16})," Batch Summary"]}),e.jsxs("div",{className:"space-y-4 text-[10px]",children:[e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"PAYROLL PERIOD"}),e.jsx("span",{className:"font-black italic uppercase",children:C})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"TOTAL NET PAY"}),e.jsxs("span",{className:"font-black italic text-lg",children:["$ ",q(_)]})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"TRANSFERS READY"}),e.jsxs("span",{className:"font-black italic text-green-400",children:[I.length," FILE(S)"]})]}),e.jsxs("div",{className:"flex justify-between border-b border-blue-800 pb-2",children:[e.jsx("span",{className:"font-bold opacity-70",children:"PAYSLIPS READY"}),e.jsx("span",{className:"font-black italic text-yellow-400",children:E})]})]}),e.jsx("button",{onClick:()=>$(!0),disabled:g||A.length===0,className:`w-full mt-6 p-3 font-black italic transition-all uppercase tracking-widest shadow-lg active:translate-y-1 flex items-center justify-center gap-2 ${g||A.length===0?"bg-gray-400 text-white cursor-not-allowed":"bg-white text-blue-900 hover:bg-gray-100"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"PROCESSING BATCH..."]}):"DISBURSE ALL NOW"})]}),e.jsxs("div",{className:"bg-green-50 border-2 border-green-300 p-4 shadow-sm",children:[e.jsxs("h3",{className:"font-black italic text-xs mb-3 uppercase tracking-widest flex items-center gap-2 text-green-800",children:[e.jsx(Ph,{size:14})," Payslip Status"]}),e.jsxs("div",{className:"space-y-2 text-[10px]",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-600",children:"Encrypted Payslips"}),e.jsxs("span",{className:"font-black text-green-700",children:[E," Generated"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-600",children:"TRN Protected"}),e.jsx("span",{className:"font-black text-blue-700",children:" Active"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-600",children:"Email Status"}),e.jsx("span",{className:"font-black text-orange-700",children:"Pending Send"})]})]}),e.jsx("button",{onClick:()=>{N(!0),setTimeout(()=>{N(!1),l("/payroll/payslips")},800)},disabled:h,className:`w-full mt-3 p-2 font-black italic transition-all uppercase text-[10px] tracking-widest flex items-center justify-center gap-2 shadow-md active:translate-y-0.5 ${h?"bg-green-800 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"LOADING QUEUE..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{size:12})," View Payslips Queue"]})})]})]})]})}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-2 flex justify-between items-center px-6 no-print",children:[e.jsx("div",{className:"flex gap-4",children:e.jsxs("button",{onClick:ne,className:"flex items-center gap-2 p-2 border border-gray-400 bg-gray-50 font-bold hover:bg-white active:translate-y-0.5 shadow-sm",children:[e.jsx(_e,{size:16,className:"text-gray-600"})," PRINT DISBURSEMENT LOG"]})}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-10 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})]})]})},Rm=()=>{const l=xe(),[n,o]=m.useState(""),[i,u]=m.useState("ALL"),[x,p]=m.useState(!1),[g,b]=m.useState(!1),[h,N]=m.useState([]),[v]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[k]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),f=()=>new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-"),j=async()=>{if(k.id)try{b(!0);const S={companyId:k.id};i==="CURRENT"&&(S.period=f());const _=await X.fetchTransactionRegister(S);if(_.success){const B=(_.data.transactions||[]).map(E=>({id:E.id,txId:E.id.substring(0,8).toUpperCase(),date:new Date(E.transactionDate).toLocaleDateString(),employee:`${E.employee?.firstName} ${E.employee?.lastName}`,type:E.type,amount:parseFloat(E.amount),status:E.status,period:E.period===f()?"CURRENT":"PREVIOUS"}));N(B)}}catch(S){console.error("Fetch error:",S)}finally{b(!1)}};m.useEffect(()=>{j()},[k.id,i]);const C=()=>{p(!0)},w=()=>{window.print()},D=()=>{const S=h.filter(O=>O.employee.toLowerCase().includes(n.toLowerCase())||O.txId.toLowerCase().includes(n.toLowerCase())),_=[["TX ID","DATE","EMPLOYEE","CATEGORY","AMOUNT","STATUS"],...S.map(O=>[O.txId,O.date,O.employee,O.type,O.amount,O.status])].map(O=>O.join(",")).join(`
`),B=new Blob([_],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(B),R=document.createElement("a");R.setAttribute("href",E),R.setAttribute("download",`Transaction_Register_${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)},L=h.filter(S=>S.employee.toLowerCase().includes(n.toLowerCase())||S.txId.toLowerCase().includes(n.toLowerCase())||S.type.toLowerCase().includes(n.toLowerCase())),A=L.reduce((S,_)=>S+_.amount,0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bh,{size:14,className:"text-blue-800"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic underline decoration-blue-500/30 underline-offset-4",children:"Transaction Register Management"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>u(S=>S==="ALL"?"CURRENT":"ALL"),className:`px-3 py-1 border border-gray-400 text-[10px] font-black italic transition-all flex items-center gap-1 shadow-sm ${i==="ALL"?"bg-[#316AC5] text-white":"bg-white text-black hover:bg-gray-100"}`,children:[i==="ALL"?"ALL PERIODS":"CURRENT PERIOD"," ",e.jsx(Ys,{size:10})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 px-2 text-blue-700 font-bold italic animate-pulse",children:[e.jsx(ge,{size:12,className:"animate-spin"})," REFRESHING..."]})]})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-2 flex items-center gap-4 shadow-md",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-2 px-2 bg-gray-50 border border-gray-300 focus-within:border-blue-500 transition-colors shadow-inner",children:[e.jsx(Ke,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"FILTER BY ID, EMPLOYEE OR TYPE...",className:"bg-transparent outline-none p-2 font-bold w-full italic uppercase placeholder:normal-case",value:n,onChange:S=>o(S.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:w,className:"p-2 border border-gray-400 bg-[#E0DCCF] hover:bg-white hover:text-blue-700 transition-all shadow-sm active:translate-y-0.5",children:e.jsx(_e,{size:16,title:"Print Register"})}),e.jsx("button",{onClick:D,className:"p-2 border border-gray-400 bg-[#E0DCCF] hover:bg-white hover:text-green-700 transition-all shadow-sm active:translate-y-0.5",children:e.jsx(He,{size:16,title:"Export CSV"})})]})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-xl overflow-hidden flex flex-col rounded-sm",children:[e.jsx("div",{className:"overflow-auto flex-1 scrollbar-thin scrollbar-thumb-gray-400",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 border-b border-gray-400 font-black italic text-gray-700 z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-300",children:"TX ID"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"DATE"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"EMPLOYEE"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"CATEGORY"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"AMOUNT"}),e.jsx("th",{className:"p-3",children:"STATUS"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L.length>0?L.map((S,_)=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer group transition-colors",children:[e.jsxs("td",{className:"p-3 font-black text-gray-400 group-hover:text-blue-600 transition-colors uppercase tabular-nums",children:["#",S.txId]}),e.jsx("td",{className:"p-3 font-mono text-gray-600",children:S.date}),e.jsx("td",{className:"p-3 font-black text-blue-900 italic group-hover:underline group-hover:translate-x-1 transition-transform uppercase",children:S.employee}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"px-2 py-0.5 bg-gray-50 border border-gray-300 rounded font-black text-[9px] uppercase tracking-tighter text-gray-600 group-hover:bg-blue-600 group-hover:text-white group-hover:border-blue-700 transition-all",children:S.type})}),e.jsxs("td",{className:"p-3 font-black text-blue-800 italic group-hover:scale-105 transition-transform origin-left tabular-nums",children:["$",S.amount.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full font-black italic uppercase text-[9px] border shadow-sm ${S.status==="POSTED"?"bg-green-100 text-green-700 border-green-200":S.status==="ENTERED"?"bg-yellow-50 text-yellow-700 border-yellow-200 animate-pulse":S.status==="PROCESSED"?"bg-blue-100 text-blue-700 border-blue-200":"bg-red-100 text-red-700 border-red-200"}`,children:S.status})})]},_)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-widest bg-gray-50/50",children:"No Transaction Records Found"})})})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-gray-400 p-2 flex justify-between px-6 text-[10px] font-black italic text-gray-500 uppercase tracking-widest shrink-0",children:[e.jsxs("span",{children:["Total Records: ",h.length]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{children:n?`Matches: ${L.length}`:""}),e.jsxs("span",{className:"text-blue-900 border-l border-gray-400 pl-4 bg-gray-200/50 px-2 rounded",children:["Register Value: $",A.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 no-print",children:[e.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-6 py-3 bg-[#E0DCCF] border-2 border-white border-b-gray-600 border-r-gray-600 font-black italic hover:bg-white hover:text-blue-800 active:translate-y-1 active:border-b-0 active:border-r-0 transition-all text-blue-900 shadow-md uppercase tracking-wider text-[10px]",children:[e.jsx(Ne,{size:16,className:"text-blue-600"})," View System Logs"]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-6 py-3 bg-[#E0DCCF] border-2 border-white border-b-gray-600 border-r-gray-600 font-black italic hover:bg-white hover:text-red-800 transition-all shadow-md uppercase tracking-wider text-[10px]",children:[e.jsx(Ee,{size:16,className:"text-red-600"})," Close Register"]})]}),x&&e.jsx("div",{className:"absolute inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-[#D4D0C8] border-4 border-[#D4D0C8] shadow-[0_0_50px_rgba(0,0,0,0.5)] flex flex-col h-[500px] animate-in zoom-in duration-300 overflow-hidden",children:[e.jsxs("div",{className:"bg-[#000080] text-white px-3 py-1.5 flex items-center justify-between border-b-2 border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 border border-white rounded-full"}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[9px]",children:"Audit Control Center - Security Level 4"})]}),e.jsx("button",{onClick:()=>p(!1),className:"hover:bg-red-600 px-3 py-0.5 font-black transition-colors border border-transparent hover:border-white",children:""})]}),e.jsxs("div",{className:"flex-1 bg-black p-6 font-mono text-[10px] overflow-auto space-y-2 relative group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none bg-[radial-gradient(circle_at_50%_50%,rgba(0,255,0,0.05)_0%,transparent_100%)]"}),e.jsxs("div",{className:"text-green-500 border-b border-green-900/30 pb-2 mb-4 animate-pulse",children:["SYSTEM ACCESS ESTABLISHED: ",new Date().toLocaleString()," @ PORT_042"]}),e.jsxs("p",{className:"text-green-500/80",children:["[AUTH] User verified: ",v.email]}),e.jsxs("p",{className:"text-green-500/80",children:["[CID] Company Token: ",v.companyId?.substring(0,13),"..."]}),e.jsx("p",{className:"text-green-500/80",children:"[SCAN] Integrity check: OK"}),L.map(S=>e.jsxs("div",{className:"pt-2 border-t border-green-900/20 text-green-400/90",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"ENTRY_HNDL:"})," ",S.id]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"OPERATOR:"})," ",v.email.toUpperCase()]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"TIMESTAMP:"})," ",S.date," :: SYNCED"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-blue-500",children:"VALIDATION:"})," ",S.status,"_STATUS_VERIFIED"]})]},S.id)),e.jsx("p",{className:"pt-4 text-green-500 font-bold border-t border-green-900 mt-4 italic",children:"--- SYSTEM SCAN COMPLETE - NO ANOMALIES DETECTED ---"})]}),e.jsx("div",{className:"bg-[#D4D0C8] p-2 flex justify-end border-t border-gray-400",children:e.jsx("button",{onClick:()=>p(!1),className:"px-8 py-1.5 bg-white border-2 border-white border-b-gray-600 border-r-gray-600 font-black uppercase text-[10px] hover:bg-gray-100 active:translate-y-0.5 transition-all italic text-blue-900 shadow-sm",children:"Exit Terminal"})})]})})]})]})},S2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(!1),[x,p]=m.useState("2026-02"),[g]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),b=async()=>{if(!g.id){alert("No company selected. Please select a company first.");return}try{o(!0);const h=await X.finalizeBatch({companyId:g.id,period:x});h.success?setTimeout(()=>{o(!1),u(!0),alert(` SUCCESS: ${h.data.count} records finalized for ${x}.`)},1500):(alert("Update failed: "+h.message),o(!1))}catch(h){console.error(h),alert("An error occurred during the update process."),o(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex flex-col xs:flex-row items-center justify-between gap-2",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase italic text-[10px] text-center xs:text-left",children:"Payroll System Control Hub"}),e.jsx("span",{className:"text-[10px] font-bold text-red-600 animate-pulse uppercase tracking-widest text-center",children:"Master Link Active"})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-12 flex flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-3xl bg-white border-2 border-gray-500 shadow-[8px_8px_0_rgba(0,0,0,0.1)] sm:shadow-[12px_12px_0_rgba(0,0,0,0.1)] p-4 sm:p-10 my-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6 mb-8 sm:mb-10 pb-6 border-b-2 border-red-600 relative overflow-hidden",children:[e.jsx("div",{className:"sm:absolute top-0 right-0 p-2 bg-red-600 text-white font-black italic text-[10px] uppercase tracking-widest sm:rotate-12 sm:translate-x-4 sm:-translate-y-4 mb-2 sm:mb-0 w-full sm:w-auto text-center",children:"Critical"}),e.jsxs("div",{className:"p-4 bg-red-100 rounded-lg text-red-600 shadow-inner border border-red-200 shrink-0",children:[e.jsx(ql,{size:32,className:"sm:hidden"}),e.jsx(ql,{size:48,className:"hidden sm:block"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-xl sm:text-3xl font-black text-gray-900 italic uppercase leading-none tracking-tighter",children:"Payroll Master Update"}),e.jsxs("p",{className:"text-red-700 font-bold uppercase tracking-widest text-[9px] sm:text-[10px] mt-3 sm:mt-2 italic flex items-center justify-center sm:justify-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full animate-ping shrink-0"}),"Operation Level 4: Permanent Data Posting"]})]})]}),i?e.jsxs("div",{className:"text-center space-y-8 animate-in zoom-in duration-500",children:[e.jsxs("div",{className:"p-6 sm:p-10 bg-green-50 border-4 border-green-500 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-green-500 animate-pulse"}),e.jsx(Lt,{size:48,className:"text-green-600 mb-4 mx-auto sm:hidden"}),e.jsx(Lt,{size:80,className:"text-green-600 mb-4 mx-auto hidden sm:block"}),e.jsx("h2",{className:"text-xl sm:text-3xl font-black text-green-900 italic uppercase tracking-tighter leading-tight",children:"LEDGER UPDATED SUCCESSFULLY"}),e.jsx("p",{className:"font-bold text-green-700 uppercase mt-4 sm:mt-2 tracking-widest text-[9px] sm:text-[10px]",children:"All employee salary history has been permanently committed to Master Database."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>{alert("PREPARING AUDIT: Generating Master Posting Register for the current commitment session..."),l("/payroll/register/print")},className:"flex-1 p-4 sm:p-6 bg-blue-900 text-white font-black italic uppercase tracking-widest hover:bg-black transition-all border-b-4 border-blue-950 flex flex-col items-center shadow-lg active:translate-y-1",children:[e.jsx("span",{className:"text-[10px] opacity-70",children:"GENERATE REPORT"}),e.jsx("span",{className:"text-xs sm:text-base",children:"PRINT POSTING AUDIT"})]}),e.jsxs("button",{onClick:()=>l("/"),className:"flex-1 p-4 sm:p-6 bg-gray-100 text-gray-800 font-black italic uppercase tracking-widest hover:bg-gray-200 transition-all border border-gray-400 border-b-4 border-gray-500 flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] opacity-70",children:"STATION CONTROL"}),e.jsx("span",{className:"text-xs sm:text-base",children:"BACK TO DASHBOARD"})]})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 p-6 flex items-start gap-4",children:[e.jsx(js,{className:"text-yellow-600 shrink-0",size:24}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-black text-yellow-900 uppercase italic",children:"Pre-Update Verification"}),e.jsxs("ul",{className:"text-[10px] font-bold text-yellow-800 space-y-1 uppercase tracking-tight opacity-80",children:[e.jsx("li",{children:" Calculation register has been reviewed and verified."}),e.jsx("li",{children:" Bank disbursement files have been successfully generated."}),e.jsx("li",{children:" System backup has been performed in the last 24 hours."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 space-y-3",children:[e.jsx("h3",{className:"font-black text-gray-400 uppercase text-[9px]",children:"Target Pay Period"}),e.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-200 px-3 py-1 shadow-inner rounded-sm ring-1 ring-gray-200",children:[e.jsx(yt,{size:14,className:"text-blue-600"}),e.jsx("input",{type:"month",value:x,onChange:h=>p(h.target.value),className:"bg-transparent outline-none font-black text-blue-900 text-xs w-full uppercase"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 space-y-3",children:[e.jsx("h3",{className:"font-black text-gray-400 uppercase text-[9px]",children:"Posting Destination"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xa,{className:"text-blue-600 shrink-0",size:20}),e.jsxs("div",{className:"font-black italic text-gray-700 text-[11px] sm:text-xs",children:["PR-MASTER-DB-",x.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-300 space-y-3",children:[e.jsx("h3",{className:"font-black text-gray-400 uppercase text-[9px]",children:"Security Protocol"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(it,{className:"text-green-600 shrink-0",size:20}),e.jsxs("div",{className:"font-black italic text-gray-700 text-[11px] sm:text-xs",children:["ENCRYPTED KEY SIGNED - ",g.code||"SYS"]})]})]}),e.jsx("button",{onClick:b,disabled:n,className:`w-full p-4 sm:p-6 font-black italic text-sm sm:text-xl uppercase tracking-widest sm:tracking-[0.2em] shadow-2xl transition-all flex flex-col items-center justify-center gap-2 ${n?"bg-gray-400 text-gray-200 cursor-wait":"bg-red-600 text-white hover:bg-red-700 active:translate-y-1"}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(yt,{size:24,className:"animate-spin sm:hidden"}),e.jsx(yt,{size:32,className:"animate-spin hidden sm:block"}),e.jsx("span",{className:"text-center",children:"COMMITTING TO MASTER DATA..."})]}):e.jsx("span",{className:"text-center",children:"POST & UPDATE MASTER RECORDS"})})]})]})}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-2 sm:p-3 flex flex-col xs:flex-row justify-between items-center px-4 sm:px-6 gap-3 no-print",children:[e.jsxs("button",{onClick:()=>alert("HISTORY: Accessing previous payroll commitment logs..."),className:"flex items-center gap-2 p-1.5 font-black italic text-gray-500 hover:text-blue-700 transition-colors text-[10px] sm:text-xs",children:[e.jsx(Ne,{size:16})," VIEW PREVIOUS UPDATES"]}),e.jsx("button",{onClick:()=>l(-1),className:"w-full xs:w-auto bg-gray-100 border border-gray-400 text-gray-600 px-8 py-2 font-black italic hover:bg-gray-200 text-[10px] sm:text-xs",children:"CLOSE MODULE"})]})]})},k2=()=>{const l=xe(),n=m.useRef(null),[o,i]=m.useState([]),u=async()=>{try{const R=await X.fetchBackupLogs();R.success&&i(R.data.map(O=>({id:O.id,date:new Date(O.date).toLocaleDateString("en-GB"),type:O.type,size:O.size,user:O.user,status:O.status,filename:O.filename})))}catch(R){console.error("Failed to fetch backup logs:",R)}};m.useEffect(()=>{u()},[]);const[x,p]=m.useState(!1),[g,b]=m.useState(0),[h,N]=m.useState(""),[v,k]=m.useState(!1),[f,j]=m.useState(""),[C,w]=m.useState(""),D=m.useRef(null),L=_t();m.useEffect(()=>{const O=new URLSearchParams(L.search).get("action");O==="import"?_():O==="export"?E():O==="backup"?A():O==="restore"&&S(),O&&window.history.replaceState({},"",L.pathname)},[L.search]);const A=async()=>{try{j("BACKUP"),k(!0),p(!0),b(10),N("Initializing backup protocol...");const R=await X.createSystemBackup();R.success&&(b(100),N("CRC Verification Successful. Operation BACKUP finalized."),u(),setTimeout(()=>{p(!1),alert(` SYSTEM BACKUP GENERATED

Archive Name: ${R.data.filename}
Size: ${R.data.size}`)},800))}catch(R){console.error(R),alert("BACKUP FAILED: System could not generate snapshot."),k(!1)}finally{p(!1)}},S=()=>{D.current="restore",n.current&&n.current.click()},_=()=>{D.current="import",n.current&&n.current.click()},B=R=>{const O=R.target.files[0];if(O){const F=D.current==="restore"?"/files/restore":"/files/import";window.pendingFile=O,l(F,{state:{autoStart:!0,fileName:O.name,fileSize:O.size,isRestore:D.current==="restore"}})}},E=async()=>{try{j("EXPORT"),k(!0),p(!0),b(30),N("Compressing master records...");const R=await X.exportMasterData();if(R.success){b(100),N("Operation EXPORT finalized.");const O=new Blob([JSON.stringify(R.data,null,2)],{type:"application/json"}),F=window.URL.createObjectURL(O),M=document.createElement("a");M.href=F,M.download=`HRM_Master_Export_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(M),M.click(),window.URL.revokeObjectURL(F),document.body.removeChild(M),setTimeout(()=>{p(!1)},800)}}catch(R){console.error(R),alert("EXPORT FAILED: Encryption protocol interrupted."),k(!1)}finally{p(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsx("input",{type:"file",ref:n,className:"hidden",accept:".xlsx,.xls,.csv,.xml,.bak,.sql,.zip",onChange:B}),e.jsxs("div",{className:"bg-[#0055E5] text-white px-3 py-1.5 flex items-center justify-between shadow-[inset_0_1px_0_rgba(255,255,255,0.3)]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ei,{size:14}),e.jsx("span",{className:"font-black uppercase tracking-widest text-[10px]",children:"Station Protocol: 0x882  File Maintenance"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-[9px] font-bold opacity-80",children:[e.jsx("span",{children:"SECURITY: RSA-4096"}),e.jsx("span",{className:"border-l border-white/30 pl-4 uppercase",children:"Node: JAMAICA-HQ-01"})]})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-6 overflow-hidden flex flex-col md:flex-row gap-4 sm:gap-6 bg-[#D4D0C8]/50",children:[e.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-500 shadow-[8px_8px_0_rgba(0,0,0,0.1)] flex flex-col",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-400 flex items-center gap-2 font-black text-gray-700 uppercase italic",children:[e.jsx(xa,{size:14,className:"text-blue-700"})," Primary Ops"]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("button",{onClick:A,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-white border border-blue-200 text-blue-800 font-black hover:from-blue-100 hover:border-blue-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(xa,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"BACKUP SYSTEM"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Full Binary Image"})]})]}),e.jsxs("button",{onClick:_,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-white border border-green-200 text-green-800 font-black hover:from-green-100 hover:border-green-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(Dd,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"IMPORT DATA"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Excel / CSV / XML"})]})]}),e.jsxs("button",{onClick:E,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-white border border-purple-200 text-purple-800 font-black hover:from-purple-100 hover:border-purple-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(He,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"EXPORT MASTER"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Encrypted YTD Archive"})]})]}),e.jsxs("button",{onClick:S,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-red-50 to-white border border-red-200 text-red-800 font-black hover:from-red-100 hover:border-red-400 active:translate-y-0.5 transition-all text-left shadow-sm border-b-2 border-r-2",children:[e.jsx(Ei,{size:24,className:"shrink-0"}),e.jsxs("div",{className:"truncate",children:[e.jsx("div",{className:"text-[11px] leading-none mb-1",children:"RESTORE SYSTEM"}),e.jsx("div",{className:"text-[9px] font-bold opacity-50 uppercase tracking-tighter",children:"Rollback to Snapshot"})]})]})]})]}),e.jsxs("div",{className:"bg-[#1a1a1a] text-white p-5 border-t-4 border-blue-600 shadow-xl relative group overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(it,{size:20,className:"text-blue-400"}),e.jsx("h4",{className:"font-black uppercase tracking-tighter text-[10px]",children:"Integrity Checkpoint"})]}),e.jsxs("p",{className:"text-[9px] leading-relaxed opacity-70 uppercase font-bold tracking-tighter",children:["System state is currently ",e.jsx("span",{className:"text-green-400 italic",children:"OPTIMAL"}),". All file operations are monitored and recorded under strict audit protocols."]})]}),e.jsx(R1,{className:"absolute -bottom-10 -right-10 opacity-10 group-hover:scale-125 transition-transform",size:140})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white border-2 border-gray-500 shadow-[12px_12px_0_rgba(0,0,0,0.15)] overflow-hidden",children:[e.jsxs("div",{className:"bg-[#D4D0C8] p-3 border-b border-gray-400 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 font-black italic text-gray-800 uppercase text-[11px] tracking-widest",children:[e.jsx(Ei,{size:16,className:"text-blue-700"}),"System Transaction Log"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"FILTER LOG...",className:"px-2 py-1 bg-white border border-gray-400 text-[10px] font-bold w-32 focus:w-48 transition-all outline-none",value:C,onChange:R=>w(R.target.value)})}),e.jsx("button",{onClick:u,className:"bg-white border-2 border-gray-400 px-3 py-1 font-black text-[10px] uppercase hover:bg-gray-100 active:translate-y-0.5 shadow-sm",children:"Refresh"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-[url('https://www.transparenttextures.com/patterns/graphy.png')]",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[e.jsx("thead",{className:"bg-[#F0F0F0] sticky top-0 border-b border-gray-300 font-black text-[10px] text-gray-500 uppercase tracking-widest z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-200",children:"OP-UUID"}),e.jsx("th",{className:"p-4 border-r border-gray-200 text-center",children:"STAMP"}),e.jsx("th",{className:"p-4 border-r border-gray-200 text-center",children:"TYPE"}),e.jsx("th",{className:"p-4 border-r border-gray-200 text-center",children:"DATA LOAD"}),e.jsx("th",{className:"p-4",children:"STATION USER"}),e.jsx("th",{className:"p-4 text-right",children:"PROTOCOL"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:o.filter(R=>R.id.toLowerCase().includes(C.toLowerCase())||R.type.toLowerCase().includes(C.toLowerCase())||R.user.toLowerCase().includes(C.toLowerCase())).map(R=>e.jsxs("tr",{onClick:()=>{R.type==="BACKUP"&&window.open(X.downloadBackupFile(R.filename),"_blank")},className:"border-b border-gray-100 hover:bg-blue-50/80 cursor-pointer transition-colors group",children:[e.jsx("td",{className:"p-4 border-r border-gray-100 font-mono text-blue-700 tracking-tighter uppercase",children:R.id}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center font-mono text-[10px]",children:R.date}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded-sm text-[9px] uppercase font-black text-white ${R.type==="BACKUP"?"bg-blue-600":R.type==="IMPORT"?"bg-green-600":"bg-purple-600"}`,children:R.type})}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center font-mono opacity-60 italic",children:R.size}),e.jsx("td",{className:"p-4 border-r border-gray-100 font-black italic",children:R.user}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs",children:[R.type==="BACKUP"&&e.jsx(He,{size:12,className:"text-blue-500 mr-2 group-hover:block hidden"}),e.jsx("span",{className:"text-[9px] font-black italic text-green-700 tracking-widest",children:R.status}),e.jsx(jt,{size:12,className:"text-green-600"})]})})]},R.id))})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] p-3 border-t border-gray-400 flex justify-between items-center px-6",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Logged Station Events Root: /sys/engine/file_manager"}),e.jsx("button",{onClick:()=>l("/"),className:"bg-[#333333] text-white px-8 py-2 font-black uppercase tracking-[0.2em] text-[10px] hover:bg-black shadow-lg border-b-4 border-r-4 border-gray-900 active:translate-y-1 active:border-0 transition-all",children:"Return to Command"})]})]})]}),v&&e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-[450px] bg-[#EBE9D8] border-2 border-white shadow-[20px_20px_0_rgba(0,0,0,0.4)] animate-in zoom-in duration-200",children:[e.jsx("div",{className:"bg-[#0055E5] text-white px-3 py-1.5 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[x?e.jsx(ge,{className:"animate-spin",size:14}):e.jsx(jt,{size:14}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Protocol Execution: ",f]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[e.jsx("div",{className:`p-4 rounded-full ${x?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"} shadow-inner`,children:f==="IMPORT"?e.jsx(Dd,{size:32}):f==="EXPORT"?e.jsx(He,{size:32}):e.jsx(xa,{size:32})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase italic tracking-tighter mb-1",children:x?"Operational Step":"Protocol Finalized"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Master File Control Unit"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end mb-1",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-700 uppercase italic tracking-tighter",children:h}),e.jsxs("span",{className:"text-sm font-black text-blue-700",children:[Math.floor(g),"%"]})]}),e.jsx("div",{className:"w-full h-4 bg-white border border-gray-400 p-0.5 shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-700 via-blue-500 to-blue-800 transition-all duration-300 shadow-[inset_0_1px_0_rgba(255,255,255,0.4)]",style:{width:`${g}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[9px] font-bold text-gray-400 uppercase font-mono tracking-tighter",children:[e.jsxs("span",{children:["TASK_REF: 0xFD_",f]}),e.jsxs("span",{className:"text-right",children:["MEM: ",Math.floor(g*4),"MB LOAD"]})]})]}),!x&&e.jsx("button",{onClick:()=>k(!1),className:"w-full mt-8 bg-[#0055E5] text-white py-3 font-black uppercase tracking-[0.2em] shadow-lg border-b-4 border-r-4 border-blue-900 active:translate-y-1 active:border-0 transition-all font-sans",children:"Dismiss Protocol"})]}),e.jsx("div",{className:"bg-[#D4D0C8] border-t border-gray-400 px-4 py-1.5 flex justify-end",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:"RSA Status:"}),e.jsx("span",{className:`text-[8px] font-black uppercase ${x?"text-blue-600 animate-pulse":"text-green-600"}`,children:x?"ENCRYPTING...":"SECURE"})]})})]})})]})},E2=()=>{const l=xe(),n=[{id:"calc",name:"Financial Calculator",icon:e.jsx($s,{size:20}),desc:"Payroll and tax calculation helper",path:"/processing/payroll-calculation"},{id:"diag",name:"System Diagnostics",icon:e.jsx(Cd,{size:20}),desc:"Check station and database health",path:"/tools/diagnostics"},{id:"clean",name:"Database Cleanup",icon:e.jsx(Ih,{size:20}),desc:"Purge old logs and optimize tables",path:"/tools/cleanup"},{id:"sec",name:"Security Audit",icon:e.jsx(Ba,{size:20}),desc:"Scan for unauthorized access attempts",path:"/tools/security"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Station Utility Toolkit"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"System Diagnostics & Maintenance"})]}),e.jsxs("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:[e.jsx("div",{className:"w-full max-w-4xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map(o=>e.jsxs("button",{onClick:()=>l(o.path),className:"bg-white border border-gray-300 p-6 flex items-start gap-4 shadow-sm hover:bg-gray-50 transition-colors group text-left",children:[e.jsx("div",{className:"p-3 bg-gray-100 text-gray-500 rounded border border-gray-200 group-hover:text-gray-700 transition-colors",children:o.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800 uppercase mb-1",children:o.name}),e.jsx("p",{className:"text-gray-400 font-medium text-[10px] uppercase tracking-tight",children:o.desc})]}),e.jsx(Ga,{className:"text-gray-300 self-center",size:18})]},o.id))}),e.jsxs("div",{className:"mt-8 w-full max-w-4xl mx-auto bg-gray-100 border border-gray-300 p-6 rounded flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-700 text-xs uppercase tracking-wider",children:"Automated Maintenance"}),e.jsx("p",{className:"font-medium text-gray-400 uppercase text-[9px] mt-1",children:"Last full optimization: 21/01/2026"})]}),e.jsx("button",{className:"bg-gray-700 text-white px-6 py-2 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors tracking-widest",children:"Run Diagnostics"})]})]}),e.jsx("div",{className:"border-t border-gray-300 p-4 flex justify-end px-6 no-print bg-white",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 border border-gray-300 px-6 py-2 text-[10px] font-bold uppercase hover:bg-gray-50 transition-colors",children:[e.jsx(Ee,{size:14,className:"text-gray-400"}),"Back to Terminal"]})})]})},C2=()=>{const l=xe(),n=[{id:"T99401",date:"22/01/2026",type:"PAYROLL",desc:"Monthly Salary Disbursement",amount:"8,240,500.00",status:"Completed"},{id:"T99402",date:"22/01/2026",type:"ADVANCE",desc:"Employee Loan #102",amount:"25,000.00",status:"Processing"},{id:"T99403",date:"21/01/2026",type:"TAX",desc:"NHT Disbursement",amount:"450,200.00",status:"Completed"},{id:"T99404",date:"21/01/2026",type:"ADJUST",desc:"Overtime Correction",amount:"12,400.00",status:"Verified"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1 flex items-center gap-2",children:[e.jsx(xa,{size:14,className:"text-blue-800"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic",children:"Master Transaction Ledger & Audit Archives"})]}),e.jsxs("div",{className:"flex-1 p-6 flex flex-col gap-6 overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-500 p-4 shadow-[4px_4px_0_rgba(0,0,0,0.1)] flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-gray-50 border border-gray-300 p-3",children:[e.jsx(Ke,{size:18,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"SEARCH BY TRANSACTION ID, DATA OR DESCRIPTION...",className:"bg-transparent outline-none font-black italic w-full text-blue-900 placeholder:text-gray-300"})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-[#E0DCCF] border border-gray-400 px-4 py-3 font-bold hover:bg-gray-100",children:[e.jsx(Hr,{size:16})," ADVANCED FILTERS"]}),e.jsx("div",{className:"h-10 w-px bg-gray-300 mx-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-3 bg-white border border-gray-400 hover:bg-blue-50 text-blue-600 shadow-sm",children:e.jsx(_e,{size:18})}),e.jsx("button",{className:"p-3 bg-white border border-gray-400 hover:bg-green-50 text-green-600 shadow-sm",children:e.jsx(He,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-gray-500 shadow-[8px_8px_0_rgba(0,0,0,0.1)] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-3 flex justify-between items-center px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yv,{size:18}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[10px]",children:"Archived Records - Fiscal Jan 2026"})]}),e.jsx("div",{className:"text-[9px] font-bold opacity-70",children:"Showing 1-4 of 1,245 Records"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 border-b-2 border-gray-300 font-black italic text-gray-600 uppercase text-[9px]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"TX REF"}),e.jsx("th",{className:"p-4",children:"POSTING DATE"}),e.jsx("th",{className:"p-4",children:"CATEGORY"}),e.jsx("th",{className:"p-4",children:"DESCRIPTION"}),e.jsx("th",{className:"p-4",children:"VALUE (JMD)"}),e.jsx("th",{className:"p-4 text-center",children:"STATUS"}),e.jsx("th",{className:"p-4 text-right",children:"ACTION"})]})}),e.jsx("tbody",{children:n.map((o,i)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 group transition-colors",children:[e.jsxs("td",{className:"p-4 font-black text-gray-400",children:["#",o.id]}),e.jsx("td",{className:"p-4 font-mono font-bold",children:o.date}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-3 py-1 bg-gray-100 border border-gray-300 rounded-sm font-black italic text-[9px] uppercase text-gray-600",children:o.type})}),e.jsx("td",{className:"p-4 font-bold text-gray-800 tracking-tight",children:o.desc}),e.jsxs("td",{className:"p-4 font-black italic text-blue-900 text-sm",children:["$",o.amount]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded font-black italic text-[8px] uppercase ${o.status==="Completed"?"text-green-600 border border-green-200 bg-green-50":o.status==="Processing"?"text-blue-600 border border-blue-200 bg-blue-50 animate-pulse":"text-purple-600 border border-purple-200 bg-purple-50"}`,children:o.status})}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("button",{className:"p-1 text-blue-600 opacity-0 group-hover:opacity-100 font-black italic flex items-center gap-1 ml-auto uppercase text-[9px]",children:["DETAILS ",e.jsx(ys,{size:12})]})})]},i))})]})})]})]}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-3 px-8 flex justify-between items-center no-print",children:[e.jsx("div",{className:"text-[10px] font-black italic text-red-600 uppercase animate-pulse",children:"Live Audit Loop Active - Station Verified"}),e.jsx("button",{onClick:()=>l(-1),className:"bg-red-500 text-white px-10 py-2 font-black italic hover:bg-red-600 shadow-xl active:translate-y-1 transition-all",children:"CLOSE LEDGER"})]})]})},D2=()=>{const l=xe(),[n,o]=m.useState(null),[i,u]=m.useState(1),[x,p]=m.useState("full"),[g,b]=m.useState(new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-")),[h,N]=m.useState([]),[v,k]=m.useState([]),[f,j]=m.useState([]),[C,w]=m.useState("pending"),[D,L]=m.useState(null),[A,S]=m.useState(!1);m.useEffect(()=>{const M=localStorage.getItem("selectedCompany");M&&o(JSON.parse(M))},[]),m.useEffect(()=>{const M=[],$=new Date;for(let T=0;T<12;T++){const q=new Date($.getFullYear(),$.getMonth()-T,1),ce=q.toLocaleString("default",{month:"long",year:"numeric"}),I=q.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-");M.push({label:ce,value:I})}N(M)},[]),m.useEffect(()=>{n?.id&&_()},[n]);const _=async()=>{try{const M=await X.fetchDepartments(n.id);M.data&&j(M.data)}catch(M){console.error("Failed to load departments",M)}},B=M=>{k($=>$.includes(M)?$.filter(T=>T!==M):[...$,M])};m.useEffect(()=>{i===3&&E()},[i]);const E=async()=>{w("validating");try{const M=await X.fetchTransactionRegister({companyId:n.id,period:g,status:"POSTED"});if(M.data){const $=M.data.transactions||[];if($.length===0){L(null),w("error");return}const T=new Set($.map(W=>W.employeeId)).size,q=$.reduce((W,de)=>W+parseFloat(de.amount||0),0),ce=q*.2,I=q-ce;L({count:T,gross:q,tax:ce,net:I,totalCost:q}),w("success")}}catch(M){console.error("Validation failed",M),w("error")}},R=async()=>{if(i<4){u(M=>M+1);return}S(!0);try{const M=await X.generatePayrolls({companyId:n.id,period:g});M.success?(alert(`SUCCESS: ${M.message}`),l("/payroll/register")):(alert("Generation failed: "+M.message),S(!1))}catch(M){console.error("Submission failed",M),alert("An error occurred during payroll generation."),S(!1)}},O=M=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"XY"}).format(M).replace("XY","$"),F=[{id:1,title:"Selection",icon:e.jsx(qs,{size:20})},{id:2,title:"Config",icon:e.jsx($s,{size:20})},{id:3,title:"Validation",icon:e.jsx(Dm,{size:20})},{id:4,title:"Submission",icon:e.jsx(Lt,{size:20})}];return n?e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#0055E5] text-white px-4 py-2 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Am,{size:18}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[11px]",children:"IntelliPay Setup Wizard"})]})}),e.jsx("div",{className:"flex-1 p-2 md:p-10 flex flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white border-2 border-gray-500 shadow-2xl flex flex-col min-h-[500px]",children:[e.jsx("div",{className:"flex border-b-2 border-gray-200 overflow-x-auto",children:F.map(M=>e.jsxs("div",{className:`flex-1 min-w-[80px] p-2 md:p-4 flex flex-col items-center gap-1 border-r last:border-0 transition-colors ${i===M.id?"bg-blue-50 border-b-4 border-b-blue-600":i>M.id?"bg-green-50":"bg-gray-50 opacity-40"}`,children:[e.jsx("div",{className:`${i>=M.id?"text-blue-600":"text-gray-400"}`,children:M.icon}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-tighter text-center ${i>=M.id?"text-blue-900":"text-gray-400"}`,children:M.title})]},M.id))}),e.jsxs("div",{className:"flex-1 p-4 md:p-12 overflow-auto flex flex-col items-center justify-center",children:[i===1&&e.jsxs("div",{className:"text-center space-y-6 max-w-lg w-full",children:[e.jsx(qs,{size:64,className:"text-blue-600 mx-auto opacity-20"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Identify Target Group"}),e.jsxs("div",{className:"w-full max-w-xs mx-auto mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-1 text-left",children:"Processing Period"}),e.jsx("select",{value:g,onChange:M=>b(M.target.value),className:"w-full p-2 border border-blue-500 font-bold text-blue-900 bg-blue-50",children:h.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8 w-full",children:[e.jsxs("button",{onClick:()=>p("full"),className:`p-4 border-2 transition-all font-black italic uppercase shadow-sm flex flex-col items-center gap-2 ${x==="full"?"border-blue-600 bg-blue-50 text-blue-900 scale-105 shadow-md z-10":"border-gray-200 bg-white text-gray-400 opacity-60"}`,children:[e.jsx(qs,{size:24}),e.jsx("span",{children:"Entire Company"})]}),e.jsxs("button",{onClick:()=>p("dept"),className:`p-4 border-2 transition-all font-black italic uppercase shadow-sm flex flex-col items-center gap-2 ${x==="dept"?"border-blue-600 bg-blue-50 text-blue-900 scale-105 shadow-md z-10":"border-gray-200 bg-white text-gray-400 opacity-60"}`,children:[e.jsx($s,{size:24}),e.jsx("span",{children:"By Department"})]})]}),x==="dept"&&e.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-3 gap-2 w-full animate-in fade-in slide-in-from-top-4 duration-500",children:f.length>0?f.map(M=>e.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 bg-gray-50 rounded cursor-pointer hover:bg-blue-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:v.includes(M.name),onChange:()=>B(M.name),className:"accent-blue-600 h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-700 truncate",children:M.name})]},M.id)):e.jsx("p",{className:"col-span-3 text-red-500 font-bold",children:"No departments found."})})]}),i===2&&e.jsxs("div",{className:"w-full max-w-2xl space-y-8 animate-in slide-in-from-right duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx($s,{size:48,className:"text-blue-600 mx-auto opacity-30"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Earnings & Deductions"}),e.jsx("p",{className:"font-bold text-gray-500 uppercase text-[10px] tracking-widest",children:"Confirm inclusion parameters."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-blue-900 border-b pb-1 uppercase italic tracking-widest",children:"Standard Earnings"}),e.jsx("div",{className:"space-y-2",children:["Basic Salary","Overtime","Commission","Allowances"].map(M=>e.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-100 bg-white shadow-sm rounded-lg hover:border-blue-300 transition-all cursor-pointer",children:[e.jsx("span",{className:"font-bold text-gray-700",children:M}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 accent-emerald-500"})]},M))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-red-900 border-b pb-1 uppercase italic tracking-widest",children:"Cycle Deductions"}),e.jsx("div",{className:"space-y-2",children:["PAYE Tax","NIS","NHT","Education Tax"].map(M=>e.jsxs("label",{className:"flex items-center justify-between p-3 border border-gray-100 bg-white shadow-sm rounded-lg hover:border-red-300 transition-all cursor-pointer",children:[e.jsx("span",{className:"font-bold text-gray-700",children:M}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 accent-red-500"})]},M))})]})]})]}),i===3&&e.jsxs("div",{className:"w-full max-w-2xl space-y-8 animate-in zoom-in duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(Dm,{size:48,className:"text-amber-600 mx-auto opacity-30"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Validation Scan"}),e.jsx("p",{className:"font-bold text-gray-500 uppercase text-[10px] tracking-widest",children:"Checking available transaction data..."})]}),C==="validating"&&e.jsxs("div",{className:"flex flex-col items-center justify-center p-10 gap-4",children:[e.jsx(ge,{size:40,className:"animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-500 font-bold uppercase",children:"analyzing ledger..."})]}),C==="error"&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 p-6 rounded text-center",children:[e.jsx(ia,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-red-800 mb-2",children:"No Postable Data Found"}),e.jsxs("p",{className:"text-gray-700 mb-4",children:["No 'POSTED' transactions were found for period ",e.jsx("strong",{children:g}),"."]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Please go to ",e.jsx("strong",{children:"Post Transactions"})," and ensure all entered data is posted before running payroll."]})]}),C==="success"&&D&&e.jsxs("div",{className:"bg-white border-2 border-green-100 rounded-2xl overflow-hidden shadow-inner",children:[e.jsxs("div",{className:"p-4 bg-green-50 border-b border-green-100 flex items-center gap-2",children:[e.jsx(Lt,{className:"text-green-600",size:20}),e.jsx("span",{className:"font-bold text-green-800 uppercase",children:"Data Validation Passed"})]}),e.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-2 border border-gray-100 rounded",children:[e.jsx("div",{className:"text-gray-400 text-[10px] uppercase font-bold",children:"Transaction Count"}),e.jsx("div",{className:"text-2xl font-black text-gray-800",children:D.count})]}),e.jsxs("div",{className:"text-center p-2 border border-gray-100 rounded",children:[e.jsx("div",{className:"text-gray-400 text-[10px] uppercase font-bold",children:"Total Gross (Est)"}),e.jsx("div",{className:"text-2xl font-black text-gray-800",children:O(D.gross)})]})]})]})]}),i===4&&e.jsxs("div",{className:"w-full max-w-lg space-y-8 animate-in fade-in duration-700",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(Lt,{size:64,className:"text-green-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 italic uppercase",children:"Final Submission"}),e.jsx("p",{className:"font-bold text-gray-500 uppercase text-[10px] tracking-widest",children:"Review summary and commit."})]}),D?e.jsxs("div",{className:"bg-gray-900 text-green-400 p-6 rounded-lg font-mono text-[10px] space-y-2 border-l-4 border-green-600 shadow-xl",children:[e.jsxs("div",{className:"border-b border-gray-800 pb-2 mb-2 flex justify-between uppercase",children:[e.jsx("span",{children:"Batch Cycle"}),e.jsx("span",{children:g})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"TOTAL RECIPIENTS:"})," ",e.jsxs("span",{children:[D.count," EMPLOYEES"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"TOTAL GROSS:"})," ",e.jsx("span",{children:O(D.gross)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"EST. TAXES:"})," ",e.jsx("span",{children:O(D.tax)})]}),e.jsxs("div",{className:"flex justify-between text-white font-black pt-4 mt-2 border-t border-gray-800 tracking-widest",children:[e.jsx("span",{children:"TOTAL NET PAY:"}),e.jsx("span",{children:O(D.net)})]})]}):e.jsx("div",{className:"text-center text-gray-400",children:"Preview data unavailable."}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded text-blue-900 font-bold text-[10px] italic",children:[e.jsx(Am,{size:16}),"Warning: Clicking 'Finish' will lock this pay period and generate payroll records."]})]})]}),e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 border-t-2 border-gray-200 flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[e.jsxs("button",{disabled:i===1||A,onClick:()=>u(M=>M-1),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 font-black italic uppercase text-gray-500 hover:border-gray-500 disabled:opacity-0 transition-all w-full md:w-auto justify-center",children:[e.jsx(Lh,{size:20})," PREVIOUS STAGE"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsx("button",{onClick:()=>l(-1),className:"px-4 py-3 font-black italic uppercase text-gray-400 hover:text-red-600 transition-none text-center",children:"CANCEL WIZARD"}),e.jsxs("button",{onClick:R,disabled:A||i===3&&C!=="success",className:"flex items-center gap-2 px-6 sm:px-10 py-3 bg-blue-600 text-white font-black italic uppercase shadow-xl hover:bg-blue-700 active:translate-y-1 transition-all w-full md:w-auto justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[A?"PROCESSING...":i===4?"FINISH & RELEASE":"CONTINUE NEXT",i<4&&!A&&e.jsx(Ga,{size:20})]})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-3 px-12 flex justify-between items-center text-[9px] font-black italic text-gray-500 uppercase tracking-widest",children:[e.jsx("span",{children:"Wizard Version 6.0"}),e.jsx("span",{children:"Session Secured: 256-bit Key"})]})]}):e.jsx("div",{className:"p-4",children:"Please select a company first."})},T2=()=>{const l=xe(),[n,o]=m.useState(""),[i,u]=m.useState(null),[x,p]=m.useState("Standard Redundancy (Legal)"),[g,b]=m.useState({yearsOfService:!0,noticePay:!0,multiplier:!0}),[h,N]=m.useState(null),[v,k]=m.useState(!1),[f,j]=m.useState(!1),[C]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[w]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[D,L]=m.useState([]),[A,S]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const F=localStorage.getItem("selectedCompany"),M=F?JSON.parse(F):null;if(M){const $=await X.fetchEmployees(M.id);$.success&&L($.data.map(T=>({id:T.id,employeeId:T.employeeId,name:`${T.firstName} ${T.lastName}`,dept:T.department?.name||T.department||"General",salary:parseFloat(T.baseSalary||0),joinDate:T.joinDate||new Date().toISOString(),years:_(T.joinDate)})))}}catch(F){console.error("Failed to load employee directory:",F)}finally{S(!1)}})()},[]);const _=O=>{if(!O)return 0;const F=new Date(O),$=new Date-F;return Math.floor($/(1e3*60*60*24*365.25))},B=()=>{if(!n)return;const O=D.find(F=>F.employeeId&&F.employeeId.toUpperCase()===n.toUpperCase()||F.id===n);O?(u(O),N(null)):alert(`STATION ALERT: Employee ID "${n}" not found in active master records.`)},E=async()=>{if(i)try{k(!0);const O=await X.calculateRedundancy({employeeId:i.id,terminationType:x,factors:g});if(O.success){const F=O.data;N({redundancy:F.redundancyPay,notice:F.noticePay,total:F.totalSettlement,type:x})}else alert("Failed to calculate settlement. Please try again.")}catch(O){console.error("Settlement calculation error:",O),alert("Error calculating settlement. Please check console for details.")}finally{k(!1)}},R=async()=>{if(!(!i||!h||!window.confirm(`CONFIRM REDUNDANCY RECORD:

Employee: ${i.name}
Type: ${x}
Total Settlement: $${h.total.toLocaleString()}

This will create a permanent redundancy record. Continue?`)))try{j(!0);const F=await X.createRedundancy({companyId:w.id,employeeId:i.id,terminationType:x,redundancyPay:h.redundancy,noticePay:h.notice,totalSettlement:h.total,yearsOfService:i.years,reason:`${x} - Settlement calculated and approved`,processedBy:C.email||"SYSTEM"});F.success?(alert(` REDUNDANCY RECORD SAVED SUCCESSFULLY

Record ID: `+F.data.id),u(null),N(null),o("")):alert("Failed to save redundancy record. Please try again.")}catch(F){console.error("Save redundancy error:",F),alert("Error saving redundancy record. Please check console for details.")}finally{j(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-fire-red bg-[#8B0000] text-white px-3 sm:px-4 py-2 flex flex-col sm:flex-row items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ba,{size:18}),e.jsx("span",{className:"font-black italic uppercase tracking-widest text-[10px] sm:text-[11px] text-center sm:text-left",children:"Termination & Redundancy Settlement Station"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[A&&e.jsxs("span",{className:"flex items-center gap-1 text-[9px] uppercase font-bold animate-pulse",children:[e.jsx(ge,{size:10,className:"animate-spin"})," Syncing Master Records..."]}),e.jsx("div",{className:"text-[8px] sm:text-[9px] font-black border border-white/30 px-2 py-1 italic uppercase whitespace-nowrap",children:"Highly Restricted Access"})]})]}),e.jsx("div",{className:"flex-1 p-3 sm:p-10 flex flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-5xl bg-white border-2 sm:border-4 border-gray-400 shadow-2xl p-4 sm:p-10 flex flex-col lg:grid lg:grid-cols-[1fr_350px] gap-8 sm:gap-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-6 border-b-4 border-red-500",children:[e.jsx("div",{className:"p-4 bg-red-100 rounded-full text-red-600",children:e.jsx(Td,{size:48})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 italic uppercase leading-none",children:"Employee Redundancy"}),e.jsx("p",{className:"text-red-700 font-bold uppercase tracking-widest text-xs mt-2 italic",children:"Legal Settlement & Final Pay Calculation"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8 mb-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"font-black text-gray-500 uppercase text-[9px]",children:"Select Target Account"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"ENTER EMPLOYEE ID...",className:"flex-1 p-3 border-2 border-gray-300 font-black italic bg-gray-50 focus:border-red-500 outline-none uppercase",value:n,onChange:O=>o(O.target.value),onKeyPress:O=>O.key==="Enter"&&B()}),e.jsx("button",{onClick:B,disabled:A,className:"bg-red-600 text-white px-4 py-3 font-bold hover:bg-black transition-all disabled:bg-gray-400 disabled:cursor-not-allowed",children:"LOAD"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"font-black text-gray-500 uppercase text-[9px]",children:"Type of Termination"}),e.jsxs("select",{className:"w-full p-3 border-2 border-gray-300 font-black italic bg-gray-50 focus:border-red-500 outline-none cursor-pointer",value:x,onChange:O=>p(O.target.value),children:[e.jsx("option",{children:"Standard Redundancy (Legal)"}),e.jsx("option",{children:"Voluntary Resignation"}),e.jsx("option",{children:"Termination for Cause"}),e.jsx("option",{children:"Retirement Settlement"})]})]})]}),i?e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"bg-red-900 text-white p-6 shadow-xl border-l-8 border-black flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-white",children:e.jsx(Td,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black italic uppercase leading-none",children:i.name}),e.jsxs("p",{className:"text-[10px] font-bold opacity-70 uppercase tracking-widest mt-1",children:["ID: ",i.employeeId," | ",i.dept]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase opacity-60",children:"Master Record Tenure"}),e.jsxs("p",{className:"text-2xl font-black italic",children:[i.years," YEARS ",e.jsx("span",{className:"text-xs opacity-50",children:"OF SERVICE"})]})]})]}),h&&e.jsxs("div",{className:"mt-8 border-4 border-gray-900 shadow-[10px_10px_0_rgba(0,0,0,0.1)] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-900 text-white p-3 font-black uppercase italic text-[11px] flex justify-between",children:[e.jsx("span",{children:"Calculated Settlement Breakdown"}),e.jsx("span",{className:"text-green-400",children:"STATUS: VERIFIED"})]}),e.jsxs("div",{className:"p-6 space-y-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"font-bold text-gray-500 uppercase",children:"Statutory Redundancy"}),e.jsxs("span",{className:"font-black text-gray-900",children:["$",h.redundancy.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-gray-200 pb-2",children:[e.jsx("span",{className:"font-bold text-gray-500 uppercase",children:"Notice Pay (1 Month)"}),e.jsxs("span",{className:"font-black text-gray-900",children:["$",h.notice.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm pt-4",children:[e.jsx("span",{className:"font-black text-red-700 uppercase italic",children:"Final Gross Settlement"}),e.jsxs("span",{className:"text-3xl font-black text-red-700 italic",children:["$",h.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]}):e.jsxs("div",{className:"bg-gray-100 p-4 sm:p-8 border-2 border-dashed border-gray-400 text-center flex flex-col items-center gap-4",children:[e.jsx(L1,{size:48,className:"text-gray-300"}),e.jsx("p",{className:"font-black italic text-gray-400 text-lg uppercase",children:"Account Profile Not Loaded"}),e.jsx("p",{className:"max-w-md text-[10px] font-bold text-gray-500 uppercase tracking-tighter opacity-70",children:"Please search for an employee above to calculate statutory redundancy payments, notice pay, and holiday pay entitlements."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-2 border-gray-500 p-6 flex flex-col gap-4 shadow-inner",children:[e.jsxs("h3",{className:"font-black italic text-blue-900 border-b border-gray-400 pb-2 uppercase tracking-widest text-[11px] flex items-center gap-2",children:[e.jsx($s,{size:16})," Settlement Factors"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:g.yearsOfService,onChange:O=>b(F=>({...F,yearsOfService:O.target.checked}))}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-red-600 uppercase text-[10px] italic",children:"Include Years of Service (YTD)"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:g.noticePay,onChange:O=>b(F=>({...F,noticePay:O.target.checked}))}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-red-600 uppercase text-[10px] italic",children:"Notice Pay Entitlement"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 cursor-pointer",checked:g.multiplier,onChange:O=>b(F=>({...F,multiplier:O.target.checked}))}),e.jsx("span",{className:"font-bold text-gray-700 group-hover:text-red-600 uppercase text-[10px] italic",children:"Statutory Redundancy Multiplier"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-400",children:e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase italic leading-tight",children:"Statutory redundancy in Jamaica is typically 2 weeks' pay for each year of service (up to 10 years)."})})]}),e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 p-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-bold uppercase italic text-[10px]",children:[e.jsx(ia,{size:14})," Critical Warning"]}),e.jsx("p",{className:"text-[9px] font-bold text-red-900 tracking-tighter opacity-70 uppercase leading-none",children:"Termination records cannot be reversed once posted. Cross-check with HR legal team."})]}),e.jsx("button",{onClick:E,disabled:!i||v,className:`w-full p-5 font-black italic uppercase tracking-widest shadow-2xl transition-all flex items-center justify-center gap-3 active:translate-y-1 ${!i||v?"bg-gray-400 cursor-not-allowed":"bg-black text-white hover:bg-red-900"}`,children:v?"CALCULATING LEGAL SETTLEMENT...":"GENERATE SETTLEMENT"}),h&&e.jsx("button",{onClick:R,disabled:f,className:`w-full p-5 font-black italic uppercase tracking-widest shadow-2xl transition-all flex items-center justify-center gap-3 active:translate-y-1 ${f?"bg-gray-400 cursor-not-allowed":"bg-green-700 text-white hover:bg-green-800"}`,children:f?"SAVING RECORD...":" SAVE SETTLEMENT RECORD"})]})]})}),e.jsxs("div",{className:"bg-white border-t border-gray-400 p-3 sm:p-4 flex flex-col sm:flex-row justify-between px-4 sm:px-10 items-center gap-4 no-print",children:[e.jsxs("button",{className:"flex items-center gap-2 font-black italic text-gray-500 hover:text-red-600 uppercase text-[10px] sm:text-xs",children:[e.jsx(Ne,{size:18})," VIEW STATUTORY GUIDELINES"]}),e.jsx("button",{onClick:()=>l(-1),className:"w-full sm:w-auto bg-gray-100 border-2 border-gray-400 text-gray-600 px-8 sm:px-12 py-2 sm:py-3 font-black italic hover:bg-gray-200 shadow-md uppercase transition-all",children:"EXIT MODULE"})]})]})},A2=()=>{const l=xe(),[n,o]=bt.useState(""),[i,u]=bt.useState("All Status"),[x,p]=bt.useState("ALL"),[g,b]=bt.useState([]),[h,N]=bt.useState(!1),[v]=bt.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),k=async()=>{if(v.id)try{N(!0);const w=await X.fetchPayrollBatches(v.id);w.success&&b(w.data)}catch(w){console.error("Failed to fetch batches",w)}finally{N(!1)}};bt.useEffect(()=>{k()},[v.id]);const f=g.filter((w,D)=>{const L=w.id.toLowerCase().includes(n.toLowerCase())||w.period.toLowerCase().includes(n.toLowerCase()),A=i==="All Status"||w.status===i;return L&&A&&(x==="ALL"||D===0)}),j=()=>{window.print()},C=(w,D)=>{l(`/processing/payroll-calculation?period=${D}`)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-1 flex items-center justify-between no-print",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{size:14,className:"text-blue-800"}),e.jsx("span",{className:"font-bold text-gray-700 uppercase italic text-[10px] sm:text-xs",children:"Calculation Register Log"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>p(w=>w==="ALL"?"CURRENT":"ALL"),className:`px-3 py-1 border border-gray-400 text-[10px] font-black italic transition-all active:translate-y-0.5 shadow-sm flex items-center gap-1 ${x==="ALL"?"bg-[#316AC5] text-white hover:bg-blue-700":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:x==="ALL"?"ALL PERIODS":"CURR. PERIOD"}),e.jsx("span",{className:"sm:hidden",children:x==="ALL"?"ALL":"CURR"}),e.jsx(Ys,{size:10})]})})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-6 flex flex-col gap-4 sm:gap-6 overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-500 p-3 sm:p-4 shadow-md flex flex-col lg:flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex-1 w-full flex items-center gap-2 bg-gray-50 border border-gray-300 p-2 focus-within:ring-2 focus-within:ring-blue-500 transition-all rounded-sm shadow-inner group",children:[e.jsx(Bh,{size:18,className:"text-blue-700 shrink-0 group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"h-4 w-px bg-gray-300 mx-1"}),e.jsx("input",{type:"text",placeholder:"SEARCH BY ID OR PERIOD...",className:"bg-transparent outline-none font-black w-full italic text-blue-900 placeholder:text-gray-400 placeholder:font-normal text-[10px] sm:text-xs",value:n,onChange:w=>o(w.target.value)}),n&&e.jsx("button",{onClick:()=>o(""),className:"text-gray-400 hover:text-red-600 p-1",title:"Clear Filter",children:e.jsx(tt,{size:14})})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full lg:w-auto",children:[e.jsxs("select",{value:i,onChange:w=>u(w.target.value),className:"flex-1 lg:flex-none p-2.5 border-2 border-gray-400 bg-white text-[10px] font-black uppercase italic text-gray-700 focus:border-blue-500 outline-none shadow-sm",children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Verified"}),e.jsx("option",{children:"Posted"})]}),e.jsx("button",{onClick:j,className:"p-2.5 border border-gray-400 border-b-2 border-r-2 border-gray-500 bg-[#E0DCCF] hover:bg-gray-200 active:translate-y-0.5 shadow-sm transition-all",title:"Print Log",children:e.jsx(_e,{size:18,className:"text-gray-700"})})]})]}),e.jsxs("div",{className:"flex-1 bg-white border-2 border-gray-500 shadow-lg overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-blue-600 text-white p-2 px-6 flex justify-between items-center italic font-black uppercase text-[10px]",children:"Historical Calculations"}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[500px] sm:min-w-0",children:[e.jsx("thead",{className:"bg-gray-100 font-black italic text-gray-500 uppercase text-[9px] border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 sm:p-4 hidden md:table-cell",children:"CALC ID"}),e.jsx("th",{className:"p-3 sm:p-4",children:"PAY PERIOD"}),e.jsx("th",{className:"p-3 sm:p-4",children:"TOTAL GROSS"}),e.jsx("th",{className:"p-3 sm:p-4 hidden sm:table-cell",children:"ST. DEDUCTIONS"}),e.jsx("th",{className:"p-4 hidden xs:table-cell",children:"STATUS"}),e.jsx("th",{className:"p-3 sm:p-4 text-right",children:"ACTION"})]})}),e.jsx("tbody",{children:h?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"p-10 text-center",children:[e.jsx(ge,{className:"animate-spin inline mr-2"})," Loading Historical Data..."]})}):f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-10 text-center text-gray-400 font-bold italic",children:"No Historical Calculations Found"})}):f.map((w,D)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors",children:[e.jsxs("td",{className:"p-3 sm:p-4 font-black hidden md:table-cell",children:["#",w.id]}),e.jsxs("td",{className:"p-3 sm:p-4 font-bold",children:[e.jsxs("div",{className:"md:hidden text-[8px] opacity-40 font-mono",children:["#",w.id]}),w.period]}),e.jsxs("td",{className:"p-3 sm:p-4 font-black italic text-blue-900",children:["$",w.totalGross.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsxs("td",{className:"p-3 sm:p-4 font-black italic text-red-600 hidden sm:table-cell",children:["$",w.totalTax.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.jsx("td",{className:"p-3 sm:p-4 hidden xs:table-cell",children:e.jsx("span",{className:`px-3 py-1 rounded-sm font-black italic text-[8px] uppercase ${w.status==="Verified"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:w.status})}),e.jsx("td",{className:"p-3 sm:p-4 text-right",children:e.jsxs("button",{onClick:()=>C(w.id,w.period),className:"text-blue-600 font-black italic uppercase text-[9px] hover:underline",children:[e.jsx("span",{className:"hidden sm:inline",children:"Re-Print Details"}),e.jsx("span",{className:"sm:hidden",children:"Print"})]})})]},D))})]})})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-400 p-3 px-4 sm:px-8 flex justify-end no-print",children:e.jsx("button",{onClick:()=>l(-1),className:"w-full sm:w-auto bg-red-500 text-white px-10 py-3 sm:py-2 font-black italic hover:bg-red-600 shadow-xl active:translate-y-1 transition-all",children:"CLOSE REGISTER"})})]})},zm=({title:l})=>{const n=xe();return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1",children:e.jsx("span",{className:"font-bold text-gray-700",children:l})}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:e.jsxs("div",{className:"p-8 bg-white border border-gray-400 shadow-[4px_4px_0_rgba(0,0,0,0.1)] max-w-md w-full text-center",children:[e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(j1,{size:64,className:"text-blue-600 animate-[spin_10s_linear_infinite]"}),e.jsx(U1,{size:32,className:"text-gray-400 absolute -bottom-2 -right-2 transform rotate-12"})]})}),e.jsx("h2",{className:"text-lg font-bold text-blue-800 mb-2 uppercase tracking-wide",children:l}),e.jsx("div",{className:"h-0.5 bg-gray-300 w-full mb-4"}),e.jsxs("div",{className:"flex items-start gap-4 text-left p-4 bg-yellow-50 border border-yellow-200 rounded mb-6",children:[e.jsx(js,{className:"text-yellow-600 shrink-0",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-yellow-800 mb-1",children:"Module Under Maintenance"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["The ",e.jsx("strong",{children:l})," module is currently being configured for your station. Full functionality will be restored after the next system update."]})]})]}),e.jsxs("button",{onClick:()=>n(-1),className:"w-full flex items-center justify-center gap-2 p-3 bg-blue-600 text-white font-bold hover:bg-blue-700 active:translate-y-0.5 transition-all shadow-md",children:[e.jsx(Ee,{size:16}),"BACK TO DASHBOARD"]}),e.jsx("p",{className:"mt-4 text-[10px] text-gray-400 uppercase font-bold italic",children:"HRM Payroll Pro - Module Not Configured"})]})})]})},Lr=({type:l="S01"})=>{const n=xe(),[o,i]=m.useState(new Date().toISOString().slice(0,7)),[u,x]=m.useState(!1),[p,g]=m.useState([]),[b,h]=m.useState(null);m.useEffect(()=>{(async()=>{const f=localStorage.getItem("selectedCompany"),j=f?JSON.parse(f):null;if(h(j),!!j){x(!0);try{const C=new Date(o+"-01"),w=`${C.toLocaleString("default",{month:"short"})}-${C.getFullYear()}`,D=await X.fetchPayrolls({companyId:j.id,period:w});D.success&&g(D.data)}catch(C){console.error(C)}finally{x(!1)}}})()},[o,l]);const N={P45:{title:"P45 - Employee Termination Certificate",formCode:"F-P45-TAJ",fields:[{label:"Cumulative Gross Pay",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.grossSalary||0),0).toFixed(2)},{label:"Cumulative Income Tax",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.tax||0),0).toFixed(2)},{label:"Total PAYE",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.paye||0),0).toFixed(2)},{label:"Employer TRN",category:"Entity",value:()=>b?.trn||"NOT_FOUND"}]},"NIS-NHT":{title:"NIS / NHT Statutory Contributions",formCode:"F-NIS/NHT-ANNUAL",fields:[{label:"Gross Pay for Period",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.grossSalary||0),0).toFixed(2)},{label:"NIS Employee (3%)",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.nis||0),0).toFixed(2)},{label:"NIS Employer (3%)",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.grossSalary||0)*.03,0).toFixed(2)},{label:"NHT Employee (2%)",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.nht||0),0).toFixed(2)},{label:"NHT Employer (3%)",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.grossSalary||0)*.03,0).toFixed(2)}]},S01:{title:"S01 - Monthly Statutory Remittance",formCode:"F-S01-MONTHLY",fields:[{label:"PAYE Liability",category:"Taxation",value:k=>k.reduce((f,j)=>f+parseFloat(j.paye||0),0).toFixed(2)},{label:"Education Tax (EE 2.25%)",category:"Taxation",value:k=>k.reduce((f,j)=>f+parseFloat(j.edTax||0),0).toFixed(2)},{label:"Education Tax (ER 3.5%)",category:"Taxation",value:k=>k.reduce((f,j)=>{const C=parseFloat(j.grossSalary||0),w=parseFloat(j.nis||0),D=C-w;return f+(D>0?D*.035:0)},0).toFixed(2)},{label:"NIS Total (6%)",category:"Social Security",value:k=>k.reduce((f,j)=>{const C=parseFloat(j.grossSalary||0),w=parseFloat(j.nis||0),D=C*.03;return f+w+D},0).toFixed(2)},{label:"NHT Total (5%)",category:"Housing",value:k=>k.reduce((f,j)=>{const C=parseFloat(j.grossSalary||0),w=parseFloat(j.nht||0),D=C*.03;return f+w+D},0).toFixed(2)},{label:"HEART Trust (3%)",category:"Social Security",value:k=>k.reduce((f,j)=>f+parseFloat(j.grossSalary||0)*.03,0).toFixed(2)}]},S02:{title:"S02 - Annual Statutory Declaration",formCode:"F-S02-YEARLY",fields:[{label:"Total Annual Gross",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.grossSalary||0),0).toFixed(2)},{label:"Total PAYE Withheld",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.paye||0),0).toFixed(2)},{label:"Total Ed Tax Withheld",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.edTax||0),0).toFixed(2)},{label:"Total NIS Withheld",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.nis||0),0).toFixed(2)},{label:"Total NHT Withheld",category:"Financials",value:k=>k.reduce((f,j)=>f+parseFloat(j.nht||0),0).toFixed(2)}]}},v=N[l]||N.S01;return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#525659] font-sans selection:bg-blue-200 relative overflow-hidden",children:[u&&e.jsx("div",{className:"absolute inset-0 bg-black/30 z-[100] flex items-center justify-center backdrop-blur-sm",children:e.jsx(ge,{className:"animate-spin text-white",size:48})}),e.jsxs("div",{className:"bg-[#323639] border-b border-black px-2 sm:px-4 py-2 flex flex-col sm:flex-row items-center justify-between no-print shadow-xl z-20 gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 w-full sm:w-auto overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(Ne,{className:"text-white",size:16}),e.jsx("span",{className:"text-white text-[10px] sm:text-xs font-black uppercase tracking-tighter truncate max-w-[150px] sm:max-w-none",children:v.title})]}),e.jsx("div",{className:"h-6 w-px bg-gray-600 shrink-0 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase italic",children:"Filing Period:"}),e.jsx("input",{type:"month",value:o,onChange:k=>i(k.target.value),className:"bg-[#202124] border border-gray-700 text-blue-400 text-[9px] sm:text-[10px] font-black p-1 rounded focus:outline-none"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:[e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 sm:flex-none p-1.5 sm:p-1 px-3 sm:px-4 bg-blue-600 hover:bg-blue-700 text-white rounded text-[9px] sm:text-[10px] font-black uppercase shadow-inner transition-all flex items-center justify-center gap-2",children:[e.jsx(_e,{size:12})," ",e.jsx("span",{className:"sm:inline",children:"Print"})]}),e.jsxs("button",{className:"flex-1 sm:flex-none p-1.5 sm:p-1 px-3 sm:px-4 bg-gray-700 hover:bg-gray-600 text-white rounded text-[9px] sm:text-[10px] font-black uppercase border border-gray-600 transition-all flex items-center justify-center gap-2",children:[e.jsx(He,{size:12})," ",e.jsx("span",{className:"sm:inline",children:"Export"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-600 mx-1 hidden sm:block"}),e.jsx("button",{onClick:()=>n(-1),className:"text-gray-400 hover:text-white transition-colors p-1",children:e.jsx(Ee,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-2 sm:p-4 md:p-8 lg:p-12 flex justify-center bg-[#525659]",children:e.jsxs("div",{className:"bg-white w-full max-w-[8.5in] min-h-[11in] shadow-2xl p-6 sm:p-12 md:p-16 flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-8 sm:top-16 right-8 sm:right-16 opacity-[0.03] pointer-events-none",children:e.jsx("div",{className:"w-16 h-16 sm:w-64 sm:h-64 border-[10px] border-blue-900 rounded-full flex items-center justify-center font-black text-blue-900 text-2xl sm:text-9xl italic",children:"S"})}),e.jsx("div",{className:"mb-8 sm:mb-12 border-b-2 border-blue-900 pb-6 sm:pb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-3xl font-black text-blue-900 italic tracking-tighter leading-none mb-1",children:"OFFICIAL RETURN"}),e.jsx("p",{className:"text-[10px] sm:text-[12px] font-black text-gray-500 uppercase tracking-[0.1em] sm:tracking-[0.2em]",children:v.title}),e.jsxs("div",{className:"mt-4 text-[9px] sm:text-[10px] font-bold text-gray-400 uppercase",children:["FORM CODE: ",e.jsx("span",{className:"text-gray-800",children:v.formCode})]})]}),e.jsxs("div",{className:"sm:text-right w-full sm:w-auto pt-2 sm:pt-0 border-t sm:border-t-0 border-gray-100",children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase leading-none",children:"Government of Jamaica"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] font-black text-blue-900 uppercase mt-1",children:"Tax Administration Jamaica (TAJ)"}),e.jsxs("div",{className:"mt-4 text-[9px] sm:text-[10px] font-bold text-gray-400 italic",children:["Snapshot Date: ",new Date().toLocaleDateString()]})]})]})}),e.jsxs("div",{className:"flex-1 space-y-10",children:[Array.from(new Set(v.fields.map(k=>k.category))).map((k,f)=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-[9px] sm:text-[11px] font-black text-blue-900 uppercase tracking-widest border-l-4 border-blue-900 pl-2 sm:pl-3 bg-gray-50 py-1.5 flex justify-between items-center",children:[e.jsxs("span",{children:["Section ",f+1,": ",k]}),e.jsx("span",{className:"text-[8px] opacity-40 font-bold",children:b?.name||"SYNC_ID_LIVE"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6 px-4",children:v.fields.filter(j=>j.category===k).map((j,C)=>e.jsxs("div",{className:"flex flex-col border-b border-gray-100 pb-2 group hover:border-blue-200 transition-colors",children:[e.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-gray-400 uppercase tracking-wider",children:j.label}),e.jsxs("div",{className:"text-[11px] sm:text-sm font-black text-gray-800 uppercase tabular-nums py-1 flex items-center justify-between",children:[e.jsx("span",{children:"$"}),e.jsx("span",{children:j.value?j.value(p):"0.00"})]})]},C))})]},f)),p.length===0&&!u&&e.jsx("div",{className:"p-12 text-center border-2 border-dashed border-gray-100 italic font-bold text-gray-300 uppercase tracking-widest text-[10px]",children:"No payroll transmission found for the selected period. Report values defaulted to zero sequence."})]}),e.jsxs("div",{className:"mt-20 p-6 border-2 border-dashed border-gray-200 bg-gray-50 flex flex-col sm:flex-row gap-6 italic relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5 pointer-events-none rotate-12",children:e.jsx(it,{size:120})}),e.jsx(it,{className:"text-blue-900 shrink-0 mx-auto sm:mx-0 relative z-10",size:24}),e.jsxs("div",{className:"w-full relative z-10",children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-gray-500 uppercase italic mb-1 text-center sm:text-left tracking-widest",children:"Certification of Accuracy"}),e.jsxs("p",{className:"text-[10px] sm:text-[11px] text-gray-600 leading-relaxed font-bold text-center sm:text-left",children:["I hereby certify that the information provided in this statutory return is true and correct, and has been computed in accordance with the ",e.jsx("span",{className:"text-blue-900 font-black",children:"Tax Administration Act of Jamaica"})," using the SmartHRM Engine v5.1."]}),e.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row justify-between items-center sm:items-end border-t border-gray-300 pt-4 gap-4 sm:gap-0",children:[e.jsxs("div",{className:"text-center w-full sm:w-auto",children:[e.jsx("div",{className:"w-48 border-b-2 border-gray-900 pb-1 font-mono italic text-xs uppercase text-gray-400",children:"Electronic Sign"}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-1 block",children:"Authorized Agent"})]}),e.jsxs("div",{className:"text-[9px] sm:text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Digital Stamp: ",Math.random().toString(36).substr(2,9).toUpperCase()]})]})]})]}),e.jsxs("div",{className:"mt-12 pt-4 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center opacity-30 gap-2 sm:gap-0",children:[e.jsxs("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-[0.3em] italic",children:["Official Payroll Protocol Audit Document  Year ",new Date().getFullYear()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ya,{size:12,className:"text-gray-400"}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 italic",children:"SMARTHRM COMPLIANCE SUITE"})]})]})]})})]})},Or=({bank:l="BNS"})=>{const n=xe(),[o,i]=m.useState(!1),[u,x]=m.useState(!1),[p]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[g]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[b,h]=m.useState([]),[N,v]=m.useState(new Date().toISOString().split("T")[0]),k={BNS:{name:"Scotiabank (BNS)",color:"text-red-700",bg:"bg-red-50",code:"BNS"},NCB:{name:"National Commercial Bank Limited (NCB)",color:"text-yellow-700",bg:"bg-yellow-50",code:"NCB"},JN:{name:"JN Bank",color:"text-blue-800",bg:"bg-blue-50",code:"JN"},JMMB:{name:"JMMB",color:"text-purple-700",bg:"bg-purple-50",code:"JMMB"},SAGICOR:{name:"Sagicor Bank (Jamaica) Limited",color:"text-green-700",bg:"bg-green-50",code:"SAGICOR"},CITIBANK:{name:"CitiBank N.A.",color:"text-indigo-700",bg:"bg-indigo-50",code:"CITIBANK"}},f=k[l]||k.BNS,j=async()=>{if(g.id)try{i(!0);const L=await X.fetchTransactionRegister({companyId:g.id,status:"POSTED"});if(L.success){const A=(L.data.transactions||[]).map(S=>({id:S.id,name:`${S.employee?.firstName} ${S.employee?.lastName}`.toUpperCase(),accountNo:S.employee?.bankAccount||"N/A",transit:S.employee?.bankName||"BNS",amount:parseFloat(S.amount),employeeId:S.employee?.id}));h(A)}}catch(L){console.error(L)}finally{i(!1)}};m.useEffect(()=>{j()},[g.id,l]);const C=b.reduce((L,A)=>L+A.amount,0),w=async()=>{if(b.length===0){alert("Empty Batch: No beneficiaries identified for this transfer.");return}if(window.confirm(`AUTHORIZATION REQUIRED:

Send salary batch of $${C.toLocaleString()} to ${f.name}?

This will initiate an encrypted transfer session.`))try{x(!0);const A={companyId:g.id,bankName:f.name,batchReference:`SALARY-FEB-2026-${l}`,effectiveDate:N,totalAmount:C,beneficiaries:b.map(_=>({employeeId:_.employeeId,amount:_.amount,bankName:f.name,accountNumber:_.accountNo,accountType:"SAVINGS"})),processedBy:p.email},S=await X.createBatchTransfer(A);S.success?(alert(`SUCCESS: Batch ${A.batchReference} authorized and uploaded to ${f.name}.

Reference: ${S.data.id.substring(0,8)}`),h([])):alert(S.message||"AUTHORIZATION_FAILED: Secure portal rejected request.")}catch(A){console.error(A),alert("NETWORK_TIMEOUT: Handshake failed with bank API.")}finally{x(!1)}},D=async()=>{alert(`PREPARING EXPORT: Formatting ${f.name} Beneficiary Listing (.txt)...`);try{const L={companyId:g.id,bankName:f.name,period:"Feb-2026"},A=await X.exportBankFile(L),S=`---- ${f.name} ACH BATCH ----
DATE: ${N}
BATCH: SALARY-FEB-2026-${l}
TOTAL: ${C}
COUNT: ${b.length}

`+b.map(R=>`${R.accountNo}|${R.transit}|${R.amount}|${R.name}`).join(`
`),_=new Blob([S],{type:"text/plain"}),B=URL.createObjectURL(_),E=document.createElement("a");E.href=B,E.download=`${l}_Transfer_Advice_${new Date().toISOString().slice(0,10)}.txt`,E.click(),alert("DISPATCH READY: File saved to workstation.")}catch(L){console.error(L)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 sm:px-4 py-2 flex flex-col sm:flex-row items-center justify-between gap-2 shadow-sm no-print",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Ya,{className:f.color,size:18}),e.jsxs("span",{className:"font-bold text-gray-700 text-xs sm:text-sm uppercase italic underline decoration-blue-500/20 truncate",children:["Electronic Funds Transfer / ",f.name]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[o&&e.jsxs("div",{className:"text-[10px] font-black text-blue-800 animate-pulse flex items-center gap-1",children:[e.jsx(ge,{size:12,className:"animate-spin"})," SCANNING BENES..."]}),e.jsx("div",{className:"bg-green-600 text-white text-[9px] sm:text-[10px] font-black px-3 py-1 rounded shadow-inner animate-pulse whitespace-nowrap",children:"SECURE LINK ACTIVE"})]})]}),e.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-auto scrollbar-thin scrollbar-thumb-gray-400",children:e.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-4 sm:p-8 shadow-2xl rounded-sm",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6 sm:mb-8 gap-6 border-b-2 border-gray-50 pb-8 items-center md:items-start text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center sm:items-start text-center sm:text-left",children:[e.jsx("div",{className:`${f.bg} p-6 border-2 border-white border-r-gray-300 border-b-gray-300 shadow-lg rounded-xl shrink-0 group hover:scale-105 transition-transform`,children:e.jsx(Ed,{className:f.color,size:40})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-black text-gray-800 italic tracking-tighter break-words",children:[f.name," Integrated Portal"]}),e.jsx("p",{className:"text-blue-900 bg-blue-50 px-2 py-0.5 inline-block text-[9px] sm:text-[10px] font-black uppercase tracking-[0.2em] mt-2 rounded border border-blue-100",children:"Bilateral Beneficiary Transfer Module"})]})]}),e.jsxs("div",{className:"flex flex-col items-center md:items-end w-full md:w-auto bg-gray-50 p-4 border-2 border-white border-r-gray-200 border-b-gray-200 shadow-inner rounded",children:[e.jsx("span",{className:"text-[10px] sm:text-[11px] font-black text-gray-400 uppercase tracking-widest italic mb-1",children:"Queue Net Value"}),e.jsxs("span",{className:"text-3xl sm:text-4xl font-black text-blue-900 italic tracking-tighter break-all tabular-nums",children:["$ ",C.toLocaleString(void 0,{minimumFractionDigits:2})," JMD"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-1 border-b lg:border-b-0 lg:border-r-2 lg:border-gray-50 pb-8 lg:pb-0 lg:pr-10 flex flex-col gap-6",children:[e.jsx("h3",{className:"text-xs font-black text-gray-600 italic mb-2 uppercase text-center lg:text-left tracking-widest border-b pb-2",children:"Transmission Parameters"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Protocol Reference"}),e.jsx("input",{type:"text",value:`SALARY-FEB-2026-${l}`,readOnly:!0,className:"p-3 border-2 border-gray-100 bg-gray-50 text-[11px] font-black font-mono text-blue-900 outline-none w-full shadow-inner rounded"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest cursor-help underline decoration-dotted capitalize",children:"Effective Settlement Date"}),e.jsx("input",{type:"date",value:N,onChange:L=>v(L.target.value),className:"p-3 border-2 border-gray-100 bg-white text-[11px] font-black text-gray-800 w-full shadow-inner rounded cursor-pointer hover:border-blue-300 transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Mechanical Format"}),e.jsxs("select",{className:"p-3 border-2 border-gray-100 bg-gray-50 text-[11px] font-black text-blue-900 w-full shadow-inner rounded outline-none appearance-none cursor-pointer",children:[e.jsxs("option",{children:[f.code," / ACH-612 (Standard)"]}),e.jsx("option",{children:"ISO 20022 XML Parser"}),e.jsx("option",{children:"Fixed Length EBCDIC (Legacy)"})]})]})]}),e.jsx("div",{className:"mt-auto p-4 bg-gray-50 border border-gray-200 rounded text-[9px] font-bold text-gray-400 uppercase italic",children:"COMMS: ACTIVE_SSL_SOCKET_OPEN"})]}),e.jsxs("div",{className:"lg:col-span-2 flex flex-col min-h-0",children:[e.jsx("h3",{className:"text-xs font-black text-gray-600 italic mb-2 uppercase text-center lg:text-left tracking-widest border-b pb-2",children:"Verified Recipient Matrix"}),e.jsx("div",{className:"border-2 border-white border-r-gray-200 border-b-gray-200 shadow-2xl max-h-80 overflow-auto rounded scrollbar-thin scrollbar-thumb-gray-200",children:e.jsxs("table",{className:"w-full text-[11px] min-w-[440px] border-collapse",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 z-10 shadow-sm",children:e.jsxs("tr",{className:"text-left font-black text-gray-500 uppercase italic",children:[e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Beneficiary Name"}),e.jsx("th",{className:"p-3 border-r border-gray-100",children:"Account #"}),e.jsx("th",{className:"p-3 border-r border-gray-100 text-center",children:"Transit"}),e.jsx("th",{className:"p-3 text-right",children:"Settlement"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:b.length>0?b.map(L=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all group group-hover:cursor-crosshair",children:[e.jsx("td",{className:"p-3 font-black text-blue-900 uppercase truncate max-w-[150px] group-hover:translate-x-1 transition-transform italic",children:L.name}),e.jsx("td",{className:"p-3 font-mono text-gray-400 group-hover:text-gray-800 transition-colors",children:L.accountNo}),e.jsx("td",{className:"p-3 text-center font-bold text-gray-400",children:L.transit}),e.jsxs("td",{className:"p-3 text-right font-black italic tabular-nums text-blue-700",children:["$ ",L.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]},L.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-16 text-center font-black italic text-gray-300 uppercase tracking-[0.3em] animate-pulse",children:"Initializing Data Stream..."})})}),e.jsx("tfoot",{className:"bg-[#000080] text-white sticky bottom-0 shadow-[0_-4px_10px_rgba(0,0,0,0.3)]",children:e.jsxs("tr",{className:"font-black italic",children:[e.jsx("td",{colSpan:"3",className:"p-4 text-right uppercase text-[10px] tracking-widest border-r border-white/10",children:"Cumulative Batch Expenditure"}),e.jsxs("td",{className:"p-4 text-right text-lg tracking-tighter tabular-nums",children:["$ ",C.toLocaleString(void 0,{minimumFractionDigits:2})]})]})})]})}),e.jsxs("div",{className:"mt-2 text-[9px] font-black italic text-gray-400 uppercase text-right tracking-widest",children:["Records count: ",b.length," verified items"]})]})]})]}),e.jsxs("div",{className:"bg-[#000080] border-2 border-white border-r-[#000040] border-b-[#000040] text-white p-6 flex flex-col md:flex-row justify-between items-center gap-6 shadow-2xl rounded-sm group overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900 to-blue-800 opacity-50"}),e.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full md:w-auto",children:[e.jsx("div",{className:"w-14 h-14 border-2 border-white/20 flex items-center justify-center rounded-xl bg-blue-900/50 shadow-inner group-hover:border-green-400 transition-colors",children:e.jsx(Lt,{size:24,className:"text-green-400 animate-pulse"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-blue-300 tracking-widest",children:"Encryption Standard: AES-384"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"})]}),e.jsx("p",{className:"text-sm font-black italic tracking-tight",children:"ACH payload compliant with Bank of Jamaica Standard ACH-612 Ver 4.0"})]})]}),e.jsxs("button",{onClick:w,disabled:u||b.length===0,className:`relative z-10 w-full md:w-auto bg-white text-blue-900 border-4 border-white border-b-blue-200 border-r-blue-200 hover:bg-gray-100 hover:text-blue-700 px-10 py-4 text-[11px] font-black uppercase italic transition-all flex items-center justify-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.4)] active:translate-y-1 active:shadow-none tracking-widest ${u||b.length===0?"opacity-50 grayscale cursor-not-allowed":"active:bg-gray-200"}`,children:[u?e.jsx(ge,{size:20,className:"animate-spin"}):e.jsx(Ha,{size:20}),u?"PROCESSING AUTHORIZATION...":"Authorize & Dispatch Batch"]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-end gap-3 no-print shadow-[inset_0_4px_10px_rgba(0,0,0,0.1)] z-20 px-8",children:[e.jsxs("button",{onClick:()=>{alert(`REQUISITION PRINT: Generating ${f.name} settlement summary and advice...`),window.print()},className:"w-full sm:w-auto px-8 py-3 flex items-center justify-center gap-3 text-[10px] sm:text-xs font-black text-blue-900 border-2 border-white border-r-gray-600 border-b-gray-600 shadow-md hover:bg-white transition-all active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 uppercase italic tracking-widest",children:[e.jsx(_e,{size:18})," Generate Final Advice"]}),e.jsxs("button",{onClick:()=>n(-1),className:"w-full sm:w-auto px-8 py-3 flex items-center justify-center gap-3 text-[10px] sm:text-xs font-black text-red-700 border-2 border-transparent hover:bg-red-50 hover:border-red-200 transition-all active:translate-y-1 uppercase italic tracking-widest",children:[e.jsx(Ee,{size:18})," Close Interface"]}),e.jsxs("button",{onClick:D,disabled:b.length===0,className:`w-full sm:w-auto px-10 py-3 bg-[#000080] text-[#ffd700] border-2 border-white border-r-black border-b-black flex items-center justify-center gap-3 text-[10px] sm:text-xs font-black shadow-xl hover:bg-blue-900 transition-all active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 uppercase italic tracking-widest ${b.length===0?"grayscale opacity-50 cursor-not-allowed":""}`,children:[e.jsx(He,{size:18})," Commit to Workstation"]})]})]})},R2=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-orange-500"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(jt,{size:18}),n==="error"&&e.jsx(Zl,{size:18}),n==="warning"&&e.jsx(ia,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},z2=({isOpen:l,onClose:n,title:o,children:i})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,L2=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(!1),[x]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[p]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[g,b]=m.useState("Feb-2026"),[h,N]=m.useState([]),[v,k]=m.useState({bankAccount:"BNS - MAIN OPERATING (****8932)",startingCheque:"104012",template:"Standard 3-per-page (Voucher)"}),[f,j]=m.useState(null),[C,w]=m.useState(!1),D=(B,E="success")=>{j({message:B,type:E})},L=async()=>{if(p.id)try{o(!0);const B=await X.fetchPayrolls({companyId:p.id,period:g});if(B.success){const E=(B.data||[]).map(R=>({id:R.id,name:`${R.employee?.firstName} ${R.employee?.lastName}`.toUpperCase(),trn:R.employee?.trn||"000-000-000",amount:parseFloat(R.netSalary||0),payee:`${R.employee?.firstName} ${R.employee?.lastName}`,bankAccount:v.bankAccount})).filter(R=>R.amount>0);N(E)}}catch(B){console.error(B),D("Failed to fetch print queue.","error")}finally{o(!1)}};m.useEffect(()=>{p?.id&&L()},[p.id,g]);const A=async()=>{if(w(!1),h.length!==0)try{u(!0);const B={companyId:p.id,period:g,cheques:h.map((R,O)=>({payrollId:R.id,employeeId:R.id,chequeNumber:(parseInt(v.startingCheque)+O).toString(),amount:R.amount,payee:R.payee,date:new Date().toISOString().split("T")[0],bankAccount:v.bankAccount})),printedBy:x.email},E=await X.printCheques(B);E.success?(D(`${E.data.count||h.length} cheques processed successfully.`,"success"),setTimeout(()=>{window.print(),u(!1)},1e3)):(D(E.message||"Print process aborted.","error"),u(!1))}catch(B){console.error(B),D("Communication error with print server.","error"),u(!1)}},S=B=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(B),_=h[0]||{payee:"PAYEE NAME",amount:0};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[f&&e.jsx(R2,{message:f.message,type:f.type,onClose:()=>j(null)}),e.jsx(z2,{isOpen:C,onClose:()=>w(!1),title:"Confirm Batch Print",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-blue-900 text-xs flex items-start gap-2",children:[e.jsx(_e,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["You are about to generate and log ",e.jsxs("strong",{children:[h.length," cheques"]})," starting from sequence ",e.jsxs("strong",{children:["#",v.startingCheque]}),"."]})]}),e.jsx("p",{className:"text-gray-600 italic text-[10px]",children:"Ensure the correct stationery is loaded in the active device."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-800 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-900 transition-colors shadow-sm",children:"Execute Print"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"text-gray-700",size:18}),e.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase italic underline decoration-blue-500/30 underline-offset-4",children:"Cheque Printing Facility"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Period:"}),e.jsxs("select",{value:g,onChange:B=>b(B.target.value),className:"text-xs font-bold p-1 border border-gray-400 outline-none uppercase bg-white",children:[e.jsx("option",{value:"Feb-2026",children:"Feb-2026"}),e.jsx("option",{value:"Jan-2026",children:"Jan-2026"})]})]}),n&&e.jsxs("div",{className:"text-[10px] font-black text-blue-700 italic animate-pulse flex items-center gap-1",children:[e.jsx(ge,{size:12,className:"animate-spin"})," SCANNING QUEUE..."]}),e.jsx("div",{className:"text-[9px] font-black text-gray-500 bg-white/50 px-2 py-0.5 border border-gray-300 rounded uppercase",children:"STATION 042 :: ACTIVE"})]})]}),e.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200",children:e.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-6 flex flex-col gap-5 shadow-xl rounded-sm",children:[e.jsx("h3",{className:"text-xs font-black text-blue-900 italic border-b-2 border-blue-100 pb-2 uppercase tracking-widest",children:"Global Print Settings"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Bank Source Account"}),e.jsxs("select",{className:"p-2 border-2 border-gray-200 bg-gray-50 text-[11px] font-black text-blue-900 outline-none focus:border-blue-500 shadow-inner",value:v.bankAccount,onChange:B=>k({...v,bankAccount:B.target.value}),children:[e.jsxs("option",{children:[x.bankName||"BNS"," - ",x.bankAccount||"MAIN OPERATING"]}),e.jsx("option",{children:"NCB - PAYROLL PRIMARY (****1102)"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Reference Range (Start)"}),e.jsx("input",{type:"text",value:v.startingCheque,onChange:B=>k({...v,startingCheque:B.target.value}),className:"p-2 border-2 border-gray-200 bg-white text-[11px] font-black text-gray-800 outline-none focus:border-blue-500 uppercase shadow-inner"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase italic",children:"Mechanical Template"}),e.jsxs("select",{className:"p-2 border-2 border-gray-200 bg-gray-50 text-[11px] font-black text-blue-900 outline-none focus:border-blue-500 shadow-inner",value:v.template,onChange:B=>k({...v,template:B.target.value}),children:[e.jsx("option",{children:"Standard 3-per-page (Voucher)"}),e.jsx("option",{children:"Single Cheque (Personal)"}),e.jsx("option",{children:"Continuous Form Dot-Matrix"})]})]})]}),e.jsx("div",{className:"mt-auto pt-6 border-t border-gray-100 italic text-[9px] text-gray-400 font-black uppercase tracking-tighter",children:"Active Device: HP LaserJet Pro :: NETWORK_LINK_UP"})]}),e.jsxs("div",{className:"md:col-span-2 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-yellow-50 border-4 border-dashed border-yellow-200 p-4 md:p-8 flex items-center justify-center relative min-h-[180px] overflow-x-auto shadow-inner rounded hover:border-yellow-300 transition-colors",children:[e.jsx("div",{className:"absolute top-2 left-4 text-[9px] font-black italic text-yellow-600 uppercase tracking-widest animate-pulse",children:"RENDER PREVIEW (1:1 SCALE)"}),e.jsxs("div",{className:"w-full min-w-[340px] max-w-lg bg-white border border-gray-300 p-8 shadow-2xl flex flex-col gap-6 font-serif relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-50/10 pointer-events-none group-hover:bg-blue-50/20 transition-colors"}),e.jsxs("div",{className:"flex justify-between relative z-10",children:[e.jsx("span",{className:"text-[11px] font-black uppercase text-gray-800 tracking-tighter",children:p.name||"ISLAND HR SOLUTIONS LIMITED"}),e.jsxs("span",{className:"text-[11px] font-black text-blue-900",children:["REF NO. ",v.startingCheque]})]}),e.jsxs("div",{className:"flex justify-between items-end border-b-2 border-black/5 pb-2 relative z-10 mt-2",children:[e.jsx("span",{className:"text-[9px] italic font-bold text-gray-400 shrink-0 uppercase",children:"Pay to:"}),e.jsx("span",{className:"text-sm font-black border-b-2 border-blue-900/10 flex-1 mx-4 text-center uppercase tracking-[0.15em] text-blue-900 mb-1",children:_.payee}),e.jsxs("span",{className:"text-sm font-black border-4 border-gray-800 p-3 bg-gray-50 tabular-nums shadow-md",children:["$ ",S(_.amount)]})]}),e.jsxs("div",{className:"text-[18px] font-black italic tracking-[0.3em] mt-6 font-mono text-gray-400/80 relative z-10 text-center select-none",children:["000",v.startingCheque," 0090029 003495832"]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 flex flex-col flex-1 shadow-2xl overflow-hidden rounded-sm hover:border-blue-100 transition-colors",children:[e.jsxs("div",{className:"bg-[#316AC5] text-white p-3 text-[11px] font-black uppercase flex justify-between items-center shadow-[inset_0_2px_4px_rgba(0,0,0,0.3)] italic tracking-widest",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ne,{size:14})," Commit Queue Statistics"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"bg-white/20 px-3 rounded",children:[h.length," BATCH ITEMS"]}),e.jsx(Ke,{size:16,className:"cursor-pointer hover:rotate-12 transition-transform opacity-60"})]})]}),e.jsx("div",{className:"flex-1 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-blue-200 scrollbar-track-gray-50",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse relative",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 z-10 shadow-sm text-gray-500 font-black uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-100 text-left",children:"Recipient (Payee)"}),e.jsx("th",{className:"p-3 border-r border-gray-100 text-left",children:"ID Ref"}),e.jsx("th",{className:"p-3 text-right",children:"Commit Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:h.length>0?h.map((B,E)=>e.jsxs("tr",{className:"font-bold hover:bg-blue-50 transition-all cursor-crosshair group",children:[e.jsx("td",{className:"p-3 border-r border-gray-100 text-blue-900 uppercase group-hover:translate-x-1 transition-transform italic tracking-tight",children:B.name}),e.jsx("td",{className:"p-3 border-r border-gray-100 font-mono text-gray-400 group-hover:text-gray-600 transition-colors tabular-nums",children:B.trn}),e.jsxs("td",{className:"p-3 text-right text-blue-600 font-black tabular-nums italic",children:["$ ",S(B.amount)]})]},B.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-widest",children:n?"Fetching Payroll Data...":"No Payroll Records Found for Period"})})})]})})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-end gap-4 no-print px-8 shadow-[0_-4px_10px_rgba(0,0,0,0.1)] z-20",children:[e.jsxs("button",{onClick:()=>l(-1),disabled:i,className:"px-8 py-3 flex items-center justify-center gap-2 text-[11px] font-black text-gray-600 bg-[#E0DCCF] border-2 border-white border-b-gray-600 border-r-gray-600 hover:bg-white hover:text-red-700 active:translate-y-1 active:border-b-0 active:border-r-0 transition-all w-full sm:w-auto uppercase italic shadow-md",children:[e.jsx(Ee,{size:18})," Exit Facility"]}),e.jsxs("button",{onClick:()=>{h.length===0?D("Queue is empty. No items to print.","warning"):w(!0)},disabled:i||h.length===0,className:`px-12 py-3 border-2 flex items-center justify-center gap-3 text-[11px] font-black w-full sm:w-auto uppercase italic transition-all shadow-xl tracking-widest ${i||h.length===0?"bg-gray-300 text-gray-500 border-gray-400":"bg-[#000080] text-white border-white border-b-black border-r-black hover:bg-blue-800 active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0"}`,children:[i?e.jsx(ge,{size:18,className:"animate-spin"}):e.jsx(_e,{size:18}),i?"PROCESS IN PROGRESS...":"EXECUTE PRINT COMMAND"]})]})]})},Lm=()=>{const l=xe(),[n,o]=m.useState("queue"),[i,u]=m.useState(!1),[x,p]=m.useState(!1),[g,b]=m.useState(0),[h,N]=m.useState("System Idle"),[v,k]=m.useState("Feb-2026"),[f]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[j]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[C,w]=m.useState([]),[D,L]=m.useState([]),A=async()=>{if(j.id)try{p(!0);const B=await X.fetchPayrolls({companyId:j.id,period:v,status:"Generated"});B.success&&w(B.data.map(R=>({id:R.id,empId:R.employee?.employeeId,name:`${R.employee?.firstName} ${R.employee?.lastName}`,email:R.employee?.email||"N/A",trn:R.employee?.trn||"XXX-XXX-XXX",status:"Ready"})));const E=await X.fetchPayrolls({companyId:j.id,status:"Sent"});E.success&&L(E.data.map(R=>({id:R.id.substring(0,8).toUpperCase(),date:new Date(R.updatedAt).toLocaleString(),cycle:R.period,name:`${R.employee?.firstName} ${R.employee?.lastName}`,status:"Success"})))}catch(B){console.error(B)}finally{p(!1)}};m.useEffect(()=>{A()},[j.id,v]);const S=B=>{window.confirm("Are you sure you want to remove this record from the dispatch queue?")&&w(E=>E.filter(R=>R.id!==B))},_=async()=>{if(C.length!==0){u(!0),b(0),N("Initializing Secure SMTP...");try{const B=C.map(F=>F.id);let E=0;const R=setInterval(()=>{E+=5,E<=90&&b(E)},100),O=await X.bulkSendEmails({payrollIds:B});clearInterval(R),b(100),O.success?(N(`${O.data.count} Payslips Dispatched Successfully.`),alert(O.message),A()):(N("Dispatch Failed."),alert(O.message||"An error occurred during bulk dispatch."))}catch(B){console.error(B),N("Error encountered."),alert("Network error during batch operations.")}finally{setTimeout(()=>{u(!1),b(0),N("System Idle")},2e3)}}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 sm:px-4 py-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Ph,{className:"text-blue-700 shrink-0",size:18}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic text-blue-900 border-l-4 border-blue-900 pl-2 truncate",children:"Payslip Dispatch Module (Encrypted)"})]}),e.jsxs("div",{className:"text-[10px] font-bold text-gray-500 uppercase flex items-center gap-2",children:[e.jsx("span",{className:"hidden sm:inline",children:"Active Tab:"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded italic shadow-inner",children:n.toUpperCase()})]})]}),e.jsxs("div",{className:"flex-1 p-4 md:p-8 overflow-y-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-blue-900 text-white p-3 sm:p-4 rounded shadow-2xl flex flex-col md:flex-row items-start md:items-center justify-between border-l-8 border-blue-400 gap-4 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none group-hover:scale-110 transition-transform duration-1000",children:e.jsx(it,{size:120})}),e.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 relative z-10",children:[e.jsx(it,{size:32,className:"text-blue-300 shrink-0 animate-pulse"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-widest leading-tight",children:"Enhanced Identity Protection Active"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-blue-200 mt-1 sm:mt-0 italic uppercase",children:"All PDF attachments are AES-256 encrypted using the employee's TRN as the decryption key."})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full min-h-0",children:[e.jsxs("div",{className:"flex-1 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 shadow-2xl overflow-hidden flex flex-col min-h-[400px] rounded-sm",children:[e.jsxs("div",{className:"bg-gray-100 p-0 border-b border-gray-300 flex justify-between items-center pr-4 shadow-inner",children:[e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>o("queue"),className:`px-6 py-3 text-[10px] font-black uppercase tracking-widest transition-all ${n==="queue"?"bg-white text-blue-900 border-r border-gray-300":"bg-transparent text-gray-400 hover:text-gray-600"}`,children:"Current Queue"}),e.jsx("button",{onClick:()=>o("history"),className:`px-6 py-3 text-[10px] font-black uppercase tracking-widest transition-all ${n==="history"?"bg-white text-blue-900 border-l border-r border-gray-300":"bg-transparent text-gray-400 hover:text-gray-600"}`,children:"Batch History"})]}),e.jsx("span",{className:"text-[10px] font-black text-blue-900 italic uppercase tabular-nums",children:n==="queue"?`${C.length} Pending`:`${D.length} Records Logged`})]}),e.jsx("div",{className:"flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-200",children:x&&!i?e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em] animate-pulse",children:"Polling Data Stream..."}):n==="queue"?e.jsxs("table",{className:"w-full text-left border-collapse min-w-full lg:min-w-[800px]",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 text-[10px] font-black text-gray-400 uppercase italic shadow-sm z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-100",children:"ID"}),e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Recipient Name"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden sm:table-cell",children:"Email Address"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:"Password Hook"}),e.jsx("th",{className:"p-4 border-r border-gray-100 text-center",children:"Status"}),e.jsx("th",{className:"p-4 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-600",children:C.length>0?C.map(B=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-blue-50/50 group transition-all",children:[e.jsx("td",{className:"p-4 border-r border-gray-100 font-mono tracking-tighter text-gray-400 uppercase",children:B.empId}),e.jsx("td",{className:"p-4 border-r border-gray-200 uppercase truncate max-w-[100px] sm:max-w-none font-black text-gray-700 group-hover:translate-x-1 transition-transform italic",children:B.name}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-blue-700 italic underline hidden sm:table-cell truncate max-w-[150px]",children:B.email}),e.jsx("td",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{size:12,className:"text-gray-300"}),e.jsxs("span",{className:"text-gray-300 text-[9px] font-black uppercase italic tracking-tighter",children:["TRN: XX-XX-",B.trn.slice(-3)]})]})}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase italic border ${B.status==="Sent"?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200 animate-pulse"}`,children:B.status})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex justify-center gap-4 text-gray-400",children:[e.jsx("button",{onClick:()=>l("/payroll/payslip-preview",{state:{payrollId:B.id}}),className:"hover:text-blue-600 transition-all p-1 hover:bg-white rounded hover:shadow-sm",title:"View Encrypted PDF",children:e.jsx(Hi,{size:16})}),e.jsx("button",{onClick:()=>S(B.id),className:"hover:text-red-600 transition-all p-1 hover:bg-white rounded hover:shadow-sm",title:"Remove from Queue",children:e.jsx($r,{size:16})})]})})]},B.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-32 text-center text-gray-200 italic uppercase font-black text-xl tracking-[0.5em] select-none",children:"No Items in Dispatch Queue"})})})]}):e.jsxs("table",{className:"w-full text-left border-collapse min-w-full lg:min-w-[800px]",children:[e.jsx("thead",{className:"bg-[#F8F9FA] sticky top-0 border-b-2 border-gray-200 text-[10px] font-black text-gray-400 uppercase italic shadow-sm z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Ref ID"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden sm:table-cell",children:"Dispatch Time"}),e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Payroll Cycle"}),e.jsx("th",{className:"p-4 border-r border-gray-100",children:"Employee"}),e.jsx("th",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:"Protocol"}),e.jsx("th",{className:"p-4 text-center",children:"Details"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-600 italic",children:D.length>0?D.map(B=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 group",children:[e.jsxs("td",{className:"p-4 border-r border-gray-100 font-black text-blue-900 group-hover:translate-x-1 transition-transform tabular-nums",children:["#",B.id]}),e.jsx("td",{className:"p-4 border-r border-gray-100 hidden sm:table-cell text-gray-400 uppercase text-[10px]",children:B.date}),e.jsx("td",{className:"p-4 border-r border-gray-100 uppercase font-black text-gray-500",children:B.cycle}),e.jsx("td",{className:"p-4 border-r border-gray-100 font-black text-blue-700 uppercase",children:B.name}),e.jsx("td",{className:"p-4 border-r border-gray-100 hidden md:table-cell",children:e.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black uppercase text-[9px]",children:[e.jsx(jt,{size:12})," ",B.status]})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("button",{onClick:()=>alert(`AUDIT LOG [REF: ${B.id}]:
- Handshake verified via RSA-4096
- SMTP Tunnel: STABLE
- Cipher: AES-256-GCM
- Recipient Internal ID: ${B.name}
- Status: DISPATCH_CONFIRMED`),className:"text-[9px] font-black text-blue-600 hover:text-blue-900 hover:underline px-3 py-1 bg-blue-50 border border-blue-100 rounded uppercase italic tracking-tighter",children:"View Audit"})})]},B.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-32 text-center text-gray-200 italic uppercase font-black text-xl tracking-[0.5em] select-none",children:"History log is empty"})})})]})})]}),e.jsxs("div",{className:`w-full lg:w-96 flex flex-col gap-6 transition-all shrink-0 ${n==="history"?"opacity-30 pointer-events-none grayscale":""}`,children:[e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-8 flex flex-col gap-6 shadow-2xl rounded-sm",children:[e.jsxs("h3",{className:"text-sm font-black text-blue-900 uppercase italic border-b-2 border-blue-50 pb-3 tracking-widest flex items-center gap-3",children:[e.jsx(Ha,{size:20,className:"text-blue-600"})," Dispatch Control Center"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 italic",children:"Target Payroll Cycle"}),e.jsxs("select",{className:"p-3 border-2 border-gray-100 bg-gray-50 font-black text-gray-800 text-xs shadow-inner focus:border-blue-400 outline-none transition-all cursor-pointer",value:v,onChange:B=>k(B.target.value),children:[e.jsx("option",{value:"Feb-2026",children:"February 2026 - Monthly"}),e.jsx("option",{value:"Jan-2026",children:"January 2026 - Monthly"}),e.jsx("option",{value:"Dec-2025",children:"December 2025 - Monthly"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 p-4 bg-gray-50 border-2 border-white rounded shadow-inner",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] italic mb-1",children:"Session Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 text-[10px] font-black text-gray-500 cursor-pointer group hover:text-blue-900 uppercase italic",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"peer opacity-0 absolute size-4"}),e.jsx("div",{className:"size-4 bg-white border-2 border-gray-300 peer-checked:bg-blue-600 peer-checked:border-blue-700 transition-all rounded shadow-sm"})]}),"Attach Employee Labels"]}),e.jsxs("label",{className:"flex items-center gap-3 text-[10px] font-black text-gray-500 cursor-pointer group hover:text-blue-900 uppercase italic",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"peer opacity-0 absolute size-4"}),e.jsx("div",{className:"size-4 bg-white border-2 border-gray-300 peer-checked:bg-blue-600 peer-checked:border-blue-700 transition-all rounded shadow-sm"})]}),"CC Human Resources"]})]})]}),e.jsxs("button",{disabled:i||C.length===0,onClick:_,className:`w-full py-5 rounded-sm font-black text-sm uppercase italic tracking-[0.2em] transition-all shadow-xl flex items-center justify-center gap-4 border-2 border-white border-r-[#000040] border-b-[#000040] relative overflow-hidden group ${i||C.length===0?"bg-gray-200 text-gray-400 border-none opacity-50 grayscale":"bg-[#000080] hover:bg-blue-800 text-white active:translate-y-1 active:shadow-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),i?e.jsx(ge,{size:24,className:"animate-spin"}):e.jsx(Ha,{size:24}),e.jsx("span",{className:"relative z-10",children:i?"DISPATCHING...":"Trigger Batch Send"})]}),e.jsx("p",{className:"text-[9px] font-black text-gray-300 uppercase italic text-center tracking-tighter mt-2 border-t pt-4",children:"Encryption: AES-256 Bit RSA Key :: SMTP Enabled"})]}),i&&e.jsxs("div",{className:"bg-white border-2 border-white border-r-gray-400 border-b-gray-400 p-6 flex flex-col gap-4 shadow-2xl rounded-sm animate-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black text-blue-900 uppercase italic tracking-widest",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ti,{size:12,className:"animate-spin"})," Dispatch Stream"]}),e.jsxs("span",{className:"tabular-nums",children:[Math.round(g),"% Complete"]})]}),e.jsx("div",{className:"w-full h-4 bg-gray-100 rounded border-2 border-white shadow-inner overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-700 to-blue-500 transition-all duration-300 relative",style:{width:`${g}%`},children:e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0.2)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.2)_50%,rgba(255,255,255,0.2)_75%,transparent_75%,transparent)] bg-[length:20px_20px] animate-[progress-bar-stripes_1s_linear_infinite]"})})}),e.jsx("p",{className:"text-[9px] font-black text-blue-600 italic mt-1 uppercase tracking-tighter border-l-2 border-blue-600 pl-3 bg-blue-50 py-2",children:h})]})]})]})]}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-end gap-4 px-4 sm:px-8 shadow-[inset_0_4px_10px_rgba(0,0,0,0.1)] z-20",children:[e.jsxs("button",{onClick:()=>l("/"),className:"w-full sm:w-auto px-10 py-3 flex items-center justify-center gap-3 text-[11px] font-black text-red-700 hover:bg-white transition-all uppercase italic border-2 border-transparent hover:border-red-100 rounded shadow-sm",children:[e.jsx(Ee,{size:18})," Close Dispatcher Terminal"]}),e.jsxs("button",{onClick:()=>o(n==="queue"?"history":"queue"),className:`w-full sm:w-auto px-10 py-3 border-2 border-white border-r-gray-600 border-b-gray-600 flex items-center justify-center gap-3 text-[11px] font-black transition-all uppercase shadow-md active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 rounded italic tracking-widest ${n==="history"?"bg-[#316AC5] text-white":"bg-[#E0DCCF] text-gray-700 hover:bg-white"}`,children:[e.jsx(Ti,{size:18})," ",n==="history"?"Examine Current Queue":"Batch Archive Log"]})]})]})},O2=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(jt,{size:18}),n==="error"&&e.jsx(Zl,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},M2=({isOpen:l,onClose:n,title:o,children:i})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,_2=()=>{const l=xe(),[n,o]=m.useState(""),[i,u]=m.useState("Feb-2026"),[x,p]=m.useState(!1),[g,b]=m.useState(!1),[h,N]=m.useState(null),[v]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[k,f]=m.useState([]),[j,C]=m.useState(null),[w,D]=m.useState(!1),L=(B,E="success")=>{C({message:B,type:E})},A=async()=>{if(v.id)try{p(!0);const B=await X.fetchPayrolls({companyId:v.id,period:i});B.success&&f(B.data.map(E=>({id:E.id,empId:E.employee?.employeeId,name:`${E.employee?.firstName} ${E.employee?.lastName}`,period:E.period,trn:E.employee?.trn||"XXX-XXX-XXX",status:E.status,sent:E.status==="Sent"})))}catch(B){console.error(B),L("Failed to fetch payslip data.","error")}finally{p(!1)}};m.useEffect(()=>{A()},[v.id,i]);const S=async()=>{D(!1);try{b(!0);const B=await X.generatePayrolls({companyId:v.id,period:i});B.success?(L(`${B.data.count} payslips generated successfully!`,"success"),A()):L(B.message||"Failed to generate payslips.","error")}catch(B){console.error(B),L("Error generating payslips.","error")}finally{b(!1)}},_=async B=>{try{N(B),(await X.sendPayslipEmail(B)).success?(L("Payslip emailed securely.","success"),A()):L("Failed to send email.","error")}catch(E){console.error(E),L("Network error sending email.","error")}finally{N(null)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans relative",children:[j&&e.jsx(O2,{message:j.message,type:j.type,onClose:()=>C(null)}),e.jsx(M2,{isOpen:w,onClose:()=>D(!1),title:"Confirm Generation",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded text-yellow-900 text-xs flex items-start gap-2",children:[e.jsx(ia,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["This will calculate payroll and generate payslips for ALL employees for ",e.jsx("strong",{children:i}),". Existing records may be overwritten."]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-800 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-900 transition-colors shadow-sm",children:"Confirm Generation"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"text-blue-700",size:18}),e.jsx("span",{className:"font-black text-gray-700 text-sm uppercase italic",children:"Payslip Management Center"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Period:"}),e.jsxs("select",{value:i,onChange:B=>u(B.target.value),className:"text-xs font-bold p-1 border border-gray-400 outline-none",children:[e.jsx("option",{value:"Feb-2026",children:"February 2026"}),e.jsx("option",{value:"Jan-2026",children:"January 2026"}),e.jsx("option",{value:"Dec-2025",children:"December 2025"})]})]})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-4 overflow-hidden",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 flex items-center gap-3  shadow-sm transition-all hover:bg-yellow-100",children:[e.jsx(it,{className:"text-orange-500",size:24}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-orange-800 uppercase italic tracking-tighter",children:"Security Protocol Active"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-600",children:"Generated payslips are automatically password protected. The default password is the employee's TRN unless overridden."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-2 border border-gray-400 shadow-sm gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-1/3 bg-gray-50 px-2 py-1 border border-gray-200 focus-within:border-blue-400 transition-colors shadow-inner",children:[e.jsx(Ke,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search Employee...",className:"bg-transparent text-xs font-bold w-full p-1 outline-none italic uppercase",value:n,onChange:B=>o(B.target.value)})]}),e.jsxs("button",{onClick:()=>D(!0),disabled:g,className:"w-full sm:w-auto px-6 py-2 flex items-center justify-center gap-3 bg-[#E0DCCF] hover:bg-white text-xs font-black uppercase text-blue-900 shadow-md border-2 border-white border-r-gray-600 border-b-gray-600 active:translate-y-0.5 active:border-b-0 active:border-r-0 transition-all tracking-widest disabled:opacity-50 group",children:[g?e.jsx(ge,{size:16,className:"animate-spin"}):e.jsx(jt,{size:16,className:"text-green-600 group-hover:scale-110 transition-transform"}),g?"GENERATING...":"Generate for Period"]})]}),e.jsx("div",{className:"flex-1 bg-white border border-gray-400 shadow-2xl overflow-auto scrollbar-thin scrollbar-thumb-gray-300",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[e.jsx("thead",{className:"bg-[#D4D0C8] sticky top-0 border-b border-gray-400 text-[10px] font-black text-gray-600 uppercase italic",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Employee"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Period"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Security (TRN)"}),e.jsx("th",{className:"p-3 border-r border-gray-300",children:"Status"}),e.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.3em] animate-pulse",children:"Scanning Secure Vault..."})}):k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.3em]",children:"No records found for this period."})}):k.filter(B=>B.name.toLowerCase().includes(n.toLowerCase())).map(B=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors group",children:[e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"uppercase font-black text-blue-900 group-hover:translate-x-1 transition-transform",children:B.name}),e.jsx("span",{className:"text-[9px] text-gray-400 italic tracking-tighter",children:B.empId})]})}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-gray-500 italic",children:B.period}),e.jsxs("td",{className:"p-3 border-r border-gray-100 font-mono text-gray-400 group-hover:text-blue-600 transition-colors",children:["TRN-XX-",B.trn.slice(-4)]}),e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsx("span",{className:`px-3 py-1 text-[9px] font-black uppercase italic border shadow-sm ${B.status==="Sent"?"bg-blue-50 text-blue-700 border-blue-200":B.status==="Generated"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:B.status})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>l("/payroll/payslip-preview",{state:{payrollId:B.id}}),className:"p-1.5 bg-gray-50 border border-gray-300 rounded hover:bg-blue-50 hover:text-blue-700 transition-all shadow-sm active:translate-y-0.5",title:"View PDF",children:e.jsx(Hi,{size:16})}),e.jsx("button",{onClick:()=>_(B.id),disabled:h===B.id,className:`p-1.5 border rounded transition-all shadow-sm active:translate-y-0.5 ${B.sent?"bg-green-50 text-green-700 border-green-300":"bg-gray-50 text-gray-400 border-gray-300 hover:bg-blue-50 hover:text-blue-700"}`,title:"Send Email",children:h===B.id?e.jsx(ge,{size:16,className:"animate-spin"}):e.jsx(Ha,{size:16})})]})})]},B.id))})]})})]})]})},I2=()=>{const[l,n]=m.useState(!1),[o,i]=m.useState([]),[u]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),x=async()=>{if(u.email)try{n(!0);const g=await X.fetchPayrolls({email:u.email});g.success&&i(g.data.map(b=>({id:b.id,period:b.period,date:b.paymentDate?new Date(b.paymentDate).toLocaleDateString():new Date(b.createdAt).toLocaleDateString(),net:new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(parseFloat(b.netSalary)),status:b.status})))}catch(g){console.error(g)}finally{n(!1)}};m.useEffect(()=>{x()},[u.id]);const p=g=>{const b=`========================================================
             OFFICIAL PAYSLIP - ${g.period.toUpperCase()}
========================================================

EMPLOYEE NAME: ${u.firstName} ${u.lastName}
EMPLOYEE ID:   ${u.employeeId}
PAY PERIOD:    ${g.period}
ISSUE DATE:    ${g.date}

--------------------------------------------------------
NET PAYABLE:   ${g.net}
--------------------------------------------------------

STATUS: ${g.status.toUpperCase()}

This document is encrypted and confidential.
Generated by SmartHRM PayPort Terminal.
--------------------------------------------------------`,h=new Blob([b],{type:"text/plain"}),N=URL.createObjectURL(h),v=document.createElement("a");v.href=N,v.download=`Payslip_${g.period.replace(/\s/g,"_")}_${u.employeeId}.txt`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(N)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-gray-50 font-sans p-4 sm:p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"text-blue-600 size-6 sm:size-8"}),e.jsx("h1",{className:"text-xl sm:text-3xl font-black text-gray-800 italic uppercase tracking-tighter",children:"My Payslip History"})]}),e.jsxs("p",{className:"text-[10px] sm:text-xs font-black text-gray-400 uppercase tracking-[0.3em] ml-1",children:["Confidential Financial Records :: Station ",u.employeeId||"USR"]})]}),e.jsxs("div",{className:"bg-blue-900 text-white p-4 sm:p-6 rounded-xl shadow-2xl mb-8 flex items-center gap-6 border-l-8 border-blue-400 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-125 transition-transform duration-700",children:e.jsx(Ai,{size:80})}),e.jsx("div",{className:"bg-blue-800 p-3 rounded-lg shadow-inner",children:e.jsx(Ai,{size:28,className:"text-blue-200"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-sm sm:text-base font-black uppercase italic tracking-widest",children:"Secure Document Access Protocol"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-blue-200 mt-1 font-bold",children:"Your electronic payslips are AES-256 encrypted. Use your TRN Number to decrypt downloaded files."})]})]}),e.jsx("div",{className:"grid gap-4 sm:gap-6",children:l?e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em] animate-pulse",children:"Requesting Secure Feed..."}):o.length===0?e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em]",children:"Inventory cache is currently empty."}):o.map(g=>e.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-xl border-2 border-white border-r-gray-200 border-b-gray-200 shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex flex-col sm:flex-row items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto mb-4 sm:mb-0",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-blue-50 border-2 border-white rounded-2xl flex items-center justify-center text-blue-600 shadow-inner group-hover:bg-blue-600 group-hover:text-white transition-colors",children:e.jsx(ha,{size:28,className:"sm:size-32"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-black text-gray-800 italic uppercase tracking-tighter group-hover:text-blue-900",children:g.period}),e.jsxs("span",{className:"text-[10px] sm:text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Disbursement: ",g.date]})]})]}),e.jsxs("div",{className:"flex items-center gap-8 w-full sm:w-auto justify-between sm:justify-end border-t sm:border-t-0 border-gray-100 pt-4 sm:pt-0",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest italic",children:"Net Remittance"}),e.jsx("span",{className:"text-xl sm:text-2xl font-black text-blue-800 italic tabular-nums tracking-tighter",children:g.net})]}),e.jsxs("button",{onClick:()=>p(g),className:"flex items-center gap-2 px-8 py-3 bg-blue-700 hover:bg-blue-800 text-white rounded-lg text-xs font-black uppercase italic tracking-widest shadow-lg active:translate-y-1 active:shadow-none transition-all border-b-4 border-blue-900",children:[e.jsx(He,{size:16})," Download"]})]})]},g.id))}),e.jsx("div",{className:"mt-auto pt-10 flex justify-center border-t border-gray-100 mt-12 pb-6",children:e.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-400 font-black uppercase italic tracking-widest",children:["Manual Verification Terminal :: ",e.jsx("span",{className:"text-blue-600 cursor-help underline decoration-dotted",children:"DOCKET_ID_404"})]})})]})},F2=()=>{const l=xe(),n=[{id:1,name:"Annual Assessment Report 2025",type:"Performance Review",date:"15 Jan 2026",category:"HR",size:"245 KB"},{id:2,name:"Employment Contract",type:"Legal Document",date:"01 Jan 2024",category:"HR",size:"512 KB"},{id:3,name:"Company Policies Handbook",type:"Reference",date:"01 Jan 2026",category:"HR",size:"1.2 MB"},{id:4,name:"Benefits Enrollment Form",type:"Benefits",date:"10 Dec 2025",category:"HR",size:"128 KB"}],o=i=>{const u=`DOCUMENT: ${i.name}

Type: ${i.type}
Category: ${i.category}
Date: ${i.date}
Size: ${i.size}

This is a sample document from the Employee Self-Service Portal.
Generated by SmartHRM System.

In production, this would download the actual document from the server.`,x=new Blob([u],{type:"text/plain"}),p=URL.createObjectURL(x),g=document.createElement("a");g.href=p,g.download=`${i.name.replace(/\s/g,"_")}.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-gray-50 font-sans p-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-2 hover:bg-gray-200 rounded transition-colors",children:e.jsx($d,{size:20,className:"text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx(Ne,{className:"text-blue-600"})," My Documents"]}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mt-1",children:"Employee Document Center"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-6 flex items-start gap-3",children:[e.jsx($l,{size:20,className:"text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-blue-900",children:"Secure Document Access"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"All documents are confidential and for your personal use only. Do not share with unauthorized parties."})]})]}),e.jsx("div",{className:"grid gap-4",children:n.map(i=>e.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:e.jsx(Ne,{size:24})}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("span",{className:"text-base font-bold text-gray-800",children:i.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:i.type}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(ha,{size:12})," ",i.date]}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-500",children:i.size})]})]})]}),e.jsxs("button",{onClick:()=>o(i),className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-bold uppercase transition-all",children:[e.jsx(He,{size:16})," Download"]})]},i.id))}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("p",{className:"text-xs text-gray-400",children:"Documents are retained according to company policy. Contact HR for assistance."})})]})},Mr=()=>{const l=xe(),n=_t(),o=m.useRef(null),i=n.pathname.includes("timesheets"),u=n.pathname.includes("import-saved"),x=n.pathname.includes("import-jmd-fx"),p=n.pathname.includes("restore"),g=n.pathname.includes("backup"),b=i?"Import Time Sheets":u?"Import Saved Entries":x?"Import JMD to FX Transactions":p?"System Restore Protocol":g?"System Backup Protocol":"Data Import Wizard",[h,N]=m.useState(1),[v,k]=m.useState(null),[f,j]=m.useState(null),[C,w]=m.useState(0),[D,L]=m.useState(""),[A,S]=m.useState([]);bt.useEffect(()=>{n.state?.autoStart&&n.state?.fileName&&(k({name:n.state.fileName,size:n.state.fileSize}),window.pendingFile&&j(window.pendingFile),N(2))},[n.state]);const _=E=>{const R=E.target.files[0];R&&(k(R),j(R),N(2))},B=async()=>{if(!f){alert("STATION ALERT: No valid file object detected for transmission.");return}try{N(3),w(30),L(p?"Initializing Restore Protocol...":"Uploading master file...");let E;p?E=await X.restoreSystemBackup(f):E=await X.importMasterData(f),E.success&&(w(100),L("Sequence finalized."),S([{msg:"File integrity verified",type:"success"},{msg:`${p?E.data.recordsRestored:E.data.recordsProcessed} Records processed`,type:"info"},{msg:"Database sync completed",type:"success"},{msg:"Station log updated",type:"success"}]),setTimeout(()=>N(4),500))}catch(E){console.error(E),N(2),alert(`PROTOCOL FAILURE: ${E.message||"Transmission error during file processing"}`)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs select-none",children:[e.jsxs("div",{className:"bg-[#0055E5] text-white px-3 py-1.5 flex items-center justify-between shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dd,{size:16}),e.jsxs("span",{className:"font-black uppercase tracking-widest text-[10px] italic",children:[b," Core"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>l(-1),className:"hover:bg-red-500 w-5 h-5 flex items-center justify-center transition-colors",children:""})})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-8 flex flex-col items-center justify-center bg-[#D4D0C8]/30 overflow-auto",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white border-2 border-gray-500 shadow-[12px_12px_0_rgba(0,0,0,0.1)] flex flex-col",children:[e.jsx("div",{className:"bg-[#F0F0F0] border-b border-gray-300 p-4 flex justify-between items-center",children:[1,2,3,4].map(E=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center font-black ${h>=E?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-500"}`,children:E}),e.jsx("span",{className:`text-[9px] font-black uppercase tracking-tighter hidden sm:inline ${h===E?"text-blue-700":"text-gray-400"}`,children:E===1?"Selection":E===2?"Verify":E===3?"Process":"Complete"}),E<4&&e.jsx("div",{className:"w-8 h-px bg-gray-300 mx-2 hidden sm:block"})]},E))}),e.jsxs("div",{className:"p-8 min-h-[300px] flex flex-col",children:[h===1&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-300",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-6 shadow-inner border border-blue-100",children:e.jsx(ql,{size:40})}),e.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase italic tracking-tighter mb-2",children:p?"Select Backup Image":g?"Select Configuration":"Select Source File"}),e.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest max-w-[280px] mb-8",children:p?"Pick a .bak, .zip or .sql system archive":"Supported formats: .XLSX, .XLS, .CSV, .XML"}),e.jsx("input",{type:"file",ref:o,className:"hidden",onChange:_,accept:".xlsx,.xls,.csv,.xml"}),e.jsx("button",{onClick:()=>o.current.click(),className:"px-10 py-3 bg-blue-600 text-white font-black uppercase tracking-[0.2em] shadow-lg hover:bg-blue-700 active:translate-y-1 transition-all border-b-4 border-r-4 border-blue-900",children:"Choose File..."})]}),h===2&&e.jsxs("div",{className:"flex-1 animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8 bg-blue-50 p-4 border border-blue-100 rounded",children:[e.jsx(Ne,{size:32,className:"text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-black text-blue-900 text-sm uppercase truncate",children:v.name}),e.jsxs("div",{className:"text-[9px] font-bold text-gray-500",children:["SIZE: ",(v.size/1024).toFixed(1)," KB  TYPE: ",v.type||"Binary Archive"]})]}),e.jsx("button",{onClick:()=>N(1),className:"text-[9px] font-black text-red-600 uppercase border border-red-200 px-2 py-1 hover:bg-red-50 transition-colors",children:"Change"})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("h4",{className:"font-black text-gray-700 uppercase italic border-b pb-1 flex items-center gap-2",children:[e.jsx(it,{size:14,className:"text-green-600"})," Data Validation Preview"]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 space-y-2",children:[{label:"Column Structure",status:"MATCHED"},{label:"Data Formatting",status:"VERIFIED"},{label:"Calculated Sums",status:"PENDING"}].map(E=>e.jsxs("div",{className:"flex justify-between items-center px-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:E.label}),e.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded ${E.status==="MATCHED"?"bg-green-100 text-green-700":E.status==="VERIFIED"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:E.status})]},E.label))}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400 italic",children:"NOTE: System will automatically map recognized headers. Unmapped data will be ignored."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>l(-1),className:"px-6 py-2 font-black text-gray-500 uppercase hover:bg-gray-100",children:"Cancel"}),e.jsxs("button",{onClick:B,className:"px-10 py-2 bg-green-600 text-white font-black uppercase shadow-lg hover:bg-green-700 active:translate-y-1 transition-all flex items-center gap-2",children:[p?"Initiate Restore":g?"Start Compression":"Execute Import"," ",e.jsx(ys,{size:14})]})]})]}),h===3&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-10 animate-in fade-in duration-300",children:[e.jsx(ge,{size:48,className:"text-blue-600 animate-spin mb-6"}),e.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-blue-800 uppercase italic animate-pulse",children:D}),e.jsxs("span",{className:"text-xl font-black text-blue-900",children:[Math.floor(C),"%"]})]}),e.jsx("div",{className:"w-full h-6 bg-white border-2 border-gray-300 p-0.5 shadow-inner",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 shadow-[inset_0_1px_0_rgba(255,255,255,0.3)]",style:{width:`${C}%`}})}),e.jsxs("div",{className:"flex items-center gap-2 justify-center text-[9px] font-bold text-gray-400 uppercase tracking-widest text-center mt-4",children:[e.jsx(xa,{size:10})," Syncing with Station Master Register..."]})]})]}),h===4&&e.jsxs("div",{className:"flex-1 animate-in zoom-in duration-300",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-4 shadow-inner",children:e.jsx(jt,{size:32})}),e.jsx("h3",{className:"text-2xl font-black text-green-800 uppercase italic tracking-tighter",children:p?"Restore Finalized":g?"Backup Generated":"Import Successful"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Operation OP-",Math.floor(Math.random()*9e3)+1e3," Completed"]})]}),e.jsxs("div",{className:"space-y-2 mb-8 bg-[#F8F9FA] p-4 border-2 border-dashed border-gray-300",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase mb-3 border-b border-gray-200 pb-1",children:"Execution Log Summary"}),A.map((E,R)=>e.jsxs("div",{className:"flex gap-3 items-center text-[10px] font-bold",children:[E.type==="success"?e.jsx(jt,{size:12,className:"text-green-600"}):e.jsx(js,{size:12,className:"text-blue-500"}),e.jsx("span",{className:E.type==="success"?"text-green-700":"text-blue-700",children:E.msg})]},R))]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{onClick:()=>N(1),className:"w-full py-3 border-2 border-gray-500 font-black text-gray-600 uppercase hover:bg-gray-50 transition-all text-[11px]",children:"Import Another"}),e.jsx("button",{onClick:()=>l("/"),className:"w-full py-3 bg-[#333333] text-white font-black uppercase tracking-widest hover:bg-black transition-all text-[11px] shadow-lg border-b-4 border-r-4 border-gray-900 active:translate-y-1 active:border-0",children:"Close Wizard"})]})]})]}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-3 flex justify-between items-center px-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_5px_green]"}),e.jsx("span",{className:"text-[8px] font-black text-gray-500 uppercase tracking-widest italic",children:"Security Engine Active"})]}),e.jsx("span",{className:"text-[9px] font-black text-blue-800 italic uppercase",children:"SmartHRM Engine v5.10.x-0xFB"})]})]})})]})},B2=()=>{const l=xe(),[n,o]=m.useState(null),[i,u]=m.useState("2026"),[x,p]=m.useState("ALL BRANCHES"),[g,b]=m.useState(""),[h,N]=m.useState(!1),[v,k]=m.useState(!1),[f,j]=m.useState(null),[C,w]=m.useState({count:0,gross:0,tax:0,net:0});m.useEffect(()=>{const _=localStorage.getItem("selectedCompany");_&&j(JSON.parse(_))},[]);const D=async()=>{if(f){k(!0);try{const _=await X.fetchPayrolls({companyId:f.id});if(_.success){const E=_.data.filter(R=>R.period.includes(i)).reduce((R,O)=>({count:R.count+1,gross:R.gross+parseFloat(O.grossSalary),tax:R.tax+parseFloat(O.tax),net:R.net+parseFloat(O.netSalary)}),{count:0,gross:0,tax:0,net:0});w(E)}}catch(_){console.error(_)}finally{k(!1)}}},L=_=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(_||0),A=[{id:"P24",title:"P24 - Year End Certificates (Tax Administration Jamaica)",type:"Annual",code:"GOJ-P24-V2",icon:it,path:"/statutory/p24"},{id:"P45",title:"P45 - Employee Termination (Tax Administration Jamaica)",type:"Ad-hoc",code:"GOJ-P45-X1",icon:Ne,path:"/statutory/p45"},{id:"S01",title:"S01 - Monthly Statutory Remittance",type:"Monthly",code:"GOJ-S01-M",icon:ha,path:"/statutory/s01"},{id:"NIS",title:"NIS / NHT Annual Contribution Report",type:"Annual",code:"GOJ-NIS-04",icon:Ed,path:"/statutory/nis-nht"},{id:"NHT",title:"NHT Contribution by Employee/Year",type:"Annual",code:"GOJ-NHT-02",icon:Mt,path:"/statutory/nht"},{id:"PAY",title:"Master Payroll Summary",type:"Internal",code:"INT-PAY-SUM",icon:_e,path:"/reports/payroll-summary"}],S=_=>{_.path?l(_.path):(o(_),D())};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans selection:bg-blue-200 overflow-hidden",children:[e.jsxs("header",{className:"bg-gradient-to-b from-[#EEEEEE] to-[#D4D0C8] border-b border-gray-400 p-2 flex items-center justify-between no-print shrink-0 shadow-sm z-30",children:[e.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[e.jsx(it,{className:"text-blue-800 drop-shadow-sm",size:18}),e.jsxs("h1",{className:"font-black text-gray-700 uppercase italic tracking-tight text-xs sm:text-sm",children:["Statutory Reporting ",e.jsx("span",{className:"text-blue-700 tracking-widest ml-1 hidden xs:inline",children:"CENTRE"})]})]}),e.jsx("div",{className:"flex items-center gap-3 pr-2",children:e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-2 py-0.5 bg-white/50 border border-white/60 rounded text-[10px] font-bold text-gray-500 italic",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_5px_rgba(34,197,94,0.5)]"}),"Compliance Verified"]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0 overflow-hidden",children:[e.jsxs("aside",{className:"w-full md:w-72 shrink-0 bg-white border-b md:border-b-0 md:border-r-2 border-gray-400 flex flex-col z-20 shadow-lg md:shadow-none",children:[e.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Report Library"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})]})]}),e.jsx("nav",{className:"flex md:flex-col overflow-x-auto md:overflow-y-auto no-scrollbar md:pb-12",children:A.map(_=>e.jsxs("button",{onClick:()=>S(_),className:`group p-4 shrink-0 md:shrink-0 text-left border-b border-r md:border-r-0 border-gray-100 transition-all min-w-[180px] md:min-w-0 md:w-full relative ${n?.id===_.id?"bg-[#316AC5] text-white shadow-inner":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx(_.icon,{size:14,className:n?.id===_.id?"text-blue-200":"text-gray-400 group-hover:text-blue-500"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-60",children:_.type})]}),e.jsx("div",{className:"font-black text-[11px] leading-tight mb-1 uppercase italic",children:_.title}),e.jsxs("div",{className:`text-[9px] font-bold ${n?.id===_.id?"text-blue-200":"text-gray-400"}`,children:["FORM: ",_.code]}),n?.id===_.id&&e.jsx(Ga,{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden md:block",size:16})]},_.id))})]}),e.jsxs("main",{className:"flex-1 flex flex-col bg-[#F2F0E4] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#d1d1d1_1px,transparent_1px)] [background-size:20px_20px] opacity-20 pointer-events-none"}),n?e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 z-10",children:[e.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-sm border-b border-gray-300 shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col lg:flex-row items-start lg:items-end gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 flex-1 w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Taxation Year"}),e.jsxs("select",{value:i,onChange:_=>u(_.target.value),className:"w-full bg-[#EBE9D8] border-b-2 border-gray-400 p-2 text-xs font-black focus:border-blue-600 outline-none transition-all",children:[e.jsx("option",{children:"2026"}),e.jsx("option",{children:"2025"}),e.jsx("option",{children:"2024"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Entity Scope"}),e.jsxs("div",{className:"flex items-center bg-[#EBE9D8] border-b-2 border-gray-400 p-2",children:[e.jsx(Ed,{size:14,className:"mr-2 text-blue-800"}),e.jsxs("select",{value:x,onChange:_=>p(_.target.value),className:"bg-transparent border-none outline-none text-xs font-black flex-1",children:[e.jsx("option",{children:"ALL BRANCHES"}),e.jsx("option",{children:"HEAD OFFICE"}),e.jsx("option",{children:"REMOTE DIV."})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 col-span-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Dynamic Filter (Optional)"}),e.jsxs("div",{className:"flex items-center bg-[#EBE9D8] border-b-2 border-gray-400 p-2",children:[e.jsx(Mt,{size:14,className:"mr-2 text-blue-800"}),e.jsx("input",{type:"text",placeholder:"IDENTITY SEARCH...",value:g,onChange:_=>b(_.target.value.toUpperCase()),className:"bg-transparent border-none outline-none text-xs font-black w-full uppercase placeholder:text-gray-400"})]})]})]}),e.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[e.jsx("button",{onClick:D,disabled:v||!n,className:"flex-1 lg:flex-none bg-blue-700 text-white px-6 py-2.5 text-[10px] font-black uppercase tracking-widest shadow-[4px_4px_0px_rgba(0,0,0,0.1)] hover:brightness-110 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:v?"COMPILING...":"Compile Preview"}),e.jsx("button",{onClick:()=>N(!h),className:`p-2 border-2 transition-all active:scale-95 ${h?"bg-blue-100 border-blue-500 text-blue-700":"border-gray-400 text-gray-600 hover:bg-gray-100"}`,children:e.jsx(Hr,{size:18})})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8 lg:p-12 flex justify-center items-start bg-gray-400/50 shadow-inner",children:e.jsxs("div",{className:"bg-white w-full max-w-[210mm] min-h-[297mm] shadow-2xl p-6 md:p-[15mm] text-black font-serif relative transition-all duration-500 hover:shadow-blue-900/10 origin-top",children:[e.jsx("div",{className:"absolute top-[20mm] right-[20mm] opacity-[0.03] select-none pointer-events-none",children:e.jsx(it,{size:400})}),e.jsx("div",{className:"border-b-[3px] border-black pb-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ya,{size:24,className:"text-blue-900"}),e.jsx("span",{className:"text-[10pt] font-black tracking-[0.3em] uppercase opacity-50",children:"Draft Transmission"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold uppercase tracking-tight leading-none mb-2",children:n.title}),e.jsxs("div",{className:"flex gap-4 text-[9pt] font-bold uppercase text-gray-500",children:[e.jsxs("span",{children:["Form Code: ",e.jsx("b",{className:"text-black",children:n.code})]}),e.jsxs("span",{children:["Authority: ",e.jsx("b",{className:"text-black",children:"TAJ - Jamaica"})]})]})]}),e.jsxs("div",{className:"md:text-right text-[10pt]",children:[e.jsxs("div",{className:"bg-black text-white px-4 py-1 inline-block mb-1 font-black uppercase tracking-widest",children:["Year: ",i]}),e.jsxs("p",{className:"font-bold uppercase italic opacity-40",children:["Ref: ",Math.random().toString(36).substr(2,6).toUpperCase()]})]})]})}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 py-8 border-y-2 border-dashed border-gray-200",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col border-l-4 border-blue-900 pl-4",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Registered Entity"}),e.jsx("span",{className:"text-[11pt] font-bold uppercase",children:f?.name||"SYNCING..."})]}),e.jsxs("div",{className:"flex flex-col border-l-4 border-blue-900 pl-4",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Taxpayer ID (TRN)"}),e.jsx("span",{className:"text-[11pt] font-bold tabular-nums",children:f?.trn||"000-000-000"})]})]}),e.jsxs("div",{className:"space-y-4 md:text-right",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Generation Date"}),e.jsx("span",{className:"text-[11pt] font-bold tabular-nums",children:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"flex flex-col italic",children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Status"}),e.jsx("span",{className:`text-[11pt] font-black uppercase ${v?"animate-pulse text-orange-600":"text-blue-800"}`,children:v?"Compiling Live Streams...":"Pre-Validation Active"})]})]})]}),e.jsxs("div",{className:"border-2 border-gray-100 flex flex-col items-center justify-center relative overflow-hidden bg-gray-50/50 p-12",children:[e.jsx("div",{className:"absolute inset-0 bg-[#316AC5] opacity-[0.02] flex flex-col justify-around",children:[...Array(20)].map((_,B)=>e.jsx("div",{className:"h-px w-full bg-black/10"},B))}),v?e.jsxs("div",{className:"text-center z-10",children:[e.jsx(ge,{size:64,className:"mx-auto text-blue-200 mb-4 animate-spin"}),e.jsx("h3",{className:"text-xl font-bold uppercase tracking-[0.2em] text-gray-300",children:"Syncing Engine"})]}):C.count>0?e.jsxs("div",{className:"w-full z-10 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-200 pb-4",children:[e.jsx(qa,{className:"text-blue-800",size:32}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black uppercase text-gray-800 tracking-tighter",children:["Aggregate Summary - ",i]}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Based on ",C.count," processed sequences"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Gross Emoluments"}),e.jsx("span",{className:"text-xl font-black text-gray-900",children:L(C.gross)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Tax Withheld (PAYE)"}),e.jsx("span",{className:"text-xl font-black text-red-700",children:L(C.tax)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Net Disbursements"}),e.jsx("span",{className:"text-xl font-black text-blue-900",children:L(C.net)})]})]}),e.jsxs("div",{className:"bg-blue-50/50 p-4 border border-blue-100 italic text-[10px] text-blue-800 font-bold uppercase",children:["Transmission ready. Encrypted signature verified for all processed sequences in ",i,"."]})]}):e.jsxs("div",{className:"text-center z-10 px-8",children:[e.jsx(Ne,{size:64,className:"mx-auto text-gray-200 mb-4"}),e.jsx("h3",{className:"text-xl font-bold uppercase tracking-[0.2em] text-gray-300",children:"Data Stream Preview"}),e.jsxs("p",{className:"text-gray-400 text-sm italic mt-2",children:["No payroll sequences discovered for ",i," in current scope."]})]})]})]}),e.jsx("div",{className:"absolute bottom-12 left-[15mm] right-[15mm] pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 border-2 border-gray-300 rounded flex items-center justify-center font-black text-gray-400 transform rotate-12",children:"SEAL"}),e.jsxs("div",{className:"text-[8pt] font-black text-gray-400 uppercase leading-none",children:["Authorized System",e.jsx("br",{}),"Digital Fingerprint",e.jsx("br",{}),Math.random().toString(16).substr(2,12).toUpperCase()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"w-48 border-b-2 border-black h-8 mb-1"}),e.jsx("span",{className:"text-[8pt] font-black uppercase tracking-widest opacity-50",children:"Controller Signature"})]})]})})]})}),e.jsxs("div",{className:"absolute bottom-40 right-6 flex flex-col gap-3 z-30 no-print",children:[e.jsxs("button",{onClick:()=>{const _=`STATUTORY REPORT - ${n.title}

Form Code: ${n.code}
Authority: TAJ - Jamaica
Year: ${i}
Generation Date: ${new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})}

REGISTERED ENTITY
-----------------
Company: ${f?.name||"N/A"}
Taxpayer ID (TRN): ${f?.trn||"000-000-000"}

AGGREGATE SUMMARY
-----------------
Gross: ${L(C.gross)}
Tax: ${L(C.tax)}
Net: ${L(C.net)}
Count: ${C.count}

REPORT STATUS
-------------
Status: Pre-Validation Active
Reference: ${Math.random().toString(36).substr(2,6).toUpperCase()}

Generated by SmartHRM - Jamaica Compliance Module v4.2.0`,B=new Blob([_],{type:"text/plain"}),E=URL.createObjectURL(B),R=document.createElement("a");R.href=E,R.download=`${n.code}_${i}_Report.txt`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(E)},className:"flex items-center gap-2 px-4 py-3 bg-green-600 text-white rounded shadow hover:bg-green-700",children:[e.jsx(He,{size:20}),e.jsx("span",{className:"text-sm font-semibold",children:"Secure Download"})]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-3 bg-blue-600 text-white rounded shadow hover:bg-blue-700",children:[e.jsx(_e,{size:20}),e.jsx("span",{className:"text-sm font-semibold",children:"Hard-Copy Print"})]})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-1000",children:[e.jsx("div",{className:"w-32 h-32 bg-white/50 backdrop-blur-md rounded-full flex items-center justify-center border-4 border-gray-300 mb-8 shadow-inner",children:e.jsx(it,{size:48,className:"text-gray-300"})}),e.jsx("h2",{className:"text-2xl font-black text-gray-400 uppercase italic tracking-[0.2em] mb-4",children:"Awaiting Selection"}),e.jsxs("p",{className:"max-w-md text-gray-500 font-bold leading-relaxed",children:["Please choose a statutory return format from the ",e.jsx("span",{className:"text-blue-700",children:"Report Library"})," on the left to initialize the transmission sequence."]}),e.jsxs("div",{className:"mt-12 flex gap-4",children:[e.jsx("div",{className:"w-1 bg-[#316AC5] h-12"}),e.jsxs("div",{className:"text-left font-black text-[10px] text-gray-400 uppercase tracking-widest",children:["Jamaica Compliance",e.jsx("br",{}),"Module version 4.2.0",e.jsx("br",{}),"Encrypted Channel v2"]})]})]})]})]})]})},Om=({individual:l=!1})=>{const n=xe(),[o,i]=m.useState({payPeriod:"",ofYear:new Date().getFullYear().toString(),department:"",branch:"",employee:""}),[u,x]=m.useState(!1),[p,g]=m.useState(null),[b,h]=m.useState([]),[N,v]=m.useState(0),[k]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[f,j]=m.useState([]),[C,w]=m.useState([]);m.useEffect(()=>{(async()=>{if(k.id)try{const _=await X.fetchDepartments(k.id);_.success&&w(_.data);const B=await X.fetchPayrollBatches(k.id);B.success&&(j(B.data),B.data.length>0&&i(E=>({...E,payPeriod:B.data[0].period})))}catch(_){console.error("Error fetching metadata:",_)}})()},[k.id]);const D=async()=>{if(!o.payPeriod){alert("Please select a pay period.");return}x(!0),g(null);try{const S={companyId:k.id,period:o.payPeriod};o.department&&(S.departmentId=o.department);const _=await X.fetchPayrolls(S);if(_.success&&_.data){let B=_.data;if(l&&o.employee){const O=o.employee.toLowerCase();B=B.filter(F=>F.employee?.employeeId?.toLowerCase().includes(O)||F.employee?.firstName?.toLowerCase().includes(O)||F.employee?.lastName?.toLowerCase().includes(O))}const E={count:B.length,gross:B.reduce((O,F)=>O+parseFloat(F.grossSalary||0),0),deductions:B.reduce((O,F)=>O+parseFloat(F.deductions||0),0),tax:B.reduce((O,F)=>O+parseFloat(F.tax||0),0),net:B.reduce((O,F)=>O+parseFloat(F.netSalary||0),0),nis:B.reduce((O,F)=>O+parseFloat(F.nis||0),0),nht:B.reduce((O,F)=>O+parseFloat(F.nht||0),0),edTax:B.reduce((O,F)=>O+parseFloat(F.edTax||0),0),paye:B.reduce((O,F)=>O+parseFloat(F.paye||0),0)},R=[{category:"Total Employees",count:E.count,amount:"0.00"},{category:"Gross Payroll",count:E.count,amount:E.gross.toFixed(2)},{category:"Total Deductions",count:E.count,amount:E.deductions.toFixed(2)},{category:"Net Pay",count:E.count,amount:E.net.toFixed(2)},{category:"PAYE (Income Tax)",count:E.count,amount:E.paye.toFixed(2)},{category:"NIS Deductions",count:E.count,amount:E.nis.toFixed(2)},{category:"NHT Deductions",count:E.count,amount:E.nht.toFixed(2)},{category:"Education Tax",count:E.count,amount:E.edTax.toFixed(2)}].filter(O=>O.category==="Total Employees"||parseFloat(O.amount)>0||O.category==="Gross Payroll"||O.category==="Net Pay");h(R),v(E.net),g(new Date().toLocaleString())}else alert("No records found."),h([])}catch(S){console.error(S),alert("Error generating report.")}finally{x(!1)}},L=()=>{if(b.length===0){alert("Please generate the report first.");return}const S=`Category,Count,Amount
`+b.map(R=>`"${R.category}",${R.count},${R.amount}`).join(`
`),_=new Blob([S],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(_),E=document.createElement("a");E.href=B,E.download=`${k.name}_Payroll_Summary_${o.payPeriod}.csv`,E.click()},A=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between shadow-sm",children:[e.jsxs("span",{className:"font-bold text-gray-700 uppercase flex items-center gap-2",children:[e.jsx(Ne,{size:14,className:"text-blue-800"}),l?"Individual Payroll Summary":"Company Payroll Master Summary"]}),e.jsxs("div",{className:"flex gap-2 no-print",children:[e.jsxs("button",{onClick:L,className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1 hover:bg-blue-700 shadow-sm",children:[e.jsx(He,{size:12})," Export CSV"]}),e.jsxs("button",{onClick:A,className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1 hover:bg-green-700 shadow-sm",children:[e.jsx(_e,{size:12})," Print PDF"]})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsx("div",{className:"bg-white border border-gray-400 p-3 mb-4 shadow-sm no-print",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-bold text-[9px] uppercase tracking-widest",children:"Pay Period"}),e.jsxs("select",{value:o.payPeriod,onChange:S=>i({...o,payPeriod:S.target.value}),className:"w-full p-1.5 border border-gray-400 bg-gray-50 text-blue-900 font-black mt-1 uppercase text-[11px]",children:[e.jsx("option",{value:"",children:"Select Period..."}),f.map((S,_)=>e.jsx("option",{value:S.period,children:S.period},_))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-bold text-[9px] uppercase tracking-widest",children:"Department"}),e.jsxs("select",{value:o.department,onChange:S=>i({...o,department:S.target.value}),className:"w-full p-1.5 border border-gray-400 bg-gray-50 text-gray-800 font-bold mt-1 text-[11px]",children:[e.jsx("option",{value:"",children:"All Departments"}),C.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l&&e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-bold text-[9px] uppercase tracking-widest",children:"Employee"}),e.jsx("input",{type:"text",value:o.employee,onChange:S=>i({...o,employee:S.target.value}),placeholder:"Search...",className:"w-full p-1.5 border border-gray-400 bg-gray-50 font-bold mt-1 text-[11px]"})]}),e.jsxs("button",{onClick:D,disabled:u,className:`w-full p-2 font-black uppercase text-[10px] flex items-center justify-center gap-2 shadow-sm transition-all ${u?"bg-gray-100 text-gray-400":"bg-blue-900 text-white hover:bg-black active:translate-y-0.5"}`,children:[u?e.jsx(ge,{size:14,className:"animate-spin"}):e.jsx(Ne,{size:14}),"Generate Summary"]})]})}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-md p-8 min-h-[500px] printable-area relative",children:[e.jsx("div",{className:"absolute top-4 right-4 text-right no-print",children:e.jsx("p",{className:"text-[8px] font-bold text-gray-300 uppercase tracking-widest",children:"Internal Auditor Copy"})}),e.jsxs("div",{className:"mb-8 text-center border-b-2 border-double border-gray-300 pb-4",children:[e.jsx("h1",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter mb-1",children:k.name||"HRM SYSTEM"}),e.jsx("h2",{className:"text-sm font-bold text-blue-900 uppercase tracking-widest",children:l?"Individual Payroll Summary Ledger":"Company Payroll Master Summary"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2",children:[e.jsxs("span",{className:"bg-gray-100 px-3 py-0.5 border border-gray-300 rounded-full text-[10px] font-bold text-gray-600",children:["Period: ",o.payPeriod||"---"]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"|"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tighter italic",children:"Currency: JAMD (JMD)"})]}),p&&e.jsxs("div",{className:"mt-4 text-[9px] font-bold text-green-700 uppercase italic",children:["Report Authenticated: ",p]})]}),b.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-y-2 border-gray-800",children:[e.jsx("th",{className:"p-3 text-left font-black uppercase tracking-widest text-gray-700",children:"Category / Description"}),e.jsx("th",{className:"p-3 text-right font-black uppercase tracking-widest text-gray-700",children:"Count / Ref"}),e.jsx("th",{className:"p-3 text-right font-black uppercase tracking-widest text-gray-700",children:"Amount (JMD)"})]})}),e.jsx("tbody",{children:b.map((S,_)=>e.jsxs("tr",{className:`border-b border-gray-100 ${_%2===0?"bg-blue-50/30":"bg-white"}`,children:[e.jsx("td",{className:"p-3 font-bold text-gray-800",children:S.category}),e.jsx("td",{className:"p-3 text-right text-gray-600 font-mono",children:S.count}),e.jsx("td",{className:"p-3 text-right font-black text-gray-900 border-l border-gray-50",children:S.category==="Total Employees"?"-":`$${parseFloat(S.amount).toLocaleString("en-US",{minimumFractionDigits:2})}`})]},_))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-800 text-white",children:[e.jsx("td",{className:"p-3 font-black uppercase tracking-widest",colSpan:"2",children:"Net Cash Requirement"}),e.jsxs("td",{className:"p-3 text-right font-black text-lg",children:["$",N.toLocaleString("en-US",{minimumFractionDigits:2})]})]})})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-20 px-8 no-print",children:[e.jsx("div",{className:"border-t border-gray-400 pt-2 text-center italic text-[9px] font-bold text-gray-400 uppercase",children:"Prepared By (Finance Manager)"}),e.jsx("div",{className:"border-t border-gray-400 pt-2 text-center italic text-[9px] font-bold text-gray-400 uppercase",children:"Authorized By (Managing Director)"})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-gray-300 border-2 border-dashed border-gray-100",children:[e.jsx(Ne,{size:48,className:"mb-4 opacity-10"}),e.jsx("span",{className:"font-black text-xs uppercase tracking-[0.2em]",children:"Engine Waiting for Criteria"})]})]}),e.jsx("div",{className:"flex gap-2 mt-4 no-print",children:e.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white font-bold text-[10px] uppercase shadow-sm",children:[e.jsx(Ee,{size:14})," Back to Hub"]})})]})]})},P2=()=>{const l=xe(),[n,o]=m.useState({dateFrom:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],dateTo:new Date().toISOString().split("T")[0],department:"",reason:""}),[i,u]=m.useState(!1),[x,p]=m.useState([]),[g]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[b,h]=m.useState([]);m.useEffect(()=>{(async()=>{if(g.id){const j=await X.fetchDepartments(g.id);j.success&&h(j.data)}})()},[g.id]),m.useEffect(()=>{(async()=>{if(g.id){u(!0);try{const j=await X.fetchRedundancies({companyId:g.id,status:"COMPLETED"});if(j.success){const C=j.data.map(w=>{const D=new Date(w.effectiveDate),L=w.employee?.joinDate?new Date(w.employee.joinDate):null;let A="N/A";if(L&&D){const S=Math.abs(D-L);A=`${(Math.ceil(S/(1e3*60*60*24))/365.25).toFixed(1)} years`}return{id:w.id,employeeId:w.employee?.employeeId,name:`${w.employee?.firstName} ${w.employee?.lastName}`,department:w.employee?.department?.name||"Unassigned",joinDate:L?L.toLocaleDateString("en-CA"):"-",exitDate:D.toLocaleDateString("en-CA"),reason:w.terminationType,tenure:A,rawExitDate:D}});p(C)}}catch(j){console.error(j)}finally{u(!1)}}})()},[g.id,n.dateFrom,n.dateTo]);const N=x.filter(f=>{const j=!n.department||f.department===n.department,C=!n.reason||f.reason===n.reason;new Date(f.exitDate);const w=new Date(n.dateFrom),D=new Date(n.dateTo);return j&&C&&f.rawExitDate>=w&&f.rawExitDate<=D}),v=()=>{const j=[["Employee ID","Name","Department","Join Date","Exit Date","Tenure","Reason"].join(","),...N.map(L=>[L.employeeId,`"${L.name}"`,L.department,L.joinDate,L.exitDate,L.tenure,L.reason].join(","))].join(`
`),C=new Blob([j],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(C),D=document.createElement("a");D.setAttribute("href",w),D.setAttribute("download",`turnover_report_${n.dateFrom}_to_${n.dateTo}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},k=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tight",children:"Turnover Analysis Register"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:v,className:"px-4 py-1.5 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(He,{size:14}),"Export CSV"]}),e.jsxs("button",{onClick:k,className:"px-4 py-1.5 bg-white border border-gray-400 text-green-700 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(_e,{size:14}),"Print Report"]})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-4 mb-6 shadow-inner no-print",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 border-b pb-1",children:"Report Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Exit Date From"}),e.jsx("input",{type:"date",value:n.dateFrom,onChange:f=>o({...n,dateFrom:f.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Exit Date To"}),e.jsx("input",{type:"date",value:n.dateTo,onChange:f=>o({...n,dateTo:f.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Target Department"}),e.jsxs("select",{value:n.department,onChange:f=>o({...n,department:f.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors cursor-pointer appearance-none",children:[e.jsx("option",{value:"",children:"ALL DEPARTMENTS"}),b.map(f=>e.jsx("option",{value:f.name,children:f.name.toUpperCase()},f.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Exit Reason Group"}),e.jsxs("select",{value:n.reason,onChange:f=>o({...n,reason:f.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors cursor-pointer appearance-none",children:[e.jsx("option",{value:"",children:"ALL REASONS"}),e.jsx("option",{value:"Voluntary Resignation",children:"RESIGNATION"}),e.jsx("option",{value:"Termination for Cause",children:"TERMINATION"}),e.jsx("option",{value:"Standard Redundancy (Legal)",children:"REDUNDANCY"}),e.jsx("option",{value:"Retirement Settlement",children:"RETIREMENT"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-xl p-8 max-w-5xl mx-auto print:shadow-none print:border-none",children:[e.jsxs("div",{className:"mb-8 text-center border-b-2 border-blue-900 pb-4",children:[e.jsx("h2",{className:"text-2xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Employee Turnover Performance Report"}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["PERIOD: ",n.dateFrom," TO ",n.dateTo]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"STATION: MASTER_TERMINAL_01"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#D4D0C8] text-gray-700 text-[10px] font-black uppercase tracking-widest border-2 border-gray-400",children:[e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Full Name"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Department"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-center",children:"Join Date"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-center",children:"Exit Date"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-center",children:"Tenure"}),e.jsx("th",{className:"p-3 text-left",children:"Primary Reason"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:N.length>0?N.map((f,j)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 transition-colors group",children:[e.jsx("td",{className:"p-3 border-r border-gray-100 font-mono text-blue-800",children:f.employeeId}),e.jsx("td",{className:"p-3 border-r border-gray-100 uppercase tracking-tight",children:f.name}),e.jsx("td",{className:"p-3 border-r border-gray-100 italic text-gray-500",children:f.department}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center font-mono opacity-60 uppercase",children:f.joinDate}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center font-mono text-red-600 uppercase",children:f.exitDate}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center",children:f.tenure}),e.jsx("td",{className:"p-3 uppercase",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] border ${f.reason?.includes("Termination")?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:f.reason})})]},j)):!i&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-20 text-center text-gray-400 font-black uppercase tracking-[0.5em] italic",children:"No turnover records found for selected period"})})}),e.jsx("tfoot",{className:"bg-blue-900 text-white border-2 border-blue-950",children:e.jsxs("tr",{className:"font-black uppercase italic tracking-widest",children:[e.jsx("td",{className:"p-4",colSpan:"3",children:"Corporate Turnover Aggregate"}),e.jsxs("td",{className:"p-4 text-right",colSpan:"4",children:["Population Change: ",N.length," Members"]})]})})]})})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-8 no-print pb-8",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-8 py-2 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]})})]})]})},U2=()=>{xe();const[l,n]=m.useState({employee:"",year:new Date().getFullYear().toString(),category:"All"}),[o,i]=m.useState([]),[u,x]=m.useState(null),[p,g]=m.useState([]),[b,h]=m.useState(!1),[N,v]=m.useState("");m.useEffect(()=>{(async()=>{try{const L=localStorage.getItem("selectedCompany"),A=L?JSON.parse(L):null;if(A){const S=await X.fetchEmployees(A.id);S.success&&i(S.data)}}catch(L){console.error("Failed to fetch employees",L)}})()},[]);const k=async()=>{if(!u){alert("Please select an employee first.");return}h(!0);try{const D=await X.fetchPayrolls({employeeId:u.id});if(D.success&&D.data){const L=D.data.filter(_=>_.period.includes(l.year)),A=L.map(_=>({period:_.period,gross:parseFloat(_.grossSalary||0),nis:parseFloat(_.nis||0),nht:parseFloat(_.nht||0),paye:parseFloat(_.paye||0),edTax:parseFloat(_.edTax||0),net:parseFloat(_.netSalary||0)})),S=A.reduce((_,B)=>({period:"YTD Total",gross:_.gross+B.gross,nis:_.nis+B.nis,nht:_.nht+B.nht,paye:_.paye+B.paye,edTax:_.edTax+B.edTax,net:_.net+B.net}),{period:"YTD Total",gross:0,nis:0,nht:0,paye:0,edTax:0,net:0});L.length>0?g([...A,S]):(g([]),alert(`No payroll records found for ${l.year}`))}}catch(D){console.error(D),alert("Failed to generate report")}finally{h(!1)}},f=D=>{x(D),n(L=>({...L,employee:`${D.firstName} ${D.lastName}`})),v("")},j=()=>{if(p.length===0)return;const L=[["Period","Gross Pay","NIS","NHT","PAYE","Ed Tax","Net Pay"].join(","),...p.map(E=>[E.period,E.gross.toFixed(2),E.nis.toFixed(2),E.nht.toFixed(2),E.paye.toFixed(2),E.edTax.toFixed(2),E.net.toFixed(2)].join(","))].join(`
`),A=new Blob([L],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(A),_=document.createElement("a");let B=`ytd_${l.year}`;u&&(B+=`_${u.lastName}`),_.setAttribute("href",S),_.setAttribute("download",`${B}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)},C=D=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(D),w=o.filter(D=>D.firstName.toLowerCase().includes(N.toLowerCase())||D.lastName.toLowerCase().includes(N.toLowerCase())||D.employeeId.toLowerCase().includes(N.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[b&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-900",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter",children:"YTD Performance Matrix"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:j,className:"px-4 py-1.5 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(He,{size:14}),"Export"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-1.5 bg-white border border-gray-400 text-green-700 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(_e,{size:14}),"Print"]})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white border border-gray-400 p-4 shadow-md no-print h-fit",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 border-b pb-1",children:"Aggregation Parameters"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase",children:"Select Employee"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-2 top-2 text-gray-300",size:12}),e.jsx("input",{type:"text",placeholder:"Search ID/Name...",className:"w-full pl-7 p-2 border border-blue-200 bg-blue-50 font-bold outline-none uppercase text-[10px]",value:N,onChange:D=>v(D.target.value)}),N&&e.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-lg max-h-48 overflow-y-auto z-10",children:w.map(D=>e.jsxs("div",{onClick:()=>f(D),className:"p-2 hover:bg-blue-100 cursor-pointer border-b border-gray-50",children:[e.jsxs("div",{className:"font-bold uppercase text-[10px]",children:[D.firstName," ",D.lastName]}),e.jsx("div",{className:"text-[9px] text-gray-400",children:D.employeeId})]},D.id))})]}),u&&e.jsxs("div",{className:"mt-2 text-blue-800 font-black uppercase text-[10px] border l-2 border-blue-500 pl-2",children:["Active: ",u.firstName," ",u.lastName]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase",children:"Fiscal Year"}),e.jsx("input",{type:"text",value:l.year,onChange:D=>n({...l,year:D.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]}),e.jsx("button",{onClick:k,className:"bg-blue-900 text-white font-black uppercase text-[10px] py-2 hover:bg-blue-800",children:"Generate Matrix"})]})]}),e.jsx("div",{className:"lg:col-span-3 bg-white border border-gray-400 shadow-2xl p-10 print:shadow-none print:border-none min-h-[600px]",children:p.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10 text-center border-b-4 border-double border-blue-900 pb-6",children:[e.jsx("h2",{className:"text-3xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Year-to-Date Financial Breakdown"}),e.jsxs("div",{className:"flex justify-center gap-8 mt-4",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Employee Segment"}),e.jsx("p",{className:"text-xs font-black text-gray-800 uppercase italic",children:u?`${u.firstName} ${u.lastName}`:"N/A"}),e.jsx("p",{className:"text-[9px] text-gray-400",children:u?.employeeId})]}),e.jsxs("div",{className:"text-left border-l border-gray-200 pl-8",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Analysis Period"}),e.jsxs("p",{className:"text-xs font-black text-gray-800 uppercase italic",children:["FY ",l.year]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#D4D0C8] text-gray-700 text-[10px] font-black uppercase tracking-[0.15em] border-2 border-gray-400",children:[e.jsx("th",{className:"border-r border-gray-400 p-4 text-left",children:"Internal Period"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"Gross Earnings"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"NIS"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"NHT"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"PAYE"}),e.jsx("th",{className:"border-r border-gray-400 p-4 text-right",children:"Ed-Tax"}),e.jsx("th",{className:"p-4 text-right",children:"Net Liquidity"})]})}),e.jsx("tbody",{className:"text-[12px] font-bold text-gray-700",children:p.map((D,L)=>e.jsxs("tr",{className:D.period==="YTD Total"?"bg-blue-900 text-white font-black":L%2===0?"bg-blue-50/50":"bg-white",children:[e.jsx("td",{className:"p-4 border-r border-gray-100 uppercase tracking-tight",children:D.period}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono",children:C(D.gross)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:C(D.nis)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:C(D.nht)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:C(D.paye)}),e.jsx("td",{className:"p-4 border-r border-gray-100 text-right font-mono opacity-80",children:C(D.edTax)}),e.jsx("td",{className:"p-4 text-right font-mono text-lg tracking-tighter",children:C(D.net)})]},L))})]})})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12 text-gray-400",children:[e.jsx(Ne,{size:48,className:"mb-4 opacity-30"}),e.jsx("h3",{className:"text-xl font-black uppercase italic tracking-widest",children:"Awaiting Generation Protocol"}),e.jsx("p",{className:"text-xs mt-2",children:"Select an employee target from the sidebar to initialize the YTD Matrix."})]})})]})})]})},H2=()=>{const l=xe(),[n,o]=m.useState({department:"",year:new Date().getFullYear().toString(),tenureRange:"All"}),[i,u]=m.useState(!1),[x,p]=m.useState([]),[g,b]=m.useState({total:0,retained:0,avgTenure:0}),[h]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[N,v]=m.useState([]);m.useEffect(()=>{(async()=>{if(h.id){const D=await X.fetchDepartments(h.id);D.success&&v(D.data)}})()},[h.id]),m.useEffect(()=>{(async()=>{if(h.id){u(!0);try{const D=await X.fetchEmployees(h.id),L=await X.fetchRedundancies({companyId:h.id,status:"COMPLETED"});D.success&&L.success&&k(D.data,L.data)}catch(D){console.error(D)}finally{u(!1)}}})()},[h.id,n.year]);const k=(w,D)=>{const L=new Date(`${n.year}-01-01`),A=new Date(`${n.year}-12-31`),S={},_=T=>T?.name||"Unassigned";w.forEach(T=>{const q=T.joinDate?new Date(T.joinDate):null;if(q&&q<L){const ce=_(T.department);S[ce]||(S[ce]={total:0,retained:0,tenureSum:0,tenureCount:0}),S[ce].total+=1,S[ce].retained+=1;const I=new Date-q;S[ce].tenureSum+=I,S[ce].tenureCount+=1}}),D.forEach(T=>{const q=new Date(T.effectiveDate),ce=T.employee?.joinDate?new Date(T.employee.joinDate):null;if(q>=L&&q<=A&&ce&&ce<L){const I=_(T.employee?.department);S[I]||(S[I]={total:0,retained:0,tenureSum:0,tenureCount:0}),S[I].total+=1}});const B=Object.keys(S).map(T=>{const q=S[T],ce=q.total>0?q.retained/q.total*100:0,I=q.tenureCount>0?q.tenureSum/q.tenureCount/(1e3*60*60*24*365.25):0;return{department:T,totalEmployees:q.total,retained:q.retained,retentionRate:ce.toFixed(1)+"%",avgTenure:I.toFixed(1)+" years"}});p(B);const E=B.reduce((T,q)=>T+q.totalEmployees,0),R=B.reduce((T,q)=>T+q.retained,0);let O=0,F=0;Object.values(S).forEach(T=>{O+=T.tenureSum,F+=T.tenureCount});const M=F>0?(O/F/(1e3*60*60*24*365.25)).toFixed(1):"0.0",$=E>0?(R/E*100).toFixed(1)+"%":"0.0%";b({total:E,retained:R,retentionRate:$,avgTenure:M+" Years"})},f=x.filter(w=>!n.department||w.department===n.department),j=()=>{const D=[["Department","Start Count","Retained","Retention Rate","Avg Tenure"].join(","),...f.map(_=>[_.department,_.totalEmployees,_.retained,_.retentionRate,_.avgTenure].join(","))].join(`
`),L=new Blob([D],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(L),S=document.createElement("a");S.setAttribute("href",A),S.setAttribute("download",`retention_report_${n.year}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},C=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[i&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-20 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter italic",children:"Retention Analysis Register"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:j,className:"px-4 py-1.5 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(He,{size:14}),"Export"]}),e.jsxs("button",{onClick:C,className:"px-4 py-1.5 bg-white border border-gray-400 text-green-700 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-2",children:[e.jsx(_e,{size:14}),"Print"]})]})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-4 mb-6 shadow-md no-print",children:[e.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 border-b pb-1",children:"Report Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Target Department"}),e.jsxs("select",{value:n.department,onChange:w=>o({...n,department:w.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"",children:"ALL DEPARTMENTS"}),N.map(w=>e.jsx("option",{value:w.name,children:w.name.toUpperCase()},w.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Reference Year"}),e.jsx("input",{type:"text",value:n.year,onChange:w=>o({...n,year:w.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none focus:border-blue-500 transition-colors"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 shadow-2xl p-10 max-w-5xl mx-auto print:shadow-none print:border-none mb-10",children:[e.jsxs("div",{className:"mb-8 text-center border-b-2 border-blue-900 pb-4",children:[e.jsx("h2",{className:"text-2xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Corporate Employee Retention Report"}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["FISCAL YEAR: ",n.year]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"STATUS: FINALIZED"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#D4D0C8] text-gray-700 text-[10px] font-black uppercase tracking-widest border-2 border-gray-400",children:[e.jsx("th",{className:"border-r border-gray-400 p-3 text-left",children:"Department"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-right",children:"Count (Start)"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-right",children:"Retained"}),e.jsx("th",{className:"border-r border-gray-400 p-3 text-right",children:"Retention %"}),e.jsx("th",{className:"p-3 text-right",children:"Avg Tenure"})]})}),e.jsx("tbody",{className:"text-[11px] font-bold text-gray-700",children:f.length>0?f.map((w,D)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"p-3 border-r border-gray-100 uppercase tracking-tight",children:w.department}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-right font-mono",children:w.totalEmployees}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-right font-mono text-green-700",children:w.retained}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-right font-black",children:w.retentionRate}),e.jsx("td",{className:"p-3 text-right text-gray-500 italic",children:w.avgTenure})]},D)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-10 text-center text-gray-400 italic font-black uppercase",children:"No records found for parameters"})})}),e.jsx("tfoot",{className:"bg-blue-900 text-white border-2 border-blue-950",children:e.jsxs("tr",{className:"font-black uppercase italic tracking-widest",children:[e.jsx("td",{className:"p-3 border-r border-blue-800",children:"TOTAL AGGREGATE"}),e.jsx("td",{className:"p-3 border-r border-blue-800 text-right",children:g.total}),e.jsx("td",{className:"p-3 border-r border-blue-800 text-right",children:g.retained}),e.jsx("td",{className:"p-3 border-r border-blue-800 text-right",children:g.retentionRate}),e.jsx("td",{className:"p-3 text-right",children:g.avgTenure})]})})]})})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-4 no-print pb-10",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-8 py-2 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close Register"})]})})]})]})},$2=()=>{const l=xe(),[n,o]=m.useState(null),[i,u]=m.useState(!1),[x,p]=m.useState({autoIndex:!0,highFidelity:!1,legacySupport:!0,optimization:"Aggressive Memory Cache"}),[g,b]=m.useState({dateFrom:"",dateTo:"",department:"All Departments",format:"PDF"}),[h,N]=m.useState(!1),[v,k]=m.useState(null),f=[{id:"CR001",name:"Payroll Summary Report",category:"Payroll",template:"PayrollSummary.rpt"},{id:"CR002",name:"Employee Master List",category:"HR",template:"EmployeeMaster.rpt"},{id:"CR003",name:"Statutory Returns",category:"Compliance",template:"StatutoryReturns.rpt"},{id:"CR004",name:"Bank Transfer Advice",category:"Banking",template:"BankAdvice.rpt"},{id:"CR005",name:"P24 - Year End Certificate",category:"Compliance",template:"P24Report.rpt"},{id:"CR006",name:"P45 - Termination Certificate",category:"Compliance",template:"P45Report.rpt"},{id:"CR007",name:"NHT Contribution Report",category:"Compliance",template:"NHTReport.rpt"},{id:"CR008",name:"NIS Contribution Report",category:"Compliance",template:"NISReport.rpt"},{id:"CR009",name:"Department Analysis",category:"Analytics",template:"DeptAnalysis.rpt"}],j=()=>{if(!n)return;N(!0);const A={CR001:"/reports/payroll-summary",CR002:"/reports/employee",CR003:"/statutory/s01",CR004:"/reports/bank-transfer-advice",CR005:"/reports/p24",CR006:"/reports/p45",CR007:"/reports/nht",CR008:"/reports/nis",CR009:"/reports/salary"}[n.id];A?setTimeout(()=>{N(!1);let S="2026",_="3";if(g.dateFrom){const B=new Date(g.dateFrom);S=B.getFullYear().toString(),_=(B.getMonth()+1).toString()}l(A,{state:{filterOptions:{ofYear:S,payPeriod:_,department:g.department==="All Departments"?"":g.department},selectedYear:S,payPeriod:_}})},1e3):(N(!1),alert("SYSTEM ERROR: Report Definition not found in route registry."))},C=()=>{if(!v){alert("ACTION REQUIRED: Please generate the report before exporting.");return}alert(`INFO: Exporting ${n.name} as ${g.format}...`)},w=L=>{p(A=>({...A,[L]:!A[L]}))},D=()=>{alert("SYSTEM: Engine configuration updated and committed to registry."),u(!1)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[i&&e.jsx("div",{className:"absolute inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-[#D4D0C8] border-2 border-white shadow-2xl w-full max-w-md animate-in zoom-in-95",children:[e.jsxs("div",{className:"bg-[#316AC5] text-white p-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{size:14}),e.jsx("span",{className:"font-bold text-[10px] uppercase tracking-widest italic",children:"V8 Engine Configuration Matrix"})]}),e.jsx("button",{onClick:()=>u(!1),className:"px-2 hover:bg-red-600 transition-colors font-bold uppercase",children:"X"})]}),e.jsxs("div",{className:"p-6 bg-[#EBE9D8] space-y-4",children:[e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm",children:[e.jsx("h4",{className:"font-black text-[9px] text-gray-500 uppercase tracking-widest mb-4 border-b pb-1",children:"Global Engine Defaults"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"Auto-Index on Startup"}),e.jsx("button",{onClick:()=>w("autoIndex"),className:`w-12 h-6 border border-gray-400 p-0.5 flex transition-colors ${x.autoIndex?"bg-green-600 justify-end":"bg-gray-400 justify-start"}`,children:e.jsx("div",{className:"w-5 h-full bg-white shadow-md border border-gray-200"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"High-Fidelity Rendering"}),e.jsx("button",{onClick:()=>w("highFidelity"),className:`w-12 h-6 border border-gray-400 p-0.5 flex transition-colors ${x.highFidelity?"bg-green-600 justify-end":"bg-gray-400 justify-start"}`,children:e.jsx("div",{className:"w-5 h-full bg-white shadow-md border border-gray-200"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700",children:"Enable Legacy Support"}),e.jsx("button",{onClick:()=>w("legacySupport"),className:`w-12 h-6 border border-gray-400 p-0.5 flex transition-colors ${x.legacySupport?"bg-green-600 justify-end":"bg-gray-400 justify-start"}`,children:e.jsx("div",{className:"w-5 h-full bg-white shadow-md border border-gray-200"})})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm",children:[e.jsx("h4",{className:"font-black text-[9px] text-gray-500 uppercase tracking-widest mb-4 border-b pb-1",children:"Optimization Layer"}),e.jsxs("select",{value:x.optimization,onChange:L=>p({...x,optimization:L.target.value}),className:"w-full p-2 border-2 border-gray-200 bg-gray-50 text-[11px] font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors",children:[e.jsx("option",{children:"Aggressive Memory Cache"}),e.jsx("option",{children:"Balanced Performance (Default)"}),e.jsx("option",{children:"Low Resource Profile"})]})]})]}),e.jsx("div",{className:"bg-[#D4D0C8] p-3 flex justify-end gap-2 border-t border-gray-400",children:e.jsx("button",{onClick:D,className:"px-10 py-2 bg-white border-2 border-gray-500 text-[11px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-md italic",children:"Commit Changes"})})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter italic",children:"V8 Engine Report Builder"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-1 bg-white border border-gray-400 text-blue-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 group",children:[e.jsx(la,{size:12,className:"group-hover:rotate-90 transition-transform duration-500"}),"Engine Config"]})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex gap-6 h-full",children:[e.jsxs("div",{className:"w-96 bg-white border border-gray-400 shadow-xl flex flex-col",children:[e.jsx("div",{className:"bg-[#316AC5] p-3 border-b border-gray-600",children:e.jsx("h3",{className:"font-black text-white uppercase text-[11px] tracking-widest italic",children:"Report Catalog"})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-1",children:f.map(L=>e.jsxs("button",{onClick:()=>o(L),className:`w-full text-left p-3 border border-transparent mb-1 transition-all group ${n?.id===L.id?"bg-blue-100 border-blue-400 shadow-sm":"hover:bg-white hover:border-gray-300"}`,children:[e.jsx("div",{className:`font-black text-[11px] uppercase tracking-tighter ${n?.id===L.id?"text-blue-900":"text-gray-700"}`,children:L.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 bg-gray-200 text-gray-600 font-bold rounded uppercase",children:L.category}),e.jsx("span",{className:"text-[9px] text-gray-400 font-mono",children:L.template})]})]},L.id))})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-400 shadow-2xl p-8 flex flex-col overflow-y-auto relative",children:[h&&e.jsxs("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-[2px] z-50 flex items-center justify-center flex-col gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-900 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-black text-blue-900 uppercase tracking-[0.3em] text-[10px] italic animate-pulse",children:"Initializing Reporting Engine..."})]}),n?e.jsxs("div",{className:"max-w-3xl mx-auto w-full",children:[e.jsxs("div",{className:"mb-8 border-b-4 border-double border-blue-900 pb-6 text-center",children:[e.jsx("h2",{className:"text-3xl font-black text-blue-900 uppercase tracking-tighter italic",children:n.name}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["ID: ",n.id]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"|"}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["TEMPLATE: ",n.template]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 border-2 border-gray-200 shadow-inner mb-8",children:[e.jsx("h3",{className:"font-black text-[10px] text-blue-800 uppercase tracking-[0.2em] mb-6 border-b pb-2 italic",children:"Runtime Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Start Period"}),e.jsx("input",{type:"date",value:g.dateFrom,onChange:L=>b({...g,dateFrom:L.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"End Period"}),e.jsx("input",{type:"date",value:g.dateTo,onChange:L=>b({...g,dateTo:L.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Department Filter"}),e.jsxs("select",{value:g.department,onChange:L=>b({...g,department:L.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm cursor-pointer",children:[e.jsx("option",{children:"All Departments"}),e.jsx("option",{children:"IT"}),e.jsx("option",{children:"HR"}),e.jsx("option",{children:"Finance"}),e.jsx("option",{children:"Sales"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Output Protocol"}),e.jsxs("select",{value:g.format,onChange:L=>b({...g,format:L.target.value}),className:"w-full p-2.5 border border-gray-300 bg-white font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-sm cursor-pointer",children:[e.jsx("option",{children:"PDF (Static Document)"}),e.jsx("option",{children:"EXCEL (Spreadsheet Matrix)"}),e.jsx("option",{children:"WORD (Rich Text)"}),e.jsx("option",{children:"RTF (Cross-Platform)"})]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-12",children:[e.jsxs("button",{onClick:j,className:"flex items-center gap-3 px-8 py-3 bg-green-700 text-white font-black text-[11px] uppercase tracking-widest hover:bg-green-800 active:translate-y-0.5 transition-all shadow-lg italic",children:[e.jsx(_e,{size:18}),"Generate Matrix"]}),e.jsxs("button",{onClick:C,className:"flex items-center gap-3 px-8 py-3 bg-[#316AC5] text-white font-black text-[11px] uppercase tracking-widest hover:bg-blue-800 active:translate-y-0.5 transition-all shadow-lg italic",children:[e.jsx(He,{size:18}),"Export Data"]})]}),v&&e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-900 p-6 animate-in fade-in slide-in-from-top-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-900 text-white rounded shadow-md",children:e.jsx(Ne,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-black text-blue-900 uppercase text-sm italic tracking-tight",children:"Active Generation Buffer"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Report Instance"}),e.jsx("p",{className:"text-xs font-bold text-gray-800",children:v.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Timestamp"}),e.jsx("p",{className:"text-xs font-bold text-gray-800",children:v.timestamp})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:"Parameters Applied"}),e.jsxs("p",{className:"text-xs font-bold text-gray-800 italic",children:[v.params.department,"  ",v.params.format]})]})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{size:80,className:"mx-auto mb-6 opacity-20"}),e.jsx("p",{className:"font-black uppercase tracking-[0.4em] text-lg italic opacity-50",children:"Select Report Definition"}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase",children:"Awaiting instruction from Available Reports list..."})]})}),e.jsx("div",{className:"mt-auto pt-12 flex justify-end",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-3 px-10 py-2.5 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(Ee,{size:16,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close Reporting Engine"})]})})]})]})})]})},q2=()=>{const l=xe(),n=_t(),[o,i]=m.useState({bank:"",payPeriod:n.state?.filterOptions?.payPeriod||n.state?.payPeriod||"3",ofYear:n.state?.filterOptions?.ofYear||n.state?.selectedYear||"2026",batchRef:""}),[u,x]=m.useState([]),[p,g]=m.useState(!1);bt.useEffect(()=>{(async()=>{g(!0);try{const C=localStorage.getItem("selectedCompany"),w=C?JSON.parse(C):null;if(w){const D=await X.fetchPayrolls({companyId:w.id,period:b(o.payPeriod,o.ofYear)});if(D.success){const L=D.data.filter(A=>A.employee&&A.netSalary>0).map(A=>({employeeId:A.employee.employeeId,name:`${A.employee.firstName} ${A.employee.lastName}`,accountNo:A.employee.bankAccount||"MISSING",amount:parseFloat(A.netSalary),bank:A.employee.bankName||"NOT SPECIFIED",status:A.status==="Finalized"||A.status==="Sent"?"Processed":"Pending",paymentMethod:A.employee.paymentMethod}));x(L)}}}catch(C){console.error("Failed to load bank transfer data",C)}finally{g(!1)}})()},[o.payPeriod,o.ofYear]);const b=(j,C)=>{const w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D=parseInt(j)-1;return`${w[D]||"Jan"}-${C}`},h=u.filter(j=>!(o.bank&&j.bank!==o.bank||j.paymentMethod&&j.paymentMethod!=="Bank Transfer")),N=h.reduce((j,C)=>j+C.amount,0),v=()=>{if(h.length===0){alert("ACTION REQUIRED: No data available to transmit.");return}alert(`INFO: Securely transmitting advice for ${h.length} records to ${o.bank||"All Banks"}...`)},k=()=>{if(h.length===0){alert("INFO: Buffer empty. Nothing to export.");return}const C=[["Employee ID","Name","Account Number","Bank","Amount","Status"].join(","),...h.map(A=>[A.employeeId,A.name,`"${A.accountNo}"`,A.bank,A.amount.toFixed(2),A.status].join(","))].join(`
`),w=new Blob([C],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),L=URL.createObjectURL(w);D.setAttribute("href",L),D.setAttribute("download",`bank_transfer_${o.bank||"all"}_${o.payPeriod}_${o.ofYear}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},f=()=>{window.print()};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between no-print shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"text-blue-900",size:16}),e.jsx("span",{className:"font-black text-gray-700 uppercase tracking-tighter italic",children:"Bank Transfer Register Matrix"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:v,className:"px-4 py-1.5 bg-[#316AC5] text-white text-[10px] font-black uppercase tracking-widest hover:bg-blue-800 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 italic",children:[e.jsx(Ha,{size:12}),"Transmit Advice"]}),e.jsxs("button",{onClick:k,className:"px-4 py-1.5 bg-green-700 text-white text-[10px] font-black uppercase tracking-widest hover:bg-green-800 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 italic",children:[e.jsx(He,{size:12}),"Export Buffer"]}),e.jsxs("button",{onClick:f,className:"px-4 py-1.5 bg-white border border-gray-400 text-gray-800 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm flex items-center gap-1 italic",children:[e.jsx(_e,{size:12}),"Hard Copy"]})]})]}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-300 p-6 shadow-xl no-print",children:[e.jsx("h3",{className:"font-black text-[10px] text-blue-800 uppercase tracking-[0.2em] mb-4 border-b pb-2 italic",children:"Runtime Parameters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Bank Institution"}),e.jsxs("select",{value:o.bank,onChange:j=>i({...o,bank:j.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner",children:[e.jsx("option",{value:"",children:"All Institutions"}),e.jsx("option",{value:"BNS",children:"Bank of Nova Scotia"}),e.jsx("option",{value:"NCB",children:"National Commercial Bank"}),e.jsx("option",{value:"JN Bank",children:"JN Bank"}),e.jsx("option",{value:"JMMB",children:"JMMB"}),e.jsx("option",{value:"Sagicor",children:"Sagicor Bank"}),e.jsx("option",{value:"CitiBank",children:"CitiBank"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Tax Year"}),e.jsx("input",{type:"text",value:o.ofYear,onChange:j=>i({...o,ofYear:j.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Pay Cycle"}),e.jsxs("select",{value:o.payPeriod,onChange:j=>i({...o,payPeriod:j.target.value}),className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner",children:[e.jsx("option",{value:"1",children:"Period 1"}),e.jsx("option",{value:"2",children:"Period 2"}),e.jsx("option",{value:"3",children:"Period 3"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-tighter",children:"Batch Trace ID"}),e.jsx("input",{type:"text",value:o.batchRef,onChange:j=>i({...o,batchRef:j.target.value}),placeholder:"SALARY-MATRIX-001",className:"w-full p-2 border border-gray-300 bg-gray-50 font-bold text-blue-900 outline-none focus:border-blue-500 transition-colors shadow-inner"})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-300 shadow-2xl p-8 min-h-[600px] flex flex-col print:shadow-none print:border-none",children:[e.jsxs("div",{className:"mb-10 text-center border-b-4 border-double border-blue-900 pb-6",children:[e.jsx("h2",{className:"text-3xl font-black text-blue-900 uppercase tracking-tighter italic",children:"Bank Transfer Advice"}),e.jsxs("div",{className:"flex justify-center gap-6 mt-3 font-bold text-[10px] text-gray-500 uppercase tracking-widest",children:[e.jsxs("span",{children:["CYCLE: ",o.payPeriod]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["TAX YEAR: ",o.ofYear]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["INSTITUTION: ",o.bank||"CONSOLIDATED"]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-y-2 border-gray-800",children:[e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Employee ID"}),e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Personnel Name"}),e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Account Matrix"}),e.jsx("th",{className:"p-3 text-left font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Bank Code"}),e.jsx("th",{className:"p-3 text-right font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Net Disbursement"}),e.jsx("th",{className:"p-3 text-center font-black uppercase text-[10px] tracking-wider text-gray-600",children:"Transmission Status"})]})}),e.jsx("tbody",{className:"divide-y border-b border-gray-800",children:h.length>0?h.map((j,C)=>e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx("td",{className:"p-3 font-bold text-blue-900",children:j.employeeId}),e.jsx("td",{className:"p-3 font-bold uppercase",children:j.name}),e.jsx("td",{className:"p-3 font-mono text-gray-600",children:j.accountNo}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"px-2 py-0.5 bg-gray-200 rounded font-black text-[9px] uppercase",children:j.bank})}),e.jsxs("td",{className:"p-3 text-right font-black text-blue-900",children:["$",j.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-sm text-[9px] font-black uppercase tracking-tighter ${j.status==="Processed"?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:j.status})})]},C)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-400 italic font-bold",children:"No disbursement data matching current parameters"})})})]})}),e.jsx("div",{className:"mt-8 border-t-4 border-blue-900 pt-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-8 font-black uppercase italic",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] text-gray-500",children:"Transmission Integrity Hash"}),e.jsxs("p",{className:"text-xs font-mono text-gray-400 uppercase tracking-widest",children:[o.batchRef||"NO-REF-SPECIFIED","",Date.now()]})]}),e.jsx("div",{className:"text-right flex flex-col items-end",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 text-sm border-b-2 border-gray-200 pb-2 w-full max-w-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Record Count:"}),e.jsx("span",{children:h.length}),e.jsx("span",{className:"text-blue-900 text-lg",children:"Batch Total:"}),e.jsxs("span",{className:"text-blue-900 text-lg underline decoration-double underline-offset-4",children:["$",N.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})})]}),e.jsx("div",{className:"mt-auto pt-8 flex justify-end no-print",children:e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-3 px-10 py-2.5 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-md active:translate-y-0.5 group uppercase italic",children:[e.jsx(Ee,{size:16,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close Register"})]})})]})]})},Mm=()=>{const l=xe(),[n,o]=m.useState([]),[i,u]=m.useState(null),[x,p]=m.useState([]),[g,b]=m.useState(!1),[h,N]=m.useState(""),[v,k]=m.useState(new Date().getFullYear().toString()),[f,j]=m.useState(null);m.useEffect(()=>{(async()=>{const _=localStorage.getItem("selectedCompany"),B=_?JSON.parse(_):null;if(j(B),B){const E=await X.fetchEmployees(B.id);E.success&&o(E.data)}})()},[]);const C=async S=>{b(!0);try{const _=await X.fetchPayrolls({employeeId:S.id});_.success&&(p(_.data),u(S))}catch(_){console.error(_)}finally{b(!1)}},w=n.filter(S=>S.firstName.toLowerCase().includes(h.toLowerCase())||S.lastName.toLowerCase().includes(h.toLowerCase())||S.employeeId.toLowerCase().includes(h.toLowerCase())),D=x.filter(S=>S.period.includes(v)),L=D.reduce((S,_)=>({gross:S.gross+parseFloat(_.grossSalary||0),nis:S.nis+parseFloat(_.nis||0),nht:S.nht+parseFloat(_.nht||0),tax:S.tax+parseFloat(_.paye||0),net:S.net+parseFloat(_.netSalary||0),edTax:S.edTax+parseFloat(_.edTax||0)}),{gross:0,nis:0,nht:0,tax:0,net:0,edTax:0}),A=S=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(S||0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[g&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter",children:"P24 Year End Certificate - Jamaica Compliance"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(He,{size:12})," Export PDF"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(_e,{size:12})," Print"]}),e.jsxs("button",{onClick:()=>l(-1),className:"px-3 py-1 bg-gray-600 text-white text-[10px] font-bold flex items-center gap-1",children:[e.jsx(Ee,{size:12})," Exit"]})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white border border-gray-400 p-3 shadow-inner h-[500px] flex flex-col",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-widest mb-2",children:"Personnel Index"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ke,{className:"absolute left-2 top-2 text-gray-400",size:12}),e.jsx("input",{type:"text",value:h,onChange:S=>N(S.target.value),placeholder:"ID or Name...",className:"w-full pl-8 p-1.5 border border-gray-300 bg-gray-50 text-blue-900 font-bold outline-none"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-100",children:w.map(S=>e.jsxs("div",{onClick:()=>C(S),className:`p-2 border-b border-gray-50 cursor-pointer transition-colors ${i?.id===S.id?"bg-blue-600 text-white":"hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"font-black text-[10px] uppercase truncate",children:[S.firstName," ",S.lastName]}),e.jsx("div",{className:`text-[9px] ${i?.id===S.id?"text-blue-100":"text-gray-400"}`,children:S.employeeId})]},S.id))})]}),e.jsx("div",{className:"lg:col-span-3 bg-white border border-gray-400 shadow-lg p-6 sm:p-12 overflow-y-auto",children:i?e.jsxs("div",{className:"max-w-3xl mx-auto border-4 border-double border-gray-200 p-8 relative",children:[e.jsx("div",{className:"absolute top-4 right-4 text-[8px] font-bold text-gray-300 rotate-12 uppercase border border-gray-200 p-1",children:"Authorized Copy"}),e.jsxs("div",{className:"text-center mb-8 border-b-2 border-blue-900 pb-6",children:[e.jsx(it,{className:"mx-auto text-blue-900 mb-2",size:32}),e.jsx("h1",{className:"text-xl font-black text-blue-900 uppercase tracking-widest",children:"Government of Jamaica"}),e.jsx("h2",{className:"text-lg font-black text-blue-900 uppercase mt-1",children:"Form P24 - Year End Certificate"}),e.jsx("p",{className:"text-[9px] font-bold text-gray-500 mt-1 uppercase tracking-widest",children:"Tax Administration Jamaica"}),e.jsxs("div",{className:"mt-4 bg-blue-900 text-white px-4 py-1 inline-block font-black text-xs",children:["TAX YEAR: ",v]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8 border-b border-dashed border-gray-200 pb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Registered Employer"}),e.jsx("span",{className:"text-[10pt] font-black text-gray-900 uppercase italic",children:f?.name||"SYNCING..."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Company TRN"}),e.jsx("span",{className:"text-[10pt] font-black text-gray-900",children:f?.trn||"000-000-000"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Service Identity"}),e.jsxs("span",{className:"text-[10pt] font-black text-gray-900 uppercase italic",children:[i.firstName," ",i.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[8pt] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Staff Reference"}),e.jsx("span",{className:"text-[10pt] font-black text-gray-900",children:i.employeeId})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-sm font-black text-blue-900 uppercase mb-4 italic tracking-tighter",children:"Aggregate Emoluments & Deductions"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-50 text-blue-900 uppercase tracking-widest",children:[e.jsx("th",{className:"p-3 text-left border-b border-gray-200",children:"Description of Sequence"}),e.jsx("th",{className:"p-3 text-right border-b border-gray-200",children:"Aggregate JMD"})]})}),e.jsxs("tbody",{className:"font-bold tabular-nums",children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsxs("td",{className:"p-3 uppercase",children:["Total Gross Emoluments (",D.length," periods)"]}),e.jsx("td",{className:"p-3 text-right",children:A(L.gross)})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-gray-600 italic",children:[e.jsx("td",{className:"p-3 pl-8 uppercase",children:"NIS Statutory Deduction (3%)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",A(L.nis),")"]})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-gray-600 italic",children:[e.jsx("td",{className:"p-3 pl-8 uppercase",children:"NHT Statutory Deduction (2%)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",A(L.nht),")"]})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-red-700",children:[e.jsx("td",{className:"p-3 uppercase",children:"Income Tax Withheld (PAYE)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",A(L.tax),")"]})]}),e.jsxs("tr",{className:"border-b border-gray-100 text-red-700",children:[e.jsx("td",{className:"p-3 uppercase",children:"Education Tax Withheld (2.25%)"}),e.jsxs("td",{className:"p-3 text-right",children:["(",A(L.edTax),")"]})]}),e.jsxs("tr",{className:"bg-green-50 text-green-900 font-black",children:[e.jsx("td",{className:"p-3 uppercase",children:"Net Emoluments Disbursed"}),e.jsx("td",{className:"p-3 text-right",children:A(L.net)})]})]})]})})]}),e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-200 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ya,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Authorized Certification"})]}),e.jsx("p",{className:"text-[10px] text-gray-600 italic leading-relaxed font-bold",children:"This is to certify that the above mentioned emoluments and deductions have been processed through the official SmartHRM Payroll Engine in compliance with the Tax Administration Act. This certificate is valid for submission for tax return purposes."}),e.jsxs("div",{className:"mt-8 flex justify-between items-end",children:[e.jsxs("div",{className:"text-center w-48",children:[e.jsx("div",{className:"border-b-2 border-gray-900 font-mono italic text-[10px] pb-1 uppercase",children:f?.name}),e.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mt-1 block",children:"Seal of Authority"})]}),e.jsxs("div",{className:"text-right text-[9px] font-black text-gray-400 uppercase italic",children:["Print Date: ",new Date().toLocaleDateString()]})]})]}),e.jsxs("div",{className:"mt-8 text-center text-[8px] text-gray-300 uppercase italic tracking-widest",children:["Serial: ",Math.random().toString(16).substr(2,12).toUpperCase()," | SmartHRM Compliance v4.2"]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12",children:[e.jsx(Ne,{size:48,className:"text-gray-100 mb-4"}),e.jsx("h3",{className:"text-lg font-black text-gray-300 uppercase italic tracking-widest",children:"Awaiting Identity Selection"}),e.jsx("p",{className:"text-gray-400 mt-2 max-w-xs",children:"Please select a staff member from the left index to initialize the P24 Year End Certificate transmission."})]})})]})})]})},_m=()=>{const l=xe(),[n,o]=m.useState([]),[i,u]=m.useState(null),[x,p]=m.useState([]),[g,b]=m.useState(!1),[h,N]=m.useState(""),[v,k]=m.useState(new Date().getFullYear().toString());m.useEffect(()=>{(async()=>{const S=localStorage.getItem("selectedCompany"),_=S?JSON.parse(S):null;if(_){const B=await X.fetchEmployees(_.id);B.success&&o(B.data)}})()},[]);const f=async A=>{b(!0);try{const S=await X.fetchPayrolls({employeeId:A.id});S.success&&(p(S.data),u(A))}catch(S){console.error(S)}finally{b(!1)}},j=n.filter(A=>A.firstName.toLowerCase().includes(h.toLowerCase())||A.lastName.toLowerCase().includes(h.toLowerCase())||A.employeeId.toLowerCase().includes(h.toLowerCase())),C=x.filter(A=>A.period.includes(v)),w=C.reduce((A,S)=>A+parseFloat(S.grossSalary),0),D=C.reduce((A,S)=>A+parseFloat(S.nht||0),0),L=A=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(A||0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[g&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-700 uppercase tracking-tighter",children:"NHT Contribution Ledger - National Housing Trust"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-blue-800",children:[e.jsx(He,{size:12})," Export PDF"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-green-800",children:[e.jsx(_e,{size:12})," Print"]}),e.jsxs("button",{onClick:()=>l(-1),className:"px-3 py-1 bg-gray-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-gray-800",children:[e.jsx(Ee,{size:12})," Exit"]})]})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white border border-gray-400 p-3 shadow-inner h-[500px] flex flex-col",children:[e.jsx("label",{className:"text-gray-500 font-black text-[9px] uppercase tracking-widest mb-2",children:"Registry Search"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ke,{className:"absolute left-2 top-2 text-gray-400",size:12}),e.jsx("input",{type:"text",value:h,onChange:A=>N(A.target.value),placeholder:"ID or Name...",className:"w-full pl-8 p-1.5 border border-gray-300 bg-gray-50 text-blue-900 font-bold focus:ring-1 focus:ring-blue-500 outline-none"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-100 rounded",children:j.map(A=>e.jsxs("div",{onClick:()=>f(A),className:`p-2 border-b border-gray-50 cursor-pointer transition-colors ${i?.id===A.id?"bg-blue-600 text-white":"hover:bg-blue-50"}`,children:[e.jsxs("div",{className:"font-black text-[10px] uppercase truncate",children:[A.firstName," ",A.lastName]}),e.jsx("div",{className:`text-[9px] ${i?.id===A.id?"text-blue-100":"text-gray-400"}`,children:A.employeeId})]},A.id))})]}),e.jsx("div",{className:"lg:col-span-3 bg-white border border-gray-400 shadow-lg p-6 sm:p-12 overflow-y-auto min-h-[800px]",children:i?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 border-b-4 border-green-900 pb-6 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 border-2 border-gray-200 text-gray-300 font-black rotate-12 uppercase italic",children:"DRAFT TRANSMISSION"}),e.jsx("h1",{className:"text-2xl font-black text-green-900 uppercase tracking-widest",children:"National Housing Trust"}),e.jsx("h2",{className:"text-xl font-black text-green-900 uppercase mt-1",children:"Annual Contribution Statement"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 mt-2 uppercase tracking-[0.2em]",children:"Government of Jamaica"}),e.jsxs("div",{className:"mt-4 inline-block bg-green-900 text-white px-6 py-1 font-black text-xs uppercase tracking-widest",children:["Tax Year: ",v]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Employee Identity"}),e.jsxs("span",{className:"text-sm font-black text-gray-900 uppercase italic",children:[i.firstName," ",i.lastName]})]}),e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Internal Reference"}),e.jsx("span",{className:"text-sm font-black text-gray-900",children:i.employeeId})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"NHT Reg. / TRN"}),e.jsx("span",{className:"text-sm font-black text-gray-900",children:i.trn||"PENDING SYNC"})]}),e.jsxs("div",{className:"border-l-4 border-green-900 pl-4",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"NIS Serial Number"}),e.jsx("span",{className:"text-sm font-black text-gray-900",children:i.nisNumber||"NOT RECORDED"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-6 mb-8 grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Periods Processed"}),e.jsx("span",{className:"text-xl font-black text-blue-900",children:C.length})]}),e.jsxs("div",{className:"text-center border-x border-blue-100",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Total Gross Earnings"}),e.jsx("span",{className:"text-xl font-black text-gray-900",children:L(w)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"NHT Contribution (2%)"}),e.jsx("span",{className:"text-xl font-black text-green-700",children:L(D)})]})]}),e.jsx("div",{className:"border border-gray-300",children:e.jsxs("table",{className:"w-full text-[10px]",children:[e.jsx("thead",{className:"bg-green-900 text-white uppercase tracking-widest italic",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Sequence"}),e.jsx("th",{className:"p-3 text-left",children:"Internal Period"}),e.jsx("th",{className:"p-3 text-right",children:"Gross Emoluments"}),e.jsx("th",{className:"p-3 text-right",children:"NHT Ded. (2%)"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:C.length>0?C.map((A,S)=>e.jsxs("tr",{className:"hover:bg-green-50/50",children:[e.jsx("td",{className:"p-3 font-bold text-gray-400",children:S+1}),e.jsx("td",{className:"p-3 font-black text-gray-800 uppercase",children:A.period}),e.jsx("td",{className:"p-3 text-right font-mono",children:L(A.grossSalary)}),e.jsx("td",{className:"p-3 text-right font-black text-green-700 font-mono",children:L(parseFloat(A.nht||0))})]},A.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"4",className:"p-12 text-center text-gray-400 font-black uppercase italic tracking-widest",children:["No payroll sequences discovered for year ",v]})})}),C.length>0&&e.jsx("tfoot",{className:"bg-green-900 text-white font-black uppercase text-[11px]",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"2",className:"p-3 text-right",children:"Annual Aggregates"}),e.jsx("td",{className:"p-3 text-right",children:L(w)}),e.jsx("td",{className:"p-3 text-right",children:L(D)})]})})]})}),e.jsxs("div",{className:"mt-8 border-t-2 border-dashed border-gray-200 pt-8 flex justify-between items-center text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[e.jsxs("span",{children:["Generation ID: ",Math.random().toString(16).substr(2,12).toUpperCase()]}),e.jsx("span",{className:"italic",children:"Authorized System Transmission"})]})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-12",children:[e.jsx(Ne,{size:48,className:"text-gray-200 mb-4"}),e.jsx("h3",{className:"text-lg font-black text-gray-300 uppercase italic tracking-widest",children:"Awaiting Identity Selection"}),e.jsx("p",{className:"text-gray-400 mt-2 max-w-sm",children:"Please choose a staff member from the registry on the left to initialize the NHT contribution audit sequence."})]})})]})})]})},G2=()=>{const[l,n]=m.useState([]),[o,i]=m.useState(!1),[u,x]=m.useState({}),[p,g]=m.useState(new Date);m.useEffect(()=>{const f=localStorage.getItem("selectedCompany");if(f){const j=JSON.parse(f);x(j)}},[]);const b=async()=>{if(u.id){i(!0);try{const f=p.toLocaleString("default",{month:"short",year:"numeric"}),j=await X.fetchPayrolls({companyId:u.id,period:f});j.success?n(j.data):n([])}catch(f){console.error(f),n([])}finally{i(!1)}}};m.useEffect(()=>{b()},[u.id,p]);const h=f=>new Intl.NumberFormat("en-JM",{style:"currency",currency:"JMD"}).format(f||0),N=l.reduce((f,j)=>f+parseFloat(j.nis||0),0),v=N,k=N+v;return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans relative",children:[o&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-10 flex items-center justify-center",children:e.jsx(ge,{className:"animate-spin text-blue-600",size:32})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Ne,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"National Insurance Scheme (NIS) Report"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-400 px-2 py-1 rounded-sm shadow-sm",children:[e.jsx(ha,{size:12,className:"text-gray-500"}),e.jsx("input",{type:"month",className:"text-xs font-bold text-gray-700 outline-none bg-transparent uppercase",value:p.toISOString().slice(0,7),onChange:f=>g(new Date(f.target.value))})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-1 bg-white border border-gray-400 px-2 py-1 rounded-sm text-xs font-bold shadow-sm hover:bg-gray-50",children:[e.jsx(Hr,{size:12})," Refresh"]}),e.jsxs("button",{className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-blue-700 shadow-sm border border-blue-800",children:[e.jsx(He,{size:12})," Export"]})]})]}),e.jsx("div",{className:"p-4 flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm min-h-[400px]",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4 border-b pb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-800 uppercase italic",children:"Monthly Remittance - NIS"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["Period: ",p.toLocaleString("default",{month:"long",year:"numeric"})]}),e.jsx("p",{className:"text-[10px] font-bold text-blue-700 uppercase",children:u?.name||"ALL BRANCHES"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Total Remittance"}),e.jsx("div",{className:"text-lg font-black text-blue-800",children:h(k)})]})]}),e.jsxs("table",{className:"w-full text-[10px] text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-300",children:e.jsxs("tr",{className:"uppercase tracking-widest text-gray-400 font-bold",children:[e.jsx("th",{className:"p-2",children:"NIS Number"}),e.jsx("th",{className:"p-2",children:"Employee Name"}),e.jsx("th",{className:"p-2 text-right",children:"Gross Earnings"}),e.jsx("th",{className:"p-2 text-right",children:"Employee (3%)"}),e.jsx("th",{className:"p-2 text-right",children:"Employer (3%)"}),e.jsx("th",{className:"p-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:l.length>0?l.map(f=>{const j=parseFloat(f.nis||0);return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"p-2 font-black text-gray-600",children:f.employee?.nisNumber||"N/A"}),e.jsxs("td",{className:"p-2 font-black text-gray-800 uppercase italic",children:[f.employee?.firstName," ",f.employee?.lastName]}),e.jsx("td",{className:"p-2 text-right font-mono",children:h(f.grossSalary)}),e.jsx("td",{className:"p-2 text-right font-mono text-red-700",children:h(j)}),e.jsx("td",{className:"p-2 text-right font-mono text-blue-700",children:h(j)}),e.jsx("td",{className:"p-2 text-right font-black text-gray-900",children:h(j*2)})]},f.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"p-8 text-center text-gray-400 italic font-bold uppercase tracking-widest",children:["No payroll records found for ",p.toLocaleString("default",{month:"short",year:"numeric"}),"."]})})}),e.jsx("tfoot",{className:"bg-gray-50 font-black border-t-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"3",className:"p-2 text-right uppercase tracking-widest text-gray-500",children:"Aggregates"}),e.jsx("td",{className:"p-2 text-right text-red-700",children:h(N)}),e.jsx("td",{className:"p-2 text-right text-blue-700",children:h(v)}),e.jsx("td",{className:"p-2 text-right text-black",children:h(k)})]})})]})]})})]})},Y2=()=>{console.log("AdminDashboard: Rendering...");const l=xe(),[n,o]=m.useState([{label:"System Status",value:"...",sub:"Loading..."},{label:"Active Users",value:"...",sub:"Loading..."},{label:"Employees",value:"...",sub:"Loading..."},{label:"Database Health",value:"...",sub:"Loading..."},{label:"Processing Output",value:"...",sub:"Loading..."},{label:"Audit Logs",value:"...",sub:"Loading..."}]),[i,u]=m.useState([]),[x,p]=m.useState(!0),[g,b]=m.useState({});m.useEffect(()=>{console.log("AdminDashboard: Component Mounted. API:",X);let k;try{const j=localStorage.getItem("selectedCompany");if(j){const C=JSON.parse(j);k=C?.id,b(C),console.log("AdminDashboard: Selected Company ID:",k)}}catch(j){console.error("AdminDashboard: Error parsing selectedCompany from localStorage",j)}(async()=>{console.log("AdminDashboard: Fetching data...");try{if(!X||typeof X.fetchAdminStats!="function"){console.error("AdminDashboard: API fetchAdminStats is not available!",X);return}const[j,C]=await Promise.all([X.fetchAdminStats(k).catch(w=>(console.error("Fetch Admin Stats Error:",w),{success:!1})),X.fetchAuditLogs(6).catch(w=>(console.error("Fetch Audit Logs Error:",w),{success:!1}))]);console.log("AdminDashboard: Stats Response:",j),console.log("AdminDashboard: Logs Response:",C),j?.success&&Array.isArray(j.data)&&o(j.data),C?.success&&Array.isArray(C.data)&&u(C.data)}catch(j){console.error("Failed to fetch dashboard data",j)}finally{p(!1)}})()},[]);const h=k=>{if(!k)return"UNKNOWN ACTION";try{return String(k).replace(/_/g," ").toLowerCase().replace(/\b\w/g,f=>f.toUpperCase())}catch(f){return console.error("Error formatting action:",k,f),"ERROR"}},N=k=>{if(!k)return"N/A";try{const f=new Date(k);if(isNaN(f.getTime()))return"INVALID DATE";const C=new Date-f,w=Math.floor(C/(1e3*60)),D=Math.floor(C/(1e3*60*60)),L=Math.floor(C/(1e3*60*60*24));return w<1?"JUST NOW":w<60?`${w} MINS AGO`:D<24?`${D} HOURS AGO`:`${L} DAYS AGO`}catch(f){return console.error("Error formatting time:",k,f),"ERROR"}},v=[{label:"Company Setup",icon:e.jsx(la,{size:18}),path:"/company/setup",desc:"Master Organization Details"},{label:"User Provisioning",icon:e.jsx(qs,{size:18}),path:"/tools",desc:"Create/Edit System Users"},{label:"Backup & Restore",icon:e.jsx(xa,{size:18}),path:"/files",desc:"Data Management"},{label:"System Logs",icon:e.jsx(Ne,{size:18}),path:"/tools/audit",desc:"View Audit Trails"},{label:"System Configuration",icon:e.jsx(Mh,{size:18}),path:"/company/system-settings",desc:"Regional & Security Prefs"},{label:"Preference Config",icon:e.jsx(Ai,{size:18}),path:"/company/settings",desc:"Payroll & UI Preferences"}];return Array.isArray(n)?e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto",children:[e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"System Administration Console"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Status: Restricted Administrative Access"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:n.map((k,f)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider",children:k.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:k.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase",children:k.sub})]})},f))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Control Operations"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map((k,f)=>e.jsxs("button",{onClick:()=>l(k.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:k.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:k.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:k.desc})]}),e.jsx(ys,{className:"ml-auto text-gray-300 transition-colors",size:14})]},f))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(ia,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"System Advisory"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Database maintenance scheduled for 02:00 AM."})]})]}),e.jsx("button",{className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors",children:"Acknowledge"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"System Logs"}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:[e.jsx("div",{className:"flex flex-col gap-4",children:x?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 opacity-40",children:[e.jsx(qa,{size:24,className:"animate-pulse mb-2"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400",children:"Loading Logs..."})]}):Array.isArray(i)&&i.length>0?i.map((k,f)=>e.jsx("div",{className:"flex gap-4 items-start border-l-2 border-gray-200 pl-4 py-1 hover:border-blue-400 transition-colors",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-800",children:k.username||"System"}),e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded font-bold bg-blue-50 text-blue-600",children:k.entity||"LOG"})]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium",children:h(k.action)}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase",children:N(k.createdAt)})]})},f)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic text-[10px] font-bold uppercase",children:"No activity recorded."})}),e.jsx("button",{onClick:()=>l("/tools/audit"),className:"w-full mt-6 py-2 border border-gray-200 text-gray-400 text-[9px] font-bold uppercase hover:bg-gray-50 transition-all",children:"Full Audit Trail"})]})]})]})]}):(console.error("AdminDashboard: Stats is not an array!",n),e.jsx("div",{className:"p-4 text-red-500",children:"Error: Stats data corrupted."}))},Im=()=>{const l=xe(),[n,o]=m.useState([{label:"Total Employees",value:"...",sub:"Loading..."},{label:"Active Users",value:"...",sub:"Loading..."},{label:"Database Health",value:"...",sub:"Loading..."},{label:"Processing Output",value:"...",sub:"Loading..."},{label:"Audit Logs",value:"...",sub:"Loading..."},{label:"System Status",value:"...",sub:"Loading..."}]),[i,u]=m.useState([]),[x,p]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const N=localStorage.getItem("selectedCompany"),v=N?JSON.parse(N):null,[k,f]=await Promise.all([X.fetchAdminStats(v?.id),X.fetchAuditLogs(4)]);k.success&&o(k.data),f.success&&u(f.data)}catch(N){console.error(N)}finally{p(!1)}})()},[]);const g=h=>{const N=new Date(h),k=new Date-N,f=Math.floor(k/(1e3*60)),j=Math.floor(k/(1e3*60*60));return f<1?"Just now":f<60?`${f} mins ago`:j<24?`${j} hours ago`:N.toLocaleDateString()},b=[{label:"Process Payroll",icon:e.jsx(qa,{size:18}),path:"/processing/payroll-calculation",desc:"Run Jamaica Tax Engine"},{label:"New Employee",icon:e.jsx(Ns,{size:18}),path:"/employees",desc:"Add Staff to Registry"},{label:"Electronic Transfer",icon:e.jsx(Ya,{size:18}),path:"/banking/bns",desc:"Bank Advice Files"},{label:"Payslip Manager",icon:e.jsx(Ne,{size:18}),path:"/payslips/manage",desc:"Generate & Email"},{label:"Statutory Returns",icon:e.jsx(Ne,{size:18}),path:"/statutory/s01",desc:"P45, NIS, NHT, S01"},{label:"Cheque Printing",icon:e.jsx(Ui,{size:18}),path:"/processing/cheque-printing",desc:"Physical Payment Slips"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto relative",children:[x&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-50 flex items-center justify-center backdrop-blur-[1px]",children:e.jsx(qa,{className:"animate-pulse text-blue-600",size:32})}),e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Human Capital & Payroll Command"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Enterprise Management Dashboard  Jamaica Region"})]}),e.jsxs("div",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded shadow-sm flex items-center gap-2",children:[e.jsx(ha,{className:"text-gray-400",size:14}),e.jsx("span",{className:"text-[10px] font-bold text-gray-700 uppercase",children:new Date().toLocaleDateString("en-JM",{dateStyle:"long"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:n.map((h,N)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider leading-none truncate",children:h.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:h.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase italic truncate",children:h.sub})]})},N))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Operational Control"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:b.map((h,N)=>e.jsxs("button",{onClick:()=>l(h.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:h.icon}),e.jsxs("div",{className:"flex flex-col truncate",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight truncate",children:h.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium truncate",children:h.desc})]}),e.jsx(ys,{className:"ml-auto text-gray-300 transition-colors",size:14})]},N))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(it,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Compliance Status"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"System is ready for Feb-2026 payroll cycle."})]})]}),e.jsx("button",{onClick:()=>l("/employees"),className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors",children:"Manage"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Recent Activity"}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:[e.jsx("div",{className:"flex flex-col gap-4",children:i.length>0?i.map((h,N)=>e.jsx("div",{className:"flex gap-4 items-start border-l-2 border-gray-200 pl-4 py-1",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-800 tracking-tighter",children:h.username||"System"}),e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded font-bold bg-gray-100 text-gray-600 tracking-widest",children:h.entity||"LOG"})]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium leading-tight mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis",children:h.action.replace(/_/g," ")}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase mt-1",children:g(h.createdAt)})]})},N)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic text-[10px] font-bold uppercase",children:"No recent activity logs."})}),e.jsx("button",{onClick:()=>l("/tools"),className:"w-full mt-8 py-2 border border-gray-200 text-gray-400 text-[9px] font-bold uppercase hover:bg-gray-50 transition-all",children:"Audit Explorer"})]})]})]})]})},J2=()=>{const l=xe(),[n,o]=m.useState([{label:"Total Employees",value:"...",sub:"Loading..."},{label:"Active Users",value:"...",sub:"Loading..."},{label:"Database Health",value:"...",sub:"Loading..."},{label:"Processing Output",value:"...",sub:"Loading..."},{label:"Audit Logs",value:"...",sub:"Loading..."},{label:"System Status",value:"...",sub:"Loading..."}]),[i,u]=m.useState([]),[x,p]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("selectedCompany"),f=k?JSON.parse(k):null,[j,C]=await Promise.all([X.fetchAdminStats(f?.id),X.fetchAuditLogs(4)]);j.success&&o(j.data),C.success&&u(C.data)}catch(k){console.error(k)}finally{p(!1)}})()},[]);const g=v=>{const k=new Date(v),j=new Date-k,C=Math.floor(j/(1e3*60)),w=Math.floor(j/(1e3*60*60));return C<1?"Just now":C<60?`${C} mins ago`:w<24?`${w} hours ago`:k.toLocaleDateString()},b=[{label:"Bank Transfer Advice",icon:e.jsx(Ya,{size:18}),path:"/reports/bank-transfer-advice",desc:"Generate ACH Files"},{label:"Cheque Printing",icon:e.jsx(Ui,{size:18}),path:"/processing/cheque-printing",desc:"Batch Print Queue"},{label:"S01 Return",icon:e.jsx(Ne,{size:18}),path:"/statutory/s01",desc:"Tax Compliance"},{label:"GL Interface",icon:e.jsx(Rh,{size:18}),path:"/reports/ledger",desc:"General Ledger Export"},{label:"Payroll Register",icon:e.jsx(Ne,{size:18}),path:"/payroll/register",desc:"Detailed Breakdown"},{label:"Post Transactions",icon:e.jsx(Ir,{size:18}),path:"/processing/post-transactions",desc:"Commit Entries"},{label:"Disbursement",icon:e.jsx(Pa,{size:18}),path:"/processing/disbursement",desc:"Confirm Payments"}],h=()=>{const v=`data:text/csv;charset=utf-8,Category,Value,Status
`+n.map(j=>`${j.label},${j.value},${j.sub}`).join(`
`),k=encodeURI(v),f=document.createElement("a");f.setAttribute("href",k),f.setAttribute("download","financial_summary.csv"),document.body.appendChild(f),f.click(),document.body.removeChild(f)},N=async()=>{try{const v=localStorage.getItem("selectedCompany");if(!v){alert("Please select a company first.");return}const k=JSON.parse(v),f=await X.exportBankFile({companyId:k.id});if(f.success&&f.data){const{transfers:j,summary:C}=f.data;if(j.length===0){alert("No pending bank transfers found for export.");return}const w=`AccountNumber,AccountName,Amount,Reference,EmployeeID,TRN
`,D=j.map(_=>`${_.accountNumber},"${_.accountName}",${_.amount},${_.reference},${_.employeeId},${_.trn}`).join(`
`),L="data:text/csv;charset=utf-8,"+w+D,A=encodeURI(L),S=document.createElement("a");S.setAttribute("href",A),S.setAttribute("download",`BANK_EXPORT_${k.code}_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)}else alert("Failed to generate bank file.")}catch(v){console.error("Export error:",v),alert("An error occurred while exporting bank files.")}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto relative",children:[x&&e.jsx("div",{className:"absolute inset-0 bg-white/20 z-50 flex items-center justify-center backdrop-blur-[1px]",children:e.jsx(qa,{className:"animate-pulse text-blue-600",size:32})}),e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Financial Controller Center"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Treasury & Disbursement Operations"})]}),e.jsxs("button",{onClick:h,className:"bg-gray-700 text-white px-4 py-1.5 rounded shadow-sm flex items-center gap-2 hover:bg-gray-800 transition-colors uppercase text-[10px] font-bold",children:[e.jsx(He,{size:14})," Export Data"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:n.map((v,k)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider",children:v.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:v.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase italic truncate",children:v.sub})]})},k))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Treasury Management"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:b.map((v,k)=>e.jsxs("button",{onClick:()=>l(v.path),className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:v.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:v.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:v.desc})]}),e.jsx(ys,{className:"ml-auto text-gray-300 transition-colors",size:14})]},k))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(Ya,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Banking Files Ready"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"ACH transfer files for the current period have been generated."})]})]}),e.jsx("button",{onClick:N,className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors",children:"Download"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Ledger Activity"}),e.jsx("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:e.jsx("div",{className:"flex flex-col gap-4",children:i.length>0?i.map((v,k)=>e.jsx("div",{className:"flex gap-4 items-start border-l-2 border-gray-200 pl-4 py-1",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-800 tracking-tighter",children:v.username||"System"}),e.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded font-bold bg-gray-100 text-gray-600",children:v.entity||"LOG"})]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium leading-tight mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis",children:v.action.replace(/_/g," ")}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase mt-1",children:g(v.createdAt)})]})},k)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic text-[10px] font-bold uppercase",children:"No recent activity."})})})]})]})]})},V2=()=>{const l=xe(),n=[{label:"Next Pay Date",value:"Jan 28",icon:null,sub:"in 4 days"},{label:"Leave Balance",value:"14 Days",icon:null,sub:"Vacation Time"},{label:"Net Pay (Last)",value:"$124k",icon:null,sub:"Dec 2025"},{label:"Tax Status",value:"Compliant",icon:null,sub:"P24 Available"}],o=[{label:"My Payslips",icon:e.jsx(Ne,{size:18}),path:"/employee/payslips",desc:"View & Download History"},{label:"Request Leave",icon:e.jsx(ha,{size:18}),path:"/leave/request",desc:"Submit Vacation Request"},{label:"Tax Documents",icon:e.jsx(Ne,{size:18}),path:"/employee/tax-docs",desc:"P24 & P45 Forms"},{label:"Update Profile",icon:e.jsx(Mt,{size:18}),path:"/employee/profile",desc:"Address & Banking Info"}];return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans p-4 md:p-6 overflow-y-auto",children:[e.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Employee Self-Service Portal"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Personnel Record Management"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-8",children:n.map((i,u)=>e.jsx("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-sm",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider leading-none truncate",children:i.label}),e.jsx("span",{className:"text-lg font-bold text-gray-800 tracking-tight",children:i.value}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400 uppercase italic truncate",children:i.sub})]})},u))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Employee Actions"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.map((i,u)=>e.jsxs("button",{onClick:()=>{i.path.includes("leave")||i.path.includes("tax")||i.path.includes("profile")?alert("Module integration pending"):l(i.path)},className:"bg-white p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left flex items-center gap-3 group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:i.icon}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:i.label}),e.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:i.desc})]}),e.jsx(ys,{className:"ml-auto text-gray-300 transition-colors",size:14})]},u))}),e.jsxs("div",{className:"mt-4 bg-gray-100 border border-gray-300 p-4 rounded flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-gray-500",children:e.jsx(KN,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest",children:"Notice Board"}),e.jsx("p",{className:"text-xs font-medium text-gray-700 leading-tight",children:"Annual Assessment Reports are now available for review."})]})]}),e.jsx("button",{onClick:()=>l("/employee/documents"),className:"bg-gray-700 text-white px-4 py-1.5 rounded text-[10px] font-bold uppercase hover:bg-gray-800 transition-colors whitespace-nowrap",children:"View Documents"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-gray-200 pb-1",children:"Recent Documents"}),e.jsx("div",{className:"bg-white border border-gray-300 rounded p-4 flex-1 shadow-sm",children:e.jsx("div",{className:"flex flex-col gap-4",children:[{name:"Payslip_Jan26.pdf",date:"2 days ago",type:"PAY"},{name:"Payslip_Dec25.pdf",date:"1 month ago",type:"PAY"},{name:"P24_2025.pdf",date:"1 month ago",type:"TAX"},{name:"Contract_JD.pdf",date:"1 year ago",type:"HR"}].map((i,u)=>e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2 last:border-0 p-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-gray-400",children:e.jsx(Ne,{size:16})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-gray-800",children:i.name}),e.jsx("span",{className:"text-[9px] text-gray-400 uppercase tracking-tight",children:i.date})]})]}),e.jsx("button",{onClick:()=>{const x=`DOCUMENT: ${i.name}
                                            
Type: ${i.type}
Date: ${i.date}

This is a sample document from the Employee Self-Service Portal.
Generated by SmartHRM System.

In production, this would download the actual document from the server.`,p=new Blob([x],{type:"text/plain"}),g=URL.createObjectURL(p),b=document.createElement("a");b.href=g,b.download=i.name,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)},className:"text-gray-400 hover:text-gray-800 transition-colors",children:e.jsx(He,{size:14})})]},u))})})]})]})]})},X2=()=>{xe();const[l,n]=m.useState(null),o={trn:"TRN",nis:"NIS",nht:"NHT",edTax:"Education Tax",jwas:"JWAS"},[i,u]=m.useState(o),[x,p]=m.useState(!1),[g,b]=m.useState(!1);m.useEffect(()=>{const f=localStorage.getItem("selectedCompany");f&&n(JSON.parse(f))},[]),m.useEffect(()=>{l?.id&&h()},[l]);const h=async()=>{p(!0);try{const f=await X.fetchCompanies();if(f.data){const j=f.data.find(C=>C.id===l.id);j&&j.settings&&j.settings.labels&&u({...o,...j.settings.labels})}}catch(f){console.error("Failed to load settings",f)}finally{p(!1)}};m.useEffect(()=>{localStorage.setItem("customLabels",JSON.stringify(i))},[i]);const N=(f,j)=>{u(C=>({...C,[f]:j}))},v=()=>{window.confirm("Restore all field labels to system defaults?")&&u(o)},k=async()=>{if(l?.id){b(!0);try{const f={labels:i},j=await X.updateCompany(l.id,{settings:f});j.success?alert("Interface labels updated successfully."):alert("Failed to update labels: "+j.message)}catch(f){console.error("Save failed",f),alert("Error saving labels")}finally{b(!1)}}};return x?e.jsx("div",{className:"p-10 text-center",children:"Loading settings..."}):e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Uv,{size:18})," Field Label Customization"]})}),e.jsx("p",{className:"text-xs text-gray-600 font-bold px-1",children:"Customize how statutory fields appear on reports and entry screens."})]}),e.jsx("div",{className:"flex-1 p-8 overflow-auto flex justify-center",children:e.jsxs("div",{className:"w-full max-w-lg bg-white border-2 border-white shadow-[2px_2px_0_rgba(0,0,0,0.1)] p-6",children:[e.jsx("h2",{className:"text-sm font-bold text-gray-500 uppercase border-b border-gray-300 pb-2 mb-6",children:"Statutory Deductions & IDs"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"Tax Registration Number"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:i.trn,onChange:f=>N("trn",f.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: TRN"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",o.trn]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"National Insurance"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:i.nis,onChange:f=>N("nis",f.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: NIS"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",o.nis]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"Housing Trust"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:i.nht,onChange:f=>N("nht",f.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: NHT"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",o.nht]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx("label",{className:"text-xs font-bold text-right text-gray-700",children:"Education Tax"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("input",{type:"text",value:i.edTax,onChange:f=>N("edTax",f.target.value),className:"w-full border-b-2 border-gray-300 bg-gray-50 px-2 py-1 outline-none focus:border-[#0B4FD7] text-sm font-bold transition-colors",placeholder:"Default: Education Tax"}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:["System Default: ",o.edTax]})]})]})]}),e.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-200 flex justify-between",children:[e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 text-xs font-bold text-red-600 hover:bg-red-50 transition-colors uppercase",children:[e.jsx(zi,{size:14})," Reset Defaults"]}),e.jsxs("button",{onClick:k,disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:translate-y-0.5 text-xs font-bold uppercase hover:bg-[#003CB3]",children:[e.jsx(Ot,{size:14,className:g?"animate-spin":""})," ",g?"Saving...":"Save Changes"]})]})]})})]})},Q2=()=>{const l=xe(),[n,o]=m.useState(null),[i,u]=m.useState({payCycle:"2026 - Weekly - 06",transType:"Regular Hours",department:""}),[x,p]=m.useState([]),[g,b]=m.useState([]),[h,N]=m.useState([]),[v,k]=m.useState([]),[f,j]=m.useState(!1),[C,w]=m.useState(!1);m.useEffect(()=>{const F=localStorage.getItem("selectedCompany");F&&o(JSON.parse(F))},[]),m.useEffect(()=>{n?.id&&D()},[n]);const D=async()=>{try{const F=await X.fetchDepartments(n.id);F.data&&k(F.data)}catch(F){console.error("Failed to load departments",F)}},L=async()=>{if(n?.id){w(!0);try{const F=await X.fetchEmployees(n.id);if(F.data){let M=F.data;i.department&&(M=M.filter(T=>T.department?.name===i.department));const $=M.map(T=>({id:T.id,empId:T.employeeId,name:`${T.firstName} ${T.lastName}`,department:T.department?.name||"N/A",hours:0,rate:parseFloat(T.hourlyRate||T.baseSalary||0),amount:0,employeeId:T.employeeId}));p($),N(M)}}catch(F){console.error("Failed to load employees",F),alert("Failed to load employees")}finally{w(!1)}}},A=(F,M,$)=>{const T=parseFloat($)||0;p(q=>q.map(ce=>{if(ce.id===F){const I={...ce,[M]:T};return I.amount=I.hours*I.rate,I}return ce}))},S=()=>{const F=`EmployeeID,Name,Hours,Rate,Amount
`,M=`EMP001,JOHN BROWN,40,2500,100000
EMP002,SARAH SMITH,35,2800,98000`,$=new Blob([F+M],{type:"text/csv"}),T=window.URL.createObjectURL($),q=document.createElement("a");q.setAttribute("hidden",""),q.setAttribute("href",T),q.setAttribute("download",`hrm_mass_entry_template_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},_=F=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(F),B=async()=>{const F=x.filter(M=>M.amount>0);if(F.length===0){alert("SYSTEM ERROR: No valid transaction data detected in grid.");return}j(!0);try{let M="EARNING",$="REG";i.transType.includes("Overtime")?$="OT15":i.transType.includes("Bonus")?$="BONUS":i.transType.includes("Travel")&&(M="ALLOWANCE",$="TRAVEL");const T={transactions:F.map(ce=>({companyId:n.id,employeeId:ce.empId,transactionDate:new Date().toISOString(),type:M,code:$,description:i.transType,amount:ce.amount,units:ce.hours,rate:ce.rate,status:"ENTERED",period:i.payCycle}))},q=await X.bulkCreateTransactions(T);q.success?(alert(`COMMIT SUCCESS: ${q.data.created} records securely posted to the general ledger for ${i.payCycle}.`),p(ce=>ce.map(I=>({...I,hours:0,amount:0})))):alert("Creation failed: "+q.message)}catch(M){console.error("Save failed",M),alert("An error occurred while saving transactions.")}finally{j(!1)}},E=()=>{g.length===x.length&&x.length>0?b([]):b(x.map(F=>F.id))},R=F=>{b(M=>M.includes(F)?M.filter($=>$!==F):[...M,F])},O=()=>{g.length!==0&&(p(F=>F.map(M=>g.includes(M.id)?{...M,hours:0,amount:0}:M)),b([]))};return n?e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Hr,{size:18})," Mass Transaction Entry"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["BATCH: ",e.jsx("span",{className:"text-black",children:"FEB-2025-01"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Pay Cycle"}),e.jsxs("select",{value:i.payCycle,onChange:F=>u({...i,payCycle:F.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{children:"2026 - Weekly - 06"}),e.jsx("option",{children:"2026 - Monthly - 02"}),e.jsx("option",{children:"Feb-2026"}),e.jsx("option",{children:"Jan-2026"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Transaction Type"}),e.jsxs("select",{value:i.transType,onChange:F=>u({...i,transType:F.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{children:"Regular Hours"}),e.jsx("option",{children:"Overtime (1.5x)"}),e.jsx("option",{children:"Bonus (Flat Amount)"}),e.jsx("option",{children:"Travel Allowance"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Department"}),e.jsxs("select",{value:i.department,onChange:F=>u({...i,department:F.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- All Departments --"}),v.map(F=>e.jsx("option",{value:F.name,children:F.name},F.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:L,disabled:C,className:"w-full bg-[#EBE9D8] border border-gray-400 shadow-[1px_1px_0_rgba(0,0,0,0.2)] px-4 py-1.5 active:translate-y-0.5 active:shadow-inner text-xs font-bold hover:bg-white transition-colors disabled:opacity-50",children:[e.jsx(yt,{size:12,className:`inline mr-1 ${C?"animate-spin":""}`}),C?"LOADING...":"LOAD EMPLOYEES"]})})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-8 text-center bg-gray-100 z-20",children:e.jsx("input",{type:"checkbox",checked:g.length===x.length&&x.length>0,onChange:E,className:"cursor-pointer"})}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center text-gray-700",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left text-gray-700",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left text-gray-700",children:"Employee Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32 text-gray-700",children:"Department"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-right text-gray-700",children:"Hours/Qty"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-right text-gray-700",children:"Rate"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-32 text-right text-gray-700",children:"Amount"})]})}),e.jsxs("tbody",{children:[x.length>0?x.map((F,M)=>e.jsxs("tr",{className:`${g.includes(F.id)?"bg-blue-50/50":""} hover:bg-blue-50 group transition-colors`,children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center font-bold text-gray-500",children:e.jsx("input",{type:"checkbox",checked:g.includes(F.id),onChange:()=>R(F.id),className:"cursor-pointer"})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:M+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:F.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:F.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-600",children:F.department}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:F.hours,onChange:$=>A(F.id,"hours",$.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white transition-all"})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:F.rate,onChange:$=>A(F.id,"rate",$.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white text-gray-600 transition-all"})}),e.jsx("td",{className:"border-b border-gray-200 px-2 py-1 text-right font-mono font-bold bg-[#EBE9D8]/30 text-[#0B4FD7]",children:_(F.amount)})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-10 text-gray-400 font-bold italic",children:'Select filters and click "LOAD EMPLOYEES" to start'})}),[...Array(Math.max(0,15-x.length))].map((F,M)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 text-center bg-gray-50 text-gray-300"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-b border-gray-100 px-2 py-4 bg-gray-50/20"})]},`empty-${M}`))]})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-between items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>l("/processing/import-saved"),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-gray-50 active:translate-y-0.5 uppercase transition-all",children:[e.jsx(ql,{size:14,className:"text-blue-700"})," Import CSV"]}),e.jsxs("button",{onClick:S,className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-gray-50 active:translate-y-0.5 uppercase transition-all",children:[e.jsx(He,{size:14,className:"text-green-700"})," Template"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:O,disabled:g.length===0,className:`flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold transition-all uppercase ${g.length===0?"opacity-40 grayscale cursor-not-allowed":"hover:bg-red-50 text-red-700 active:translate-y-0.5"}`,children:[e.jsx($r,{size:14})," Clear Selected"]}),e.jsxs("button",{onClick:B,disabled:f,className:`flex items-center gap-1.5 px-6 py-2 border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold transition-all ml-4 uppercase ${f?"bg-gray-400 text-gray-200 border-gray-500 cursor-not-allowed":"bg-[#0B4FD7] text-white hover:bg-[#003CB3] active:translate-y-0.5"}`,children:[f?e.jsx(yt,{size:14,className:"animate-spin"}):e.jsx(Ot,{size:14}),f?"Processing...":"Save Transactions"]})]})]})]}):e.jsx("div",{className:"p-4",children:"Please select a company first."})},K2=()=>{xe();const[l,n]=m.useState(null),[o,i]=m.useState({department:"",status:"Active"}),[u,x]=m.useState([]),[p,g]=m.useState([]),[b,h]=m.useState(!1),[N,v]=m.useState(!1);m.useEffect(()=>{const D=localStorage.getItem("selectedCompany");D&&n(JSON.parse(D))},[]),m.useEffect(()=>{l?.id&&k()},[l]);const k=async()=>{h(!0);try{const[D,L]=await Promise.all([X.fetchDepartments(l.id),X.fetchEmployees(l.id)]);if(D.data&&g(D.data),L.data){const A=L.data.map(S=>{const _=parseFloat(S.baseSalary||S.hourlyRate||0);return{id:S.id,empId:S.employeeId,name:`${S.firstName} ${S.lastName}`,department:S.department?.name||"",departmentId:S.departmentId,rate:_,status:S.status,newRate:_,newDept:S.department?.name||"",salaryType:S.salaryType}});x(A)}}catch(D){console.error("Failed to load data",D)}finally{h(!1)}},f=(D,L,A)=>{x(S=>S.map(_=>_.id===D?{..._,[L]:A}:_))},j=(D,L)=>{if(window.confirm(`Are you sure you want to update ${D} for ALL displayed employees?`)){const S=w.map(_=>_.id);x(_=>_.map(B=>S.includes(B.id)?{...B,[D]:L}:B))}},C=async()=>{const D=u.filter(L=>L.rate!==L.newRate||L.department!==L.newDept);if(D.length===0){alert("No changes detected.");return}v(!0);try{const L=D.map(S=>{const _={id:S.id};if(S.rate!==S.newRate&&(S.salaryType==="Hourly"?_.hourlyRate=parseFloat(S.newRate):_.baseSalary=parseFloat(S.newRate)),S.department!==S.newDept){const B=p.find(E=>E.name===S.newDept);_.departmentId=B?B.id:null}return _}),A=await X.bulkUpdateEmployees({updates:L});A.success?(alert("Successfully updated employee records."),k()):alert("Update failed: "+A.message)}catch(L){console.error("Save failed",L),alert("An error occurred while saving updates.")}finally{v(!1)}},w=u.filter(D=>!(o.department&&D.department!==o.department||o.status!=="All"&&(o.status==="Active"&&D.status!=="Active"||o.status==="On Leave"&&D.status!=="On Leave")));return l?e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(xv,{size:18})," Mass Employee Update"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["MODE: ",e.jsx("span",{className:"text-black",children:"BULK EDIT"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Filter Department"}),e.jsxs("select",{value:o.department,onChange:D=>i({...o,department:D.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- All Departments --"}),p.map(D=>e.jsx("option",{value:D.name,children:D.name},D.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Filter Status"}),e.jsxs("select",{value:o.status,onChange:D=>i({...o,status:D.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Active",children:"Active Only"}),e.jsx("option",{value:"On Leave",children:"On Leave"})]})]}),e.jsxs("div",{className:"col-span-2 flex items-end gap-2",children:[e.jsx("button",{onClick:()=>{const D=prompt("Enter new rate for ALL visible employees:");D&&j("newRate",parseFloat(D))},className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-blue-800",children:"SET ALL RATES"}),e.jsx("button",{onClick:()=>{const D=prompt("Enter new department Name exactly:");D&&j("newDept",D)},className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-blue-800",children:"SET ALL DEPTS"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:b?e.jsx("div",{className:"p-10 text-center font-bold text-gray-400",children:"Loading directory..."}):e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left",children:"Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32 bg-gray-200 text-gray-500",children:"Current Dept"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32 bg-blue-50 text-[#0B4FD7]",children:"New Dept"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-right bg-gray-200 text-gray-500",children:"Current Rate"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-24 text-right bg-blue-50 text-[#0B4FD7]",children:"New Rate"})]})}),e.jsx("tbody",{children:w.map((D,L)=>{const A=D.rate!==D.newRate||D.department!==D.newDept;return e.jsxs("tr",{className:`hover:bg-blue-50 group ${A?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:L+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:D.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:D.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-400 bg-gray-50/50",children:D.department}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsxs("select",{value:D.newDept,onChange:S=>f(D.id,"newDept",S.target.value),className:`w-full px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-bold ${D.department!==D.newDept?"text-[#0B4FD7]":"text-gray-800"}`,children:[e.jsx("option",{value:"",children:"Select..."}),p.map(S=>e.jsx("option",{value:S.name,children:S.name},S.id))]})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-right text-gray-400 bg-gray-50/50",children:D.rate.toFixed(2)}),e.jsx("td",{className:"border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:D.newRate,onChange:S=>f(D.id,"newRate",parseFloat(S.target.value)),className:`w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono font-bold ${D.rate!==D.newRate?"text-[#0B4FD7]":"text-gray-800"}`})})]},D.id)})})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-end items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("button",{onClick:()=>x(u.map(D=>({...D,newRate:D.rate,newDept:D.department}))),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-gray-50 text-gray-600 active:translate-y-0.5 uppercase mr-2",children:[e.jsx(yt,{size:14})," Reset Changes"]}),e.jsxs("button",{onClick:C,disabled:N,className:"flex items-center gap-1.5 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold hover:bg-[#003CB3] active:translate-y-0.5 uppercase disabled:bg-gray-400",children:[e.jsx(Ot,{size:14,className:N?"animate-spin":""})," ",N?"Saving...":"Apply Updates"]})]})]}):e.jsx("div",{className:"p-4",children:"Please select a company first."})},Z2=()=>{xe();const[l,n]=m.useState(null),[o,i]=m.useState(!1),[u,x]=m.useState({period:"Feb 2025",region:""}),[p,g]=m.useState([]);m.useEffect(()=>{const f=localStorage.getItem("selectedCompany");f&&n(JSON.parse(f))},[]),m.useEffect(()=>{l?.id&&b()},[l,u.period]);const b=async()=>{i(!0);try{const f=await X.fetchSalesShares(l.id,u.period);f.success&&g(f.data)}catch(f){console.error("Error fetching sales data:",f)}finally{i(!1)}},h=(f,j,C)=>{const w=parseFloat(C)||0;g(D=>D.map(L=>{if(L.id===f){const A={...L,[j]:w};return(j==="totalSales"||j==="commissionRate")&&(A.shareAmount=A.totalSales*(A.commissionRate/100)),A}return L}))},N=()=>{g(f=>f.map(j=>({...j,shareAmount:j.totalSales*(j.commissionRate/100)}))),alert("Recalculated all shares based on current rates.")},v=async()=>{if(l?.id){i(!0);try{const f={companyId:l.id,period:u.period,salesShares:p.map(C=>({employeeId:C.id,totalSales:C.totalSales,commissionRate:C.commissionRate,shareAmount:C.shareAmount}))},j=await X.saveSalesShares(f);j.success?(alert("Sales shares saved successfully."),b()):alert("Failed to save: "+j.message)}catch(f){console.error("Error saving sales shares:",f),alert("An error occurred while saving.")}finally{i(!1)}}},k=f=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(f);return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Rh,{size:18})," Generate Sales Share"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["PERIOD: ",e.jsx("span",{className:"text-black",children:"FEB 2025"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Sales Period"}),e.jsxs("select",{value:u.period,onChange:f=>x({...u,period:f.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{children:"Feb 2025"}),e.jsx("option",{children:"Jan 2025"}),e.jsx("option",{children:"Dec 2024"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Region / Branch"}),e.jsxs("select",{value:u.region,onChange:f=>x({...u,region:f.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- All Regions --"}),e.jsx("option",{value:"KINGSTON",children:"Kingston HQ"}),e.jsx("option",{value:"MONTEGO BAY",children:"Montego Bay"}),e.jsx("option",{value:"MANDEVILLE",children:"Mandeville"})]})]}),e.jsxs("div",{className:"col-span-2 flex items-end gap-2",children:[e.jsx("button",{onClick:()=>{const f=prompt("Set Base Commission Rate (%) for all:");if(f){const j=parseFloat(f);g(C=>C.map(w=>({...w,commissionRate:j,shareAmount:w.totalSales*(j/100)})))}},className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-blue-800 uppercase",children:"Set Global Rate (%)"}),e.jsx("button",{onClick:N,className:"bg-white border border-gray-400 px-3 py-1.5 shadow-sm text-xs font-bold hover:bg-blue-50 text-green-700 uppercase",children:"Recalculate All"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left w-32",children:"Region"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-right",children:"Total Sales ($)"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-20 text-right",children:"Comm. %"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-32 text-right",children:"Share Amount"})]})}),e.jsxs("tbody",{children:[p.filter(f=>!u.region||f.region===u.region).map((f,j)=>e.jsxs("tr",{className:"hover:bg-blue-50 group",children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:j+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:f.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:f.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-600",children:f.region}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:f.totalSales,onChange:C=>h(f.id,"totalSales",C.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white transition-all text-gray-800"})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsx("input",{type:"number",value:f.commissionRate,onChange:C=>h(f.id,"commissionRate",C.target.value),className:"w-full text-right px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-mono focus:bg-white transition-all text-blue-700 font-bold"})}),e.jsx("td",{className:"border-b border-gray-200 px-2 py-1 text-right font-mono font-bold bg-[#EBE9D8]/30 text-green-700",children:k(f.shareAmount)})]},f.id)),[...Array(Math.max(0,15-p.length))].map((f,j)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 text-center bg-gray-50 text-gray-300"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-b border-gray-100 px-2 py-4 bg-gray-50/20"})]},`empty-${j}`))]})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-end items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("button",{onClick:()=>g(f=>f.map(j=>({...j,totalSales:0,shareAmount:0}))),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-red-50 text-red-700 active:translate-y-0.5 uppercase mr-2",children:[e.jsx($r,{size:14})," Clear Sales"]}),e.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold hover:bg-[#003CB3] active:translate-y-0.5 uppercase",children:[e.jsx(Pa,{size:14})," Process Payments"]})]})]})},W2=()=>{xe();const[l]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[n,o]=m.useState({gang:"",shiftDate:new Date().toISOString().split("T")[0],shiftType:"Day Shift"}),[i,u]=m.useState([]),[x,p]=m.useState([]),[g,b]=m.useState(!1);m.useEffect(()=>{(async()=>{if(l.id)try{const D=await X.fetchGangs(l.id);D.success&&u(D.data)}catch(D){console.error("Error fetching gangs:",D)}})()},[l.id]);const h=async()=>{if(l.id){b(!0);try{const w={companyId:l.id,date:n.shiftDate,shiftType:n.shiftType==="All"?null:n.shiftType,gangId:n.gang===""?null:n.gang},D=await X.fetchGangShiftAssignments(w);D.success&&p(D.data)}catch(w){console.error("Error fetching assignments:",w)}finally{b(!1)}}};m.useEffect(()=>{h()},[l.id,n.shiftDate,n.shiftType,n.gang]);const[N,v]=m.useState([]),k=()=>{N.length===x.length?v([]):v(x.map(w=>w.id))},f=w=>{N.includes(w)?v(N.filter(D=>D!==w)):v([...N,w])},j=(w,D,L)=>{p(A=>A.map(S=>S.id===w?{...S,[D]:L}:S))},C=async()=>{if(l.id){b(!0);try{const w={companyId:l.id,date:n.shiftDate,assignments:x.map(L=>{const A=i.find(S=>S.name===L.gang);return{employeeId:L.id,gangId:A?A.id:null,shiftType:L.shift}}).filter(L=>L.gangId!==null)},D=await X.saveGangShiftAssignments(w);D.success?(alert("Gang Shift assignments saved successfully."),h()):alert("Failed to save assignments: "+D.message)}catch(w){console.error("Error saving assignments:",w),alert("An error occurred while saving.")}finally{b(!1)}}};return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-2 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2",children:[e.jsx(qs,{size:18})," Gang Shift Maintenance"]}),e.jsxs("div",{className:"text-xs font-bold text-gray-500",children:["DATE: ",e.jsx("span",{className:"text-black",children:n.shiftDate})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Target Gang"}),e.jsxs("select",{value:n.gang,onChange:w=>o({...n,gang:w.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"",children:"-- Select Gang --"}),i.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Shift Type"}),e.jsxs("select",{value:n.shiftType,onChange:w=>o({...n,shiftType:w.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7]",children:[e.jsx("option",{value:"All",children:"All Shifts"}),e.jsx("option",{children:"Day Shift"}),e.jsx("option",{children:"Night Shift"}),e.jsx("option",{children:"Swing Shift"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"font-bold text-gray-700",children:"Shift Date"}),e.jsx("input",{type:"date",value:n.shiftDate,onChange:w=>o({...n,shiftDate:w.target.value}),className:"border border-gray-400 p-1 bg-white shadow-inner font-semibold outline-none focus:border-[#0B4FD7] uppercase"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border border-gray-500 shadow-inner flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:e.jsxs("table",{className:"w-full text-xs border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center cursor-pointer hover:bg-gray-300",onClick:k,children:N.length===x.length&&x.length>0?e.jsx(Ir,{size:14,className:"mx-auto text-black"}):e.jsx(Li,{size:14,className:"mx-auto text-gray-500"})}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-10 text-center",children:"#"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-left",children:"Job Role"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-left",children:"Assigned Gang"}),e.jsx("th",{className:"border-r border-b border-gray-400 px-2 py-2 w-32 text-left",children:"Assigned Shift"}),e.jsx("th",{className:"border-b border-gray-400 px-2 py-2 w-24 text-center",children:"Status"})]})}),e.jsxs("tbody",{children:[x.map((w,D)=>e.jsxs("tr",{className:`hover:bg-blue-50 group transition-colors cursor-pointer ${N.includes(w.id)?"bg-blue-100":""}`,onClick:L=>{L.target.tagName!=="SELECT"&&L.target.tagName!=="OPTION"&&f(w.id)},children:[e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center",onClick:L=>L.stopPropagation(),children:e.jsx("button",{onClick:()=>f(w.id),className:"flex items-center justify-center w-full h-full",children:N.includes(w.id)?e.jsx(Ir,{size:14,className:"mx-auto text-blue-700"}):e.jsx(Li,{size:14,className:"mx-auto text-gray-400"})})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-center bg-gray-50 font-bold text-gray-500",children:D+1}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-mono font-bold text-gray-700",children:w.empId}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 font-bold",children:w.name}),e.jsx("td",{className:"border-r border-b border-gray-200 px-2 py-1 text-gray-600",children:w.role}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsxs("select",{value:w.gang,onChange:L=>j(w.id,"gang",L.target.value),className:"w-full px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-bold text-blue-700",children:[e.jsx("option",{value:"Unassigned",children:"Unassigned"}),i.map(L=>e.jsx("option",{value:L.name,children:L.name},L.id))]})}),e.jsx("td",{className:"border-r border-b border-gray-200 px-0 py-0.5 bg-white",children:e.jsxs("select",{value:w.shift,onChange:L=>j(w.id,"shift",L.target.value),className:"w-full px-2 py-1 outline-none border-2 border-transparent focus:border-[#0B4FD7] bg-transparent font-bold text-gray-700",children:[e.jsx("option",{children:"Day Shift"}),e.jsx("option",{children:"Night Shift"}),e.jsx("option",{children:"Swing Shift"})]})}),e.jsx("td",{className:`border-b border-gray-200 px-2 py-1 text-center font-bold ${w.status==="Active"?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:w.status})]},w.id)),[...Array(Math.max(0,15-x.length))].map((w,D)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 bg-gray-50"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-1 text-center bg-gray-50 text-gray-300"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-r border-b border-gray-100 px-2 py-4"}),e.jsx("td",{className:"border-b border-gray-100 px-2 py-4 bg-gray-50/20"})]},`empty-${D}`))]})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t border-white p-2 flex justify-end items-center shadow-[0_-2px_4px_rgba(0,0,0,0.05)] shrink-0 z-20",children:[e.jsxs("button",{onClick:()=>p(x.map(w=>({...w,gang:"Unassigned",shift:"Day Shift"}))),className:"flex items-center gap-1.5 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-sm active:border-t-gray-400 active:border-l-gray-400 active:border-r-white active:border-b-white text-xs font-bold hover:bg-red-50 text-red-700 active:translate-y-0.5 uppercase mr-2",children:[e.jsx($r,{size:14})," Clear Assignments"]}),e.jsxs("button",{onClick:C,className:"flex items-center gap-1.5 px-6 py-2 bg-[#0B4FD7] text-white border-2 border-blue-400 border-r-blue-800 border-b-blue-800 shadow-sm active:border-t-blue-800 active:border-l-blue-800 active:border-r-blue-400 active:border-b-blue-400 text-xs font-bold hover:bg-[#003CB3] active:translate-y-0.5 uppercase",children:[e.jsx(Ot,{size:14})," Save Gang Shift"]})]})]})},ew=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(Lt,{size:18}),n==="error"&&e.jsx(js,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},tw=({isOpen:l,onClose:n,title:o,children:i})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,aw=()=>{xe();const[l,n]=m.useState(!1),[o]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[i]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[u,x]=m.useState({period:new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-"),department:"",search:""}),[p,g]=m.useState([]),[b,h]=m.useState([]),[N,v]=m.useState([]),[k,f]=m.useState(null),[j,C]=m.useState(!1),[w,D]=m.useState(null),[L,A]=m.useState(""),[S,_]=m.useState(!1),B=(I,W="success")=>{f({message:I,type:W})},E=async()=>{if(i.id)try{n(!0);const I={companyId:i.id,status:"POSTED"};u.period&&(I.period=u.period);const W=await X.fetchTransactionRegister(I);if(W.success){const de=(W.data.transactions||[]).map(ne=>({id:ne.id,txId:ne.id.substring(0,8).toUpperCase(),date:new Date(ne.transactionDate).toLocaleDateString(),empId:ne.employee?.employeeId||"N/A",name:`${ne.employee?.firstName} ${ne.employee?.lastName}`.toUpperCase(),type:ne.code||ne.type,amount:parseFloat(ne.amount),status:ne.status==="POSTED"?"Posted":"Voided",postedBy:ne.postedBy||"Admin",department:ne.employee?.department?.name||"General"}));g(de)}}catch(I){console.error(I),B("Failed to fetch register data","error")}finally{n(!1)}},R=async()=>{if(i.id)try{const I=await X.fetchDepartments(i.id);I.success&&h(I.data)}catch(I){console.error("Failed to fetch departments",I)}},O=()=>{const I=[],W=new Date;for(let de=0;de<12;de++){const ne=new Date(W.getFullYear(),W.getMonth()-de,1),ee=ne.toLocaleString("default",{month:"long",year:"numeric"}),P=ne.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-");I.push({label:ee,value:P})}v(I)};m.useEffect(()=>{i.id&&(E(),R(),O())},[i.id,u.period]);const F=I=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(I),M=I=>{D(I),A(""),C(!0)},$=async()=>{if(w){if(!L.trim()){B("Please provide a reason for reversal.","error");return}try{_(!0);const I=await X.voidTransaction(w.id,{reason:L,voidedBy:o.email});I.success?(B("Transaction reversed successfully.","success"),C(!1),E()):B(I.message||"Failed to reverse transaction.","error")}catch(I){console.error(I),B("Error processing reversal.","error")}finally{_(!1)}}},T=()=>{if(q.length===0){B("No records to export.","info");return}const I=[["TX ID","DATE","EMPLOYEE","CATEGORY","AMOUNT","STATUS","POSTED BY"],...q.map(ee=>[ee.txId,ee.date,ee.name,ee.type,ee.amount,ee.status,ee.postedBy])].map(ee=>ee.join(",")).join(`
`),W=new Blob([I],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(W),ne=document.createElement("a");ne.setAttribute("href",de),ne.setAttribute("download",`Posted_Register_${u.period}.csv`),ne.style.visibility="hidden",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),B("CSV Export generated successfully.","success")},q=p.filter(I=>{const W=!u.department||I.department.toLowerCase().includes(u.department.toLowerCase()),de=I.name.toLowerCase().includes(u.search.toLowerCase())||I.empId.toLowerCase().includes(u.search.toLowerCase())||I.id.toLowerCase().includes(u.search.toLowerCase());return W&&de}),ce=q.reduce((I,W)=>W.status==="Posted"?I+W.amount:I,0);return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden relative",children:[k&&e.jsx(ew,{message:k.message,type:k.type,onClose:()=>f(null)}),e.jsx(tw,{isOpen:j,onClose:()=>C(!1),title:"Confirm Reversal",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-3 rounded text-red-800 text-xs flex items-start gap-2",children:[e.jsx(ia,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["Most transactions cannot be un-posted. This action will ",e.jsx("strong",{children:"VOID"})," the transaction and set the amount to $0.00."]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("label",{className:"block font-bold text-gray-700 mb-1 uppercase",children:"Reason for Reversal"}),e.jsx("textarea",{value:L,onChange:I=>A(I.target.value),className:"w-full border border-gray-400 p-2 text-xs font-medium outline-none focus:border-blue-500 h-20 resize-none rounded-sm",placeholder:"e.g. Data Entry Error, Duplicate Record..."})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:$,disabled:S,className:"px-4 py-2 bg-red-600 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-red-700 transition-colors shadow-sm flex items-center gap-2",children:[S?e.jsx(ge,{size:12,className:"animate-spin"}):e.jsx(zi,{size:12}),S?"Voiding...":"Confirm Void"]})]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-3 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2 italic",children:[e.jsx(Ne,{size:18})," Posted Transaction Register"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[l&&e.jsxs("div",{className:"text-[10px] font-bold text-blue-700 animate-pulse flex items-center gap-1",children:[e.jsx(ge,{size:12,className:"animate-spin"})," SYNCHRONIZING..."]}),e.jsxs("div",{className:"text-xs font-black text-gray-500 uppercase",children:["NET VALUE: ",e.jsxs("span",{className:"text-blue-900 text-sm bg-white px-3 py-1 border border-gray-300 rounded shadow-inner ml-2",children:["$",F(ce)]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-[10px] font-black italic uppercase items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Filter Pay Period"}),e.jsx("select",{value:u.period,onChange:I=>x({...u,period:I.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 h-9 px-2 bg-white shadow-inner font-black text-blue-900 outline-none focus:border-blue-500",children:N.map(I=>e.jsx("option",{value:I.value,children:I.label},I.value))})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Department"}),e.jsxs("select",{value:u.department,onChange:I=>x({...u,department:I.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 h-9 px-2 bg-white shadow-inner font-black text-blue-900 outline-none focus:border-blue-500",children:[e.jsx("option",{value:"",children:"-- All Departments --"}),b.map(I=>e.jsx("option",{value:I.name,children:I.name},I.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Search Records"}),e.jsxs("div",{className:"flex items-center border-2 border-white border-r-gray-400 border-b-gray-400 bg-white h-9 px-3 focus-within:border-blue-500 shadow-inner",children:[e.jsx(Ke,{size:14,className:"text-gray-400 mr-2 shrink-0 pointer-events-none"}),e.jsx("input",{type:"text",value:u.search,onChange:I=>x({...u,search:I.target.value}),placeholder:"NAME, ID OR TRX#...",className:"w-full h-full outline-none font-black text-blue-900 uppercase placeholder:normal-case placeholder:italic placeholder:font-bold"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:E,disabled:l,className:`w-full h-9 border-2 border-white border-r-gray-600 border-b-gray-600 shadow-md px-4 active:translate-y-0.5 active:shadow-inner text-[10px] font-black transition-all flex items-center justify-center gap-2 tracking-widest ${l?"bg-gray-100 text-gray-400":"bg-[#E0DCCF] hover:bg-white text-blue-800 uppercase"}`,children:[e.jsx(ge,{size:12,className:l?"animate-spin":""}),l?"BUSY...":"REFRESH DATA"]})})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 rounded-sm",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm border-b-2 border-gray-400 font-black italic uppercase text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-left",children:"Trx ID"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-left",children:"Date"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-left w-40",children:"Transaction Code"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-right w-32",children:"Amount"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 text-left w-24",children:"Posted By"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-24 text-center",children:"Status"}),e.jsx("th",{className:"px-2 py-3 w-10 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.length>0?q.map(I=>e.jsxs("tr",{className:`hover:bg-blue-50 group transition-colors ${I.status==="Reversed"?"opacity-60 bg-gray-50":""}`,children:[e.jsxs("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-gray-400 group-hover:text-blue-600 transition-colors uppercase tabular-nums",children:["#",I.txId]}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-mono text-gray-500 italic",children:I.date}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-gray-700 uppercase",children:I.empId}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-blue-900 italic tracking-tight uppercase group-hover:underline",children:I.name}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2",children:e.jsx("span",{className:"text-[10px] bg-gray-50 border border-gray-300 px-2 py-0.5 rounded italic font-black text-gray-600 uppercase",children:I.type})}),e.jsxs("td",{className:`border-r border-gray-200 px-2 py-2 text-right font-black italic tabular-nums group-hover:scale-105 transition-transform origin-right ${I.status==="Reversed"?"text-gray-400 line-through":"text-blue-800"}`,children:["$",F(I.amount)]}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-gray-500 italic font-bold text-[10px] uppercase truncate max-w-[80px]",children:I.postedBy}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full font-black italic uppercase text-[9px] border shadow-sm ${I.status==="Posted"?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-500 border-red-200"}`,children:I.status})}),e.jsx("td",{className:"px-1 py-2 text-center",children:I.status==="Posted"&&e.jsx("button",{onClick:()=>M(I),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded-full transition-all active:scale-90",title:"Reverse Transaction",children:e.jsx(zi,{size:14})})})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center py-20 text-gray-300 font-black italic uppercase tracking-[0.2em] bg-gray-50/50",children:l?"Accessing Secure Register...":"No Posted Records Found"})})})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t-2 border-white p-3 flex justify-between items-center shadow-2xl shrink-0 z-20",children:[e.jsxs("div",{className:"text-[10px] font-black italic text-gray-500 uppercase tracking-widest",children:["SYSTEM STATUS: OK | ",q.length," RECORDS IN BUFFER"]}),e.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-8 py-3 bg-[#316AC5] text-white border-2 border-white border-r-[#000080] border-b-[#000080] border-l-white border-t-white shadow-xl active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0 text-[11px] font-black italic hover:bg-blue-600 transition-all uppercase tracking-widest",children:[e.jsx(He,{size:14})," Commit to CSV"]})]})]})},sw=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(Lt,{size:18}),n==="error"&&e.jsx(js,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},rw=({isOpen:l,onClose:n,title:o,children:i})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white w-full max-w-sm rounded shadow-2xl border border-gray-200 overflow-hidden transform transition-all scale-100",children:[e.jsxs("div",{className:"bg-[#D4D0C8] px-4 py-2 border-b border-gray-300 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-700 uppercase text-xs tracking-wider",children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,lw=()=>{xe();const[l,n]=m.useState(!1),[o,i]=m.useState(!1),[u]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[x]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[p,g]=m.useState({period:new Date().toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-"),type:"All"}),[b,h]=m.useState([]),[N,v]=m.useState([]),[k,f]=m.useState([]),[j,C]=m.useState(null),[w,D]=m.useState(!1),L=(M,$="success")=>{C({message:M,type:$})},A=async()=>{if(x.id)try{n(!0);const M={companyId:x.id,status:"ENTERED"};p.type!=="All"&&(M.type=p.type),p.period&&(M.period=p.period);const $=await X.fetchTransactions(M);if($.success){const T=($.data||[]).map(q=>({id:q.id,empId:q.employee?.employeeId||"N/A",name:`${q.employee?.firstName} ${q.employee?.lastName}`.toUpperCase(),type:q.type,amount:parseFloat(q.amount),date:new Date(q.transactionDate).toLocaleDateString(),status:q.status,code:q.code}));h(T),f([])}}catch(M){console.error(M),L("Failed to fetch pending transactions.","error")}finally{n(!1)}},S=()=>{const M=[],$=new Date;for(let T=0;T<12;T++){const q=new Date($.getFullYear(),$.getMonth()-T,1),ce=q.toLocaleString("default",{month:"long",year:"numeric"}),I=q.toLocaleString("default",{month:"short",year:"numeric"}).replace(" ","-");M.push({label:ce,value:I})}v(M)};m.useEffect(()=>{x.id&&(S(),A())},[x.id,p.type,p.period]);const _=()=>{k.length===b.length&&b.length>0?f([]):f(b.map(M=>M.id))},B=M=>{k.includes(M)?f(k.filter($=>$!==M)):f([...k,M])},E=()=>{if(k.length===0){L("No transactions selected.","error");return}D(!0)},R=async()=>{D(!1);try{i(!0);const M=await X.postTransactions({transactionIds:k,postedBy:u.email,companyId:x.id});M.success?(L(`Successfully posted ${M.data.count} transactions!`,"success"),A()):L(M.message||"Failed to post transactions.","error")}catch(M){console.error(M),L("Error during posting process.","error")}finally{i(!1)}},O=M=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(M),F=b.filter(M=>k.includes(M.id)).reduce((M,$)=>M+$.amount,0);return e.jsxs("div",{className:"h-[calc(100vh-70px)] flex flex-col bg-[#EBE9D8] font-sans overflow-hidden relative",children:[j&&e.jsx(sw,{message:j.message,type:j.type,onClose:()=>C(null)}),e.jsx(rw,{isOpen:w,onClose:()=>D(!1),title:"Confirm Posting",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"text-xs text-gray-700 font-medium",children:["You are about to post ",e.jsx("span",{className:"font-black text-blue-700",children:k.length})," transactions.",e.jsx("br",{}),e.jsx("br",{}),"Total Value: ",e.jsxs("span",{className:"font-black text-blue-700",children:["$",O(F)]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-red-600 font-bold uppercase italic text-[10px]",children:"Warning: This action cannot be undone. Items will be locked."})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-blue-700 transition-colors shadow-sm flex items-center gap-2",children:[e.jsx(Ha,{size:12})," Confirm Post"]})]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white p-3 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-400 pb-2",children:[e.jsxs("h1",{className:"text-[#0B4FD7] font-black text-lg uppercase tracking-wider flex items-center gap-2 italic",children:[e.jsx(Ha,{size:18})," Post Pending Transactions"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[l&&e.jsxs("div",{className:"text-[10px] font-bold text-blue-700 animate-pulse flex items-center gap-1",children:[e.jsx(ge,{size:12,className:"animate-spin"})," SCANNING PENDING..."]}),e.jsx("div",{className:"text-[10px] font-black text-gray-500 uppercase tracking-tighter",children:"SELECT PENDING ENTRIES TO COMMIT"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-[10px] font-black italic uppercase",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Pay Period"}),e.jsx("select",{value:p.period,onChange:M=>g({...p,period:M.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 p-1.5 bg-white shadow-inner outline-none focus:border-blue-500 font-black text-blue-900",children:N.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700",children:"Type Filter"}),e.jsxs("select",{value:p.type,onChange:M=>g({...p,type:M.target.value}),className:"border-2 border-white border-r-gray-400 border-b-gray-400 p-1.5 bg-white shadow-inner outline-none focus:border-blue-500 font-black text-blue-900",children:[e.jsx("option",{value:"All",children:"All Transactions"}),e.jsx("option",{value:"EARNING",children:"Earning"}),e.jsx("option",{value:"DEDUCTION",children:"Deduction"}),e.jsx("option",{value:"ALLOWANCE",children:"Allowance"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"bg-yellow-100 border-2 border-white border-r-yellow-600 border-b-yellow-600 p-2 text-yellow-800 flex items-center gap-2 w-full shadow-sm",children:[e.jsx(ia,{size:14,className:"shrink-0"}),e.jsx("span",{className:"font-black italic",children:"POSTED ITEMS CANNOT BE REVERTED. VERIFY TOTALS BEFORE PROCEEDING."})]})})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 rounded-sm",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#D4D0C8] z-10 shadow-sm border-b-2 border-gray-400 font-black italic uppercase text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-gray-400 px-2 py-3 w-10 text-center cursor-pointer hover:bg-white transition-colors",onClick:_,children:k.length===b.length&&b.length>0?e.jsx(Ir,{size:14,className:"mx-auto text-blue-700"}):e.jsx(Li,{size:14,className:"mx-auto text-gray-500"})}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 w-24 text-left",children:"Date"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 w-24 text-left",children:"Emp ID"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 text-left",children:"Employee Name"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 text-left w-32",children:"Type"}),e.jsx("th",{className:"border-r border-gray-400 px-2 py-2 w-32 text-right",children:"Amount"}),e.jsx("th",{className:"px-2 py-2 w-24 text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:b.length>0?b.map(M=>e.jsxs("tr",{className:`hover:bg-blue-50 group cursor-pointer transition-colors ${k.includes(M.id)?"bg-blue-100":""}`,onClick:()=>B(M.id),children:[e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 text-center",children:k.includes(M.id)?e.jsx(Ir,{size:14,className:"mx-auto text-blue-700"}):e.jsx(Li,{size:14,className:"mx-auto text-gray-300"})}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-mono text-gray-500 italic",children:M.date}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-gray-700 group-hover:text-blue-700 uppercase",children:M.empId}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black text-blue-900 italic tracking-tight uppercase group-hover:underline",children:M.name}),e.jsx("td",{className:"border-r border-gray-200 px-2 py-2 font-black",children:e.jsx("span",{className:"text-[10px] bg-gray-100 border border-gray-300 px-2 py-0.5 rounded italic uppercase leading-none",children:M.code||M.type})}),e.jsxs("td",{className:"border-r border-gray-200 px-2 py-2 text-right font-black text-blue-800 tabular-nums italic",children:["$",O(M.amount)]}),e.jsx("td",{className:"px-2 py-2 text-center italic text-yellow-600 font-black text-[9px] uppercase animate-pulse",children:M.status})]},M.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-20 text-gray-300 font-black italic uppercase tracking-[0.2em] bg-gray-50/50",children:l?"Scanning Secure Registry...":"No Pending Transactions Found"})})})]})})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-t-2 border-white p-3 flex justify-between items-center shadow-2xl shrink-0 z-20",children:[e.jsxs("div",{className:"flex items-center gap-6 font-black italic uppercase",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] text-gray-500",children:"Selection Count"}),e.jsxs("span",{className:"text-xs text-gray-800",children:[k.length," ITEMS"]})]}),e.jsxs("div",{className:"flex flex-col border-l border-gray-400 pl-6",children:[e.jsx("span",{className:"text-[9px] text-gray-500",children:"Commitment Value"}),e.jsxs("span",{className:"text-lg text-blue-800 tracking-tighter",children:["$",O(F)]})]}),e.jsxs("div",{className:"flex flex-col border-l border-gray-400 pl-6 opacity-50",children:[e.jsx("span",{className:"text-[9px] text-gray-500",children:"Total Pending"}),e.jsxs("span",{className:"text-xs text-gray-600 tracking-tighter",children:["$",O(b.reduce((M,$)=>M+$.amount,0))]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-[#EBE9D8] border-2 border-white border-r-gray-400 border-b-gray-400 shadow-md active:translate-y-0.5 active:shadow-inner text-[10px] font-black italic hover:bg-white text-gray-600 uppercase transition-all",children:k.length===b.length?"Deselect All":"Select All"}),e.jsxs("button",{onClick:E,disabled:k.length===0||o,className:`flex items-center gap-2 px-10 py-3 border-2 shadow-xl text-[11px] font-black italic uppercase transition-all tracking-widest ${k.length>0&&!o?"bg-green-700 text-white border-green-400 border-r-green-900 border-b-green-900 border-l-green-400 border-t-green-400 hover:bg-green-600 active:translate-y-1 active:shadow-inner active:border-b-0 active:border-r-0":"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed opacity-50"}`,children:[o?e.jsx(ge,{size:16,className:"animate-spin"}):e.jsx(Ha,{size:16}),o?"Processing...":"Post Selected to Register"]})]})]})]})},nw=()=>{const l=xe(),n=[{id:"gang-shift",title:"Gang & Shift Rotation",description:"Manage complex team assignments, shift patterns, and gang allocations for payroll processing.",icon:e.jsx(qs,{size:24,className:"text-blue-600"}),path:"/processing/gang-shift",status:"Active",category:"Operations"},{id:"sales-commission",title:"Sales Commission Engine",description:"Automated calculation of sales shares, commissions, and performance-based payouts.",icon:e.jsx(Pa,{size:24,className:"text-green-600"}),path:"/processing/sales-share",status:"Active",category:"Finance"},{id:"mass-update",title:"Mass Data Processor",description:"Bulk update employee records, rates, and static data fields efficiently.",icon:e.jsx(xa,{size:24,className:"text-purple-600"}),path:"/processing/mass-updating",status:"Active",category:"Admin Tools"},{id:"mass-entry",title:"Mass Transaction Entry",description:"High-speed data entry for payroll transactions, allowances, and deductions.",icon:e.jsx($s,{size:24,className:"text-orange-600"}),path:"/processing/mass-entry",status:"Active",category:"Data Entry"},{id:"bank-integrations",title:"Bank Integration Hub",description:"Generate proprietary bank files for BNS, NCB, JMMB, and other local financial institutions.",icon:e.jsx(Ah,{size:24,className:"text-indigo-600"}),path:"/bank/details",status:"Configured",category:"Banking"},{id:"system-tools",title:"System Diagnostics",description:"Advanced system checks, database integrity tools, and granular configuration.",icon:e.jsx(la,{size:24,className:"text-gray-600"}),path:"/tools",status:"Restricted",category:"Maintenance"}];return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#EBE9D8] border-b border-white p-4 shadow-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-blue-600 p-2 rounded text-white shadow-sm",children:e.jsx(_h,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-[#0B4FD7] font-black text-xl uppercase tracking-wider",children:"Customized Modules"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Installed Components & Extensions"})]})]})}),e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:n.map(o=>e.jsxs("div",{className:"bg-white border border-gray-400 shadow-[2px_2px_0_rgba(0,0,0,0.1)] p-5 flex flex-col hover:border-blue-500 transition-colors group h-full",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg group-hover:bg-blue-50 group-hover:border-blue-100 transition-colors",children:o.icon}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest px-2 py-1 rounded border ${o.status==="Active"?"bg-green-50 text-green-700 border-green-200":o.status==="Configured"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-100 text-gray-500 border-gray-200"}`,children:o.status})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-blue-700",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-6 leading-relaxed flex-1",children:o.description}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:o.category}),e.jsxs("button",{onClick:()=>l(o.path),className:"flex items-center gap-2 text-xs font-bold text-blue-700 hover:text-blue-900 hover:underline uppercase tracking-wide",children:["Login Module ",e.jsx(ys,{size:14})]})]})]},o.id))}),e.jsx("div",{className:"max-w-7xl mx-auto mt-8 text-center",children:e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-[0.2em]",children:"HRM Terminal v2.5.0  Registered to Island HR Solutions"})})]})]})},iw=()=>{const l=xe(),[n,o]=m.useState(""),[i,u]=m.useState("All"),p=[{id:1,type:"Employee",title:"John Brown",subtitle:"EMP001 - Sales Manager",path:"/employees"},{id:2,type:"Employee",title:"Sarah Smith",subtitle:"EMP002 - Senior Develper",path:"/employees"},{id:3,type:"Page",title:"Payroll Register",subtitle:"Processing > Payroll Register",path:"/payroll/register"},{id:4,type:"Page",title:"Bank Details",subtitle:"Masters > Bank Details",path:"/bank/details"},{id:5,type:"Report",title:"P24 Report",subtitle:"Statutory Reports > P24",path:"/reports/p24"},{id:6,type:"Setting",title:"Company Settings",subtitle:"Admin > Configuration",path:"/company/settings"},{id:7,type:"Employee",title:"David Miller",subtitle:"EMP009 - Operations",path:"/employees"},{id:8,type:"Transaction",title:"TRX-9001",subtitle:"Posted Transaction - John Brown",path:"/processing/posted-register"}].filter(b=>{const h=b.title.toLowerCase().includes(n.toLowerCase())||b.subtitle.toLowerCase().includes(n.toLowerCase()),N=i==="All"||b.type===i;return h&&N}),g=b=>{switch(b){case"Employee":return e.jsx(Mt,{size:16,className:"text-blue-600"});case"Page":return e.jsx(Ne,{size:16,className:"text-gray-600"});case"Report":return e.jsx(Ne,{size:16,className:"text-green-600"});case"Setting":return e.jsx(la,{size:16,className:"text-gray-600"});default:return e.jsx(Ke,{size:16})}};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-6 pb-4 px-4 sticky top-0 bg-[#EBE9D8] z-10 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"bg-blue-600 p-2 rounded-lg shadow-md",children:e.jsx(Ke,{size:24,className:"text-white"})}),e.jsx("h1",{className:"text-xl font-black text-[#0B4FD7] uppercase tracking-wider",children:"Global System Search"})]}),e.jsx("div",{className:"w-full max-w-2xl relative",children:e.jsx("input",{type:"text",autoFocus:!0,value:n,onChange:b=>o(b.target.value),placeholder:"Search employees, reports, pages, or transactions...",className:"w-full p-3 rounded shadow-[2px_2px_0_rgba(0,0,0,0.1)] border-2 border-blue-100 focus:border-blue-600 focus:shadow-[4px_4px_0_rgba(11,79,215,0.2)] outline-none text-base font-bold text-gray-700 transition-all uppercase placeholder:normal-case"})}),e.jsx("div",{className:"flex gap-2 mt-3",children:["All","Employee","Page","Report","Transaction"].map(b=>e.jsx("button",{onClick:()=>u(b),className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider transition-colors ${i===b?"bg-[#0B4FD7] text-white shadow-sm":"bg-white text-gray-500 hover:bg-gray-100"}`,children:b},b))})]}),e.jsx("div",{className:"flex-1 overflow-auto px-4 pt-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[n&&p.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsxs("p",{className:"font-bold",children:['No results found for "',n,'"']}),e.jsx("p",{className:"text-xs mt-1",children:"Try checking your spelling or using different keywords."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.map(b=>e.jsxs("div",{onClick:()=>l(b.path),className:"bg-white border border-gray-200 p-2.5 rounded hover:border-blue-500 hover:shadow-sm cursor-pointer transition-all group flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-gray-50 rounded group-hover:bg-blue-50 transition-colors",children:g(b.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-[13px] group-hover:text-blue-700 leading-tight",children:b.title}),e.jsx("p",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wide",children:b.subtitle})]})]}),e.jsx(ys,{size:14,className:"text-gray-300 group-hover:text-blue-500 opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0"})]},b.id))}),!n&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Type above to begin searching..."})})]})})]})},cw=()=>{const[l,n]=m.useState([]),o=x=>{n(p=>p.includes(x)?p.filter(g=>g!==x):[...p,x])},i=[{question:"How do I reset an employee's password?",answer:"Go to the Employee Management screen, select the employee, click 'Edit', and use the 'Reset Password' option in the Security tab."},{question:"Why is the payroll calculation showing pending?",answer:"Payroll calculations remain in 'Pending' status until all timecards for the period are approved. Check the Timekeeper module for unapproved entries."},{question:"Can I reprint a payslip from last year?",answer:"Yes. Navigate to 'Reports > Payslip Archive', select the tax year and employee, and click 'Print Copy'."},{question:"How do I add a new allowance type?",answer:"Allowance types are managed in 'Company Settings > Payroll Engine'. You need Administrator privileges to add new pay codes."}],u=[{title:"User Manual PDF",icon:e.jsx(t1,{size:18}),desc:"Complete guide to system functions"},{title:"Video Tutorials",icon:e.jsx(C1,{size:18}),desc:"Step-by-step walkthroughs"},{title:"Payroll Regulations",icon:e.jsx(Ne,{size:18}),desc:"Jamaica Tax Guidelines 2025"}];return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#EBE9D8] border-b border-white p-4 shadow-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-emerald-600 p-2 rounded text-white shadow-sm",children:e.jsx(Oh,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-emerald-800 font-black text-xl uppercase tracking-wider",children:"Help & Support"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Documentation & Assistance"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-2",children:i.map((x,p)=>e.jsxs("div",{className:"border border-gray-200 rounded overflow-hidden",children:[e.jsxs("button",{onClick:()=>o(p),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 text-left transition-colors",children:[e.jsx("span",{className:"font-bold text-xs text-gray-700 uppercase",children:x.question}),l.includes(p)?e.jsx(Ys,{size:14}):e.jsx(Ga,{size:14})]}),l.includes(p)&&e.jsx("div",{className:"p-4 bg-white text-xs text-gray-600 leading-relaxed border-t border-gray-100",children:x.answer})]},p))})]}),e.jsxs("div",{className:"bg-[#0B4FD7] text-white p-6 rounded shadow-md flex items-center justify-between overflow-hidden relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"font-black text-lg uppercase tracking-widest",children:"Need Live Assistance?"}),e.jsx("p",{className:"text-blue-100 text-xs mt-1 max-w-md",children:"Our support team is available Mon-Fri, 9:00 AM - 5:00 PM EST. For critical payroll emergencies, use the priority hotline."}),e.jsx("button",{className:"mt-4 bg-white text-blue-700 px-6 py-2 rounded text-xs font-black uppercase tracking-widest hover:bg-blue-50 transition-colors shadow-sm",children:"Start Live Chat"})]}),e.jsx(Tm,{size:120,className:"absolute -right-6 -bottom-6 text-white opacity-10 rotate-12"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Resources"}),e.jsx("div",{className:"space-y-3",children:u.map((x,p)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-100 rounded hover:border-blue-300 hover:bg-blue-50 transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-gray-400 group-hover:text-blue-600",children:x.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-xs text-gray-800",children:x.title}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:x.desc})]})]},p))})]}),e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Contact Support"}),e.jsxs("div",{className:"space-y-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:e.jsx(mv,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:"1-888-HRM-HELP"}),e.jsx("p",{className:"text-gray-500",children:"Toll Free Support"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:e.jsx(Tm,{size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800",children:"support@islandhr.com"}),e.jsx("p",{className:"text-gray-500",children:"24/7 Ticket System"})]})]})]}),e.jsx("hr",{className:"my-4 border-gray-100"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-[10px] text-gray-400",children:["System ID: ",e.jsx("span",{className:"font-mono font-bold text-gray-600",children:"SYS-2025-02-06-A"})]})})]})]})]})})]})},ow=()=>{const l={layoutMode:"Comfortable",animations:!0,stickyToolbar:!0,compactSidebar:!1,autoHideTaskbar:!1,highContrast:!1},[n,o]=m.useState(l),[i,u]=m.useState("idle"),[x,p]=m.useState([]);m.useEffect(()=>{(async()=>{try{const j=await X.fetchUserProfile();if(j.success&&j.data.windowPreferences)o(JSON.parse(JSON.stringify(j.data.windowPreferences)));else{const w=localStorage.getItem("hrm_window_settings");w&&o(JSON.parse(w))}const C=await X.fetchSessions();C.success&&p(C.data.map(w=>({id:w.id,device:g(w.userAgent),ip:w.ipAddress||"Unknown IP",time:b(w.lastActive),isCurrent:w.token===localStorage.getItem("refreshToken")})))}catch(j){console.error("Failed to load window management data",j)}})()},[]);const g=f=>f?f.includes("Mobile")?"Mobile Terminal":f.includes("Windows")?"Windows Desktop":f.includes("Mac OS")?"Mac Workstation":"Web Client":"Unknown Device",b=f=>{const j=new Date(f),w=Math.floor((new Date-j)/1e3);return w<60?"Active Now":w<3600?`${Math.floor(w/60)} mins ago`:w<86400?`${Math.floor(w/3600)} hours ago`:`${Math.floor(w/86400)} days ago`},h=f=>{o(j=>({...j,[f]:!j[f]}))},N=()=>{o(l),localStorage.removeItem("hrm_window_settings");const f=document.getElementById("reset-btn");f&&(f.classList.add("bg-green-100","text-green-700"),setTimeout(()=>{f.classList.remove("bg-green-100","text-green-700")},500))},v=async()=>{u("saving"),localStorage.setItem("hrm_window_settings",JSON.stringify(n));try{await X.updateWindowPreferences(n),u("success"),setTimeout(()=>u("idle"),2e3)}catch(f){console.error("Failed to save preferences",f),u("idle")}},k=async()=>{if(confirm("Are you sure you want to terminate all other remote sessions?"))try{const f=localStorage.getItem("refreshToken");if((await X.terminateSessions(f)).success){alert("Remote sessions terminated successfully.");const C=await X.fetchSessions();C.success&&p(C.data.map(w=>({id:w.id,device:g(w.userAgent),ip:w.ipAddress||"Unknown IP",time:b(w.lastActive),isCurrent:w.token===localStorage.getItem("refreshToken")})))}}catch(f){console.error("Failed to terminate sessions",f),alert("Failed to terminate sessions.")}};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-60px)] bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#EBE9D8] border-b border-white p-4 shadow-sm shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-indigo-600 p-2 rounded text-white shadow-sm",children:e.jsx(Ri,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-indigo-800 font-black text-xl uppercase tracking-wider",children:"Window Management"}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Workspace & Viewport Configuration"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-6 border-b border-gray-100 pb-2",children:"Interface Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{onClick:()=>o(f=>({...f,layoutMode:"Comfortable"})),className:`border-2 p-4 rounded cursor-pointer transition-all ${n.layoutMode==="Comfortable"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} `,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(J1,{size:18,className:n.layoutMode==="Comfortable"?"text-blue-600":"text-gray-400"}),e.jsx("span",{className:"font-bold text-xs uppercase",children:"Comfortable"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:"Standard spacing with optimized readability for desktop displays."})]}),e.jsxs("div",{onClick:()=>o(f=>({...f,layoutMode:"Compact"})),className:`border-2 p-4 rounded cursor-pointer transition-all ${n.layoutMode==="Compact"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} `,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_h,{size:18,className:n.layoutMode==="Compact"?"text-blue-600":"text-gray-400"}),e.jsx("span",{className:"font-bold text-xs uppercase",children:"Compact Density"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:"High-density data grids and reduced padding for power users."})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(lv,{size:16,className:"text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:"Enable UI Animations"}),e.jsx("p",{className:"text-[10px] text-gray-400",children:"Smooth transitions between windows."})]})]}),e.jsx("input",{type:"checkbox",checked:n.animations,onChange:()=>h("animations"),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ri,{size:16,className:"text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:"Sticky Top Bar"}),e.jsx("p",{className:"text-[10px] text-gray-400",children:"Keep navigation visible when scrolling."})]})]}),e.jsx("input",{type:"checkbox",checked:n.stickyToolbar,onChange:()=>h("stickyToolbar"),className:"w-4 h-4"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Workspace Actions"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{id:"reset-btn",onClick:N,className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider transition-colors",children:[e.jsx(Nv,{size:14})," Reset Layout"]}),e.jsx("button",{onClick:v,disabled:i!=="idle",className:`flex items-center gap-2 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider transition-all min-w-[140px] justify-center ${i==="success"?"bg-green-600 text-white":"bg-[#0B4FD7] hover:bg-blue-700 text-white"}`,children:i==="success"?e.jsxs(e.Fragment,{children:[" ",e.jsx(zh,{size:14})," Saved! "]}):i==="saving"?e.jsxs(e.Fragment,{children:[" ",e.jsx(K1,{size:14,className:"animate-spin"})," Saving... "]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(Ot,{size:14})," Save Preference "]})})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-300 shadow-sm p-6 rounded-sm h-full",children:[e.jsx("h2",{className:"text-sm font-black text-gray-700 uppercase tracking-widest mb-4",children:"Active Viewports"}),e.jsx("p",{className:"text-[10px] text-gray-500 mb-4",children:"Manage active sessions connected to your workspace."}),e.jsx("div",{className:"space-y-3",children:x.map(f=>e.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded ${f.isCurrent?"border-blue-200 bg-blue-50":"border-gray-100 bg-gray-50"}`,children:[e.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:f.device.includes("Mobile")?e.jsx(zv,{className:"text-gray-400"}):e.jsx(Uh,{className:f.isCurrent?"text-blue-600":"text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-xs font-bold text-gray-800 uppercase",children:[f.device," ",f.isCurrent&&e.jsx("span",{className:"text-blue-600 text-[9px]",children:"(Current)"})]}),e.jsx("p",{className:"text-[10px] font-mono text-gray-400",children:f.ip})]}),e.jsx("div",{className:`text-[10px] font-bold px-2 py-1 rounded border uppercase ${f.isCurrent?"text-blue-600 bg-blue-100 border-blue-200":"text-green-600 bg-green-50 border-green-100"}`,children:f.time})]},f.id))}),e.jsx("button",{onClick:k,className:"w-full mt-6 border border-red-200 bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded text-xs font-bold uppercase tracking-wider transition-colors",children:"Terminate Remote Sessions"})]})})]})})]})},dw=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-orange-500"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(jt,{size:18}),n==="error"&&e.jsx(Zl,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},uw=()=>{const l=xe(),[n,o]=m.useState(!1),[i]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[u]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[x,p]=m.useState(null),[g,b]=m.useState({payee:"",amount:"",date:new Date().toISOString().split("T")[0],memo:"",chequeNumber:"104013",bank:"BNS - MAIN OPERATING"}),h=(k,f="success")=>{p({message:k,type:f})},N=k=>k?new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(k):"0.00",v=async(k=!1)=>{if(!g.payee||!g.amount){h("Please provide Payee and Amount.","warning");return}try{o(!0);const f={companyId:u.id,chequeNumber:g.chequeNumber,payee:g.payee,amount:parseFloat(g.amount),date:g.date,memo:g.memo,bankAccount:g.bank,status:k?"PRINTED":"PENDING",createdBy:i.email},j=await X.createCheque(f);j.success?(h(k?"Cheque logged and sent to printer.":"Cheque saved to register.","success"),k&&setTimeout(()=>{window.print()},500)):h(j.message||"Failed to save cheque.","error")}catch(f){console.error(f),h("Server error occurred.","error")}finally{o(!1)}};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[x&&e.jsx(dw,{message:x.message,type:x.type,onClose:()=>p(null)}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2 flex items-center justify-between shadow-sm no-print",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"text-gray-700",size:18}),e.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase italic",children:"Single Cheque Facility"})]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 border border-gray-400 text-[10px] font-bold hover:bg-white active:translate-y-0.5 transition-all text-gray-600 uppercase",children:[e.jsx($d,{size:14})," Back"]})]}),e.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-auto flex flex-col items-center",children:e.jsxs("div",{className:"w-full max-w-5xl flex flex-col gap-8",children:[e.jsxs("div",{className:"bg-yellow-50 border-2 border-dashed border-yellow-300 p-8 flex items-center justify-center relative shadow-inner rounded-md overflow-hidden min-h-[220px]",children:[e.jsx("div",{className:"absolute top-2 left-4 text-[9px] font-black text-yellow-600/50 uppercase tracking-widest",children:"Live Security Preview"}),e.jsxs("div",{className:"w-full max-w-2xl bg-white border border-gray-300 p-8 shadow-xl flex flex-col gap-6 font-serif relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03] pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[e.jsxs("div",{className:"flex flex-col uppercase",children:[e.jsx("span",{className:"text-[11px] font-black tracking-tight",children:u.name||"Island HR Solutions Limited"}),e.jsx("span",{className:"text-[8px] font-bold text-gray-400",children:"Kingston, Jamaica"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-[12px] font-black text-gray-800",children:["NO. ",g.chequeNumber]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 border-b border-gray-300 min-w-[120px] text-right mt-1",children:g.date})]})]}),e.jsxs("div",{className:"flex items-end gap-3 relative z-10 mt-2",children:[e.jsx("span",{className:"text-[10px] font-bold italic text-gray-400 shrink-0",children:"PAY TO THE ORDER OF:"}),e.jsx("div",{className:"flex-1 border-b-2 border-blue-900/20 pb-1 px-4",children:e.jsx("span",{className:"text-lg font-black text-blue-900 uppercase tracking-widest whitespace-nowrap min-h-[28px] inline-block",children:g.payee||"........................................................"})}),e.jsxs("div",{className:"flex items-center gap-1 border-2 border-black p-1 px-3 bg-[#F8F9FA] shadow-sm shrink-0",children:[e.jsx("span",{className:"text-[10px] font-black",children:"$"}),e.jsx("span",{className:"text-sm font-black text-gray-900 min-w-[80px] text-right",children:N(g.amount)})]})]}),e.jsxs("div",{className:"flex items-end relative z-10",children:[e.jsx("span",{className:"text-[10px] font-bold italic text-gray-400 shrink-0 pr-4",children:"MEMO:"}),e.jsx("div",{className:"flex-1 border-b border-gray-200 text-[11px] font-bold text-gray-600 italic px-2 pb-1",children:g.memo||"Payroll Disbursement"}),e.jsx("div",{className:"w-48 ml-8 border-b-2 border-gray-300 pb-1 text-center",children:e.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:"AUTHORIZED SIGNATURE"})})]}),e.jsxs("div",{className:"text-[16px] font-black tracking-[0.3em] font-mono text-gray-400 mt-6 flex justify-center gap-4 relative z-10",children:[e.jsxs("span",{children:["000",g.chequeNumber,""]}),e.jsx("span",{children:"0090029"}),e.jsx("span",{children:"003495832"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-400 p-6 shadow-md grid grid-cols-1 md:grid-cols-2 gap-8 no-print",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-700 uppercase border-b border-gray-100 pb-2 flex items-center gap-2",children:[e.jsx(Mt,{size:14,className:"text-blue-600"})," Payee Information"]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Payee Name"}),e.jsx("input",{type:"text",placeholder:"Full Name or Entity...",value:g.payee,onChange:k=>b({...g,payee:k.target.value.toUpperCase()}),className:"p-2 border border-gray-300 bg-gray-50 text-xs font-black text-blue-900 outline-none focus:border-blue-500 focus:bg-white transition-colors"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Cheque Amount (JMD)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Pa,{size:14})}),e.jsx("input",{type:"number",placeholder:"0.00",value:g.amount,onChange:k=>b({...g,amount:k.target.value}),className:"w-full p-2 pl-8 border border-gray-300 bg-gray-50 text-xs font-black text-blue-900 outline-none focus:border-blue-500 focus:bg-white transition-colors"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("h3",{className:"text-xs font-black text-gray-700 uppercase border-b border-gray-100 pb-2 flex items-center gap-2",children:[e.jsx(ha,{size:14,className:"text-blue-600"})," Transaction Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Issue Date"}),e.jsx("input",{type:"date",value:g.date,onChange:k=>b({...g,date:k.target.value}),className:"p-2 border border-gray-300 bg-gray-50 text-[11px] font-bold outline-none focus:border-blue-500 cursor-pointer"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Cheque Number"}),e.jsx("input",{type:"text",value:g.chequeNumber,onChange:k=>b({...g,chequeNumber:k.target.value}),className:"p-2 border border-gray-300 bg-gray-50 text-[11px] font-bold outline-none focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[e.jsxs("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tighter flex items-center gap-1",children:[e.jsx(Iv,{size:10})," Memo / Reference"]}),e.jsx("textarea",{rows:"1",placeholder:"Enter memo tag...",value:g.memo,onChange:k=>b({...g,memo:k.target.value}),className:"p-2 border border-gray-300 bg-gray-50 text-xs font-bold outline-none focus:border-blue-500 focus:bg-white transition-colors flex-1 resize-none"})]})]})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-gray-400 p-2 flex flex-col sm:flex-row justify-end gap-3 no-print px-4",children:[e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-6 py-1 bg-white border-2 border-gray-400 text-[11px] font-black text-gray-800 hover:bg-gray-50 transition-all shadow-sm active:translate-y-0.5 group",children:[e.jsx(Ee,{size:14,className:"text-gray-600 group-hover:text-red-600"}),e.jsx("span",{children:"Close"})]}),e.jsxs("button",{onClick:()=>v(!1),disabled:n,className:"px-6 py-2.5 flex items-center justify-center gap-2 text-[10px] font-black text-blue-800 bg-white border-2 border-white border-b-gray-600 border-r-gray-600 hover:bg-blue-50 active:translate-y-0.5 transition-all w-full sm:w-auto uppercase italic",children:[n?e.jsx(ge,{size:16,className:"animate-spin"}):e.jsx(Ot,{size:16}),"Record Without Printing"]}),e.jsxs("button",{onClick:()=>v(!0),disabled:n,className:"px-10 py-2.5 bg-blue-700 text-white border-2 border-blue-500 border-b-blue-900 border-r-blue-900 flex items-center justify-center gap-2 text-[10px] font-black w-full sm:w-auto uppercase italic hover:bg-blue-800 active:translate-y-0.5 transition-all shadow-lg",children:[n?e.jsx(ge,{size:16,className:"animate-spin"}):e.jsx(_e,{size:16}),"Finalize & Print Cheque"]})]})]})},xw=({message:l,type:n,onClose:o})=>{m.useEffect(()=>{const u=setTimeout(o,3e3);return()=>clearTimeout(u)},[o]);const i={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-orange-500"};return e.jsxs("div",{className:`fixed bottom-4 right-4 ${i[n]||"bg-gray-800"} text-white px-4 py-3 rounded shadow-lg flex items-center gap-3 z-50 animate-fade-in-up`,children:[n==="success"&&e.jsx(jt,{size:18}),n==="error"&&e.jsx(Zl,{size:18}),n==="warning"&&e.jsx(ia,{size:18}),e.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:l}),e.jsx("button",{onClick:o,className:"ml-2 hover:bg-white/20 rounded-full p-1",children:e.jsx(tt,{size:14})})]})},pw=({isOpen:l,onClose:n,title:o,children:i,type:u="normal"})=>l?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:`bg-white w-full max-w-sm rounded shadow-2xl border-2 overflow-hidden transform transition-all scale-100 ${u==="danger"?"border-red-500":"border-gray-200"}`,children:[e.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${u==="danger"?"bg-red-50 border-red-200":"bg-[#D4D0C8] border-gray-300"}`,children:[e.jsx("h3",{className:`font-black uppercase text-xs tracking-wider ${u==="danger"?"text-red-700":"text-gray-700"}`,children:o}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-red-600 transition-colors",children:e.jsx(tt,{size:16})})]}),e.jsx("div",{className:"p-4 bg-[#EBE9D8]",children:i})]})}):null,mw=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(""),[x,p]=m.useState("All"),[g]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[b]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),[h,N]=m.useState([]),[v,k]=m.useState(null),[f,j]=m.useState(null),C=(E,R="success")=>{k({message:E,type:R})},w=async()=>{if(b.id)try{o(!0);const E=await X.fetchChequeHistory({companyId:b.id});if(E.success){const R=(E.data.cheques||[]).map(O=>({id:O.id,chequeNum:O.chequeNumber,date:new Date(O.printDate||O.date).toLocaleDateString(),payee:O.payee?.toUpperCase()||"UNKNOWN PAYEE",amount:parseFloat(O.amount),bank:O.bankAccount||"Main Account",status:O.status||"Printed",type:O.type||"Single"}));N(R)}}catch(E){console.error(E),C("Failed to fetch history.","error")}finally{o(!1)}};m.useEffect(()=>{w()},[b.id]);const D=E=>new Intl.NumberFormat("en-JM",{minimumFractionDigits:2,maximumFractionDigits:2}).format(E),L=async()=>{if(f)try{o(!0);const E=await X.voidCheque(f.id,{reason:"User Repayment Reversal",voidedBy:g.email});E.success?(C(`Cheque #${f.chequeNum} VOIDED successfully.`,"success"),w(),j(null)):C(E.message||"Failed to void cheque.","error")}catch(E){console.error(E),C("Server error during void operation.","error")}finally{o(!1)}},A=()=>{const R=[["Date","Cheque #","Payee","Amount","Bank","Type","Status"].join(","),...S.map($=>[$.date,$.chequeNum,`"${$.payee}"`,$.amount,`"${$.bank}"`,$.type,$.status].join(","))].join(`
`),O=new Blob([R],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(O),M=document.createElement("a");M.setAttribute("href",F),M.setAttribute("download",`cheque_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M),C("History exported to CSV.","info")},S=h.filter(E=>{const R=E.payee.toLowerCase().includes(i.toLowerCase())||E.chequeNum.includes(i)||E.id.toString().includes(i),O=x==="All"||E.bank.toLowerCase().includes(x.toLowerCase());return R&&O}),_=S.filter(E=>E.status==="Printed").reduce((E,R)=>E+R.amount,0),B=S.filter(E=>E.status==="Voided").reduce((E,R)=>E+R.amount,0);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs relative",children:[v&&e.jsx(xw,{message:v.message,type:v.type,onClose:()=>k(null)}),e.jsx(pw,{isOpen:!!f,onClose:()=>j(null),title:"Security Override Required",type:"danger",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 p-3 rounded text-red-900 text-xs flex items-start gap-2",children:[e.jsx(ia,{size:16,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:["Are you sure you want to ",e.jsxs("strong",{children:["VOID Cheque #",f?.chequeNum]}),"?",e.jsx("div",{className:"mt-1 font-normal opacity-80",children:"This action will nullify the financial impact but remain in the audit logs."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 bg-gray-200 text-gray-700 font-bold uppercase text-[10px] rounded-sm hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-700 text-white font-bold uppercase text-[10px] rounded-sm hover:bg-red-800 transition-colors shadow-sm",children:"Confirm Void"})]})]})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-4 py-2.5 flex items-center justify-between shadow-sm select-none",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ne,{className:"text-gray-700",size:20}),e.jsxs("div",{children:[e.jsx("span",{className:"font-black text-blue-900 text-sm uppercase italic block leading-none",children:"Global Cheque Issuance Register"}),e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mt-0.5",children:"Station 042 :: Secure Audit Stream"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsxs("div",{className:"text-[10px] font-black text-blue-800 animate-pulse italic flex items-center gap-1",children:[e.jsx(ge,{size:12,className:"animate-spin"})," SCANNING LEDGER..."]}),e.jsxs("button",{onClick:w,disabled:n,className:"flex items-center gap-2 px-5 py-2 bg-white border-2 border-white border-r-gray-400 border-b-gray-400 text-[10px] font-black hover:bg-blue-50 active:translate-y-1 active:border-b-0 active:border-r-0 transition-all text-blue-900 uppercase italic shadow-md",children:[e.jsx(yt,{size:14,className:n?"animate-spin":""})," ",n?"FETCHING...":"SYNC_CENTRAL"]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 px-5 py-2 bg-[#E0DCCF] border-2 border-white border-r-gray-600 border-b-gray-600 text-[11px] font-black italic text-red-700 hover:bg-white hover:text-red-900 transition-all shadow-md active:translate-y-1 active:border-b-0 active:border-r-0 uppercase tracking-tighter",children:[e.jsx(Ee,{size:16})," Close Terminal"]})]})]}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-gray-400 p-3 flex flex-col md:flex-row gap-4 items-center shadow-inner no-print",children:[e.jsxs("div",{className:"flex items-center bg-white border-2 border-white border-r-gray-400 border-b-gray-400 px-4 py-1 shadow-md group hover:border-blue-500 transition-all w-full md:w-96 h-10",children:[e.jsxs("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest shrink-0 border-r border-gray-100 pr-4 h-4 flex items-center gap-2 italic",children:[e.jsx(Ke,{size:14})," Global Search"]}),e.jsx("input",{type:"text",placeholder:"RECIPIENT PAYEE OR SERIAL #",value:i,onChange:E=>u(E.target.value),className:"bg-transparent outline-none flex-1 text-[11px] font-black text-blue-950 border-none focus:ring-0 p-0 pl-4 uppercase placeholder:text-gray-300 placeholder:font-normal placeholder:italic italic"})]}),e.jsxs("div",{className:"flex items-center bg-white border-2 border-white border-r-gray-400 border-b-gray-400 px-4 py-1 shadow-md group hover:border-blue-500 transition-all w-full md:w-72 h-10",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest shrink-0 border-r border-gray-100 pr-4 h-4 flex items-center italic",children:"Bank Source"}),e.jsxs("select",{value:x,onChange:E=>p(E.target.value),className:"bg-transparent outline-none flex-1 text-[11px] font-black text-blue-900 border-none focus:ring-0 p-0 pl-4 appearance-none cursor-pointer italic",children:[e.jsx("option",{value:"All",children:"All Active Accounts"}),e.jsx("option",{value:"BNS",children:"BNS Operating"}),e.jsx("option",{value:"NCB",children:"NCB Payroll"}),e.jsx("option",{value:"JN",children:"JN Development"})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex gap-4 w-full md:w-auto items-center",children:[e.jsxs("button",{onClick:A,className:"flex-1 md:flex-none h-10 px-8 bg-[#316AC5] border-2 border-white border-r-[#000040] border-b-[#000040] text-[10px] font-black flex items-center justify-center gap-3 hover:bg-blue-600 active:translate-y-1 active:border-r-0 active:border-b-0 shadow-xl transition-all text-white uppercase italic tracking-widest",children:[e.jsx(He,{size:14})," COMMIT TO CSV"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex-1 md:flex-none h-10 px-8 bg-[#E0DCCF] border-2 border-white border-r-gray-600 border-b-gray-600 text-[10px] font-black flex items-center justify-center gap-3 hover:bg-white active:translate-y-1 active:border-r-0 active:border-b-0 shadow-md transition-all text-blue-900 uppercase italic tracking-widest",children:[e.jsx(_e,{size:14})," GEN_REPORT"]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-hidden flex flex-col min-h-0",children:e.jsx("div",{className:"bg-white border-2 border-white border-r-gray-500 border-b-gray-500 shadow-2xl flex-1 overflow-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-50 rounded-sm hover:border-blue-100 transition-colors",children:e.jsxs("table",{className:"w-full text-[11px] border-collapse min-w-[1000px] relative",children:[e.jsx("thead",{className:"sticky top-0 bg-[#F0F0F0] z-20 shadow-sm border-b-2 border-gray-400 font-black italic uppercase text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-r border-gray-300 w-28 text-left",children:"Timestamp"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-28 text-center bg-gray-50 italic",children:"Serial Num"}),e.jsx("th",{className:"p-4 border-r border-gray-300 text-left",children:"Recipient Entity (Payee)"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-36 text-right",children:"Settlement (JMD)"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-36",children:"Bank Origin"}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-24 text-center",children:"Batch Ph."}),e.jsx("th",{className:"p-4 border-r border-gray-300 w-28 text-center",children:"Audit Status"}),e.jsx("th",{className:"p-4 w-20 text-center no-print bg-gray-50",children:"Control"})]})}),e.jsx("tbody",{className:"font-bold text-gray-700 divide-y divide-gray-100",children:S.length>0?S.map(E=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-all group cursor-crosshair",children:[e.jsx("td",{className:"p-3 border-r border-gray-50 font-mono text-gray-400 group-hover:text-blue-600",children:E.date}),e.jsxs("td",{className:"p-3 border-r border-gray-50 bg-gray-50/20 text-center font-black text-gray-600 group-hover:text-blue-900 italic",children:["#",E.chequeNum]}),e.jsx("td",{className:"p-3 border-r border-gray-50 uppercase text-blue-900 font-black tracking-tight group-hover:translate-x-1 transition-transform",children:E.payee}),e.jsxs("td",{className:`p-3 border-r border-gray-50 text-right font-black italic tabular-nums group-hover:scale-105 transition-transform origin-right ${E.status==="Voided"?"text-gray-300 line-through":"text-blue-800"}`,children:["$ ",D(E.amount)]}),e.jsx("td",{className:"p-3 border-r border-gray-50 text-gray-400 text-[10px] uppercase font-black italic tracking-tighter truncate max-w-[120px]",children:E.bank}),e.jsx("td",{className:"p-3 border-r border-gray-50 text-center",children:e.jsx("span",{className:`px-2 py-0.5 text-[9px] rounded-full border-2 font-black italic uppercase tracking-tighter shadow-sm ${E.type==="Batch"?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:E.type})}),e.jsx("td",{className:"p-3 border-r border-gray-50 text-center",children:e.jsxs("div",{className:`inline-flex items-center justify-center gap-1.5 px-3 py-1 rounded-sm border-2 font-black italic text-[9px] uppercase shadow-inner ${E.status==="PRINTED"?"bg-green-50 border-green-200 text-green-700":E.status==="PENDING"?"bg-yellow-50 border-yellow-200 text-yellow-700":E.status==="VOID"?"bg-red-50 border-red-200 text-red-600 line-through":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[E.status==="PRINTED"?e.jsx(jt,{size:12}):E.status==="PENDING"?e.jsx(ge,{size:12}):e.jsx(zi,{size:12}),E.status]})}),e.jsx("td",{className:"p-3 text-center no-print bg-gray-50/10",children:E.status!=="Voided"&&e.jsx("button",{onClick:()=>j(E),title:"EXECUTE VOID PROTOCOL",className:"p-1 px-3 bg-white border border-red-200 text-red-500 hover:bg-red-600 hover:text-white hover:border-red-700 rounded-sm shadow-sm active:scale-90 transition-all font-black text-[9px]",children:"VOID"})})]},E.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"p-10 text-center font-black italic text-gray-300 uppercase tracking-[0.4em] select-none animate-pulse",children:"Scanning Secure Database Registry..."})})})]})})}),e.jsxs("div",{className:"bg-[#D4D0C8] border-t-2 border-white p-3 flex flex-col sm:flex-row justify-between items-center px-8 font-black text-gray-500 text-[10px] uppercase tracking-widest gap-4 shadow-2xl z-20",children:[e.jsx("div",{className:"flex bg-white px-4 py-1.5 border-2 border-white border-r-gray-200 border-b-gray-200 rounded-full shadow-inner",children:e.jsxs("span",{className:"text-gray-400 italic",children:["Showing ",S.length," of ",h.length," audit items in buffer"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 items-center bg-gray-200/50 p-2.5 px-6 rounded-sm border border-gray-300 shadow-inner",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[9px] opacity-70",children:"Cumulative Settlement Value"}),e.jsxs("span",{className:"text-blue-900 border-l border-gray-400 pl-3 font-black italic text-sm tabular-nums tracking-tighter",children:["$ ",_.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex items-center gap-3 border-l sm:border-l-2 border-gray-400 sm:pl-8",children:[e.jsx("span",{className:"text-[9px] opacity-70 text-red-400",children:"Voided Liabilities"}),e.jsxs("span",{className:"text-red-700 border-l border-gray-400 pl-3 font-black italic text-sm tabular-nums tracking-tighter",children:["$ ",B.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]})},hw=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),x=()=>{o(!0),u(null),setTimeout(()=>{const p=localStorage.getItem("company_settings_v1"),g=p?JSON.parse(p):null,b=[{id:1,label:"Browser Environment",status:"OK",desc:`${navigator.userAgent.slice(0,40)}...`,icon:e.jsx(Ri,{size:18,className:"text-blue-500"})},{id:2,label:"App Load Status",status:"OK",desc:"Application bundle verified (v2.5.0)",icon:e.jsx(Lt,{size:18,className:"text-green-500"})},{id:3,label:"Local Storage Health",status:localStorage?"OK":"FAIL",desc:`Available: ${Math.round(JSON.stringify(localStorage).length/1024)} KB used`,icon:e.jsx(xa,{size:18,className:"text-purple-500"})},{id:4,label:"Payroll Configuration",status:g?"OK":"WARNING",desc:g?"Master settings detected":"Defaults in use (Needs Sync)",icon:e.jsx(it,{size:18,className:"text-gray-500"})},{id:5,label:"Last Session Sync",status:"OK",desc:`Synchronized: ${new Date().toLocaleTimeString()}`,icon:e.jsx(Cd,{size:18,className:"text-orange-500"})}];u(b),o(!1)},2e3)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4 bg-white flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"System Diagnostics"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Health & Environment Analyzer"})]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 border border-gray-300 px-4 py-2 text-[10px] font-bold uppercase hover:bg-gray-50 transition-colors",children:[e.jsx(Ee,{size:14,className:"text-gray-400"}),"Exit"]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-300 p-8 shadow-sm flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(Cd,{size:32,className:`text-blue-600 ${n?"animate-pulse":""}`})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase mb-2",children:"Internal Station Audit"}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md",children:"Run a comprehensive check on your local environment to ensure hardware, software, and storage interfaces are operating within nominal parameters."}),!n&&!i&&e.jsx("button",{onClick:x,className:"bg-gray-800 text-white px-12 py-3 rounded text-[10px] font-bold uppercase hover:bg-black transition-colors tracking-[0.2em] shadow-lg",children:"Run Full Diagnostics"}),n&&e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(ge,{className:"animate-spin text-blue-600",size:32}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Scanning Components..."})]})]}),i&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-2 mb-4",children:["Diagnostic Report  ",new Date().toLocaleDateString()]}),i.map(p=>e.jsxs("div",{className:"bg-white border border-gray-200 p-4 flex items-center gap-4 shadow-sm group hover:border-gray-400 transition-colors",children:[e.jsx("div",{className:"p-2 bg-gray-50 border border-gray-100 rounded",children:p.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-bold text-gray-800 uppercase text-[11px]",children:p.label}),e.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded border ${p.status==="OK"?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-300"}`,children:p.status})]}),e.jsx("p",{className:"text-gray-400 font-medium text-[10px] uppercase",children:p.desc})]})]},p.id)),e.jsxs("div",{className:"bg-blue-600 p-4 flex justify-between items-center text-white mt-8 rounded shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(it,{size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold uppercase tracking-wider text-[11px]",children:"Audit Result: SECURE"}),e.jsx("p",{className:"text-blue-100 text-[9px] uppercase font-medium",children:"All critical station components are operational."})]})]}),e.jsx("button",{onClick:()=>u(null),className:"text-[9px] font-black uppercase text-blue-200 hover:text-white transition-colors",children:"Clear Report"})]})]})]})})]})},bw=()=>{const l=xe(),[n,o]=m.useState("Light"),[i,u]=m.useState(!1),[x,p]=m.useState(0),[g,b]=m.useState(!1),[h,N]=m.useState(!1),v=()=>{b(!1),u(!0),N(!1),p(0);let k=0;const f=setInterval(()=>{k+=Math.random()*20,k>=100&&(k=100,clearInterval(f),setTimeout(()=>{u(!1),N(!0),n==="Full"&&Object.keys(localStorage).forEach(j=>{(j.includes("log")||j.includes("temp"))&&localStorage.removeItem(j)})},500)),p(k)},300)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans text-xs",children:[e.jsxs("div",{className:"border-b border-gray-300 px-6 py-4 bg-white flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold text-gray-800 uppercase tracking-tight",children:"Database Integrity Utility"}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Cache Optimization & Record Pruning"})]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 border border-gray-300 px-4 py-2 text-[10px] font-bold uppercase hover:bg-gray-50 transition-colors",children:[e.jsx(Ee,{size:14,className:"text-gray-400"}),"Exit"]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-300 p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-purple-50 rounded border border-purple-100",children:e.jsx(Ih,{className:"text-purple-600",size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 uppercase",children:"Station Maintenance"}),e.jsx("p",{className:"text-gray-400 text-[10px] font-medium uppercase tracking-widest",children:"Storage & Performance Optimizer"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded",children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3",children:"Cleanup Level"}),e.jsxs("select",{value:n,onChange:k=>o(k.target.value),disabled:i,className:"w-full p-3 bg-white border border-gray-300 rounded text-xs font-bold text-gray-700 outline-none focus:border-purple-500 transition-colors appearance-none",children:[e.jsx("option",{children:"Light (Cached UI Assets only)"}),e.jsx("option",{children:"Medium (UI Assets + Temporary Session Logs)"}),e.jsx("option",{children:"Full (Complete cache wipe + Reset non-critical settings)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border border-gray-100 rounded bg-white",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-2",children:"Target Storage"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 italic",children:"localStorage::HRM_TEMP_*"})]}),e.jsxs("div",{className:"p-4 border border-gray-100 rounded bg-white",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-2",children:"Estimated Recovery"}),e.jsx("p",{className:"text-xs font-bold text-green-600",children:n==="Light"?"12 KB":n==="Medium"?"45 KB":"150 KB"})]})]}),!i&&!h&&e.jsx("button",{onClick:()=>b(!0),className:"w-full bg-purple-600 text-white font-bold py-3 uppercase tracking-widest hover:bg-purple-700 shadow-md transition-all active:translate-y-0.5",children:"Run System Cleanup"}),i&&e.jsxs("div",{className:"space-y-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[e.jsx("span",{children:"Optimizing Tables & Cache..."}),e.jsxs("span",{children:[Math.round(x),"%"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden border border-gray-200",children:e.jsx("div",{className:"h-full bg-purple-600 transition-all duration-300",style:{width:`${x}%`}})}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 font-mono text-[9px] italic",children:[e.jsx(ge,{size:12,className:"animate-spin"}),e.jsx("span",{children:"TRUNCATING HRM_TEMP_BUFFER..."})]})]}),h&&e.jsxs("div",{className:"p-6 bg-green-50 border border-green-200 text-center animate-in fade-in zoom-in duration-300",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-200",children:e.jsx(jt,{size:24,className:"text-green-600"})}),e.jsx("h3",{className:"text-sm font-bold text-green-800 uppercase mb-2",children:"Cleanup Successful"}),e.jsx("p",{className:"text-green-600/80 text-[10px] font-medium uppercase mb-6",children:"Temporary records removed. Station overhead reduced."}),e.jsx("button",{onClick:()=>N(!1),className:"text-[10px] font-black text-green-800 uppercase underline tracking-tighter hover:text-green-900",children:"Back to utility setup"})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-start gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[e.jsx(js,{className:"text-yellow-600 shrink-0",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-yellow-800 text-[10px] uppercase tracking-wider mb-1",children:"Integrity Warning"}),e.jsx("p",{className:"text-yellow-700 text-[9px] font-medium uppercase leading-relaxed",children:'Avoid running "Full Cleanup" during an active payroll calculation session. Ensure all Master Engine operations are finalized before pruning temporary caches.'})]})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-[8px_8px_0_rgba(0,0,0,0.2)] max-w-sm w-full p-8 text-center animate-in slide-in-from-bottom-4 duration-200",children:[e.jsx($r,{className:"text-red-600 mx-auto mb-4",size:48}),e.jsx("h3",{className:"text-lg font-black text-gray-800 uppercase mb-2 tracking-tight",children:"Confirm Purge"}),e.jsxs("p",{className:"text-gray-500 text-[11px] font-medium mb-8 leading-relaxed",children:["You are about to execute a ",n," integrity cleanup. This action will permanently remove temporary station logs. Proceed?"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-3 border border-gray-300 font-bold uppercase text-[10px] hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v,className:"flex-1 py-3 bg-red-600 text-white font-bold uppercase text-[10px] hover:bg-red-700 shadow-md transition-all active:translate-y-0.5",children:"Purge Now"})]})]})})]})},fw=()=>{const l=xe(),[n,o]=m.useState(!1),[i,u]=m.useState(null),[x,p]=m.useState([]);m.useEffect(()=>{p([{id:1,time:"14:20:05",activity:"Admin Login",status:"SUCCESS",ip:"127.0.0.1"},{id:2,time:"14:45:12",activity:"Settings Access",status:"SUCCESS",ip:"127.0.0.1"},{id:3,time:"15:10:33",activity:"Payroll Export",status:"FLAGGED",ip:"Internal Station"},{id:4,time:"Yesterday 10:15",activity:"Root Access Attempt",status:"FAILED",ip:"192.168.1.5"}])},[]);const g=()=>{o(!0),u(null),setTimeout(()=>{const b=JSON.parse(localStorage.getItem("currentUser")||"{}"),h={score:92,checks:[{id:1,label:"Session Integrity",status:"PASS",desc:`Authenticated as ${b.role||"Guest"}`,icon:e.jsx(qv,{size:16})},{id:2,label:"Encryption Protocol",status:"PASS",desc:"Station-to-Interface secured via AES-256 simulation",icon:e.jsx(Ai,{size:16})},{id:3,label:"Password Policy",status:"WARNING",desc:"Legacy password detected (Policy v1.2 required)",icon:e.jsx(Ba,{size:16})},{id:4,label:"Role-Based Access",status:"PASS",desc:`ACL restricted to ${b.role} scope`,icon:e.jsx(it,{size:16})}],threats:[{id:1,type:"Unauthorized Request",origin:"192.168.1.5",severity:"High",msg:"Failed login attempt at 10:15 Yesterday"},{id:2,type:"Information Disclosure",origin:"Station App",severity:"Low",msg:"Local storage contains readable TRN fragments"}]};u(h),o(!1)},2500)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#1A1C1E] font-sans text-xs text-gray-300",children:[e.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 bg-[#212429] flex justify-between items-center shadow-lg",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-sm font-bold text-white uppercase tracking-tight flex items-center gap-2",children:[e.jsx(Ba,{className:"text-blue-500",size:18}),"Station Security Audit"]}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Access Control & Threat Detection"})]}),e.jsxs("button",{onClick:()=>l(-1),className:"flex items-center gap-2 border border-gray-700 px-4 py-2 text-[10px] font-bold uppercase text-gray-400 hover:bg-gray-800 hover:text-white transition-colors",children:[e.jsx(Ee,{size:14}),"Exit Terminal"]})]}),e.jsx("div",{className:"flex-1 p-6 lg:p-12 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-[#212429] border border-gray-800 p-8 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -top-12 -right-12 text-blue-500/10 group-hover:text-blue-500/20 transition-colors",children:e.jsx(Ba,{size:160})}),e.jsx("h2",{className:"text-xl font-black text-white uppercase mb-4 tracking-tight relative z-10",children:"Threat Landscape Scan"}),e.jsx("p",{className:"text-gray-400 text-sm mb-8 leading-relaxed relative z-10 max-w-lg",children:"Review station access logs, session tokens, and cryptographic handshakes to identify vulnerabilities in the local HRM instance."}),!n&&!i&&e.jsx("button",{onClick:g,className:"bg-blue-600 text-white font-bold py-4 px-12 uppercase tracking-[0.2em] shadow-[0_0_20px_rgba(37,99,235,0.3)] hover:bg-blue-700 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Initiate Cryptic Audit"}),n&&e.jsxs("div",{className:"flex flex-col items-center gap-6 py-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"animate-spin text-blue-500",size:48}),e.jsx(Ba,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white",size:20})]}),e.jsx("span",{className:"text-xs font-black text-blue-400 uppercase tracking-[0.3em] animate-pulse",children:"Analyzing Packets & Roles..."})]}),i&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-700",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.checks.map(b=>e.jsxs("div",{className:"bg-[#1A1C1E] border border-gray-800 p-4 flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded ${b.status==="PASS"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500"}`,children:b.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white uppercase text-[10px] mb-1",children:b.label}),e.jsx("p",{className:"text-gray-500 text-[9px] uppercase font-medium",children:b.desc})]})]},b.id))}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-6",children:[e.jsxs("h3",{className:"text-red-500 font-black uppercase text-[10px] tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Ba,{size:14})," Detectable Risks"]}),e.jsx("div",{className:"space-y-3",children:i.threats.map(b=>e.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-3 last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-[11px] mb-1",children:b.type}),e.jsx("p",{className:"text-gray-500 text-[9px] uppercase font-bold tracking-tighter",children:b.msg})]}),e.jsx("span",{className:`px-2 py-0.5 text-[8px] font-black uppercase rounded ${b.severity==="High"?"bg-red-600 text-white":"bg-gray-700 text-gray-400"}`,children:b.severity})]},b.id))})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-[#212429] border border-gray-800 overflow-hidden shadow-xl h-full",children:[e.jsxs("div",{className:"bg-gray-800/20 px-4 py-3 border-b border-gray-800 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest",children:"Live Activity Log"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[x.map(b=>e.jsxs("div",{className:"font-mono text-[9px] space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center text-gray-500",children:[e.jsxs("span",{children:["[",b.time,"]"]}),e.jsxs("span",{className:b.status==="FAILED"?"text-red-500":b.status==="FLAGGED"?"text-yellow-500":"text-green-500",children:[":: ",b.status]})]}),e.jsxs("div",{className:"text-gray-400 border-l border-gray-700 pl-2",children:["SRC_IP: ",b.ip," | TASK: ",b.activity]})]},b.id)),e.jsxs("div",{className:"mt-8 p-4 bg-blue-900/10 border border-blue-500/20 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[e.jsx(Fh,{size:14}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Station Note"})]}),e.jsx("p",{className:"text-[9px] text-gray-500 uppercase font-bold leading-relaxed italic",children:"Security logs are persistent across browser sessions but restricted to this local machine instance only."})]})]})]})})]})})]})},gw=()=>{const l=xe(),[n,o]=m.useState([]),[i,u]=m.useState(!0),[x,p]=m.useState(""),[g,b]=m.useState(50),[h]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),N=async()=>{try{u(!0);const C=await X.fetchAuditLogs(g);C.success&&Array.isArray(C.data)&&o(C.data)}catch(C){console.error("Failed to fetch audit logs",C)}finally{u(!1)}};m.useEffect(()=>{N()},[g]);const v=C=>C?String(C).replace(/_/g," ").toLowerCase().replace(/\b\w/g,w=>w.toUpperCase()):"UNKNOWN ACTION",k=C=>C?new Date(C).toLocaleString():"N/A",f=()=>{const C=n.filter(S=>(S.username||"").toLowerCase().includes(x.toLowerCase())||(S.action||"").toLowerCase().includes(x.toLowerCase())||(S.entity||"").toLowerCase().includes(x.toLowerCase())),w=[["ID","USER","ACTION","ENTITY","ENTITY ID","TIMESTAMP","IP","USER AGENT"],...C.map(S=>[S.id,S.username||S.userId,S.action,S.entity,S.entityId,S.createdAt,S.ipAddress||"N/A",`"${S.userAgent||"N/A"}"`])].map(S=>S.join(",")).join(`
`),D=new Blob([w],{type:"text/csv;charset=utf-8;"}),L=URL.createObjectURL(D),A=document.createElement("a");A.setAttribute("href",L),A.setAttribute("download",`Audit_Trail_${new Date().toISOString().split("T")[0]}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)},j=n.filter(C=>(C.username||"").toLowerCase().includes(x.toLowerCase())||(C.action||"").toLowerCase().includes(x.toLowerCase())||(C.entity||"").toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F5F5F7] font-sans",children:[e.jsxs("div",{className:"bg-white border-b border-gray-300 px-6 py-4 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight flex items-center gap-2",children:[e.jsx($l,{className:"text-blue-600",size:20}),"System Audit Trail"]}),e.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-widest mt-1",children:"Secure immutable event logging"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-white border border-gray-300 text-[10px] font-bold uppercase text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(He,{size:14}),"Export Trail"]}),e.jsxs("button",{onClick:()=>l(-1),className:"px-4 py-2 bg-gray-800 text-white text-[10px] font-bold uppercase hover:bg-black transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ee,{size:14}),"Exit Console"]})]})]}),e.jsxs("div",{className:"bg-[#EBECEF] p-4 px-6 border-b border-gray-300 grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{className:"md:col-span-2 flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Global Search"}),e.jsxs("div",{className:"flex items-center bg-white border border-gray-300 p-2 shadow-inner focus-within:border-blue-500 transition-colors",children:[e.jsx(Ke,{size:14,className:"text-gray-400 mr-2"}),e.jsx("input",{type:"text",placeholder:"NAME, ACTION, OR ENTITY...",value:x,onChange:C=>p(C.target.value),className:"w-full text-xs font-bold outline-none uppercase placeholder:italic placeholder:font-normal"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Entry Limit"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:g,onChange:C=>b(Number(C.target.value)),className:"w-full bg-white border border-gray-300 p-2 text-xs font-bold outline-none appearance-none",children:[e.jsx("option",{value:50,children:"Last 50 Entries"}),e.jsx("option",{value:100,children:"Last 100 Entries"}),e.jsx("option",{value:500,children:"Last 500 Entries"}),e.jsx("option",{value:1e3,children:"Full Archive (1000)"})]}),e.jsx(Ys,{className:"absolute right-2 top-2 text-gray-400 pointer-events-none",size:14})]})]}),e.jsx("button",{onClick:N,className:"bg-white border border-gray-400 p-2 text-[10px] font-bold uppercase text-blue-700 shadow-sm hover:translate-y-[-1px] active:translate-y-[1px]",children:"Refresh Pulse"})]}),e.jsx("div",{className:"flex-1 p-6 overflow-hidden flex flex-col",children:e.jsxs("div",{className:"bg-white border border-gray-300 shadow-xl flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"overflow-auto flex-1 scrollbar-thin scrollbar-thumb-gray-300",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 border-b border-gray-300",children:e.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter italic",children:[e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Session User"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"Operation / Action"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-center",children:"Entity"}),e.jsx("th",{className:"p-3 border-r border-gray-200",children:"ID Reference"}),e.jsx("th",{className:"p-3 border-r border-gray-200 text-center",children:"Protocol IP"}),e.jsx("th",{className:"p-3",children:"Event Timestamp"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 font-medium",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(ge,{className:"animate-spin text-blue-600",size:32}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase animate-pulse",children:"Scanning Secure Repository..."})]})})}):j.length>0?j.map((C,w)=>e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors group text-[11px]",children:[e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center border border-gray-200 text-gray-500 group-hover:bg-blue-100 transition-colors",children:e.jsx(Mt,{size:12})}),e.jsx("span",{className:"font-bold text-gray-800 uppercase",children:C.username||"System"})]})}),e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsx("span",{className:"font-bold text-blue-900 italic tracking-tight uppercase",children:v(C.action)})}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center",children:e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 border border-blue-100 rounded text-[9px] font-black text-blue-700 uppercase",children:C.entity||"CORE"})}),e.jsx("td",{className:"p-3 border-r border-gray-100",children:e.jsx("code",{className:"text-[10px] text-gray-400 group-hover:text-blue-600 transition-colors",children:C.entityId?`#${C.entityId.substring(0,8)}...`:"N/A"})}),e.jsx("td",{className:"p-3 border-r border-gray-100 text-center",children:e.jsx("span",{className:"text-[10px] font-mono text-gray-400 uppercase tracking-tighter",children:C.ipAddress||"0.0.0.0"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-mono italic text-[10px]",children:[e.jsx(Ti,{size:12}),k(C.createdAt)]})})]},w)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center text-gray-300 font-black italic uppercase tracking-[0.2em]",children:"No Immutable Logs Found"})})})]})}),e.jsxs("div",{className:"bg-gray-50 p-2 px-6 border-t border-gray-300 flex justify-between items-center text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[e.jsxs("span",{children:["Buffer: ",j.length," Records displayed"]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(qa,{size:10,className:"animate-pulse"}),"Live Telemetry Link Active"]})]})]})})]})},ji=({user:l,allowedRoles:n,children:o})=>{const i=xe();return l?n.includes(l.role)?o||e.jsx(Wm,{}):e.jsx("div",{className:"flex items-center justify-center min-h-screen w-full bg-[#EBE9D8]/50 backdrop-blur-[2px] p-4",children:e.jsxs("div",{className:"w-full max-w-[450px] bg-[#D4D0C8] border-2 border-white border-b-gray-800 border-r-gray-800 shadow-xl flex flex-col animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"h-7 bg-[#316AC5] flex items-center justify-between px-1.5 py-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),e.jsx("span",{className:"text-white text-[11px] font-bold tracking-tight",children:"System Security Restriction"})]}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("button",{className:"w-[18px] h-[14px] bg-[#D4D0C8] border border-white border-b-gray-800 border-r-gray-800 text-black text-[9px] flex items-center justify-center font-bold hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white",children:"?"}),e.jsx("button",{onClick:()=>i(-1),className:"w-[18px] h-[14px] bg-[#D4D0C8] border border-white border-b-gray-800 border-r-gray-800 text-black text-[9px] flex items-center justify-center font-bold hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white",children:"X"})]})]}),e.jsxs("div",{className:"p-6 flex gap-6 mt-1",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-white border border-gray-400 rounded-full flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"text-red-600 text-2xl font-black",children:"!"})})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 leading-tight",children:"Access Denied"}),e.jsx("p",{className:"text-[11px] text-gray-600 font-medium",children:"Insufficient Authorization Profile"})]}),e.jsxs("div",{className:"text-[12px] text-gray-800 leading-relaxed font-medium",children:["Your current session profile ",e.jsxs("span",{className:"font-bold underline decoration-red-400",children:['"',l.role,'"']})," is not authorized to access the requested module:",e.jsxs("div",{className:"mt-2 p-2 bg-white border border-gray-300 font-mono text-[10px] text-red-700 shadow-inner break-all",children:["PATH: ",window.location.pathname]})]}),e.jsx("p",{className:"text-[11px] text-gray-500 italic",children:"Please contact your System Administrator to request elevated privileges for this sector."})]})]}),e.jsxs("div",{className:"bg-[#D4D0C8] p-4 flex justify-end gap-2 border-t border-gray-100/30",children:[e.jsx("button",{onClick:()=>i("/"),className:"min-w-[80px] px-4 py-1.5 bg-[#D4D0C8] border-2 border-white border-b-gray-800 border-r-gray-800 text-[11px] font-bold text-gray-800 hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white transition-colors",children:"Return Home"}),e.jsx("button",{onClick:()=>i(-1),className:"min-w-[80px] px-4 py-1.5 bg-[#D4D0C8] border-2 border-white border-b-gray-800 border-r-gray-800 text-[11px] font-bold text-gray-800 hover:bg-gray-100 active:border-gray-800 active:border-b-white active:border-r-white transition-colors",children:"Cancel"})]})]})}):e.jsx(Zm,{to:"/",replace:!0})},yw=()=>{const[l,n]=m.useState([{id:1,year:2026,period:1,startDate:"2026-01-01",endDate:"2026-01-14",status:"Closed"},{id:2,year:2026,period:2,startDate:"2026-01-15",endDate:"2026-01-28",status:"Closed"},{id:3,year:2026,period:3,startDate:"2026-01-29",endDate:"2026-02-11",status:"Open"}]);return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(ha,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Pay Period Management"})]})}),e.jsx("div",{className:"p-4 flex-1 overflow-auto",children:e.jsxs("div",{className:"bg-white border border-gray-400 p-4 shadow-sm max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"font-bold text-gray-700",children:"Pay Periods - 2026"}),e.jsxs("button",{className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-blue-700",children:[e.jsx(Ns,{size:12})," New Period"]})]}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-xs",children:[e.jsx("thead",{className:"bg-[#EBE9D8]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Year"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Period #"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Start Date"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"End Date"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Status"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:l.map(o=>e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.year}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.period}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.startDate}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:o.endDate}),e.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${o.status==="Open"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:o.status})}),e.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-center flex justify-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Hh,{size:14})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx($r,{size:14})})]})]},o.id))})]})]})})]})},jw=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Gd,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Run Payroll Process"})]})}),e.jsx("div",{className:"p-8 flex items-center justify-center flex-1",children:e.jsxs("div",{className:"max-w-md w-full bg-white border border-gray-400 p-6 shadow-lg rounded-sm text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4 text-blue-600",children:e.jsx(la,{size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Initialize Payroll Run"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"You are about to calculate payroll for Period 3 (2026). This process will process timesheets and generate payslips."}),e.jsx("button",{className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-sm hover:bg-blue-700 shadow-md active:translate-y-0.5 transition-all",children:"START CALCULATION ENGINE"}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-amber-600 text-xs font-semibold bg-amber-50 p-2 border border-amber-200 rounded",children:[e.jsx(ia,{size:14}),e.jsx("span",{children:"Warning: Ensure all timesheets are approved."})]})]})})]}),Nw=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Hi,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Payroll Batch Review"})]})}),e.jsx("div",{className:"p-4 flex-1",children:e.jsxs("div",{className:"bg-white border border-gray-400 p-8 flex flex-col items-center justify-center h-full text-center opacity-80",children:[e.jsx(Lt,{size:48,className:"text-green-600 mb-4"}),e.jsx("h2",{className:"text-lg font-bold text-gray-700",children:"Batch Validation Service"}),e.jsx("p",{className:"text-gray-500 max-w-sm mt-2",children:"Review module allows auditing of calculated payroll before finalization. Currently awaiting calculation data."})]})})]}),vw=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsx("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Ei,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Historical Payroll Records"})]})}),e.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(l=>e.jsxs("div",{className:"bg-white border border-gray-300 p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"font-bold text-blue-800 text-sm",children:["Period ",l," - 2026"]}),e.jsx("span",{className:"bg-green-100 text-green-800 text-[10px] px-2 py-0.5 rounded-full font-bold",children:"FINALIZED"})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:["Date: Jan ",l*14,", 2026"]}),e.jsx("p",{children:"Employees: 42"}),e.jsx("p",{children:"Total Net: $1,240,500.00"})]}),e.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 flex justify-end",children:e.jsxs("button",{className:"text-[10px] font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(Ne,{size:12})," VIEW REPORT"]})})]},l))})]}),ww=()=>{const l=xe(),n=_t(),[o,i]=m.useState(""),[u,x]=m.useState(!1),[p,g]=m.useState([]),[b,h]=m.useState(null),[N]=m.useState(JSON.parse(localStorage.getItem("currentUser")||"{}")),[v]=m.useState(JSON.parse(localStorage.getItem("selectedCompany")||"{}")),k=async()=>{try{x(!0);const j=await X.fetchPayrolls({companyId:v.id});if(j.success){const C=j.data.map(L=>({id:L.id,empId:L.employee?.employeeId,name:`${L.employee?.firstName} ${L.employee?.lastName}`,period:L.period,trn:L.employee?.trn||"XXX-XXX-XXX",department:L.employee?.department?.name||"GEN",gross:parseFloat(L.grossSalary),net:parseFloat(L.netSalary),tax:parseFloat(L.tax),deductions:parseFloat(L.deductions),date:L.paymentDate?new Date(L.paymentDate).toLocaleDateString():new Date(L.createdAt).toLocaleDateString()}));g(C);const w=n.state?.payrollId,D=w?C.find(L=>L.id===w):C[0];h(D)}}catch(j){console.error(j)}finally{x(!1)}};m.useEffect(()=>{k()},[v.id]);const f=p.filter(j=>j.name.toLowerCase().includes(o.toLowerCase())||j.empId.toLowerCase().includes(o.toLowerCase()));return u&&!b?e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[#EBE9D8]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"size-12 text-blue-800 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"font-black text-gray-700 italic uppercase tracking-widest",children:"Accessing Secure Vault..."})]})}):e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm no-print",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsx($d,{size:18,className:"text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Ne,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Secure Payslip Previewer V2.0"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-6 py-1.5 bg-white border-2 border-white border-r-gray-600 border-b-gray-600 font-black uppercase text-[10px] hover:bg-gray-50 active:translate-y-0.5 transition-all shadow-sm italic text-blue-900",children:[e.jsx(_e,{size:14})," Commit to Print"]})})]}),e.jsxs("div",{className:"flex h-full overflow-hidden",children:[e.jsxs("div",{className:"w-72 bg-white border-r border-gray-300 flex flex-col no-print shrink-0 shadow-inner",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Ke,{size:14,className:"absolute left-3 top-3 text-gray-400 group-focus-within:text-blue-600 transition-colors"}),e.jsx("input",{type:"text",placeholder:"FILTER SECURE LIST...",className:"w-full pl-9 pr-2 py-2.5 text-[10px] font-black border-2 border-gray-200 bg-white focus:bg-white outline-none focus:border-blue-400 uppercase italic transition-all shadow-inner",value:o,onChange:j=>i(j.target.value)})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200",children:f.map(j=>e.jsxs("div",{onClick:()=>h(j),className:`p-4 border-b border-gray-50 cursor-pointer flex items-center gap-4 transition-all hover:bg-blue-50/50 group ${b?.id===j.id?"bg-blue-50 border-r-4 border-r-blue-600 shadow-md":""}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-sm border-2 ${b?.id===j.id?"bg-blue-600 text-white border-blue-400":"bg-gray-100 text-gray-400 border-white"}`,children:e.jsx(Mt,{size:18})}),e.jsxs("div",{className:"truncate flex-1",children:[e.jsx("div",{className:`text-[11px] font-black uppercase tracking-tight ${b?.id===j.id?"text-blue-900":"text-gray-700"}`,children:j.name}),e.jsxs("div",{className:"text-[9px] font-black text-gray-400 group-hover:text-blue-400 transition-colors italic uppercase",children:[j.empId,"  ",j.period]})]})]},j.id))})]}),e.jsx("div",{className:"flex-1 bg-gray-200/50 p-4 sm:p-8 overflow-auto flex justify-center bg-[url('https://www.transparenttextures.com/patterns/graphy.png')] scrollbar-thin scrollbar-thumb-gray-400",children:b?e.jsxs("div",{className:"bg-white shadow-[0_0_60px_rgba(0,0,0,0.1)] w-full max-w-2xl min-h-[842px] border border-gray-300 p-8 sm:p-16 relative flex flex-col rounded-sm",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none select-none rotate-[-45deg]",children:e.jsx("h1",{className:"text-8xl font-black uppercase italic tracking-[1em]",children:"SYSTEM_DOCK"})}),e.jsxs("div",{className:"flex justify-between items-start border-b-4 border-gray-900 pb-8 mb-10 relative z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 leading-none tracking-tighter uppercase italic",children:N.companyName||"ISLAND HR SOLUTIONS"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 mt-2 uppercase tracking-[0.3em] italic",children:"Electronic Remittance Docket :: Station PR-042"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"bg-gray-900 text-white px-4 py-1.5 text-[10px] font-black italic tracking-[0.2em] uppercase rounded-sm shadow-md",children:"CONFIDENTIAL"}),e.jsxs("p",{className:"text-[10px] font-black text-gray-900 mt-3 uppercase italic tracking-widest",children:["DOCKET END: ",b.period.toUpperCase()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-10 bg-gray-50/80 p-6 border-2 border-white rounded-lg shadow-inner relative z-10",children:[e.jsxs("div",{className:"border-r border-gray-200 px-2",children:[e.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mb-2 italic",children:"Employee Identification"}),e.jsx("p",{className:"text-lg font-black text-gray-900 uppercase italic tracking-tight underline decoration-blue-500/30 underline-offset-4",children:b.name}),e.jsx("p",{className:"text-xs font-black text-gray-400 mt-1 uppercase tracking-widest",children:b.empId})]}),e.jsxs("div",{className:"text-right px-2",children:[e.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest mb-2 italic",children:"Assignment / Cost Center"}),e.jsx("p",{className:"text-lg font-black text-gray-900 uppercase italic tracking-tight",children:b.department}),e.jsxs("p",{className:"text-xs font-black text-gray-400 mt-1 uppercase tracking-widest",children:["TRN: XX-XX-",b.trn.slice(-3)]})]})]}),e.jsxs("div",{className:"flex-1 space-y-12 relative z-10",children:[e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("h4",{className:"border-b-2 border-gray-900 text-xs font-black uppercase italic mb-4 flex justify-between pb-1 tracking-widest",children:[e.jsx("span",{className:"bg-gray-900 text-white px-3 py-0.5",children:"01 // Gross Remittances"}),e.jsx("span",{className:"text-gray-900 self-end",children:"Amount (JMD)"})]}),e.jsx("div",{className:"space-y-3 px-2",children:e.jsxs("div",{className:"flex justify-between text-sm font-black text-gray-800 italic uppercase",children:[e.jsx("span",{children:"Consolidated Gross Compensation"}),e.jsxs("span",{className:"tabular-nums",children:["$ ",b.gross.toLocaleString(void 0,{minimumFractionDigits:2})]})]})})]}),e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-150",children:[e.jsxs("h4",{className:"border-b-2 border-gray-900 text-xs font-black uppercase italic mb-4 flex justify-between pb-1 tracking-widest",children:[e.jsx("span",{className:"bg-gray-900 text-white px-3 py-0.5",children:"02 // Statutory Obligations"}),e.jsx("span",{className:"text-gray-900 self-end",children:"Liability (JMD)"})]}),e.jsxs("div",{className:"space-y-4 px-2",children:[e.jsxs("div",{className:"flex justify-between text-xs font-black text-red-700 italic uppercase",children:[e.jsx("span",{children:"Statutory Taxation (PAYE)"}),e.jsxs("span",{className:"tabular-nums",children:["(",b.tax.toLocaleString(void 0,{minimumFractionDigits:2}),")"]})]}),e.jsxs("div",{className:"flex justify-between text-xs font-black text-red-700 italic uppercase",children:[e.jsx("span",{children:"Aggregate Deductions"}),e.jsxs("span",{className:"tabular-nums",children:["(",b.deductions.toLocaleString(void 0,{minimumFractionDigits:2}),")"]})]})]})]})]}),e.jsxs("div",{className:"mt-auto border-t-4 border-gray-900 pt-8 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center bg-[#000080] p-6 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] italic mb-1 text-blue-200",children:"Final Net Liquidation"}),e.jsx("span",{className:"text-xs font-bold text-blue-300/50 uppercase tracking-widest",children:"Electronic Fund Transfer Approved"})]}),e.jsxs("span",{className:"text-3xl font-black italic tracking-tighter tabular-nums drop-shadow-md",children:["$ ",b.net.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 text-[9px] font-black text-gray-400 italic uppercase tracking-tighter",children:[e.jsxs("p",{children:["Authentication Hash: ",b.id.substring(0,16),"..."]}),e.jsxs("p",{className:"text-right",children:["Valid System Docket :: ",b.date,e.jsx("br",{}),"Decrypted session ",new Date().toLocaleTimeString()]})]})]})]}):e.jsx("div",{className:"p-20 text-center italic font-black text-gray-300 uppercase tracking-[0.5em]",children:"Inventory cache is empty or inaccessible."})})]})]})},Sw=()=>e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(la,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"Individual Payroll Configurations"})]}),e.jsxs("button",{className:"flex items-center gap-1 bg-green-600 text-white px-3 py-1 rounded-sm text-xs font-bold hover:bg-green-700 shadow-sm border border-green-800",children:[e.jsx(Ot,{size:12})," Save"]})]}),e.jsx("div",{className:"p-4 overflow-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border border-gray-400 p-6 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Default Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:"Standard Payment Method"}),e.jsxs("select",{className:"w-full border border-gray-300 p-2 text-sm rounded-sm",children:[e.jsx("option",{children:"Bank Transfer"}),e.jsx("option",{children:"Cheque"}),e.jsx("option",{children:"Cash"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:"Tax Calculation Mode"}),e.jsxs("select",{className:"w-full border border-gray-300 p-2 text-sm rounded-sm",children:[e.jsx("option",{children:"Cumulative"}),e.jsx("option",{children:"Period-based"})]})]})]})]})})]}),kw=()=>{const l=xe(),[n,o]=m.useState([]),[i,u]=m.useState(null),[x,p]=m.useState(!1),[g,b]=m.useState(null);m.useEffect(()=>{(async()=>{p(!0);try{const v=localStorage.getItem("selectedCompany"),k=v?JSON.parse(v):null;if(b(k),k){const f=await X.fetchEmployees(k.id);f.success&&o(f.data)}}catch(v){console.error(v)}finally{p(!1)}})()},[]);const h=N=>{const v=n.find(k=>k.id===N.target.value);u(v||null)};return e.jsxs("div",{className:"flex flex-col h-full w-full bg-[#EBE9D8] font-sans text-xs",children:[e.jsxs("div",{className:"bg-[#D4D0C8] border-b border-gray-400 px-3 py-2 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-blue-700 text-white rounded-sm flex items-center justify-center shadow-sm",children:e.jsx(Td,{size:14})}),e.jsx("span",{className:"font-black text-gray-700 text-xs sm:text-sm uppercase italic tracking-tighter",children:"P45 Service Termination Certificate"})]}),e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1 bg-green-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-green-700 uppercase tracking-tighter hover:bg-green-700",children:[e.jsx(_e,{size:12})," Print Cert"]}),e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-blue-700 uppercase tracking-tighter hover:bg-blue-700",children:[e.jsx(He,{size:12})," Export P45"]})]}),e.jsxs("button",{onClick:()=>l(-1),className:"px-3 py-1 bg-gray-500 text-white text-[10px] font-bold flex items-center gap-1 shadow-sm border border-gray-600 uppercase tracking-tighter hover:bg-gray-600",children:[e.jsx(Ee,{size:12})," Exit Cmd"]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-400 p-6 shadow-md relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-700"}),e.jsx("h2",{className:"text-xs font-black text-blue-900 mb-4 uppercase tracking-[0.2em] italic border-b pb-2",children:"Termination Protocol Interface"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Select Subject Employee"}),e.jsxs("select",{onChange:h,value:i?.id||"",className:"w-full p-2 border border-blue-300 bg-blue-50/30 text-blue-900 font-bold outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"-- SEARCH TERMINATED INDEX --"}),n.map(N=>e.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName," [",N.employeeId,"] - ",N.status]},N.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-2 opacity-50 pointer-events-none",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Termination Date (ISO)"}),e.jsx("input",{type:"date",className:"p-2 border border-gray-300 bg-gray-50 font-bold",value:new Date().toISOString().split("T")[0],readOnly:!0})]})]})]}),i?e.jsxs("div",{className:"bg-white border-2 border-gray-800 p-12 shadow-2xl relative print:border-0 print:shadow-none min-h-[1000px]",children:[e.jsxs("div",{className:"absolute top-8 right-12 text-center border-2 border-gray-400 p-2 transform rotate-12",children:[e.jsx("div",{className:"text-[8px] font-black text-gray-400 uppercase leading-none",children:"Form ID"}),e.jsx("div",{className:"text-sm font-black text-gray-800",children:"P45-V2"})]}),e.jsxs("div",{className:"text-center mb-12 border-b-4 border-double border-gray-800 pb-8",children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-[0.2em]",children:"Government of Jamaica"}),e.jsx("h2",{className:"text-xl font-black text-gray-700 uppercase mt-2",children:"Particulars of Employee Leaving Service"}),e.jsxs("p",{className:"text-xs font-bold text-gray-500 mt-2 italic uppercase tracking-widest",children:["Tax Administration Jamaica - Year ",new Date().getFullYear()]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 mb-12",children:[e.jsxs("div",{className:"border border-gray-800 p-6 flex flex-col gap-4",children:[e.jsx("div",{className:"text-xs font-black bg-gray-900 text-white px-3 py-1 self-start uppercase tracking-widest mb-2",children:"1. Registered Office Info"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[11px] font-bold",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Employer Name:"}),e.jsx("p",{className:"uppercase",children:g?.name||"SYNCING..."})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Employer TRN:"}),e.jsx("p",{children:g?.trn||"000-000-000"})]})]})]}),e.jsxs("div",{className:"border border-gray-800 p-6 flex flex-col gap-4",children:[e.jsx("div",{className:"text-xs font-black bg-gray-900 text-white px-3 py-1 self-start uppercase tracking-widest mb-2",children:"2. Employee Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-6 text-[11px] font-bold",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Family Name:"}),e.jsx("p",{className:"uppercase text-lg",children:i.lastName})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"First Name:"}),e.jsx("p",{className:"uppercase text-lg",children:i.firstName})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Employee TRN:"}),e.jsx("p",{children:i.trn||"X-XXXX-XXXX"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"NIS Number:"}),e.jsx("p",{children:i.nisNumber||"X-XXXXXX-X"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Terminal Status:"}),e.jsx("p",{className:"text-red-700 uppercase italic font-black",children:i.status})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 uppercase text-[9px]",children:"Leaving Date:"}),e.jsx("p",{children:new Date().toLocaleDateString("en-JM",{day:"numeric",month:"long",year:"numeric"})})]})]})]})]}),e.jsx("div",{className:"mt-24 p-8 border-t-2 border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"space-y-8 flex flex-col items-center",children:[e.jsx("div",{className:"w-64 border-b border-gray-800"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Employer Certification Signature"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900 border-2 border-gray-800 p-4 mb-2",children:["DATE: ",new Date().toLocaleDateString()]}),e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Office of Registry Seal Required"})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-[9px] text-gray-300 uppercase tracking-[0.5em] italic",children:"Original Component of HRM Smart Engine v5.1.0"})})]}):e.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 h-[600px] flex flex-col items-center justify-center text-center p-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:e.jsx(ge,{className:"text-gray-400 animate-spin",size:32})}),e.jsx("h3",{className:"text-xl font-black text-gray-400 uppercase italic tracking-widest",children:"Awaiting Identity Target"}),e.jsx("p",{className:"text-gray-400 mt-4 max-w-sm font-bold text-xs uppercase leading-relaxed",children:"Please select a personnel record from the termination index above to generate the specialized P45 Leaving Service Certificate."})]})]})})]})},Ew=({user:l})=>{if(!l)return e.jsx(s2,{});switch(l.role){case"ADMIN":return e.jsx(Y2,{});case"HR_MANAGER":return e.jsx(Im,{});case"FINANCE":return e.jsx(J2,{});case"EMPLOYEE":case"STAFF":return e.jsx(V2,{});default:return e.jsx(Im,{})}},Cw=({onLogout:l,currentUser:n})=>e.jsxs(wy,{children:[e.jsxs(re,{element:e.jsx(sj,{onLogout:l}),children:[e.jsx(re,{path:"/",element:e.jsx(Ew,{user:n})}),e.jsx(re,{path:"/search",element:e.jsx(iw,{})}),e.jsx(re,{path:"/help",element:e.jsx(cw,{})}),e.jsx(re,{path:"/window",element:e.jsx(ow,{})}),e.jsx(re,{path:"/format",element:e.jsx(zm,{title:"Report Formatting"})}),e.jsx(re,{path:"/files",element:e.jsx(k2,{})}),e.jsx(re,{path:"/files/import",element:e.jsx(Mr,{})}),e.jsx(re,{path:"/files/backup",element:e.jsx(Mr,{})}),e.jsx(re,{path:"/files/restore",element:e.jsx(Mr,{})}),e.jsx(re,{path:"/reports/hub",element:e.jsx(B2,{})}),e.jsxs(re,{element:e.jsx(ji,{user:n,allowedRoles:["ADMIN","HR_MANAGER","FINANCE"]}),children:[e.jsx(re,{path:"/employees",element:e.jsx(i2,{})}),e.jsx(re,{path:"/attendance",element:e.jsx(c2,{})}),e.jsx(re,{path:"/leave",element:e.jsx(o2,{})}),e.jsx(re,{path:"/salary",element:e.jsx(d2,{})}),e.jsx(re,{path:"/employees/payroll-settings",element:e.jsx(Sw,{})}),e.jsx(re,{path:"/payroll/periods",element:e.jsx(yw,{})}),e.jsx(re,{path:"/payroll/history",element:e.jsx(vw,{})}),e.jsx(re,{path:"/payroll/payslip-preview",element:e.jsx(ww,{})}),e.jsx(re,{path:"/payroll/register",element:e.jsx(l2,{})}),e.jsx(re,{path:"/payroll/register/print",element:e.jsx(n2,{})}),e.jsx(re,{path:"/processing/transaction-register",element:e.jsx(Rm,{})}),e.jsx(re,{path:"/processing/time-keeper",element:e.jsx(f2,{})}),e.jsx(re,{path:"/processing/run-payroll",element:e.jsx(jw,{})}),e.jsx(re,{path:"/processing/payroll-review",element:e.jsx(Nw,{})}),e.jsx(re,{path:"/processing/payroll-calculation",element:e.jsx(g2,{})}),e.jsx(re,{path:"/processing/advance",element:e.jsx(y2,{})}),e.jsx(re,{path:"/processing/status",element:e.jsx(j2,{})}),e.jsx(re,{path:"/processing/payroll-wizard",element:e.jsx(D2,{})}),e.jsx(re,{path:"/processing/calculation-register",element:e.jsx(A2,{})}),e.jsx(re,{path:"/processing/update",element:e.jsx(S2,{})}),e.jsx(re,{path:"/processing/redundancy",element:e.jsx(T2,{})}),e.jsx(re,{path:"/processing/user-labels",element:e.jsx(X2,{})}),e.jsx(re,{path:"/processing/mass-entry",element:e.jsx(Q2,{})}),e.jsx(re,{path:"/processing/import-saved",element:e.jsx(Mr,{})}),e.jsx(re,{path:"/processing/import-timesheets",element:e.jsx(Mr,{})}),e.jsx(re,{path:"/processing/import-jmd-fx",element:e.jsx(Mr,{})}),e.jsx(re,{path:"/processing/sales-share",element:e.jsx(Z2,{})}),e.jsx(re,{path:"/processing/gang-shift",element:e.jsx(W2,{})}),e.jsx(re,{path:"/processing/post-transactions",element:e.jsx(lw,{})}),e.jsx(re,{path:"/processing/posted-register",element:e.jsx(aw,{})}),e.jsx(re,{path:"/processing/mass-updating",element:e.jsx(K2,{})}),e.jsx(re,{path:"/email-payslips",element:e.jsx(Lm,{})}),e.jsx(re,{path:"/reports/employee",element:e.jsx(u2,{})}),e.jsx(re,{path:"/reports/attendance",element:e.jsx(x2,{})}),e.jsx(re,{path:"/reports/salary",element:e.jsx(p2,{})}),e.jsx(re,{path:"/reports/nis",element:e.jsx(G2,{})}),e.jsx(re,{path:"/reports/p24",element:e.jsx(Mm,{})}),e.jsx(re,{path:"/reports/p45",element:e.jsx(kw,{})}),e.jsx(re,{path:"/reports/nht",element:e.jsx(_m,{})}),e.jsx(re,{path:"/payslips/manage",element:e.jsx(_2,{})}),e.jsx(re,{path:"/reports/payroll-summary",element:e.jsx(Om,{})}),e.jsx(re,{path:"/reports/payroll-summary-individual",element:e.jsx(Om,{individual:!0})}),e.jsx(re,{path:"/reports/transaction-register",element:e.jsx(Rm,{})}),e.jsx(re,{path:"/reports/turnover",element:e.jsx(P2,{})}),e.jsx(re,{path:"/reports/ytd-breakdown",element:e.jsx(U2,{})}),e.jsx(re,{path:"/reports/retention",element:e.jsx(H2,{})}),e.jsx(re,{path:"/reports/email-p24",element:e.jsx(Lm,{})})]}),e.jsxs(re,{element:e.jsx(ji,{user:n,allowedRoles:["ADMIN","FINANCE"]}),children:[e.jsx(re,{path:"/entries/*",element:e.jsx(km,{})})," ",e.jsx(re,{path:"/entries/sales",element:e.jsx(km,{})}),e.jsx(re,{path:"/entries/purchase",element:e.jsx(IN,{})}),e.jsx(re,{path:"/entries/payment",element:e.jsx(FN,{})}),e.jsx(re,{path:"/masters/parties",element:e.jsx(ON,{})}),e.jsx(re,{path:"/masters/items",element:e.jsx(MN,{})}),e.jsx(re,{path:"/masters/ledgers",element:e.jsx(_N,{})}),e.jsx(re,{path:"/reports/ledger",element:e.jsx(BN,{})}),e.jsx(re,{path:"/reports/trial-balance",element:e.jsx(PN,{})}),e.jsx(re,{path:"/reports/profit-loss",element:e.jsx(UN,{})}),e.jsx(re,{path:"/bank/details",element:e.jsx(a2,{})}),e.jsx(re,{path:"/transaction/entry",element:e.jsx(r2,{})}),e.jsx(re,{path:"/processing/disbursement",element:e.jsx(w2,{})}),e.jsx(re,{path:"/processing/cheque-printing",element:e.jsx(L2,{})}),e.jsx(re,{path:"/processing/cheque-single",element:e.jsx(uw,{})}),e.jsx(re,{path:"/processing/cheque-history",element:e.jsx(mw,{})}),e.jsx(re,{path:"/reports/bank-transfer-advice",element:e.jsx(q2,{})}),e.jsx(re,{path:"/reports/crystal",element:e.jsx($2,{})}),e.jsx(re,{path:"/banking/bns",element:e.jsx(Or,{bank:"BNS"})}),e.jsx(re,{path:"/banking/ncb",element:e.jsx(Or,{bank:"NCB"})}),e.jsx(re,{path:"/banking/jn",element:e.jsx(Or,{bank:"JN"})}),e.jsx(re,{path:"/banking/jmmb",element:e.jsx(Or,{bank:"JMMB"})}),e.jsx(re,{path:"/banking/sagicor",element:e.jsx(Or,{bank:"SAGICOR"})}),e.jsx(re,{path:"/banking/citibank",element:e.jsx(Or,{bank:"CITIBANK"})}),e.jsx(re,{path:"/banking/payment-advice",element:e.jsx(zm,{title:"Electronic Payment Advice Module"})}),e.jsx(re,{path:"/statutory/p24",element:e.jsx(Mm,{})}),e.jsx(re,{path:"/statutory/p45",element:e.jsx(Lr,{type:"P45"})}),e.jsx(re,{path:"/statutory/nht",element:e.jsx(_m,{})}),e.jsx(re,{path:"/statutory/nis-nht",element:e.jsx(Lr,{type:"NIS-NHT"})}),e.jsx(re,{path:"/statutory/s01",element:e.jsx(Lr,{type:"S01"})}),e.jsx(re,{path:"/statutory/s02",element:e.jsx(Lr,{type:"S02"})}),e.jsx(re,{path:"/statutory/pension",element:e.jsx(Lr,{type:"Pension"})}),e.jsx(re,{path:"/statutory/tax-upload",element:e.jsx(Lr,{type:"TaxUpload"})})]}),e.jsxs(re,{element:e.jsx(ji,{user:n,allowedRoles:["ADMIN"]}),children:[e.jsx(re,{path:"/company/setup",element:e.jsx(e2,{})}),e.jsx(re,{path:"/company/settings",element:e.jsx(t2,{})}),e.jsx(re,{path:"/company/system-settings",element:e.jsx(m2,{})}),e.jsx(re,{path:"/company/custom-modules",element:e.jsx(nw,{})}),e.jsx(re,{path:"/tools",element:e.jsx(E2,{})}),e.jsx(re,{path:"/tools/diagnostics",element:e.jsx(hw,{})}),e.jsx(re,{path:"/tools/cleanup",element:e.jsx(bw,{})}),e.jsx(re,{path:"/tools/security",element:e.jsx(fw,{})}),e.jsx(re,{path:"/tools/audit",element:e.jsx(gw,{})})]}),e.jsxs(re,{element:e.jsx(ji,{user:n,allowedRoles:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE"]}),children:[e.jsx(re,{path:"/employee/payslips",element:e.jsx(I2,{})}),e.jsx(re,{path:"/employee/documents",element:e.jsx(F2,{})}),e.jsx(re,{path:"/transactions",element:e.jsx(C2,{})})]})]}),e.jsx(re,{path:"*",element:e.jsx(Zm,{to:"/",replace:!0})})]}),Dw=({onLogin:l})=>{const[n,o]=m.useState(""),[i,u]=m.useState(""),[x,p]=m.useState(null),[g,b]=m.useState(!1),h=async k=>{k&&k.preventDefault(),b(!0),p(null);try{const f=await X.login(n,i||"demo");f.success?l(f.data.user):p(f.message)}catch{p("Login failed. Please try again.")}finally{b(!1)}},N=k=>{let f="admin@islandhr.com",j="admin123";k==="hr"?(f="hr@islandhr.com",j="admin123"):k==="finance"?(f="finance@islandhr.com",j="admin123"):k==="employee"&&(f="staff@islandhr.com",j="admin123"),o(f),u(j),p(null)},v=()=>{o(""),u(""),p(null)};return e.jsxs("div",{className:"w-full max-w-[600px] mx-auto bg-[#EBE9D8] border border-gray-400 shadow-[8px_8px_0_rgba(0,0,0,0.2)] font-sans",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#0055E5] to-[#003399] text-white px-3 py-1.5 flex justify-between items-center shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($l,{size:14,className:"text-blue-200"}),e.jsx("span",{className:"text-xs font-bold tracking-wide text-shadow",children:"User Verification"})]}),e.jsx("button",{onClick:v,className:"hover:bg-red-500 rounded px-1.5 text-white/80 hover:text-white transition-colors",children:""})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row min-h-0 divide-y sm:divide-y-0 sm:divide-x divide-gray-300",children:[e.jsx("div",{className:"p-4 sm:p-6 w-full sm:w-[60%]",children:e.jsxs("div",{className:"flex gap-4 h-full",children:[e.jsx("div",{className:"hidden sm:block w-1.5 bg-gradient-to-b from-blue-500 to-transparent  opacity-30 h-full"}),e.jsxs("form",{onSubmit:h,className:"flex-1 flex flex-col justify-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-gray-800 font-extrabold text-xl sm:text-2xl tracking-tighter",children:"System Access"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Secure Identity Verification Required"})]}),x&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-3 py-2.5 text-[10px] font-black flex items-center gap-2 animate-pulse",children:[e.jsx(Cm,{size:16,className:"shrink-0"})," ",x]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"User Identity"}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"text",name:"username",autoComplete:"username",autoFocus:!0,value:n,onChange:k=>o(k.target.value),className:"w-full px-4 py-2.5 sm:py-2 border-2 border-gray-200 focus:border-blue-500 bg-white text-sm font-bold text-gray-800 outline-none shadow-sm transition-all rounded",placeholder:"Enter ID..."})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Password"}),e.jsx("div",{className:"relative group",children:e.jsx("input",{type:"password",name:"password",autoComplete:"current-password",value:i,onChange:k=>u(k.target.value),className:"w-full px-4 py-2.5 sm:py-2 border-2 border-gray-200 focus:border-blue-500 bg-white text-sm font-bold text-gray-800 outline-none shadow-sm transition-all rounded",placeholder:""})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[e.jsx("button",{onClick:k=>h(k),disabled:g,className:"flex-1 bg-[#0055E5] hover:bg-blue-700 text-white py-3 sm:py-2 px-6 font-black text-[11px] uppercase tracking-widest shadow-sm active:translate-y-0.5 transition-all flex items-center justify-center gap-3 ",children:g?e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white  animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign In"})," ",e.jsx(Ah,{size:14})]})}),e.jsxs("button",{type:"button",onClick:v,className:"flex-1 bg-white border-2 border-gray-200 hover:bg-red-50 hover:border-red-200 text-gray-600 hover:text-red-700 py-3 sm:py-2 px-6 font-black text-[11px] uppercase tracking-widest active:translate-y-0.5 transition-all flex items-center justify-center gap-3  shadow-sm",children:[e.jsx("span",{children:"Reset"})," ",e.jsx(Cm,{size:14})]})]})]})]})}),e.jsxs("div",{className:"w-full sm:w-[40%] bg-gray-50/50 p-4 sm:p-6 flex flex-col justify-center",children:[e.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase mb-4 text-center tracking-[0.3em] flex items-center gap-3 before:content-[''] before:h-px before:flex-1 before:bg-gray-200 after:content-[''] after:h-px after:flex-1 after:bg-gray-200",children:"Quick Start"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>N("admin"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-red-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-red-100 rounded text-red-600 group-hover:scale-110 transition-transform",children:e.jsx($l,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-red-800 text-left flex-1 uppercase tracking-tighter",children:"Admin"})]}),e.jsxs("button",{onClick:()=>N("hr"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded text-blue-600 group-hover:scale-110 transition-transform",children:e.jsx(qs,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-blue-800 text-left flex-1 uppercase tracking-tighter",children:"HR Mgr"})]}),e.jsxs("button",{onClick:()=>N("finance"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-green-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-green-100 rounded text-green-600 group-hover:scale-110 transition-transform",children:e.jsx(Pa,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-green-800 text-left flex-1 uppercase tracking-tighter",children:"Finance"})]}),e.jsxs("button",{onClick:()=>N("employee"),className:"group flex items-center gap-3 p-2.5  bg-white border border-gray-200 hover:border-purple-400 hover:shadow-md transition-all w-full active:scale-95",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded text-purple-600 group-hover:scale-110 transition-transform",children:e.jsx(Mt,{size:14})}),e.jsx("span",{className:"text-[10px] font-black text-gray-600 group-hover:text-purple-800 text-left flex-1 uppercase tracking-tighter",children:"Staff"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase italic",children:"Multi-Tenant Employee Portal v4.2"})})]})]})]})},Tw=({onSelect:l,onExit:n})=>{const[o,i]=m.useState([]),[u,x]=m.useState(null),[p,g]=m.useState(!1),[b,h]=m.useState({name:"",frequency:"Weekly"}),[N,v]=m.useState(!1),k=async()=>{v(!0);try{const j=await X.fetchCompanies();j.success&&(i(j.data),j.data.length>0&&x(j.data[0].id))}catch(j){console.error(j)}finally{v(!1)}};m.useEffect(()=>{k()},[]);const f=async()=>{if(b.name.trim()){v(!0);try{(await X.createCompany({name:b.name.toUpperCase(),code:`COMP-${Date.now()}`,payFrequency:b.frequency})).success&&(await k(),g(!1),h({name:"",frequency:"Weekly"}))}catch(j){alert(j.message||"Failed to add company")}finally{v(!1)}}};return e.jsxs("div",{className:"fixed inset-0 w-full h-full bg-[#333333] flex items-center justify-center font-sans z-[9999]",children:[e.jsxs("div",{className:"w-[600px] bg-white border-[3px] border-[#0055E5] flex flex-col shadow-2xl relative",children:[e.jsxs("div",{className:"bg-[#0055E5] h-8 flex items-center justify-between px-2 select-none",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-[#0055E5] text-white font-bold text-sm bg-blue-700 w-5 h-5 flex items-center justify-center rounded",children:"C"}),e.jsx("span",{className:"text-white font-bold text-sm tracking-wide",children:"Company Selection"})]}),e.jsx("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white w-5 h-5 flex items-center justify-center text-xs font-bold border border-white/50",children:e.jsx(tt,{size:14,strokeWidth:4})})]}),e.jsxs("div",{className:"bg-[#EBE9D8] p-4 pb-2 h-[350px] flex flex-col",children:[e.jsxs("div",{className:"bg-[#EBE9D8] border border-gray-400 border-b-0 flex text-xs font-bold text-black select-none",children:[e.jsx("div",{className:"flex-1 p-2 border-r border-gray-300",children:"Payroll Description"}),e.jsx("div",{className:"w-32 p-2",children:"Frequency"})]}),e.jsx("div",{className:"border border-gray-400 flex-1 overflow-y-auto bg-white mb-4",children:o.map(j=>e.jsxs("div",{onClick:()=>x(j.id),className:`flex text-xs cursor-pointer select-none ${u===j.id?"bg-[#000080] text-white":"text-black hover:bg-gray-100"}`,children:[e.jsx("div",{className:`flex-1 p-1 px-2 border-r ${u===j.id?"border-white/30":"border-gray-200"}`,children:j.name}),e.jsx("div",{className:"w-32 p-1 px-2",children:(j.payFrequency||j.frequency)?.toUpperCase()||"N/A"})]},j.id))}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>{const j=o.find(C=>C.id===u);j&&l(j)},disabled:!u,className:"w-20 h-20 bg-[#EBE9D8] border-2 border-gray-300 flex flex-col items-center justify-center shadow-lg hover:bg-gray-50 active:translate-y-0.5 active:shadow-none transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-green-600 flex items-center justify-center mb-1 group-hover:bg-green-50",children:e.jsx(zh,{size:20,className:"text-green-600 stroke-[4]"})}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-800",children:"Select"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"w-20 h-20 bg-[#EBE9D8] border-2 border-gray-300 flex flex-col items-center justify-center shadow-lg hover:bg-gray-50 active:translate-y-0.5 active:shadow-none transition-all group",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-gray-600 flex items-center justify-center mb-1 group-hover:bg-gray-100",children:e.jsx(Ns,{size:20,className:"text-gray-600 stroke-[3]"})}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-800",children:"Add"})]})]}),e.jsxs("button",{onClick:n,className:"w-20 h-20 bg-[#EBE9D8] border-2 border-gray-300 flex flex-col items-center justify-center shadow-lg hover:bg-red-50 active:translate-y-0.5 active:shadow-none transition-all group ml-auto",children:[e.jsx("div",{className:"mb-1 text-blue-800",children:e.jsx(Ee,{size:28})}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-800",children:"Exit"})]})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[10000] flex items-center justify-center p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-[#EBE9D8] border border-gray-400 shadow-2xl w-full max-w-sm flex flex-col animate-[fadeIn_0.1s_ease-out] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#0055E5] to-[#003399] text-white px-3 py-2 flex justify-between items-center shadow-sm",children:[e.jsx("span",{className:"text-xs font-bold tracking-wide",children:"Add New Company"}),e.jsx("button",{onClick:()=>g(!1),className:"hover:text-red-200 transition-colors",children:""})]}),e.jsxs("div",{className:"p-5 flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Company Name"}),e.jsx("input",{type:"text",value:b.name,onChange:j=>h({...b,name:j.target.value}),className:"w-full border border-gray-300 p-2 text-xs font-semibold focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none shadow-inner",placeholder:"Enter company name...",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Frequency"}),e.jsxs("select",{value:b.frequency,onChange:j=>h({...b,frequency:j.target.value}),className:"w-full border border-gray-300 p-2 text-xs font-semibold focus:border-blue-500 outline-none shadow-sm bg-white",children:[e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Fortnightly",children:"Fortnightly"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Semi-Monthly",children:"Semi-Monthly"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-600 text-[10px] hover:bg-gray-50 font-bold uppercase rounded shadow-sm",children:"Cancel"}),e.jsx("button",{onClick:f,className:"px-3 py-1.5 bg-blue-600 text-white border border-blue-700 text-[10px] hover:bg-blue-700 font-bold uppercase rounded shadow-sm",children:"Save Company"})]})]})]})})]})},Aw=({onLogout:l,onSelectCompany:n,companyName:o,isCompanySelected:i=!1,userRole:u})=>{const[x,p]=m.useState(null),[g,b]=m.useState(null),[h,N]=m.useState(null),[v,k]=m.useState(!1),f=xe(),C=[{name:"System",items:[{label:"Select Company",action:"select_company"},{label:"General",subItems:[{label:"General Details",action:"general_details"},{label:"Additional",subItems:[{label:"Bank Details",action:"bank_details"}]}]},{label:"Company Setup",subItems:[{label:"General Setup",action:"company_general_setup"},{label:"Additional Setup Options",subItems:[{label:"Bank Details",action:"bank_details"}]}]},{label:"Customized Modules",action:"customized_modules"},{label:"System Configuration",action:"system_settings"},{label:"System Logs",action:"audit_logs"},{label:"Log Out",action:"logout"},{label:"Quit",action:"quit"}]},{name:"Finance",items:[{label:"Payslips",subItems:[{label:"Generate & Manage",action:"payslip_manage"},{label:"My Payslips",action:"payslip_my"},{label:"Email Payslips",action:"email_p24"}]},{type:"separator"},{label:"Transaction Entry",subItems:[{label:"All Entries",action:"all_entries"},{label:"User Labels",action:"user_labels"},{label:"Mass Entry",action:"mass_entry"},{label:"Mass Updating",action:"mass_updating"},{label:"Import Saved Entries",action:"import_saved_entries"},{label:"Import Time Sheets",action:"import_time_sheets"},{label:"Payroll Wizard",action:"payroll_wizard"},{label:"Generate Sales Share",action:"generate_sales_share"},{label:"Gang Shift Maintenance",action:"gang_shift_maintenance"},{label:"Import JMD To FX Transactions",action:"import_jmd_fx"}]},{label:"Entered Transaction Register",action:"entered_transaction_register"},{type:"separator"},{label:"Time Keeper",action:"time_keeper"},{label:"Post Transactions",action:"post_transactions",shortcut:"CTRL+F1"},{label:"Posted Transaction Register",action:"posted_transaction_register",shortcut:"CTRL+F2"},{type:"separator"},{label:"Payroll Calculation",action:"payroll_calculation"},{label:"Calculation Register",action:"calculation_register",shortcut:"CTRL+F3"},{type:"separator"},{label:"Payroll Update",action:"payroll_update"},{label:"Payroll Register",action:"payroll_register"},{label:"Payroll Register Summary",action:"payroll_register_summary"},{type:"separator"},{label:"Pay Disbursement",action:"pay_disbursement"},{label:"Payslips (Generate & Email  TRN Protected)",action:"payslip_manage"},{label:"Cheque Printing",subItems:[{label:"Batch Printing",action:"cheque_batch"},{label:"Single Cheque",action:"cheque_single"},{label:"Print History",action:"cheque_history"}]},{type:"separator"},{label:"Electronic Payments",subItems:[{label:"BNS Beneficiary Transfer",action:"bank_bns"},{label:"NCB Transfer",action:"bank_ncb"},{label:"JN Bank Transfer",action:"bank_jn"},{label:"JMMB Transfer",action:"bank_jmmb"},{label:"Scotiabank Transfer",action:"bank_scotia"},{label:"CIBC/First Global Transfer",action:"bank_cibc"},{label:"Sagicor Bank Transfer",action:"bank_sagicor"},{label:"CitiBank Transfer",action:"bank_citibank"},{label:"Electronic Payment Advice",action:"electronic_payment_advice"}]},{type:"separator"},{label:"Processing Status",action:"processing_status"},{type:"separator"},{label:"Advance Payment",action:"advance_payment"},{type:"separator"},{label:"Redundancy",action:"redundancy"}]},{name:"HRM",items:[{label:"Employee Management",action:"employee_management"},{type:"separator"},{label:"Attendance Management",action:"attendance_management"},{type:"separator"},{label:"Leave Management",action:"leave_management"},{type:"separator"},{label:"Salary Management",action:"salary_management"},{type:"separator"},{label:"Payroll Management",action:"payroll_register"}]},{name:"Reports",items:[{label:"Regulatory Reports Hub",action:"reports_hub"},{type:"separator"},{label:"Statutory Returns",subItems:[{label:"P24 - Year End Certificate",action:"stat_p24"},{label:"P45 - Termination Certificate",action:"stat_p45"},{label:"NHT Contribution Report",action:"stat_nht"},{label:"NIS / NHT Returns",action:"stat_nis_nht"},{label:"S01 Monthly Return",action:"stat_s01"},{label:"S02 Annual Return",action:"stat_s02"},{label:"Pension Reports",action:"stat_pension"},{label:"Tax Website Upload Files",action:"stat_tax_upload"}]},{type:"separator"},{label:"Employee Report",action:"employee_report"},{type:"separator"},{label:"Attendance Report",action:"attendance_report"},{type:"separator"},{label:"Payroll Report",action:"payroll_register"},{type:"separator"},{label:"Salary Report",action:"salary_report"},{type:"separator"},{label:"Payroll Summary",action:"payroll_summary"},{type:"separator"},{label:"Transaction Register",action:"transaction_register_report"},{type:"separator"},{label:"Turnover Report",action:"turnover_report"},{label:"Year-to-Date Breakdown",action:"ytd_breakdown"},{label:"Retention Report",action:"retention_report"},{type:"separator"},{label:"Crystal Reporting Interface",action:"crystal_reporting"},{type:"separator"},{label:"Bank Transfer Advice",action:"bank_transfer_advice"},{label:"Email P24 Advice",action:"email_p24"}]},{name:"Files",items:[{label:"Export Data",action:"files_export"},{label:"Import Data",action:"files_import"},{label:"Backup System",action:"files_backup"},{label:"Restore System",action:"files_restore"}]}].map(S=>{const B=S.items.filter(E=>{if(!u||u==="ADMIN"||E.type==="separator")return!0;const R=E.action,O=E.label;if(u==="EMPLOYEE"||u==="STAFF"){if(S.name==="Finance")return O==="Payslips";if(S.name==="Reports")return R==="reports_hub";if(S.name==="HRM")return!1}return!(u==="HR_MANAGER"&&S.name==="Finance"||u==="FINANCE"&&S.name==="HRM")}).map(E=>E.subItems&&(u==="EMPLOYEE"||u==="STAFF")?{...E,subItems:E.subItems.filter(R=>R.action==="payslip_my")}:E).filter(E=>!(E.subItems&&E.subItems.length===0)).reduce((E,R)=>(R.type==="separator"&&(E.length===0||E[E.length-1].type==="separator")||E.push(R),E),[]);return B.length>0&&B[B.length-1].type==="separator"&&B.pop(),{...S,items:B}}).filter(S=>{if(S.items.length===0)return!1;if(!u||u==="ADMIN")return!0;switch(u){case"HR_MANAGER":return["System","HRM","Reports"].includes(S.name);case"FINANCE":return["System","Finance","Reports","Files"].includes(S.name);case"EMPLOYEE":case"STAFF":return["System","Finance","Reports","Files"].includes(S.name);default:return!1}}),w=bt.useRef(null),D=bt.useRef(null),L=S=>{const _=S.target.files[0];if(_){const E={import_saved_entries:"/processing/import-saved",import_time_sheets:"/processing/import-timesheets",import_jmd_fx:"/processing/import-jmd-fx",files_import:"/files/import",files_backup:"/files/backup",files_restore:"/files/restore"}[D.current]||"/files/import";f(E,{state:{autoStart:!0,fileName:_.name,fileSize:_.size}})}},A=S=>{if(S.subItems)return;if(["files_import","import_saved_entries","import_time_sheets","import_jmd_fx"].includes(S.action)){D.current=S.action,w.current&&w.current.click(),p(null),k(!1);return}if(S.action==="select_company"&&n(),(S.action==="logout"||S.action==="quit")&&l(),i){const E={company_general_setup:"/company/setup",general_details:"/company/setup",system_settings:"/company/system-settings",customized_modules:"/company/custom-modules",bank_details:"/bank/details",all_entries:"/transaction/entry",user_labels:"/processing/user-labels",mass_entry:"/processing/mass-entry",import_saved_entries:"/processing/import-saved",import_time_sheets:"/processing/import-timesheets",payroll_wizard:"/processing/payroll-wizard",generate_sales_share:"/processing/sales-share",gang_shift_maintenance:"/processing/gang-shift",entered_transaction_register:"/processing/transaction-register",time_keeper:"/processing/time-keeper",post_transactions:"/processing/post-transactions",posted_transaction_register:"/processing/posted-register",payroll_calculation:"/processing/payroll-calculation",calculation_register:"/processing/calculation-register",payroll_update:"/processing/update",payroll_register:"/payroll/register",payroll_register_summary:"/reports/payroll-summary",pay_disbursement:"/processing/disbursement",processing_status:"/processing/status",advance_payment:"/processing/advance",redundancy:"/processing/redundancy",employee_management:"/employees",attendance_management:"/attendance",leave_management:"/leave",salary_management:"/salary",employee_report:"/reports/employee",attendance_report:"/reports/attendance",salary_report:"/reports/salary",stat_p24:"/statutory/p24",stat_p45:"/statutory/p45",stat_nht:"/statutory/nht",stat_nis_nht:"/statutory/nis-nht",stat_s01:"/statutory/s01",stat_s02:"/statutory/s02",stat_pension:"/statutory/pension",stat_tax_upload:"/statutory/tax-upload",payroll_summary_individual:"/reports/payroll-summary-individual",bank_bns:"/banking/bns",bank_ncb:"/banking/ncb",bank_jn:"/banking/jn",bank_jmmb:"/banking/jmmb",bank_scotia:"/banking/bns",bank_cibc:"/banking/ncb",bank_sagicor:"/banking/sagicor",bank_citibank:"/banking/citibank",electronic_payment_advice:"/banking/payment-advice",mass_updating:"/processing/mass-updating",payroll_summary:"/reports/payroll-summary",transaction_register_report:"/reports/transaction-register",turnover_report:"/reports/turnover",ytd_breakdown:"/reports/ytd-breakdown",retention_report:"/reports/retention",crystal_reporting:"/reports/crystal",bank_transfer_advice:"/reports/bank-transfer-advice",cheque_batch:"/processing/cheque-printing",cheque_single:"/processing/cheque-single",cheque_history:"/processing/cheque-history",email_p24:"/reports/email-p24",payslip_manage:"/payslips/manage",payslip_my:"/employee/payslips",reports_hub:"/reports/hub",files_export:"/files?action=export",files_import:"/files?action=import",files_backup:"/files?action=backup",files_restore:"/files?action=restore",audit_logs:"/tools/audit"}[S.action];if(E)f(E);else if(S.action?.startsWith("files_")){const R=S.action.replace("files_","");f(`/files?action=${R}`)}else S.action&&f("/")}S.subItems||(p(null),b(null),N(null)),k(!1)};return e.jsxs("div",{className:"flex flex-col w-full font-sans select-none",children:[e.jsxs("div",{className:"bg-[#0B4FD7] text-white h-8 flex items-center justify-between px-3 text-[11px] font-bold uppercase tracking-wider shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"truncate max-w-[200px] md:max-w-none drop-shadow-md",children:["HRM Payroll Terminal - ",o||"Session Restricted"]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},title:"Maximize (Toggle Fullscreen)",className:"w-5 h-5 flex items-center justify-center bg-[#D4D0C8] text-black border border-white border-b-gray-600 border-r-gray-600 shadow-sm active:border-gray-600 active:border-b-white active:border-r-white text-[10px] pb-0.5 leading-none font-sans font-bold hover:bg-white",children:""}),e.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to close the session?")&&l()},title:"Close (Log Out)",className:"w-5 h-5 flex items-center justify-center bg-[#D4D0C8] text-black border border-white border-b-gray-600 border-r-gray-600 shadow-sm active:border-gray-600 active:border-b-white active:border-r-white text-[10px] pb-0.5 leading-none font-sans font-bold hover:bg-red-500 hover:text-white",children:"X"})]}),e.jsx("button",{onClick:()=>k(!v),className:"md:hidden ml-2 w-6 h-6 flex items-center justify-center hover:bg-blue-600",children:e.jsx(av,{size:16})})]})]}),e.jsx("div",{className:"hidden md:flex bg-[#F0F0F0] border-b border-gray-400 items-center px-1 h-6 relative z-50",children:C.map(S=>e.jsxs("div",{className:"relative",onMouseEnter:()=>p(S.name),onMouseLeave:()=>p(null),children:[e.jsx("button",{onClick:()=>p(S.name),className:`px-3 py-1 text-xs transition-colors ${x===S.name?"bg-gray-100 text-gray-900 font-bold":"text-gray-600 hover:bg-gray-50"}`,children:S.name}),x===S.name&&S.items&&S.items.length>0&&e.jsx("div",{className:"absolute top-full left-0 bg-[#EBE9D8] border border-gray-500 shadow-[2px_2px_0_rgba(0,0,0,0.2)] py-1 min-w-[220px] z-[100]",children:e.jsx("div",{className:"flex flex-col",children:S.items.map((_,B)=>_.type==="separator"?e.jsx("div",{className:"border-t border-gray-100 my-1"},B):e.jsxs("div",{className:"relative group",onMouseEnter:()=>{_.subItems?(b(_.label),N(null)):b(null)},children:[e.jsxs("button",{onClick:()=>{_.subItems?b(g===_.label?null:_.label):A(_)},className:"w-full text-left px-4 py-1.5 text-[11px] font-bold text-black hover:bg-[#0B4FD7] hover:text-white flex justify-between items-center group",children:[e.jsx("span",{children:_.label}),_.subItems&&e.jsx(Ga,{size:12,className:`text-gray-400 group-hover:text-white transition-transform ${g===_.label?"rotate-90":""}`}),_.shortcut&&e.jsx("span",{className:"text-gray-300 font-normal ml-4 text-[9px] uppercase tracking-tighter",children:_.shortcut})]}),_.subItems&&g===_.label&&e.jsx("div",{className:"absolute left-full top-0 bg-[#EBE9D8] border border-gray-500 shadow-[2px_2px_0_rgba(0,0,0,0.2)] min-w-[220px] ml-[-1px] z-[101]",children:_.subItems.map((E,R)=>E.type==="separator"?e.jsx("div",{className:"border-t border-gray-400 my-1 mx-2"},R):e.jsxs("div",{className:"relative group",onMouseEnter:()=>{E.subItems?N(E.label):N(null)},children:[e.jsxs("button",{onClick:()=>{E.subItems||A(E)},className:"w-full text-left px-4 py-1.5 text-[11px] font-bold text-black hover:bg-[#0B4FD7] hover:text-white flex justify-between items-center group cursor-default",children:[e.jsx("span",{children:E.label}),E.subItems&&e.jsx(Ga,{size:12,className:"text-black group-hover:text-white"})]}),E.subItems&&h===E.label&&e.jsx("div",{className:"absolute left-full top-0 bg-[#EBE9D8] border border-gray-500 shadow-[2px_2px_0_rgba(0,0,0,0.2)] min-w-[200px] ml-[-1px] z-[102]",children:E.subItems.map((O,F)=>e.jsx("button",{onClick:()=>A(O),className:"w-full text-left px-4 py-1.5 text-[11px] font-bold text-black hover:bg-[#0B4FD7] hover:text-white group cursor-default block",children:O.label},F))})]},R))})]},B))})})]},S.name))}),v&&e.jsx("div",{className:"fixed inset-0 top-[28px] bg-white z-[200] overflow-y-auto w-full overscroll-contain pb-12",children:e.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[C.map(S=>e.jsxs("div",{className:"border-b border-gray-100 pb-2",children:[e.jsx("div",{className:"font-bold text-[10px] text-gray-400 mb-2 px-2 uppercase tracking-widest",children:S.name}),e.jsx("div",{className:"flex flex-col gap-0.5",children:S.items.map((_,B)=>_.type!=="separator"&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{_.subItems?(b(g===_.label?null:_.label),N(null)):A(_)},className:"w-full text-left px-4 py-3 min-h-[44px] text-sm text-gray-700 hover:bg-gray-50 flex justify-between items-center rounded",children:[e.jsx("span",{className:"font-medium uppercase tracking-tight text-xs",children:_.label}),_.subItems&&e.jsx(Ys,{size:16,className:`text-gray-400 shrink-0 ml-2 ${g===_.label?"rotate-180":""}`})]}),_.subItems&&g===_.label&&e.jsx("div",{className:"pl-4 sm:pl-6 bg-gray-50 rounded mt-1 space-y-0.5",children:_.subItems.map((E,R)=>E.type!=="separator"&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{E.subItems?N(h===E.label?null:E.label):A(E)},className:"w-full text-left px-4 py-3 min-h-[44px] text-xs text-gray-600 hover:bg-white border-l border-gray-200 flex justify-between items-center",children:[e.jsx("span",{className:"uppercase tracking-tight",children:E.label}),E.subItems&&e.jsx(Ys,{size:14,className:`text-gray-400 shrink-0 ml-2 ${h===E.label?"rotate-180":""}`})]}),E.subItems&&h===E.label&&e.jsx("div",{className:"pl-6 sm:pl-8 bg-white rounded mt-1 space-y-0.5",children:E.subItems.map((O,F)=>e.jsx("button",{onClick:()=>A(O),className:"w-full text-left px-4 py-3 min-h-[44px] text-xs text-gray-500 border-l border-gray-100",children:O.label},F))})]},R))})]},B))})]},S.name)),e.jsxs("button",{onClick:l,className:"mt-6 min-h-[44px] border border-gray-300 text-gray-600 px-4 py-2 rounded flex items-center justify-center gap-2 font-bold text-xs uppercase",children:[e.jsx(Ee,{size:16})," Close Session"]})]})}),e.jsxs("div",{className:"bg-[#EBE9D8] border-b border-white flex items-center gap-1 sm:gap-1 px-2 py-1 h-9 overflow-x-auto no-scrollbar shadow-[inset_0_-1px_0_#808080]",children:[[{icon:e.jsx(Uh,{size:16}),color:"text-blue-900",action:()=>f("/"),title:"Dashboard",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Ns,{size:16}),color:"text-blue-900",action:()=>f("/employees"),title:"New Employee",access:["ADMIN","HR_MANAGER","FINANCE"]},{icon:e.jsx(Ne,{size:16}),color:"text-blue-900",action:()=>f("/reports/hub"),title:"Reports",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(_e,{size:16}),color:"text-blue-900",action:()=>window.print(),title:"Print",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(la,{size:16}),color:"text-blue-900",action:()=>f("/company/settings"),title:"Settings",access:["ADMIN"]},{icon:e.jsx("div",{className:"h-4 w-[1px] bg-gray-400 mx-1"}),color:"",action:()=>{},title:"",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Ke,{size:16}),color:"text-blue-900",action:()=>f("/search"),title:"Search",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Ir,{size:16}),color:"text-blue-900",action:()=>f("/processing/status"),title:"Validate",access:["ADMIN","HR_MANAGER","FINANCE"]},{icon:e.jsx(qd,{size:16}),color:"text-blue-900",action:()=>f("/files"),title:"Files",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Ri,{size:16}),color:"text-blue-900",action:()=>f("/window"),title:"Layout",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]},{icon:e.jsx(Oh,{size:16}),color:"text-blue-900",action:()=>f("/help"),title:"Help",access:["ADMIN","HR_MANAGER","FINANCE","EMPLOYEE","STAFF"]}].filter(S=>!S.access||S.access.includes(u)).map((S,_)=>S.title?e.jsx("button",{onClick:S.action,title:S.title,className:"w-7 h-7 flex items-center justify-center border border-transparent hover:border-white hover:border-r-gray-500 hover:border-b-gray-500 hover:shadow-[1px_1px_0_rgba(0,0,0,0.1)] active:border-gray-500 active:border-r-white active:border-b-white active:shadow-inner bg-transparent transition-none",children:e.jsx("div",{className:`${S.color}`,children:S.icon})},_):e.jsx("div",{className:"flex items-center",children:S.icon},_)),e.jsx("div",{className:"flex-1 min-w-[10px]"})]}),x&&e.jsx("div",{className:"hidden md:block fixed inset-0 z-40 bg-transparent",onClick:()=>p(null)}),e.jsx("input",{type:"file",ref:w,className:"hidden",onChange:L,accept:".xlsx,.xls,.csv,.xml,.bak,.sql,.zip"})]})};function Rw(){const[l,n]=m.useState(()=>{const g=localStorage.getItem("currentUser");return g?JSON.parse(g):null}),[o,i]=m.useState(()=>{const g=localStorage.getItem("selectedCompany");return g?JSON.parse(g):null});m.useEffect(()=>{l?localStorage.setItem("currentUser",JSON.stringify(l)):localStorage.removeItem("currentUser")},[l]),m.useEffect(()=>{o?localStorage.setItem("selectedCompany",JSON.stringify(o)):localStorage.removeItem("selectedCompany")},[o]);const u=g=>{n(g),i(null)},x=g=>{i(g)},p=()=>{n(null),i(null),localStorage.removeItem("currentUser"),localStorage.removeItem("selectedCompany")};return e.jsx(Jy,{children:e.jsxs("div",{className:"flex flex-col h-screen w-full overflow-hidden bg-[#EBE9D8]",children:[l&&o&&e.jsx("div",{className:"no-print",children:e.jsx(Aw,{onLogout:p,onSelectCompany:()=>i(null),companyName:o?.name,isCompanySelected:!!o,userRole:l?.role})}),e.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:e.jsx("div",{className:"relative z-10 w-full h-full overflow-auto bg-[#EBE9D8] card-classic-container",children:l?o?e.jsx(Cw,{onLogout:p,selectedCompany:o,currentUser:l}):e.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:e.jsx(Tw,{onSelect:x,onExit:p})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:e.jsx(Dw,{onLogin:u})})})}),l&&o&&e.jsxs("div",{className:"bg-[#D4D0C8] border-t border-white min-h-6 px-4 py-0.5 flex items-center justify-between text-[11px] text-black font-sans shadow-[inset_0_1px_0_#808080] z-50 no-print select-none",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"inset-shadow px-2 border-r border-gray-400",children:l?`Ready  ${l.role}`:"RESTRICTED"}),e.jsx("span",{className:"pl-4",children:"JA REGION"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"border-l border-white border-r border-gray-400 px-2",children:"EXCLUSIVE"}),e.jsxs("span",{className:"border-l border-white pl-2 flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full border border-gray-500 ${l?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{children:l?"SECURE":"UNAUTH"})]})]})]})]})})}Sg.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(Rw,{})}));
